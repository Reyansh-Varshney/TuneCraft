"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[6738],{990:(e,t,a)=>{a.d(t,{X:()=>r});var n=a(97500),s=a.n(n),i=a(84195),l=a(86070);const r=({children:e})=>(0,l.jsx)("div",{className:s()(i.A.imageContainer,i.A.imageContainerNew),children:e})},17469:(e,t,a)=>{a.d(t,{q:()=>N});a(77369);var n=a(97500),s=a.n(n),i=a(21903),l=a(73136),r=a(3483),o=a(78717),c=a(10622),d=a(27147),u=a(18831),m=a(98756),h=a(73061),p=a(99244),g=a(84409),x=a(19151);const f="muxtoS_XXHMVPaSUTWPh",b="coYitWFdFnbXw0PKtLxP",y="_WHBoDpH7mFsuuTElglC",v="vf8O26EyEWxH07hPkGzk",C="elwwUZXomcmTZU6Dcozi",j="c1WHpmRPntiYgacXn_Y_";var T=a(86070);const E=({navigateTo:e,children:t})=>{const a=(0,m.g)();return e?(0,T.jsx)("button",{className:b,onClick:()=>a(e),children:t}):(0,T.jsx)("div",{className:b,children:t})},N=({className:e,showCoverArt:t,gatedEntityCoverArt:a,gatedEntityRelations:n,upsellExplanation:m,hasAccess:b,showValueProps:N=!0})=>{const{spec:S,logger:k}=(0,g.r)(d.L,{}),P=n?.entitiesWithValueProps.at(0);if(!P?.summary||!m)return null;const{uri:R,valueProps:w,summary:_,fallbackNavigation:A}=P,L=0===w.length;let O,H,U,W=!1;if(b){if(!_.forUserWithAccess||L)return null;O=_.forUserWithAccess,U=(0,u.o_h)(R)?.toURLPath(!0)}else{if(!A&&L)return null;if(A)O=A.description,U=(0,u.o_h)(A.uri)?.toURLPath(!0);else{O=_.forUserWithoutAccess;H=N&&w.length>1?w.map((({displayText:e})=>e)):null,W=!0}}return(0,T.jsx)("div",{className:s()(j,e,{[f]:Boolean(U)}),children:(0,T.jsxs)(E,{navigateTo:U,children:[Boolean(t)?(0,T.jsx)(h.b,{images:a||[],shape:h.u.ROUNDED_CORNERS,type:x.c.SHOW,title:O,size:p.Qe.SIZE_40,className:y}):void 0,(0,T.jsxs)("div",{className:v,children:[(0,T.jsx)(o.E,{variant:"bodyMediumBold",semanticColor:"textBase",children:O}),H&&(0,T.jsx)(c.j,{variant:"bodySmall",hasTextSeparator:!0,semanticColor:"textSubdued",children:H})]}),(0,T.jsx)("div",{className:C,children:U?(0,T.jsx)(i.V,{size:"small",semanticColor:"textSubdued"}):!!W&&(0,T.jsx)(l.$,{size:"small",iconLeading:r.H,href:m.url,target:"_blank",onClick:()=>{k.logInteraction(S.upsellButtonFactory().hitNavigateToExternalUri({destination:m.url}))},children:m.cta})})]})})}},34720:(e,t,a)=>{a.d(t,{r:()=>c,z:()=>d});var n=a(30758),s=a(66590),i=a(39159),l=a(3424),r=a(254),o=a(19507);function c(e=null){const{request:t}=(0,n.useContext)(r.j),{data:a}=(0,o.I)({queryKey:["extracted-color",e],queryFn:()=>e?(0,l.j)(t,e).then((e=>{const t=e?.[0];return t?{colorDark:t.colorDark.toCSS(i.a.HEX),colorLight:t.colorLight.toCSS(i.a.HEX),colorRaw:t.colorRaw.toCSS(i.a.HEX)}:null})):null,gcTime:864e5,staleTime:216e5,enabled:!!e});return a??void 0}function d(e=null,t=s.l0o,a="colorRaw"){return c(e)?.[a]??t}},42088:(e,t,a)=>{a.d(t,{A:()=>x});var n=a(30758),s=a(18611),i=a(19507),l=a(90238),r=a(65809),o=a(99129),c=a(57642),d=a(72024),u=a(19239),m=a(59161),h=a(76972),p=a(17026);const g=(e,t,a,n)=>["useGetLeavebehindsData",e,t,a,n];const x=function(e){const t=(0,u.vh)(),a=(0,r.NC)(m.SAn,{loadingValue:!1}),{data:x,isError:f,error:b,refetch:y}=(0,i.I)({queryKey:g(e.uri,e.surface,e.playlistName,a),queryFn:()=>(async(e,t,a,n)=>(await o.b6(h.n.getInstance(),(0,c.Fh)(t),e,a,n)).body)(e.uri,e.surface,e.playlistName,a),select:t=>t&&0!==t.leavebehindAds.length?(0,d.iT)(t,e.uri):[],enabled:!!e.uri,retry:!1});if(f&&b){const a=b instanceof p.O,n=a?b.name:"Error fetching leavebehind ads data",i=a?b.status:void 0;t.send((0,l.G)({error_type:"fetchAdsFailure",error_message:n,http_error_code:i,surface:(0,c.Fh)(e.surface),request_type:"leavebehindAds",ad_content_origin:(0,d.Zl)(e.surface)})),(0,s.Cp)(n)}return{data:x,isError:f,getLeavebehinds:(0,n.useCallback)((()=>{y()}),[y])}}},49294:(e,t,a)=>{a.d(t,{P:()=>m});var n=a(42394),s=a(51152),i=a(74459),l=a(99893),r=a(52567),o=a(94545),c=a(13695),d=a(85370),u=a(86070);const m=({episode:e,showVideoBadge:t=!1})=>{const{badges:a}=(0,d.b)((e=>"contentRating"in e)(e)?{contentRating:e?.contentRating?.label,isPaywalled:e.podcastSubscription?.isPaywalled,isVideo:e.mediaTypes?.includes(c.C.Video)}:{isExplicit:e?.isExplicit,isMOGEFRestricted:e?.is19PlusOnly,isPaywalled:e.podcastSubscription?.isPaywalled}),m=e.gatedEntityRelations&&e.gatedEntityRelations.entitiesWithValueProps.at(0),h=(0,i.B)(m,e);return(0,u.jsxs)(u.Fragment,{children:[a.explicit&&(0,u.jsx)(l.U,{}),h?(0,u.jsx)(s.x,{gatedEntityRelations:e.gatedEntityRelations}):a.paid&&(0,u.jsx)(r.y,{}),a.nineteen&&(0,u.jsx)(o.q,{size:16}),t&&a.isVideo&&(0,u.jsx)(n.T,{})]})}},51839:(e,t,a)=>{a.d(t,{g:()=>r});var n=a(78717),s=a(332),i=a(24886),l=a(86070);const r=({children:e,className:t})=>{const a=(0,i.y)()===s.E.SMALL?"bodyMediumBold":"titleSmall";return(0,l.jsx)(n.E,{variant:a,"data-testid":"entityAuthor",className:t,children:e})}},53507:(e,t,a)=>{a.d(t,{e:()=>r});var n=a(30758),s=a(85834),i=a(99875),l=a(10167);const r=({uri:e,durationMs:t,episodePlaybackState:a,isPlaying:r})=>{const o=(0,s.p)(e),[c,d]=(0,n.useState)(a===i._w.Completed||o?.state===i.H7.Completed),[u]=(0,l.S)(1e4,(t=>t?.item?.uri===e));return(0,n.useEffect)((()=>{!r&&(a===i._w.Completed||o?.state===i.H7.Completed||u>t-1e4)&&d(!0)}),[t,a,r,u,o?.state]),{isFullyPlayed:c,setIsFullyPlayed:d}}},60397:(e,t,a)=>{a.d(t,{H:()=>r});var n=a(30758),s=a(66590),i=a(10819),l=a(34720);function r(e=null,t=s.l0o){const{backgroundColor:a}=(0,i.oI)(),r=(0,i.as)(),o=(0,l.z)(e);return(0,n.useEffect)((()=>(r((0,i.Mo)(o)),()=>{r((0,i.Hf)())})),[o,r]),a||t}},63450:(e,t,a)=>{a.d(t,{B:()=>l});var n=a(78717),s=a(84195),i=a(86070);const l=({children:e})=>(0,i.jsx)(n.E,{variant:"bodySmall",className:s.A.pretitle,children:e})},90114:(e,t,a)=>{a.d(t,{N:()=>j});a(2557),a(77369);var n=a(30758),s=a(78717),i=a(65809),l=a(70397),r=a(89636),o=a(86070);const c=n.memo((function({text:e,onTimeStampClick:t,children:a,className:i,enableTimestamps:l=!1}){const c=(0,n.useMemo)((()=>(0,o.jsx)(r.q,{html:e,onTimeStampClick:t,enableTimestamps:l})),[e,l,t]);return(0,o.jsxs)(s.E,{as:"div",variant:"bodyMedium",className:i,children:[c,a]})})),d="show-show-moreButton",u=(0,n.memo)((function({text:e,onTimeStampClick:t,onToggle:a,className:n,enableTimestamps:i}){return(0,o.jsx)(c,{className:n,text:e,onTimeStampClick:t,enableTimestamps:i,children:(0,o.jsx)("button",{"aria-expanded":!1,className:d,onClick:a,children:(0,o.jsxs)(s.E,{variant:"bodyMediumBold",children:["â€¦ ",l.Ru.get("show_more")]})})})})),m=(e,t,a)=>{const n=l.Ru.get("show_more").length,s=e.length+n+6;return a<=1&&s<t},h=(0,n.memo)((function({paragraphs:e,clickHandler:t,maxCharactersPerLine:a,maxLines:n,toggleExpandedState:s,className:i,enableTimestamps:r}){let d=!1,h=0;const p=e.map(((p,g)=>{const x=Math.round(p.length/a);if(h+=x>0?x:1,d)return null;const f=n-(h-x);if(!(g+1===e.length&&(m(p,a,f)||x<=f))&&h>=n){d=!0;const e=((e,t,a)=>{const n=l.Ru.get("show_more").length;if(m(e,t,a))return e;const s=t*a-n-6;return e.slice(0,s)})(p,a,f);return(0,o.jsx)(u,{text:e,onTimeStampClick:t,onToggle:s,className:i,enableTimestamps:r},g)}return(0,o.jsx)(c,{className:i,text:p,onTimeStampClick:t,enableTimestamps:r},g)})).filter((e=>null!==e)).map(((e,t,a)=>t+1===a.length?e:[e," "])).flat();return(0,o.jsx)(o.Fragment,{children:p})}));var p=a(59161),g=a(60986);const x="TQXhY8PT8v1vogxO85c_",f="RKzJftL6TOVUXkXOPykT",b="mCKPqUiNNAO6GM3nRBXe",y=(e,t)=>({...e,...t}),v=(e="")=>e.split(/[ \u00a0]{2}/).filter(Boolean),C=(e="")=>e.replace("<p>","").split(/(?:<\/p>)/).filter(Boolean),j=(0,n.memo)((function({content:e,htmlContent:t,maxLines:a=2,className:d,onTimeStampClick:u=()=>{},onExpanded:m,enableTimestamps:j=!1,enableAutomaticLinkification:T=!1,isOpen:E=null}){const[N,S]=(0,n.useReducer)(y,(e=>({isOpen:e,contentWidth:0}))(E)),{isOpen:k,contentWidth:P}=N,R=(0,n.useRef)(null),w=(0,n.useRef)(!0),_=(0,i.NC)(p.gl7),A=(0,n.useCallback)((()=>{S({isOpen:!k}),m&&m(!k)}),[k,m]);(0,n.useEffect)((()=>{S({isOpen:E})}),[e,E]),(0,n.useEffect)((()=>{null!==N.isOpen&&(w.current?w.current=!1:R.current?.querySelector("button[aria-expanded]")?.focus())}),[N.isOpen]);const L=P?P/7.8:Number.MAX_VALUE,O=(0,n.useCallback)((e=>{e&&(R.current=e,S({contentWidth:e.clientWidth}))}),[]),H=(0,n.useMemo)((()=>t?_?(0,o.jsx)(r.q,{html:t,onTimeStampClick:u,enableTimestamps:j,enableAutomaticLinkification:T},t):C(t).map((e=>(0,o.jsx)(r.q,{html:e,onTimeStampClick:u,enableTimestamps:j,enableAutomaticLinkification:T},e))):((e,t,a)=>v(e).map(((e,n)=>(0,o.jsx)(c,{className:f,text:e,onTimeStampClick:t,enableTimestamps:a},n))))(e,u,j)),[e,j,T,t,u,_]),U=(0,n.useMemo)((()=>t?C(t):v(e)),[e,t]);return(0,g.s)((()=>{R.current&&S({contentWidth:R.current.clientWidth})})),(0,o.jsx)("div",{className:d,children:(0,o.jsxs)("div",{ref:O,className:x,children:[k&&(0,o.jsxs)(o.Fragment,{children:[H,(0,o.jsx)("button",{"aria-expanded":!0,className:b,onClick:A,children:(0,o.jsx)(s.E,{variant:"bodyMediumBold",children:l.Ru.get("show_less")})})]}),!k&&(0,o.jsx)(h,{className:f,paragraphs:U,clickHandler:u,enableTimestamps:j,maxCharactersPerLine:L,maxLines:a,toggleExpandedState:A})]})})}))},94075:(e,t,a)=>{a.d(t,{u:()=>l});var n=a(30758),s=a(31657),i=a(86070);const l=({pageId:e,uri:t,children:a})=>{const l=(0,s.u)(),r=(0,s.H)();return(0,n.useEffect)((()=>{l?.reportPageView({pageId:e,navigationalRoot:r??void 0,entityUri:t})}),[e,r,l,t]),(0,i.jsx)(i.Fragment,{children:a})}}}]);
//# sourceMappingURL=6738.js.map