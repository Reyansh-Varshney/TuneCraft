"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[7805],{16762:(e,t,n)=>{n.d(t,{H:()=>o,g:()=>s});var r=n(30758),l=n(86070);const i=(0,r.createContext)(null);function o({children:e,playlist:t,metadataOptions:n,contentsOptions:o}){return(0,l.jsx)(i.Provider,{value:(0,r.useMemo)((()=>({playlist:t,metadataOptions:n,contentsOptions:o})),[o,n,t]),children:e})}function s(){const e=(0,r.useContext)(i);if(null===e)throw new Error("Trying to use 'ListPlatformDataContext' without 'ListPlatformDataProvider'!");return e}},26391:(e,t,n)=>{n.d(t,{g:()=>r.g});var r=n(16762)},32190:(e,t,n)=>{n.d(t,{K_:()=>c,ll:()=>u});var r=n(30758),l=n(16762),i=n(56403),o=n(67358),s=n(14237),a=n(86070);const d=(0,r.createContext)(null);function u({children:e}){const{playlist:t,contentsOptions:n}=(0,l.g)(),u=(0,o.m)(),c=(0,r.useCallback)((async(e,r)=>await u.getContents(t.metadata.uri,{...n,offset:e,limit:r})),[u,n,t.metadata.uri]),C=(0,i.E)({nrItems:t.contents.totalLength,fetch:c,limit:50,initialItems:t.contents.items});return(0,s.H)(t.metadata.uri,C.invalidateCache),(0,a.jsx)(d.Provider,{value:C,children:e})}function c(){const e=(0,r.useContext)(d);if(null===e)throw new Error("Trying to use 'ListPlatformItemsContext' without 'ListPlatformItemsProvider'!");return e}},32304:(e,t,n)=>{n.d(t,{Ap:()=>f,Qi:()=>C,Wc:()=>d,g6:()=>S,hK:()=>D,kA:()=>u,nw:()=>c,rE:()=>m});n(2557),n(66016),n(54687),n(77369);var r=n(70397),l=n(77486),i=n(32783);const o=[i.nw.ADDED_AT,i.nw.PUBLISH_DATE],s=e=>o.includes(e)?i.xB.DESC:i.xB.ASC,a={[i.xB.ASC]:i.xB.DESC,[i.xB.DESC]:i.xB.ASC},d=(e,t)=>null===e?null:t?.field!==e?{field:e,order:s(e)}:{field:e,order:a[t.order]},u={[i.nw.TITLE]:{key:"title",get value(){return r.Ru.get("sort.title")}},[i.nw.ARTIST]:{key:"artist",get value(){return r.Ru.get("sort.artist")}},[i.nw.ALBUM]:{key:"album",get value(){return r.Ru.get("sort.album")}},[i.nw.ADDED_BY]:{key:"added-by",get value(){return r.Ru.get("sort.added-by")}},[i.nw.ADDED_AT]:{key:"added-at",get value(){return r.Ru.get("collection.sort.recently-added")}},[i.nw.DURATION]:{key:"duration",get value(){return r.Ru.get("sort.duration")}},[i.nw.SHOW_NAME]:{key:"show-name",get value(){return r.Ru.get("collection.sort.creator")}},[i.nw.PUBLISH_DATE]:{key:"publish-date",get value(){return r.Ru.get("tracklist.header.release-date")}},"custom-order":{key:"custom-order",get value(){return r.Ru.get("sort.custom-order")}}},c={title:i.nw.TITLE,artist:i.nw.ARTIST,album:i.nw.ALBUM,"added-by":i.nw.ADDED_BY,"added-at":i.nw.ADDED_AT,duration:i.nw.DURATION,"show-name":i.nw.SHOW_NAME,"publish-date":i.nw.PUBLISH_DATE,"custom-order":null};function C(e){return null===e?l.Ht.NONE:e===i.xB.ASC?l.Ht.ASC:l.Ht.DESC}const A={[l.$C.TITLE_AND_ARTIST]:[i.nw.TITLE,i.nw.ARTIST],[l.$C.TITLE]:[i.nw.TITLE],[l.$C.ADDED_BY]:[i.nw.ADDED_BY],[l.$C.ADDED_AT]:[i.nw.ADDED_AT],[l.$C.DURATION]:[i.nw.DURATION],[l.$C.ARTIST]:[i.nw.ARTIST],[l.$C.ALBUM]:[i.nw.ALBUM],[l.$C.ALBUM_OR_PODCAST]:[i.nw.ALBUM,i.nw.SHOW_NAME],[l.$C.ALBUM_OR_SHOW]:[i.nw.ALBUM,i.nw.SHOW_NAME],[l.$C.ACTIONS]:[],[l.$C.RELEASE_DATE]:[i.nw.PUBLISH_DATE],[l.$C.INDEX]:[],[l.$C.PLAYS]:[],[l.$C.ADD]:[],[l.$C.EVENT_DATE]:[],[l.$C.EVENT_INFO]:[],[l.$C.CONCERT]:[],[l.$C.CONCERT_VENUE]:[],[l.$C.TITLE_AND_AUTHOR]:[i.nw.TITLE],[l.$C.AUTHOR]:[],[l.$C.BPM]:[],[l.$C.KEY]:[],[l.$C.VIBE]:[]},E={[l.Ht.NONE]:null,[l.Ht.DESC]:i.xB.DESC,[l.Ht.ASC]:i.xB.ASC,[l.Ht.SECONDARY_DESC]:i.xB.DESC,[l.Ht.SECONDARY_ASC]:i.xB.ASC},S=e=>e.filter((e=>A[e].length>0)),f=(e,t)=>{const n=e.find((e=>t?.field&&A[e].includes(t.field)));if(!n||!t?.field)return{column:null,order:l.Ht.ASC};return A[n].indexOf(t.field)>0?{column:n,order:t.order===i.xB.ASC?l.Ht.SECONDARY_ASC:l.Ht.SECONDARY_DESC}:{column:n,order:t.order===i.xB.ASC?l.Ht.ASC:l.Ht.DESC}},D=(e,t,n)=>{const r=A[e].length>1?5:3;let i=null,o=null;if(e===t.column){let s=(t.order+1)%r;s!==l.Ht.NONE||n||(s+=1);const a=[l.Ht.SECONDARY_ASC,l.Ht.SECONDARY_DESC].includes(s)?1:0;i=A[e][a]??null,o=E[s]}else i=A[e][0]??null,o=E[l.Ht.ASC];return null===i||null===o?null:{field:i,order:o}},m=(e,t)=>{const n=(e=>{const t=Array.from(e);return[...new Set(t.flatMap((e=>A[e])))]})(e);return n.map((e=>({field:e,disabled:t})))}},39690:(e,t,n)=>{n.d(t,{W:()=>_});var r=n(70397),l=n(30758),i=n(37899),o=n(78717),s=n(73136),a=n(98756),d=n(19906);const u="hOOwEKqNuXrNvOCB1SgZ",c="csEdkIN9z2LjJIuZraqz";var C=n(86070);const A=({uri:e})=>{const[t,n]=(0,d.A)(e),A=(0,a.g)(),E=(0,l.useCallback)((()=>{n(!1),A("/",{replace:!0})}),[A,n]);return(0,C.jsxs)("div",{className:u,children:[(0,C.jsx)(i.b,{size:"xxlarge"}),(0,C.jsxs)("div",{className:c,children:[(0,C.jsx)(o.E,{as:"p",variant:"titleSmall",children:r.Ru.get("forbidden-page.title")}),(0,C.jsx)(o.E,{as:"p",variant:"bodySmall",children:r.Ru.get("forbidden-page.description")})]}),t&&(0,C.jsx)(s.$,{colorSet:"invertedLight",onClick:E,children:r.Ru.get("remove_from_your_library")})]})};var E=n(3877),S=n(35511),f=n(77858),D=n(16762),m=n(78510),g=n(32190),w=n(23958),T=n(97020),p=n(67358);var O=n(67491),h=n(58721);const x=({children:e,uri:t,descriptorFilter:n})=>{const i=(0,p.m)().getCapabilities();(e=>{const t=(0,T.j)(),n=(0,p.m)(),r=(0,l.useRef)(!1);(0,l.useEffect)((()=>{t&&r.current&&n.resync(e,{maybe:!0}),t||(r.current=!0)}),[t,n,e])})(t);const{metadataOptions:o,contentsOptions:s}=(0,O.I)(n),{data:a,isLoading:d,isError:u}=(0,h.W)(t,o,s);return!a||d?(0,C.jsx)(E.LoadingPage,{hasError:u,errorMessage:r.Ru.get("error.not_found.title.playlist"),loadOffline:i.canModifyOffline}):a.metadata.permissions&&!a.metadata.permissions.canView?(0,C.jsx)(A,{uri:t}):(0,C.jsx)(D.H,{playlist:a,metadataOptions:o,contentsOptions:s,children:e})},_=({children:e,uri:t,descriptorFilter:n})=>(0,C.jsx)(S.s,{uri:t,children:(0,C.jsx)(f.S,{children:(0,C.jsx)(m.d,{children:(0,C.jsx)(w.Z,{uri:t,children:(0,C.jsx)(x,{uri:t,descriptorFilter:n,children:(0,C.jsx)(g.ll,{children:e})})})})})})},83249:(e,t,n)=>{n.d(t,{d:()=>D});var r=n(30758),l=n(97500),i=n.n(l),o=n(42674),s=n(71761),a=(n(77369),n(70397)),d=n(53038),u=n(23958),c=n(32304),C=n(67358),A=n(86070);const E=r.memo((function({sortOptions:e,defaultSortField:t,enableViewModeMenu:n}){const l=(0,C.m)(),{canSort:i}=l.getCapabilities(),{sortState:o,setSortState:s}=(0,u.k)(),E=(0,r.useCallback)((e=>{const t=c.nw[e]??null;s((0,c.Wc)(t,o))}),[s,o]),S=e.map((e=>{const t="string"==typeof e;return{...c.kA[t?e:e.field],disabled:!t&&(e.disabled??!1)}}));"custom-order"===t&&S.unshift({key:"custom-order",value:a.Ru.get("sort.custom-order"),disabled:!1});const f=c.kA[o?.field??t];return i?(0,A.jsx)(d.g,{options:S,onSelect:E,selected:f,sortOrder:(0,c.Qi)(o?.order??null),heading:a.Ru.get("drop_down.sort_by"),enableViewModeMenu:n}):null}));var S=n(9735);const f="cRlDGz_DCN_UOCt4Khg1",D=r.memo((function({filterPlaceholder:e,sortOptions:t,defaultSortField:n,enableViewModeMenu:l=!1,className:a,elementRef:d,sortBoxRef:u}){const c=(0,C.m)(),{canSort:D,canFilter:m}=c.getCapabilities(),{spec:g,logger:w}=(0,S.D)(o.E,{}),T=(0,r.useCallback)((()=>{w.logInteraction(g.filterFieldFactory().keyStrokeFilter())}),[w,g]),p=(0,r.useCallback)((()=>{w.logInteraction(g.filterFieldFactory().hitClearFilter())}),[w,g]);return(0,A.jsxs)("div",{className:i()(f,a),children:[m?(0,A.jsx)(r.Suspense,{fallback:null,children:(0,A.jsx)(s.S,{placeholder:e,onFilter:T,onClear:p,clearOnEscapeInElementRef:d})}):null,D?(0,A.jsx)("div",{ref:u,children:(0,A.jsx)(E,{sortOptions:t,defaultSortField:n,enableViewModeMenu:l})}):null]})}))},88414:(e,t,n)=>{function r(e,t){return{uri:e,playlistQueryOptions:t}}n.d(t,{A:()=>r})}}]);
//# sourceMappingURL=7805.js.map