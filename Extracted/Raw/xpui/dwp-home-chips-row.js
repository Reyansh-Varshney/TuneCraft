"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2233,9319],{11829:(e,s,a)=>{a.d(s,{$:()=>i});var t=a(85387);const n="/lyrics",i=()=>{const e=(0,t.zy)(),s=e.pathname.startsWith(n);return{isActive:s,isActiveNotCinemaMode:s&&(!e.state.cinemaState||"closed"===e.state.cinemaState),routeDestination:n}}},42153:(e,s,a)=>{a.d(s,{A:()=>p});var t=a(30758),n=a(66405),i=a(8845),l=a(54646),r=a(11829),o=a(70942),c=a(21466),d=a(56548),u=a(84195),m=a(86070);const h=parseInt(u.A.MINIMUM_HEADER_HEIGHT,10),p=(0,t.forwardRef)((function(e,s){const a=(0,n.lr)(),u=(0,n.Nx)(),p=(0,l.W)(),f=(0,o.A)(),{isActive:x}=(0,r.$)(),g=(0,t.useRef)(-1),v=(0,t.useRef)(null),j=s??v,N=(0,t.useCallback)((e=>{const s=e.target.scrollTop;let t;if(t=a||u?(0,n.q8)(s,p):void 0===f?(0,d.i)(s,i.uC):x?0:(0,d.i)(s,h,76),"function"==typeof j)throw new Error("Callback refs are not supported");Number(g.current).toPrecision(2)!==Number(t).toPrecision(2)&&requestAnimationFrame((()=>{j.current&&j.current.style.setProperty("opacity",`${Number(t).toPrecision(2)}`)})),g.current=t}),[a,u,f,x,p,j]);return(0,c.i)(N,{executeOnceOnStart:!0}),(0,m.jsx)("div",{ref:j,...e,children:e.children})}))},54646:(e,s,a)=>{a.d(s,{HomeHeader:()=>x,W:()=>f});var t=a(30758),n=a(97500),i=a.n(n),l=a(62411),r=a(66590),o=a(54387),c=a(45786),d=a(70942);const u="main-home-homeHeader",m="B9yNi5FlwGJt0nMEM5HS",h="t7wxxKMe3KK9hcr93xna";var p=a(86070);const f=()=>(0,l.d4)(o.t$),x=(0,t.memo)((function(){const e=(0,d.A)(r.l0o),s=!(0,c.n)(),a=f();return(0,p.jsx)("div",{className:i()(u,{[h]:s,[m]:a}),style:{backgroundColor:e}})}))},56841:(e,s,a)=>{a.d(s,{HomeChipsRowWithEmptyStates:()=>Y});a(54687),a(77369);var t=a(30758),n=a(97500),i=a.n(n),l=a(8335),r=a(40539),o=a(65809),c=a(83924),d=a(70397),u=a(32765),m=a(26427),h=a(35147),p=a(42153),f=a(8845),x=a(29324),g=a(53189),v=a(10959),j=a(26471),N=a(95489),y=a(98756),C=a(80464),b=a(99842),S=a(70942),I=a(59161),M=a(86247),w=a(51697);const A="main-home-filterChipsContainer",k="SlgasUoncH3m8pSldgVL",P="main-home-filterChipsSection",R="fIvMht6B9HdROywMNJZ4",F="mjZrvVI3CxfHJXu7y0Lg",_="LVMjmN2CaPruPAo62RAY",E="HXlt7CQ7uXgHZ9UKA4tS",L="ijr0_QJBMQcfYWajuhGI",H="g4woYb2pJFjxtIfizfeA",q="_bbW1oBra1fMJvD43SCl";var V=a(86070);const W=t.memo((({filterChips:e,requestId:s})=>{const a=(0,y.g)(),n=(0,g.f)(),{setNavigationPending:l}=(0,v.Y)(),[h,p]=(0,t.useState)(null),{spec:f,logger:x}=(0,w.$)(c.Y,{data:{identifier:"home",uri:n?`spotify:home:${n}`:"spotify:home",reason:s??""}}),C=(0,o.NC)(I.Zyi),b=e.flatMap((e=>{if(!e.id||"wrapped-chip"===e.id)return[];const s={id:e.id,getName:()=>e.label?.transformedLabel??"",ubiId:e.id},a="podcasts-chip"===n||"podcasts-following-chip"===n;return"podcasts-chip"===e.id&&a&&C?[s,{id:"podcasts-following-chip",getName:()=>"Following",ubiId:""}]:s})),S=(0,t.useCallback)((e=>{const s=e||"";h!==s&&(p(s),l(!0),setTimeout((()=>{const s=f.homeSubfeedsFactory();if(e&&e!==n){const t=s.filterChipFactory({identifier:e});x.logInteraction(t.hitFilter()),a(`/home?facet=${e}`)}else{const e=s.filterChipFactory({identifier:"all"});x.logInteraction(e.hitFilter()),a("/")}}),10))}),[h,l,f,n,x,a]);(0,t.useEffect)((()=>{null!==h&&h===n&&p(null)}),[n,h]);const M=(0,t.useCallback)((e=>null!==h?h===e:n===e),[n,h]),A=(0,o.NC)(I._Ie),{shelfURIs:P}=(0,j.T)(),R=(0,N.k)(),F=P.length>0,W=`Pinned by ${R?.name}`;return(0,V.jsx)("div",{className:i()(_,E,"contentSpacing"),children:(0,V.jsxs)(u.FN,{ariaLabel:d.Ru.get("home.filters"),scrollContentClassName:L,children:[(0,V.jsx)(m.A,{children:(0,V.jsx)(r.v,{"aria-label":d.Ru.get("search.title.all"),selectedColorSet:"invertedLight",onClick:()=>S(null),selected:M(""),className:i()({[k]:null!==h}),children:d.Ru.get("search.title.all")},"all")}),b.map((e=>(0,V.jsx)(m.A,{children:(0,V.jsx)(r.v,{"aria-label":e.getName(),selectedColorSet:"invertedLight",onClick:()=>S(e.id),selected:M(e.id),className:i()({[k]:null!==h}),children:e.getName()})},e.id))),A&&(F||R)&&(0,V.jsx)(m.A,{children:(0,V.jsx)("div",{className:H})}),A&&F&&(0,V.jsx)(m.A,{children:(0,V.jsxs)(r.v,{"aria-label":"Pinned",selectedColorSet:"invertedLight",onClick:()=>S("pinned"),selected:M("pinned"),className:i()({[k]:null!==h}),children:[(0,V.jsx)("span",{children:"Pinned"}),(0,V.jsx)("span",{className:q,children:P.length})]},"pin")}),A&&R&&(0,V.jsx)(m.A,{children:(0,V.jsx)(r.v,{"aria-label":"Pinned",selectedColorSet:"invertedLight",selected:"pinned-by"===n,className:i()({[k]:null!==h}),children:(0,V.jsx)("span",{children:W})},"pin")})]})})})),Y=()=>{const e=(0,b.p)(),s=(0,C.V)(),a=(0,S.A)(),t=(0,M.SF)(),{ref:n,inView:r}=(0,l.Wx)({initialInView:!0,threshold:[1],rootMargin:`-${f.uC}px 100%`,root:t.current}),o=void 0!==a,{data:c,loading:d,error:u,extensions:m}=(0,v.Y)(),g="HomeResponsePayload"===c?.home?.__typename?c?.home?.homeChips:null;return d||u||!g||s||!e?d?(0,V.jsx)("div",{className:A,children:(0,V.jsx)("div",{className:i()(_,E,"contentSpacing"),children:(0,V.jsx)(h.Y,{as:"h2",variant:"titleMedium",charCount:25,isLoading:!0})})}):null:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("div",{ref:n}),(0,V.jsxs)("div",{className:A,children:[(0,V.jsx)(p.A,{className:i()({[F]:!r,[R]:o},P),style:{backgroundColor:a}}),(0,V.jsx)(W,{filterChips:g,requestId:(0,x.getRequestIdForImpressions)(m)})]})]})}},70942:(e,s,a)=>{a.d(s,{A:()=>n});var t=a(10819);function n(e){const{backgroundColor:s}=(0,t.oI)();return s||e}},85518:(e,s,a)=>{a.d(s,{j:()=>M});var t=a(55797),n=a(70397);const i="wIA_5Ypq0rltNPeZQpM4",l="Swi6YtNEFCCVz8l4y75v",r="pklLPOhfigdytL9bPoth",o="sb24Y8kdMZInJ8aI8dXT";var c=a(18298),d=a(2401),u=a(86070);function m({ariaValueText:e,max:s,current:a}){const t={transform:`translateX(-${100-(s&&a?100*Math.min(1,a/s):0)}%)`},m=Math.ceil(Math.max(s-a,0)),{hours:h,minutes:p,seconds:f}=(0,d.S)(s),x=(0,c.j)({h,m:p,s:f}),{hours:g,minutes:v,seconds:j}=(0,d.S)(m),N=(0,c.j)({h:g,m:v,s:j}),y=e||n.Ru.get("time.left-of",N,x);return(0,u.jsxs)("div",{className:i,role:"progressbar",tabIndex:0,"aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":s,"aria-valuetext":y,children:[(0,u.jsx)("div",{className:l}),(0,u.jsx)("div",{className:r,children:(0,u.jsx)("div",{"data-testid":"progressBarFg",className:o,style:t})})]})}const h="qfYkuLpETFW3axnfMntO",p="_q93agegdE655O5zPz6l",f="z7Yl7CIT1AB0y91f_moh",x="iLIlkUcfIq56KncGtX7u",g="nV50yZ6BR_TIuWP3l7b1",v="qLjIx_SzBEpDRA_q7kxQ";var j=a(78717),N=a(60940),y=a(97500),C=a.n(y),b=a(97471);const S="xWm_uA0Co4SXVxaO7wlB",I=({durationMs:e,className:s,displaySeconds:a})=>{const{hours:t,minutes:i,seconds:l}=(0,d.S)(e);a=!1!==a&&!t&&l;const r=(0,c.j)({h:t,m:i,s:a?l:0});return r?(0,u.jsx)("span",{className:C()(S,s),children:n.Ru.get("time.left",r)}):null},M=e=>{const{resumePositionMs:s=0,releaseDate:a,isPlaying:i,fullyPlayed:l,durationMs:r,position:o=s,compactVariant:c=!1,className:d,progressBarClassName:y,progressStateClassName:S,releaseDateClassName:M}=e,w=a&&a.isoString?(0,u.jsx)(j.E,{as:"p",variant:"bodySmall",className:p,children:(0,t.V2)((0,t.ad)(a.isoString),a.precision)}):null,A=(()=>{if(0===r)return null;if(l&&!i)return(0,u.jsxs)("div",{className:C()(x,S),children:[(0,u.jsx)(j.E,{as:"p",variant:"bodySmall",className:f,children:n.Ru.get("episode.audiobook.chapter.finished")}),(0,u.jsx)(N.i,{size:"small",className:v,"aria-hidden":"true"})]});if(o>0||i){const e=Math.ceil(Math.max(r-o,0));return(0,u.jsx)("div",{className:C()(x,S),children:(0,u.jsx)(j.E,{as:"p",variant:"bodySmall",className:f,children:(0,u.jsx)(I,{durationMs:e,displaySeconds:!c&&void 0})})})}return(0,u.jsx)(j.E,{as:"p",variant:"bodySmall",className:C()(p,M),"data-testid":"episode-progress-not-played",children:(0,u.jsx)(b.d,{durationMs:r,displaySeconds:!c&&void 0})})})(),k=0===r?null:!l&&o>0||i?(0,u.jsx)("div",{className:C()(g,y),children:(0,u.jsx)(m,{current:o,max:r})}):null;return w||A||k?(0,u.jsxs)("div",{className:C()(h,d),children:[w,A,k]}):null}},95489:(e,s,a)=>{a.d(s,{k:()=>n});a(77369);var t=a(85387);const n=()=>{const e=(0,t.zy)(),s=new URLSearchParams(e.search);if(!s.has("hpuris"))return null;const a=(s.get("hpuris")||"").split(",").map((e=>`spotify:section:${e}`));return{name:s.get("hpname")??"Shared",uris:a}}},97471:(e,s,a)=>{a.d(s,{d:()=>c});var t=a(97500),n=a.n(t),i=a(2401),l=a(18298);const r="UyzJidwrGk3awngSGIwv";var o=a(86070);const c=({durationMs:e,className:s,displaySeconds:a})=>{const{hours:t,minutes:c,seconds:d}=(0,i.S)(e);return a=!1!==a&&!t&&d,(0,o.jsx)("span",{className:n()(r,s),children:(0,l.j)({h:t,m:c,s:a?d:0})})}}}]);
//# sourceMappingURL=dwp-home-chips-row.js.map