"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1602,5094],{11829:(e,t,n)=>{n.d(t,{$:()=>o});var r=n(85387);const a="/lyrics",o=()=>{const e=(0,r.zy)(),t=e.pathname.startsWith(a);return{isActive:t,isActiveNotCinemaMode:t&&(!e.state.cinemaState||"closed"===e.state.cinemaState),routeDestination:a}}},42153:(e,t,n)=>{n.d(t,{A:()=>v});var r=n(30758),a=n(66405),o=n(8845),u=n(54646),i=n(11829),s=n(70942),c=n(21466),l=n(56548),f=n(84195),d=n(86070);const p=parseInt(f.A.MINIMUM_HEADER_HEIGHT,10),v=(0,r.forwardRef)((function(e,t){const n=(0,a.lr)(),f=(0,a.Nx)(),v=(0,u.W)(),h=(0,s.A)(),{isActive:m}=(0,i.$)(),y=(0,r.useRef)(-1),b=(0,r.useRef)(null),g=t??b,A=(0,r.useCallback)((e=>{const t=e.target.scrollTop;let r;if(r=n||f?(0,a.q8)(t,v):void 0===h?(0,l.i)(t,o.uC):m?0:(0,l.i)(t,p,76),"function"==typeof g)throw new Error("Callback refs are not supported");Number(y.current).toPrecision(2)!==Number(r).toPrecision(2)&&requestAnimationFrame((()=>{g.current&&g.current.style.setProperty("opacity",`${Number(r).toPrecision(2)}`)})),y.current=r}),[n,f,h,m,v,g]);return(0,c.i)(A,{executeOnceOnStart:!0}),(0,d.jsx)("div",{ref:g,...e,children:e.children})}))},42551:(e,t,n)=>{n.d(t,{Mz:()=>i});var r="NOT_FOUND";var a=function(e,t){return e===t};function o(e,t){var n,o,u="object"==typeof t?t:{equalityCheck:t},i=u.equalityCheck,s=void 0===i?a:i,c=u.maxSize,l=void 0===c?1:c,f=u.resultEqualityCheck,d=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}}(s),p=1===l?(n=d,{get:function(e){return o&&n(o.key,e)?o.value:r},put:function(e,t){o={key:e,value:t}},getEntries:function(){return o?[o]:[]},clear:function(){o=void 0}}):function(e,t){var n=[];function a(e){var a=n.findIndex((function(n){return t(e,n.key)}));if(a>-1){var o=n[a];return a>0&&(n.splice(a,1),n.unshift(o)),o.value}return r}return{get:a,put:function(t,o){a(t)===r&&(n.unshift({key:t,value:o}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(l,d);function v(){var t=p.get(arguments);if(t===r){if(t=e.apply(null,arguments),f){var n=p.getEntries().find((function(e){return f(e.value,t)}));n&&(t=n.value)}p.put(arguments,t)}return t}return v.clearCache=function(){return p.clear()},v}function u(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o,u=0,i={memoizeOptions:void 0},s=r.pop();if("object"==typeof s&&(i=s,s=r.pop()),"function"!=typeof s)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof s+"]");var c=i.memoizeOptions,l=void 0===c?n:c,f=Array.isArray(l)?l:[l],d=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(r),p=e.apply(void 0,[function(){return u++,s.apply(null,arguments)}].concat(f)),v=e((function(){for(var e=[],t=d.length,n=0;n<t;n++)e.push(d[n].apply(null,arguments));return o=p.apply(null,e)}));return Object.assign(v,{resultFunc:s,memoizedResultFunc:p,dependencies:d,lastResult:function(){return o},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),v}}var i=u(o)},54387:(e,t,n)=>{n.d(t,{$F:()=>u,Dr:()=>s,KI:()=>f,V0:()=>l,YO:()=>d,nC:()=>v,t$:()=>p,uW:()=>c,ye:()=>h});var r=n(42551),a=n(64508);const o=[a.Gm.NATIVE,a.Gm.IMAGE,a.Gm.HTML],u=e=>e.ads.hpto?.template||null,i=e=>e.ads.root.isHptoHidden,s=e=>e.ads.hpto?.hptoIsStable||null,c=e=>e.ads.root.isPremium,l=e=>"1"===e.session.productState?.["has-audiobooks-subscription"],f=e=>e.ads.hpto?.creativeFetchingState||null,d=(0,r.Mz)((e=>e.ads.hpto?.creative||null),(e=>e.ads.hpto?.preview||null),((e,t)=>t||e)),p=(0,r.Mz)(d,c,i,((e,t,n)=>{if(!e)return!1;return!(!o.includes(e.bannerMode)||t&&n)})),v=(0,r.Mz)(c,i,((e,t)=>!e||!t)),h=(0,r.Mz)(d,(e=>!!e&&o.includes(e.bannerMode)))},54646:(e,t,n)=>{n.d(t,{HomeHeader:()=>m,W:()=>h});var r=n(30758),a=n(97500),o=n.n(a),u=n(62411),i=n(66590),s=n(54387),c=n(45786),l=n(70942);const f="main-home-homeHeader",d="B9yNi5FlwGJt0nMEM5HS",p="t7wxxKMe3KK9hcr93xna";var v=n(86070);const h=()=>(0,u.d4)(s.t$),m=(0,r.memo)((function(){const e=(0,l.A)(i.l0o),t=!(0,c.n)(),n=h();return(0,v.jsx)("div",{className:o()(f,{[p]:t,[d]:n}),style:{backgroundColor:e}})}))},56548:(e,t,n)=>{function r(e,t=1,n=0){if(n>t)return 1;let r=(e-n)/(t-n);return Number.isNaN(r)&&(r=1),Math.min(Math.max(r,0),1)}n.d(t,{i:()=>r})},66405:(e,t,n)=>{n.d(t,{Nx:()=>u,lr:()=>o,q8:()=>i});var r=n(76146),a=n(56548);const o=()=>(0,r._)((e=>"/"===e.pathname)),u=()=>(0,r._)((e=>"/home"===e.pathname)),i=(e,t)=>{const n=t?350:80;return(0,a.i)(e,n,10)}},70942:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(10819);function a(e){const{backgroundColor:t}=(0,r.oI)();return t||e}},94553:(e,t,n)=>{n.d(t,{TopBar:()=>k});var r=n(30758),a=n(97500),o=n.n(a),u=n(70397),i=n(5120),s=n(71039),c=n(11627),l=n(86070);const f=()=>{const e=(0,r.useRef)(null),{setElementRef:t}=(0,r.useContext)(s.J);return(0,r.useEffect)((()=>{t&&e.current&&t(e.current)}),[t]),(0,l.jsx)("div",{"data-testid":"topbar-content-wrapper",className:c.A.topbarContentWrapper,ref:e})};var d=n(42153),p=n(30339),v=n(76146);const h=["","/","/home/","/content-feed/","/lyrics","/search","/search/:query","/search/:query/:category","/recent-searches","/section/:id","/genre/:id","/user/:username/:subpage","/user/:username/top/artists","/user/:username/top/tracks","/preferences","/artist/:id/featuring","/artist/:id/playlists","/artist/:id/appears-on","/artist/:id/discovered-on","/artist/:id/related","/download","/premium"];var m=n(66405),y=n(70942),b=n(332),g=n(24886),A=n(53467);const x={[b.E.SMALL]:0,[b.E.MEDIUM]:600,[b.E.LARGE]:1024},k=()=>{const e=(0,y.A)(),t=(0,m.lr)(),n=(0,v._)((e=>{const t=e.pathname.replace(/^\/intl-[A-Za-z]{2}/i,"");return h.every((e=>e!==t&&null===(0,p.B6)(e,t)))})),a=(0,r.useRef)(null),{breakpoint:s}=(0,A.x)(x,a),b=(0,i.X)(),k=void 0!==e&&!b;return n?(0,l.jsx)(g.o.Provider,{value:s,children:(0,l.jsxs)("header",{"data-testid":"topbar","aria-label":u.Ru.get("topBar.label"),className:o()(c.A.container,{[c.A.withBackgroundBlur]:t}),children:[(0,l.jsx)(d.A,{ref:a,className:c.A.background,style:{"--background-base":e,...b?{"--background-base":b}:{}},children:k&&(0,l.jsx)("div",{className:c.A.overlay})}),(0,l.jsx)("div",{className:o()(c.A.contentContainer,"contentSpacing"),children:(0,l.jsx)(f,{})})]})}):null}}}]);
//# sourceMappingURL=dwp-top-bar.js.map