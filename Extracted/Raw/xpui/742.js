"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[742],{72293:(e,r,t)=>{t.d(r,{x:()=>Me});const a="playback-bar",n="playback-bar__progress-time-elapsed",s="gglUjikTBtMzCZFgSmpS",o="dN6OLjjcmnuleiECu55A",l="DSdahCi0SDG37V9ZmsGO",i="playback-progressbar-container";var c=t(30758),u=t(97500),d=t.n(u),g=t(78717),p=t(65809),h=t(70397),v=t(65660),f=t(28979),m=function(e){return e.Played="played",e.Current="current",e.Unplayed="unplayed",e}(m||{});const b="#404040",k="var(--is-active-fg-color)",x= getComputedStyle(document.body).getPropertyValue("--spice-subtext").trim(),y=(e,r,t)=>r>0?{start:e,width:r,backgroundColor:t}:void 0,w=(e,r,t,a,n,s=!1)=>{const o=Math.max(e.startPercent,Math.min(e.endPercent,r));if(n){const r=t/a*100;return o<=r?{singlePart:y(e.startPercent,r-e.startPercent,k)}:{playedPart:y(e.startPercent,r-e.startPercent,k),previewPart:y(r,o-r,x),unplayedPart:y(o,e.endPercent-o,b)}}return s?{singlePart:y(e.startPercent,e.endPercent-e.startPercent,x)}:{previewPart:y(e.startPercent,o-e.startPercent,x),unplayedPart:y(o,e.endPercent-o,b)}},P=(e,r,t,a,n,s=!1)=>{const o=e[r],l=e[r+1];if(!o)return{singlePart:void 0};const i=((e,r,t,a)=>{const n=e?.seekStart??0,s=r?.seekStart??a;return{startPercent:0===t?0:n/a*100,endPercent:s/a*100,startMs:n,endMs:s}})(o,l,r,t),c=((e,r)=>r>=e.endMs?m.Played:r>=e.startMs?m.Current:m.Unplayed)(i,n);switch(c){case m.Played:return(e=>({singlePart:y(e.startPercent,e.endPercent-e.startPercent,k)}))(i);case m.Current:return w(i,a,n,t,!0,s);case m.Unplayed:return w(i,a,n,t,!1,s);default:return{singlePart:y(i.startPercent,i.endPercent-i.startPercent,b)}}},M=(e,r,t,a,n,s=!1)=>e&&null!==t?P(e,t,n,r,a,s):null;var S=t(59309),C=t(86070);const A=({episodeChapterMarkers:e,hoverPercent:r,keyboardActiveMarker:t,currentPlaybackMs:a,totalDurationMs:n})=>{const{chapterSegment:s}=((e,r,t,a,n)=>{const s=(0,c.useMemo)((()=>M(e||[],t.percent||0,t.index,a,n,!0)),[e,t.index,t.percent,a,n]),o=(0,c.useMemo)((()=>{if(!e||0===e.length)return null;const t=((e,r,t)=>{let a=0;for(let n=0;n<e.length;n++){const s=e[n];if(s){if(r<s.seekStart/t*100)break;a=n}}return a})(e,r,n);return M(e,r,t,a,n,!1)}),[e,r,a,n]);return{chapterSegment:s||o}})(e,r,t,a,n);return s?(0,C.jsxs)(C.Fragment,{children:[s.singlePart&&(0,C.jsx)("div",{className:S.A.chapterHoverOverlay,style:{left:`${s.singlePart.start}%`,width:`${s.singlePart.width}%`,backgroundColor:s.singlePart.backgroundColor}}),s.playedPart&&(0,C.jsx)("div",{className:S.A.chapterHoverOverlay,style:{left:`${s.playedPart.start}%`,width:`${s.playedPart.width}%`,backgroundColor:s.playedPart.backgroundColor}}),s.previewPart&&(0,C.jsx)("div",{className:S.A.chapterHoverOverlay,style:{left:`${s.previewPart.start}%`,width:`${s.previewPart.width}%`,backgroundColor:s.previewPart.backgroundColor}}),s.unplayedPart&&(0,C.jsx)("div",{className:S.A.chapterHoverOverlay,style:{left:`${s.unplayedPart.start}%`,width:`${s.unplayedPart.width}%`,backgroundColor:s.unplayedPart.backgroundColor}})]}):null},j=({containerRef:e,positionPercent:r,children:t,className:a,overrideLeftPx:n})=>{const s=(0,c.useRef)(null),[o,l]=(0,c.useState)({left:void 0!==n?n:"var(--hover-bar-transform)",transform:void 0!==n?"none":"translateX(-50%)"});return(0,c.useLayoutEffect)((()=>{const t=e.current,a=s.current;if(!t||!a)return void l({left:void 0!==n?n:"var(--hover-bar-transform)",transform:void 0!==n?"none":"translateX(-50%)"});const o=t.getBoundingClientRect(),i=a.getBoundingClientRect(),c=o.width,u=i.width,d=(void 0!==n?n:r/100*c)-u/2;l(d<0?{left:0,transform:"none"}:d+u>c?{left:c-u,transform:"none"}:{left:void 0!==n?n:"var(--hover-bar-transform)",transform:void 0!==n?"none":"translateX(-50%)"})}),[e,r,t,n]),(0,C.jsx)("div",{ref:s,className:a,style:{left:o.left,transform:o.transform},children:t})};var E=t(9131);function N(e,r){if(e&&r.current){const t=r.current.getBoundingClientRect(),a=e.getBoundingClientRect();return a.left-t.left+a.width/2}}const D=({mouseActiveMarker:e,keyboardActiveMarker:r,currentChapterTitle:t,hoverPercent:a,hoverMs:n,containerRef:s})=>{const{overrideLeftPx:o,positionPercent:l,label:i}=function(e,r,t,a,n,s){return e.marker&&null!==e.percent?{overrideLeftPx:N(e.markerEl,s),positionPercent:e.percent,label:[void 0!==e.marker.seekStart?(0,E.f)(e.marker.seekStart):"",e.marker.title].join(" • ")}:r.marker&&null!==r.percent?{overrideLeftPx:N(r.markerEl,s),positionPercent:r.percent,label:[void 0!==r.marker.seekStart?(0,E.f)(r.marker.seekStart):"",r.marker.title].join(" • ")}:t?{overrideLeftPx:void 0,positionPercent:a,label:[(0,E.f)(n),t].join(" • ")}:{overrideLeftPx:void 0,positionPercent:0,label:null}}(e,r,t,a,n,s);return i?(0,C.jsx)(j,{containerRef:s,positionPercent:l,overrideLeftPx:o,className:S.A.chapterIndicatorText,children:i}):null};t(77369);var R=t(81998),O=t(4666),T=t(84409),I=t(35140);const F=({markers:e,maxValue:r,keyboardActiveIndex:t,setKeyboardActiveIndex:a,onMouseActiveMarkerChange:n,onKeyboardActiveMarkerChange:s,setMouseActiveMarker:o})=>{const l=(0,O.z)(),i=(0,c.useRef)([]),{logger:u,spec:g}=(0,T.r)(R.U,{}),p=(0,c.useCallback)((e=>{if(l.seekTo(e),u.logInteraction(g.chapterRowFactory().hitSeekToTime({msToSeekTo:e})),l.getState()?.isPaused){l.resume({featureIdentifier:"episode-npv"});const e=l.getState()?.context.uri;e&&u.logInteraction(g.chapterRowFactory().hitResume({itemToBeResumed:e}))}}),[u,l,g]);if(0===e.length||r<=0)return null;return(0,C.jsx)("div",{className:S.A.chapterMarkersContainer,role:"toolbar","aria-label":h.Ru.get("playback-control.a11.episode-chapters.jump-to"),children:e.map(((l,c)=>{const u=(0,I.q)(l.seekStart/r*100,0,100),g=h.Ru.get("playback-control.a11y.episode-chapters.marker-start",l.title,(0,E.f)(l.seekStart)),v=l.shouldShowMarker??!0;return(0,C.jsx)("div",{ref:e=>i.current[c]=e,className:d()(S.A.chapterMarker,{[S.A.chapterMarkerStart]:0===l.seekStart,[S.A.chapterMarkerHidden]:!v}),style:{left:`${u}%`},"aria-label":g,tabIndex:t===c?0:-1,role:"button",onKeyDown:t=>((t,n)=>{if("ArrowRight"===t.key||"ArrowDown"===t.key){t.preventDefault();const o=n+1;if(o<e.length&&(a(o),i.current[o]?.focus(),s)){const t=e[o]??null,a=t?(0,I.q)(t.seekStart/r*100,0,100):null;s({index:o,percent:a,marker:t,markerEl:i.current[o]??null})}}else if("ArrowLeft"===t.key||"ArrowUp"===t.key){t.preventDefault();const o=n-1;if(o>=0&&(a(o),i.current[o]?.focus(),s)){const t=e[o]??null,a=t?(0,I.q)(t.seekStart/r*100,0,100):null;s({index:o,percent:a,marker:t,markerEl:i.current[o]??null})}}else if(("Enter"===t.key||" "===t.key)&&e[n]){if(p(e[n]?.seekStart??0),s){const t=e[n],a=t?(0,I.q)(t.seekStart/r*100,0,100):null;s({index:n,percent:a,marker:t??null,markerEl:i.current[n]??null})}o&&o({index:null,percent:null,marker:null,markerEl:null})}})(t,c),onClick:()=>p(l.seekStart),onFocus:()=>{s&&s({index:c,percent:u,marker:l,markerEl:i.current[c]??null})},onMouseEnter:()=>{n&&v&&n({index:c,percent:u,marker:l,markerEl:i.current[c]??null})},onMouseLeave:()=>{n&&v&&n({index:null,percent:null,marker:null,markerEl:null})}},c)}))})};var B=t(69518);var $=t(26865),_=t(57019);function L(e,r,t){if(!e||0===e.length)return;let a,n=0,s=e.length-1;for(;n<=s;){const o=Math.floor((n+s)/2),l=e[o];if(!l){n=o+1;continue}const i=l.seekStart,c=1e3*t,u=e[o+1]?.seekStart,d=l.seekStop??u??c;if(r>=i&&r<d){a=l;break}r<i?s=o-1:n=o+1}return a}function U(e,r,t){if(!e||0===e.length||!t)return 0;const a=L(e,r,t);return a?e.indexOf(a):0}function W(e,r,t){return L(e,r,t)?.title}var z=t(78134),H=t(75986),K=t(74846);const q=({value:e,max:r,step:t,labelText:a,isInteractive:n=!0,forceActiveStyles:s=!1,onDragStart:o,onDragMove:l,onDragEnd:i,saberConfig:u=null,easterEggConfig:g,isPlayingStrangerThings:p=!1,direction:h="horizontal",enableAnimation:v,updateFrequency:m,offFrequencyUpdate:b,className:k,showValueAsTimeOverHandle:x=!1,episodeChapterMarkers:y,...w})=>{const P=(0,c.useRef)(null),{isDragging:M,onMouseDown:j}=(0,B.D)({progressBarRef:P,onDragStart:o,onDragMove:l,onDragEnd:i,direction:h}),N=(0,c.useRef)(null),[R,O]=(0,c.useState)(0),[T,I]=(0,c.useState)(0),{mouseActiveMarker:L,keyboardActiveMarker:q,setMouseActiveMarker:X,handleMouseActiveMarkerChange:V,handleKeyboardActiveMarkerChange:Z,setKeyboardActiveMarker:Q}=(()=>{const[e,r]=(0,c.useState)({index:null,percent:null,marker:null,markerEl:null}),[t,a]=(0,c.useState)({index:null,percent:null,marker:null,markerEl:null}),n=(0,c.useCallback)((e=>{r(e),a({index:null,percent:null,marker:null,markerEl:null})}),[]),s=(0,c.useCallback)((e=>{a(e),r({index:null,percent:null,marker:null,markerEl:null})}),[]),o=e.marker?e:t;return{mouseActiveMarker:e,setMouseActiveMarker:r,keyboardActiveMarker:t,setKeyboardActiveMarker:a,handleMouseActiveMarkerChange:n,handleKeyboardActiveMarkerChange:s,activeMarker:o}})(),G=(0,c.useCallback)((e=>{if(N.current){const r=e.clientX-N.current.getBoundingClientRect().left;r>=0&&O(r/N.current.clientWidth*100)}y&&y.length>0&&Q({index:null,percent:null,marker:null,markerEl:null})}),[y,Q]),Y=n?100*Math.max(0,Math.min(1,e/r)):0,J=s||M,ee=n&&!(0,K.n)(),{isSeekingWithKeyboard:re,handleKeyboardProgressStepping:te}=(0,$.E)({onDragStart:o,onDragMove:l,onDragEnd:i}),ae=(0,c.useCallback)((e=>{const r=e.key;if(/^[0-9]$/.test(r)){const e=parseInt(r,10)/10;i(e,{wasDraggedBeforeReleased:!1})}}),[i]),ne=(0,c.useCallback)((()=>Y),[Y]),se=(0,H.ZY)(),oe=(0,c.useRef)(se?.visibilityState),le=se?.visibilityState,ie=M||b||"hidden"===le||"hidden"===oe.current||re||0===e;oe.current=le;const ce=v?S.A.progressAnimatable:"",ue=R/100*r,de=(0,c.useMemo)((()=>y&&W(y,ue,r)),[ue,y,r]),ge=(0,c.useMemo)((()=>{const t=y&&W(y,e,r);return t?`${(0,E.f)(e)} • ${t}`:(0,E.f)(e)}),[e,y,r]);return(0,C.jsxs)("div",{className:d()(S.A.wrapper,k,{[S.A.enabled]:n,[S.A.disableProgressAnimatable]:ie}),"data-testid":w["data-testid"],children:[(0,C.jsx)(f.o,{disabled:!n,type:"range",min:0,max:r,value:e,step:t,onChange:e=>{te(parseFloat(e.target.value)/r)},onKeyDown:ae,"aria-valuetext":ge,onFocus:()=>{y&&y.length>0&&I(U(y,e,r))},children:a}),(0,C.jsxs)("div",{className:d()(S.A.progressBar,{[S.A.saberEnabled]:null!==u,[S.A.progressBarActive]:J}),style:{...g?.bgColor?{"--fg-color":g.bgColor,"--is-active-fg-color":g.bgColor}:null,..."number"==typeof m?{"--progress-bar-duration":`${Number(m)}ms`}:null,"--progress-bar-transform":`${Y}%`,"--hover-bar-transform":`${R}%`},ref:N,onFocus:()=>{y&&y.length>0&&I(U(y,e,r))},onPointerDown:j,onMouseMove:G,"data-testid":w["data-testid"],children:[(0,C.jsxs)("div",{ref:P,className:S.A.background,"data-testid":"progress-bar-background",children:[y&&(0,C.jsx)(A,{episodeChapterMarkers:y,hoverPercent:R,keyboardActiveMarker:q,currentPlaybackMs:e,totalDurationMs:r}),y&&(0,C.jsx)(F,{markers:y,maxValue:r,keyboardActiveIndex:T,setKeyboardActiveIndex:I,onMouseActiveMarkerChange:V,onKeyboardActiveMarkerChange:Z,setMouseActiveMarker:X}),(0,C.jsx)("div",{className:S.A.foregroundWrapper,children:(0,C.jsx)("div",{className:S.A.middleground})}),(0,C.jsx)("div",{className:S.A.foregroundWrapper,children:(0,C.jsx)("div",{className:d()(S.A.foreground,ce)})}),g&&g.imageUrlHandle?(0,C.jsx)("div",{className:d()(S.A.easterEggHandle,ce),children:(0,C.jsx)("img",{alt:"",className:S.A.easterEggImage,src:g.imageUrlHandle,style:(0,_.Z)(g.imageTransformOverride)})}):(0,C.jsx)("div",{className:d()(S.A.handle,ce),children:x&&M&&(0,C.jsx)("div",{className:S.A.indicatorText,children:(0,E.f)(e)})}),x&&!M&&(0,C.jsx)("div",{className:S.A.hoverIndicatorText,children:(0,E.f)(ue)}),(0,C.jsx)(D,{mouseActiveMarker:L,keyboardActiveMarker:q,currentChapterTitle:de,hoverPercent:R,hoverMs:ue,containerRef:N})]}),ee&&(0,C.jsx)("div",{style:{width:"100%"},children:(0,C.jsx)(z.V,{getPercentage:ne,progressBar:P,isPlayingStrangerThings:p,isDragging:M})})]})]})};var X=t(4849);const V=X.TL,Z=[{maxWidth:300,maxMarkers:15},{maxWidth:350,maxMarkers:25},{maxWidth:X.nW,maxMarkers:35},{maxWidth:500,maxMarkers:45}];const Q=e=>{if(function(e){return"episodeChapterMarkers"in e&&Array.isArray(e.episodeChapterMarkers)&&e.episodeChapterMarkers.length>0}(e)){if(function(e,r){if(r<=0||void 0===e||e<V)return!1;for(const t of Z)if(e<=t.maxWidth)return r<=t.maxMarkers;return!0}(e.containerWidth,e.episodeChapterMarkers.length))return(0,C.jsx)(q,{...e})}return(0,C.jsx)(v.z2,{...e})};var G=t(8845),Y=t(92713);const J="main-playbackBarRemainingTime-container",ee=({position:e,duration:r,isPreview:t,semanticColor:a="textSubdued",isFullscreenMode:n=!1,className:s})=>{const[o,l]=(0,Y.x)(G.fC,!1),i=(0,c.useCallback)((()=>{t||l(!o)}),[o,l,t]);return(0,C.jsx)(g.E,{as:"div","data-testid":"playback-duration","data-test-position":e,variant:n?"bodyMedium":"marginal",className:d()(J,s),onClick:i,semanticColor:a,children:o?`-${(0,E.f)(r-e)}`:(0,E.f)(r)})};var re=t(25669),te=t(39737),ae=t(29425);const ne="Bn7RYdPUyzN4qo1bC1Ic",se="OEe8k2xe6o6x9x0FAc4b",oe=[{name:"Anakin",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"7px","--core-color":"white","--edge-glow-color":"rgb(55, 132, 214)","--blur-glow-color":"#2e77d0","--blur-radius":"16px","--spread-radius":"8px","--saber-hilt-url":`url(${(0,re.bj)("images/sw_saber_anakin.png")})`,"--saber-hilt-overlap":"5px"}},{name:"Luke",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"9px","--core-color":"white","--edge-glow-color":"rgb(135, 220, 90)","--blur-glow-color":"#1ed760","--blur-radius":"16px","--spread-radius":"4px","--saber-hilt-url":`url(${(0,re.bj)("images/sw_saber_luke.png")})`,"--saber-hilt-overlap":"5px"}},{name:"Vader",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"10px","--core-color":"white","--edge-glow-color":"rgb(229, 17, 21)","--blur-glow-color":"#cd1a2b","--blur-radius":"20px","--spread-radius":"14px","--saber-hilt-url":`url(${(0,re.bj)("images/sw_saber_vader.png")})`,"--saber-hilt-overlap":"6px"}},{name:"Rey",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"8px","--core-color":"white","--edge-glow-color":"rgb(249, 164, 11)","--blur-glow-color":"rgb(253, 175, 33)","--blur-radius":"20px","--spread-radius":"5px","--saber-hilt-url":`url(${(0,re.bj)("images/sw_saber_rey.png")})`,"--saber-hilt-overlap":"3px"}},{name:"Leia",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"9px","--core-color":"white","--edge-glow-color":"rgb(55, 132, 214)","--blur-glow-color":"#2e77d0","--blur-radius":"16px","--spread-radius":"8px","--saber-hilt-url":`url(${(0,re.bj)("images/sw_saber_leia.png")})`,"--saber-hilt-overlap":"2px"}},{name:"Mace",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"9px","--core-color":"white","--edge-glow-color":"rgb(90, 22, 167)","--blur-glow-color":"rgb(172, 57, 193)","--blur-radius":"20px","--spread-radius":"8px","--saber-hilt-url":`url(${(0,re.bj)("images/sw_saber_mace.png")})`,"--saber-hilt-overlap":"1px"}},{name:"Ahsoka",vars:{"--bg-color":"","--fg-color":"transparent","--is-active-fg-color":"transparent","--progress-bar-height":"6px","--core-color":"white","--edge-glow-color":"rgb(255,255,255)","--blur-glow-color":"rgb(255,255,255)","--blur-radius":"20px","--spread-radius":"5px","--saber-hilt-url":`url(${(0,re.bj)("images/sw_saber_ahsoka1.png")})`,"--saber-hilt-overlap":"-9px","--saber-hilt-width":"100px","--saber-hilt-height":"36px"}}],le=["spotify:playlist:37i9dQZF1DXaUaRhCgtpCo","spotify:playlist:69BOXIItwwyxTgdz6flzvU","spotify:playlist:37i9dQZF1DWUgUvAPAFxdh"],ie=["official_star_wars","kirbysayshi","hansencc"],ce=/Star Wars/i,ue="THX1138";function de({onChange:e}){const r=function(){const[e,r]=(0,c.useState)([]),[t,a]=(0,c.useState)(!1);return(0,c.useEffect)((()=>{const n=n=>{for(e.push(n.key);e.length>7;)e.shift();e.join("")===ue&&a(!t),r([...e])};return window.addEventListener("keypress",n),()=>{window.removeEventListener("keypress",n)}}),[e,t]),(0,te.o)((e=>{const r=e?.context.uri??"",t=e?.context?.metadata?.context_owner??"",a=e?.item??void 0;return!!le.includes(r)||!!ie.includes(t)||!!(0,ae.v)(a)&&(ce.test(a.name)||ce.test(a.album.name))}))||t}(),{next:t,config:a}=function(e){const[r,t]=(0,c.useState)(0);return{next:()=>{t((r+1)%oe.length)},config:e?oe[r]:null}}(r),n=(0,c.useRef)(e);return n.current=e,(0,c.useEffect)((()=>{n.current(a?.vars??null)}),[a]),a?(0,C.jsx)("div",{className:ne,children:(0,C.jsx)("button",{"data-testid":"saber-hilt-button","aria-label":h.Ru.get("playback-control.a11y.lightsaber-hilt-button",a?.name),className:se,style:a.vars,onClick:t})}):null}var ge=t(6584),pe=(t(2557),t(65656)),he=t(59161),ve=t(19151);function fe(e){return"TalkDisplaySegment"===e.__typename&&null!==e.seekStart}var me=t(3669),be=t(78993);const ke=["spotify:playlist:37i9dQZF1DXc3KPAjGyPdm"];var xe=t(5544),ye=t(10167),we=t(15186);const Pe=1e3,Me=({isPreview:e,isFullscreenMode:r=!1,timerPlacement:t="inline",onChange:u,onDragStart:v,onDragEnd:f})=>{const m=(0,p.NC)(he.O14),[b,k]=(0,c.useState)(null),[x,y]=(0,c.useState)(0),w=(0,O.z)(),P=(0,te.o)((e=>e),((e,r)=>e?.duration===r?.duration&&e?.hasContext===r?.hasContext&&e?.restrictions?.canSeek===r?.restrictions?.canSeek)),{seekOffsetMs:M}=(0,we.p)(),S=P?.duration??0,A=P?.hasContext??!1,j=P?.restrictions?.canSeek??!1,[N,D,R]=(0,ye.S)(Pe),[T,I]=(0,c.useState)(null),F=null!==T?T:N,B=null!==T?T:N+(m&&!R?Pe:0),$=e=>{if(!j)return;I(e*S),v?.()},_=(F>0||S>0)&&"true"!==P?.item?.metadata?.is_narration,L=(0,E.f)(_?F:NaN),U=(0,E.f)(_?S:NaN),W=function(){const e=(0,be.S)()!==me.z.CLOSED,r=(0,te.o)((e=>{const r=e?.context.uri??"";return ke.includes(r)}));return!e&&r}(),z=(0,ge.l)(),H="above"===t?o:s,K=((e,r)=>{const t=(0,p.NC)(he.l2Q),a=e&&e.type===ve.c.EPISODE&&"string"==typeof e.uri?e.uri:"",{chapters:n=[]}=(0,pe.i)({uri:a,pageSize:50});return(0,c.useMemo)((()=>{if(t&&e&&e.type===ve.c.EPISODE&&"string"==typeof e.uri&&null!=r&&!(r<=0)&&n.length&&50!==n.length)return function(e,r){return r<=0?e.map((e=>({...e,shouldShowMarker:!0}))):e.map(((t,a)=>{const n=e[a+1],s=t.seekStart,o=((n?.seekStart??r)-s)/r*100>=2;return{...t,shouldShowMarker:o}}))}(n.filter(fe).filter((e=>!!e.title&&e.title.trim().length>0)).map((e=>({title:e.title,seekStart:e.seekStart.milliseconds,seekStop:e.seekStop?e.seekStop.milliseconds:void 0}))),r)}),[t,e,n,r])})(P?.item,P?.duration),q=(0,c.useRef)(null);return(0,xe.w)({refOrElement:q,onResize:({width:e})=>{y(e)},observeOnly:"width"}),(0,C.jsxs)("div",{className:d()(a,H),ref:q,children:["indicatorOnly"!==t&&(0,C.jsx)(g.E,{"data-testid":"playback-position",as:"div",variant:r?"bodyMedium":"marginal",className:n,semanticColor:r?"textBase":"textSubdued",children:L}),(0,C.jsxs)("div",{className:i,children:[A?(0,C.jsx)(de,{onChange:e=>{k(e)}}):null,(0,C.jsx)(Q,{labelText:h.Ru.get("playback-control.a11y.seek-slider-button"),value:B,updateFrequency:Pe,offFrequencyUpdate:R,max:S,step:M,containerWidth:x,"aria-valuetext":h.Ru.get("download.progress-global",L,U),isInteractive:A&&_,onDragStart:$,onDragMove:$,onDragEnd:(e,{wasDraggedBeforeReleased:r})=>{if(I(null),f?.(),!j)return;const t=e*S;D(t),w.seekTo(t);const a=r?"drag":"hit";u?.(t,a)},saberConfig:b,isPlayingStrangerThings:W,"data-testid":"playback-progressbar",enableAnimation:m,showValueAsTimeOverHandle:"indicatorOnly"===t,easterEggConfig:z,episodeChapterMarkers:K})]}),"indicatorOnly"!==t&&(0,C.jsx)(ee,{position:F,duration:_?S:NaN,isPreview:e,semanticColor:r?"textBase":"textSubdued",isFullscreenMode:r,className:l})]})}},97002:(e,r,t)=>{t.d(r,{D:()=>l});var a=t(30758),n=t(37202);var s=t(89338),o=t(84409);const l=({item:e,onClick:r})=>{const{capabilities:{isEnabled:t},isOpen:l,close:i,open:c,canOpen:u}=(0,s.H)(),{spec:d,logger:g}=(0,o.r)(n.h9,{data:{identifier:n.gw.DESKTOP}}),p=(0,a.useCallback)((()=>{t&&(l?(i(),e?.uri&&g.logInteraction(d.pipButtonFactory({uri:e.uri}).hitUiHide())):(c(),e?.uri&&(({spec:e,logger:r,uri:t})=>{const a=window.documentPictureInPicture;if(!a)return;const n=s=>{setTimeout((()=>{const a=s.window?.innerWidth,n=s.window?.innerHeight;if(!a||!n)return;const o=e.pipButtonFactory({uri:t}).hitUiOpenWindow({widthPx:a,heightPx:n});r.logInteraction(o)}),100),a.removeEventListener("enter",n)};a.addEventListener("enter",n)})({spec:d,logger:g,uri:e.uri})),r?.(!l,e?.uri))}),[i,t,l,e?.uri,g,r,c,d]);return{showButton:u,isActive:l,onClick:p}}}}]);
//# sourceMappingURL=742.js.map