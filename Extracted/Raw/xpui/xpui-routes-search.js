"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[7125,9319],{8068:(e,s,t)=>{t.r(s),t.d(s,{default:()=>Na});t(66016);var a=t(30758),r=t(51822),i=t(85387),n=t(3074),o=t.n(n),l=t(65809),c=t(98108),d=t(11120),u=t(70397),p=t(19399),m=t(51995),h=t(86070);const y={albums:d.$h.SEARCH_ALBUMS,artists:d.$h.SEARCH_ARTISTS,episodes:d.$h.SEARCH_EPISODES,genres:d.$h.SEARCH_GENRES,playlists:d.$h.SEARCH_PLAYLISTS,podcasts:d.$h.SEARCH_SHOWS,audiobooks:d.$h.SEARCH_AUDIOBOOKS,tracks:d.$h.SEARCH_SONGS,users:d.$h.SEARCH_PROFILES,podcastAndEpisodes:d.$h.SEARCH_PODCASTS_AND_EPISODES,topResults:d.$h.SEARCH};function g({children:e}){const{query:s="",category:t=""}=(0,i.g)();return(0,h.jsx)(m.e,{pageId:y[t],entityUri:`spotify:app:search:${s}:${t}`,children:e})}function x({children:e}){const{query:s}=(0,i.g)();return(0,h.jsx)(m.e,{pageId:d.$h.SEARCH,entityUri:`spotify:app:search:${s}`,children:e})}var f=t(9477),b=(t(77369),t(82092)),v=t(15788),j=t(16562),R=t(42812),C=t(1287);function A(e){const s=(0,j.f0)(e);if(s[0])return s[0].url}function I(e,s){switch(e.content.__typename){case"BrowseXlinkResponseWrapper":case"BrowseSectionContainerWrapper":return function(e,s,t){switch(e.__typename){case"BrowseClientFeature":return(0,h.jsx)(v.r,{title:e.title?.transformedLabel??"",pageId:"search",href:e.featureUri,color:e.backgroundColor?.hex,imageUrl:A(e),ubiId:e.featureUri,index:s},e.featureUri);case"BrowseSectionContainer":return e.data?.cardRepresentation?(0,h.jsx)(v.r,{title:e.data.cardRepresentation.title?.transformedLabel??"",pageId:"search",href:(0,R.K)(t),color:e.data.cardRepresentation.backgroundColor?.hex,imageUrl:A(e),ubiId:t,index:s},t):null;case"BrowseSpacesHub":case"GenericError":case"NotFound":case"BrowseExternalHref":return null;default:return(0,C.k)(e),null}}(e.content.data,s,e.uri);case"AlbumResponseWrapper":case"ArtistResponseWrapper":case"EpisodeOrChapterResponseWrapper":case"PlaylistResponseWrapper":case"PodcastOrAudiobookResponseWrapper":case"TrackResponseWrapper":case"UserResponseWrapper":case"ConcertResponseWrapper":case"MerchResponseWrapper":case"ArtistConcertsResponseWrapper":case"NoContent":case"UnknownType":return null;default:return(0,C.k)(e.content),null}}var P=t(27704),k=t(63388),w=t(39463);const S=Spicetify.GraphQL.Definitions["browseAll"]=new k.l("browseAll","query","cd6fcd0ce9d1849477645646601a6d444597013355467e24066dad2c1dc9b740",null),E=()=>{const{data:e}=((e,s)=>(0,w.I)(S,e,s))({pagePagination:{offset:0,limit:10},sectionPagination:{offset:0,limit:99}},{gcTime:P.oC,staleTime:P.PG});return"BrowseSectionContainer"!==e?.browseStart?.__typename?[]:e.browseStart.sections?.items??[]};var N=t(66893),U=t(18199),T=t(23291);const q="AGAj7hr0pC57oadgb75h",_=({browseAllSpec:e})=>{const s=E();return(0,h.jsx)("div",{className:q,children:s.map(((s,t)=>function(e,s,t){if(!e.data?.__typename)return null;switch(e.data.__typename){case"BrowseGridSectionData":return(0,h.jsx)(T.r,{spec:s,children:(0,h.jsx)(N.x,{config:(0,U.s1)(U.yV.BROWSE),children:(0,h.jsx)(b.p,{title:e.data?.title?.transformedLabel??"",index:t,id:e.uri,showAll:!0,role:"list",children:e.sectionItems.items.map(((e,s)=>I(e,s)))})})},e.uri);case"BrowseSingleItemSectionData":case"BrowseGenericSectionData":case"BrowseRelatedSectionData":case"BrowseUnsupportedSectionData":return null;default:return(0,C.k)(e.data),null}}(s,e,t)))})};var F=t(84409);const M="_YN9HVrnrcvnaCjYnNkM",B=()=>{const{spec:e}=(0,F.r)(f.A,{data:{uri:"search:find"}}),s=(0,a.useMemo)((()=>e.browseAllFactory()),[e]);return(0,h.jsx)("div",{className:M,children:(0,h.jsx)(_,{browseAllSpec:s})})};var O=t(65199),V=t(93955),L=t(18831),D=t(45647),W=t(86814),H=t(60749),$=t(78717),G=t(73136),z=t(81563);const Y=(0,a.createContext)(null),Q=Y.Provider;function Z(){const e=(0,a.useContext)(Y);if(null===e)throw new Error("Trying to use 'SearchContext' without 'SearchProvider'!");return e}var X=t(45786),J=t(9735),K=t(61315);const ee="_5hJUuCVGXtd6CaXQBUM",se="DH8aRN7lGO_ZqFegRTmj",te="W37c8X5LCtHtmryEzR4I",ae="oNTqWDEksr002PdYJVmT",re=({forChip:e})=>{const{query:s,serpId:t}=Z(),a=!(0,X.n)(),r=`/search/${s}`,i=(0,L.RuZ)(s).toURI(),{spec:n,logger:o}=(0,J.D)(z.w,{data:{uri:i,reason:t}}),l=(0,K.n)(n.getAbsoluteLocation(),n);return(0,h.jsxs)("div",{className:ee,"aria-live":"polite",ref:l,children:[(0,h.jsx)($.E,{as:"h1",variant:"titleSmall",className:se,children:e?u.Ru.get("search.empty-results-title-for-chip",s,e):u.Ru.get("search.empty-results-title",s)}),(0,h.jsx)("p",{className:te,children:a?u.Ru.get("web-player.search-modal.offline"):u.Ru.get("search.empty-results-text")}),e&&(0,h.jsx)(H.N_,{to:r,children:(0,h.jsx)(G.$,{colorSet:"invertedLight",className:ae,onClick:()=>{o.logInteraction(n.seeAllButtonFactory().hitUiNavigate({destination:r}))},children:u.Ru.get("search.see-all")})})]})};var ie=t(85982);const ne={results:null,isError:!1,isFetchMoreError:!1};var oe=t(16262),le=t(43891),ce=t(332),de=t(24886),ue=t(53467),pe=t(72432),me=t(68293);const he="l5wWcdJAOxbcnqyfuEmX",ye="niq6jXm6QbYCNJJ6J0wQ",ge="L3pQN7b5ky5wG5LuGE6o",xe=({index:e,item:s})=>{const{episode:t,show:a}=s,{usePlayContextItem:r}=(0,pe.P)({uri:s.episode.uri},{featureIdentifier:"search",referrerIdentifier:"search"});return(0,h.jsxs)("div",{className:ge,children:[(0,h.jsx)(oe.q,{index:e,episode:{...t,requestId:s.requestId},showMetadata:a,usePlayContextItem:r}),(0,h.jsx)("hr",{className:ye,"aria-hidden":!0})]})},fe=({showTitle:e=!0,displayEmptyPageOnEmptyResults:s=!0,displayError:t=!0,enableInfiniteScroll:a=!1,fetchData:r,totalCountRef:i,items:n,isError:o})=>{const{query:l,serpId:c}=Z(),d=(0,L.RuZ)(l).toURI(),{ref:u,breakpoint:p}=(0,ue.x)({[ce.E.MEDIUM]:0,[ce.E.LARGE]:600}),m=(0,me.s)(),y=`spotify:app:search:${encodeURIComponent(l)}:episodes`,{spec:g,UBIFragment:x}=(0,F.r)(V.w,{data:{uri:d,reason:c}});return o?t?(0,h.jsx)(O.PageErrorTemplate,{}):null:0===i.current?s?(0,h.jsx)(x,{spec:g.emptyResultsFactory(),children:(0,h.jsx)(re,{forChip:W.j7.episodes()})}):null:(0,h.jsxs)(de.o.Provider,{value:p,children:[n&&e&&(0,h.jsx)(D.k,{title:W.j7.episodes(),seeAllUri:y,onClickTitle:()=>{g&&m.logInteraction(g.episodesListFactory().episodesListHeaderFactory().titleFactory().hitUiNavigate({destination:y}))},onClickSeeAll:()=>{g&&m.logInteraction(g.episodesListFactory().episodesListHeaderFactory().seeAllLinkFactory().hitUiNavigate({destination:y}))},showSeeAll:!a&&n.length<(i.current||0)}),(0,h.jsx)("div",{ref:u,className:he,children:n&&(0,h.jsx)(le._,{triggerOnInitialLoad:!1,onReachBottom:()=>{a&&r()},children:n})})]})},be=e=>{const{query:s,api:t}=Z(),{results:r,isError:i,fetchData:n,totalCountRef:o}=((e,s)=>{const t=(0,ie.a)(),r=(0,a.useRef)(null),i=(0,a.useRef)(0),[n,o]=(0,a.useState)(ne),l=(0,a.useCallback)((async(a=!1)=>{if(!t())return;a&&(i.current=0,r.current=null);let n=e;if(null!==r.current){if(i.current>=r.current)return;i.current+n>r.current&&(n=r.current-i.current)}try{const e=await s(i.current,n);i.current+=n,r.current=e.totalCount||0,t()&&o((s=>({isError:!1,isFetchMoreError:!1,results:(a||null===s.results?[]:s.results).concat(e.items)})))}catch(e){t()&&o((e=>{const s=null===e.results||a;return{results:a?[]:e.results,isError:s,isFetchMoreError:!s}}))}}),[e,s,t]);return(0,a.useEffect)((()=>{l(!0)}),[l]),{results:n.results,isError:n.isError,fetchData:l,totalCountRef:r}})(30,(0,a.useCallback)(((e,a)=>t.getFullEpisodes(s,e,a)),[t,s]));return(0,h.jsx)(fe,{...e,fetchData:n,totalCountRef:o,items:r?.map(((e,s)=>(0,h.jsx)(xe,{item:e,index:s},s))),isError:i})};var ve=t(53923);const je=e=>{const{title:s,category:t,query:a,results:r,onAddToHistory:i,position:n,showSeeAll:o}=e;if(!r)return null;const{items:l,totalCount:c}=r;return l&&0!==l.length?(0,h.jsx)(b.p,{index:n,id:t,total:c||0,title:s,testId:`${t}-search-entity`,seeAllUri:`spotify:app:search:${encodeURIComponent(a)}:${t}`,showSeeAll:o,children:l.map(((e,s)=>(0,h.jsx)(ve.Q,{onClick:()=>i(e),entity:e,index:s},e.uri)))}):null},Re="T2yEew5FpZAOv3uHa0NK",Ce=({results:e})=>{const{query:s,serpId:t,onAddToHistory:a}=Z(),r=(0,L.RuZ)(s).toURI(),{spec:i,UBIFragment:n}=(0,F.r)(V.w,{data:{uri:r,reason:t}});return 0===e?.podcasts.totalCount&&0===e?.episodes.totalCount?(0,h.jsx)(n,{spec:i.emptyResultsFactory(),children:(0,h.jsx)(re,{forChip:W.j7.podcastAndEpisodes()})}):(0,h.jsx)(n,{spec:i,children:(0,h.jsxs)("div",{className:Re,children:[0!==e?.podcasts.totalCount&&(0,h.jsx)("div",{children:(0,h.jsx)(je,{position:0,category:"podcasts",title:W.j7.podcastAndEpisodes(),query:s,results:e?.podcasts,onAddToHistory:a})}),0!==e?.episodes.totalCount&&(0,h.jsx)("div",{children:(0,h.jsx)(be,{displayEmptyPageOnEmptyResults:!1,displayError:!1})})]})})};var Ae=t(97500),Ie=t.n(Ae),Pe=t(4890),ke=(t(54687),t(15069)),we=t(59161);const Se=({query:e,category:s,pageSize:t,includePreReleases:i})=>{const{api:n}=Z(),o=(0,r.jE)(),c=(0,l.NC)(we.Wvg),d=(0,a.useMemo)((()=>["searchCategoryResults",e,{category:s,pageSize:t,includePreReleases:i}]),[s,i,t,e]),{data:u,isError:p,isLoading:m,fetchNextPage:h}=(0,ke.q)({queryKey:d,initialPageParam:{offset:0,limit:t},queryFn:async({pageParam:t,signal:a})=>await n.getSearchCategoryResults(s,{searchTerm:e,offset:t.offset,limit:t.limit,includeAudiobooks:!0,includePreReleases:i,includeAuthors:c},a),getNextPageParam:(e,s)=>{if(!e)return null;const a=e.pagingInfo?.nextOffset;if(null===a)return null;let r=t;return void 0!==e.totalCount&&a+r>=e.totalCount&&(r=e.totalCount-a),{offset:a,limit:r}},select:e=>e.pages.flatMap((e=>e.items)),gcTime:6e5,staleTime:3e5});return(0,a.useEffect)((()=>()=>{o.setQueryData(d,(e=>({pages:e?.pages.slice(0,2)??[],pageParams:e?.pageParams.slice(0,2)??[]})))}),[o,d]),{results:u,isLoading:m,isError:p,fetchNextPage:h}};var Ee=t(48883);const Ne="w7SWsAZah4vovAuFxjgk",Ue="Qmu4FPZCnrDpQ85s4az5",Te="Ih5mmxAJFDIBYVcQQrrN",qe=({displayChips:e,category:s})=>{const{query:t,serpId:r,onAddToHistory:i}=Z(),n="audiobooks"===s,{results:o,isError:l,isLoading:c,fetchNextPage:d}=Se({query:t,category:s,pageSize:30,includePreReleases:n}),u=(0,a.useCallback)(((e,s)=>(0,h.jsx)("div",{className:Te,children:(0,h.jsx)(ve.Q,{entity:e,onClick:()=>{i(e)},testId:`search-category-card-${s}`,index:s})})),[i]),p=(0,L.RuZ)(t).toURI(),{spec:m,UBIFragment:y}=(0,F.r)(Pe.b,{data:{uri:p,identifier:s,reason:r}}),g=(0,a.useMemo)((()=>m.cardsFactory()),[m]),x=(0,a.useMemo)((()=>m.emptyResultsFactory()),[m]);return l?(0,h.jsx)(O.PageErrorTemplate,{}):c||o&&0!==o.length?(0,h.jsx)(y,{spec:g,children:(0,h.jsx)("div",{className:Ie()(Ne,{[Ue]:e}),children:o&&(0,h.jsx)(le._,{onReachBottom:d,triggerOnInitialLoad:!1,children:(0,h.jsx)(Ee.E,{render:()=>o.map(((e,s)=>u(e,s)))})})})}):(0,h.jsx)(y,{spec:x,children:(0,h.jsx)(re,{forChip:W.j7[s]()})})};var _e=t(26464),Fe=t(22730),Me=t(35054),Be=t(53169),Oe=t(37992),Ve=t(29611),Le=t(68229),De=t(76999),We=t(60331),He=t(28831),$e=t(80797),Ge=t(20755),ze=t(42511),Ye=t(16379),Qe=t(58955),Ze=t(43327),Xe=t(2835),Je=t(27403),Ke=t(97935),es=t(28521),ss=t(569),ts=t(42200),as=t(42394),rs=t(43159),is=t(8312),ns=t(25208),os=t(88705),ls=t(12912),cs=t(99893),ds=t(84049),us=t(94545),ps=t(10070),ms=t(2897),hs=t(19151),ys=t(85370),gs=t(40795);const xs=a.memo((function({uri:e,name:s,duration:t,artists:r,album:i,isExplicit:n,is19PlusOnly:o,isPlayable:l,index:c,imgUrl:d,requestId:p,isLyricsMatch:m,hasAssociatedVideo:y,hasAssociatedAudio:g,mediaType:x,type:f}){const{isActive:b,isPlaying:v,triggerPlay:j,togglePlay:R}=(0,pe.P)({uri:e},{featureIdentifier:"search",referrerIdentifier:"search"}),{spec:C}=(0,J.D)(Fe.i,{data:{position:c,reason:p??"",uri:e}}),A=(0,ps.T)(e),{isPlayable:I,isAnyArtistBanned:P}=(0,os.g)(e,{isPlayable:l,isLocal:!1,isOutOfMarket:!1,artistUris:r?.map((e=>e.uri))}),{unBanArtists:k}=(0,is.M)(r.map((e=>e.uri))),w=!y&&!g&&f===hs.c.TRACK&&x===ms.IX.Video,{badges:S,hasBadges:E}=(0,ys.b)({downloadAvailability:A,isExplicit:n,isMOGEFRestricted:o,isVideo:y||w}),N=(0,ss.o)(n,w),U=a.useMemo((()=>w?{modes:{media:"audio"}}:void 0),[w]),T=r?.map((e=>e.name)).join(u.Ru.getSeparator())||"",{isWeb:q}=(0,ls.V)();return(0,h.jsx)(Me.h,{menu:(0,h.jsx)(Be.P,{uri:e,albumUri:i?.uri,artists:r,contextUri:e}),children:(0,h.jsxs)(ts.w,{uri:e,contextUri:e,onTriggerPlay:(e,s)=>{j({loggingParams:s,...U})},isActive:b,index:c,ariaRowIndex:c+1,isPlayable:I,isAnyArtistBanned:P,handleArtistBanUndoClick:k,ageRestricted:o,dragMetadata:{name:s,createdBy:T},spec:C,isExplicit:n,children:[(0,h.jsx)(Ze.y,{ariaColIndex:0,children:(0,h.jsx)(Ge.$,{uri:e,playAriaLabel:u.Ru.get("tracklist.a11y.play",s,T),onClick:(e,s)=>{I&&R({loggingParams:s,...U})},isPlaying:v,isActive:b,spec:C,children:(0,h.jsx)(Ye.a,{children:c+1})})}),(0,h.jsxs)(Xe.U,{ariaColIndex:1,children:[(0,h.jsx)(He.e,{src:N?void 0:d}),(0,h.jsxs)($e.l,{children:[(0,h.jsx)(Oe.R,{enabled:q,uri:e,className:gs.A.rowTitle,children:(0,h.jsx)(es.p,{titleText:s,children:s})}),E&&(0,h.jsxs)(De.P,{children:[S.download&&(0,h.jsx)(ds._,{}),S.explicit&&(0,h.jsx)(cs.U,{}),S.nineteen&&(0,h.jsx)(us.q,{className:gs.A.nineteen,size:16}),S.isVideo&&(0,h.jsx)(as.l,{})]}),(0,h.jsxs)(Ke.p,{children:[(0,h.jsx)(Le.l,{artists:r,spec:C}),m&&(0,h.jsx)(ns.G,{})]})]})]}),(0,h.jsx)(Je.o,{ariaColIndex:2,children:(0,h.jsx)(Ve.g,{uri:i?.uri||"",name:i?.name||"",creatorUri:r?.[0]?.uri,spec:C,children:i?.name})}),(0,h.jsxs)(Qe.l,{ariaColIndex:3,children:[(0,h.jsx)(rs.d,{uri:e,spec:C}),(0,h.jsx)(We.P,{duration:t.milliseconds}),(0,h.jsx)(ze.Y,{menu:(0,h.jsx)(Be.P,{uri:e,albumUri:i?.uri,artists:r,contextUri:e}),label:u.Ru.get("more.label.track",s,T),spec:C})]})]})})}),((e,s)=>e.uri===s.uri));var fs=t(71600),bs=t(77486),vs=t(40539),js=t(70593),Rs=t(32765),Cs=t(26427),As=t(96579);const Is="search-searchCategory-SearchCategory",Ps="search-searchCategory-wrapper",ks="CMQe02XyiUmr3OtwlzmV",ws="search-searchCategory-categoryGridItem",Ss=({to:e,title:s,selected:t,onClick:a})=>(0,h.jsx)(As.N,{replace:!0,to:e,tabIndex:-1,onClick:a,className:ws,children:(0,h.jsx)(vs.v,{selected:t,selectedColorSet:"invertedLight",tabIndex:-1,children:s})}),Es=({searchCategories:e,selectedCategory:s,displayChips:t})=>{const{query:a}=Z(),{spec:r,logger:i}=(0,F.r)(js.q,{});if(!a||!t)return null;const n=encodeURIComponent(a);return(0,h.jsx)("div",{className:Is,children:(0,h.jsx)("div",{className:Ie()(Ps,"contentSpacing"),children:(0,h.jsxs)(Rs.FN,{dragToScrollOptions:{isDisabled:!1},scrollContentClassName:ks,children:[e.length>0&&(0,h.jsx)(Cs.A,{children:(0,h.jsx)(Ss,{to:`spotify:app:search:${n}`,title:u.Ru.get("search.title.all"),selected:void 0===s,onClick:()=>{i.logInteraction(r.chipFactory({identifier:"all",position:0}).hitUiNavigate({destination:`spotify:app:search:${n}`}))}})},"all"),e.map(((e,t)=>{const a=W.j7[e]?.()??"";return a||console.warn("Received empty title for category: ",e),(0,h.jsx)(Cs.A,{children:(0,h.jsx)(Ss,{to:`spotify:app:search:${n}:${e}`,title:a,selected:s===e,onClick:()=>{i.logInteraction(r.chipFactory({identifier:e,position:t+1}).hitUiNavigate({destination:`spotify:app:search:${n}:${e}`}))}})},e)}))]})})})};var Ns=t(53888),Us=t(60804);const Ts="oahixVvmYv3VD8UxHkpr",qs=({pageSize:e=100})=>{if(e>100)throw new Error("PathFinder does not support page sizes > 100");const{query:s,serpId:t}=Z(),{results:r,isError:i,isLoading:n,fetchNextPage:o}=Se({query:s,category:"tracks",pageSize:20,includePreReleases:!1}),l=(0,a.useCallback)(((e,s)=>{const t=(0,Us.g)(e.album?.images,{desiredSize:40});return(0,h.jsx)(xs,{index:s,uri:(0,Ns.a)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:e.isPlayable,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:t?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,hasAssociatedVideo:e.hasAssociatedVideo,hasAssociatedAudio:e.hasAssociatedAudio,mediaType:e.mediaType,type:e.type},s+e.uri)}),[]),c=(0,a.useMemo)((()=>[bs.$C.INDEX,bs.$C.TITLE_AND_ARTIST,bs.$C.ALBUM,bs.$C.DURATION]),[]),d=(0,a.useCallback)((e=>({uri:e.uri})),[]),p=(0,L.RuZ)(s).toURI(),{spec:m,UBIFragment:y}=(0,F.r)(_e.t,{data:{uri:p,reason:t}}),g=(0,a.useMemo)((()=>m.tracksFactory()),[m]),x=u.Ru.get("search.showing-category-query-songs",s);return i?(0,h.jsx)(O.PageErrorTemplate,{}):n||r&&0!==r.length?(0,h.jsx)(y,{spec:g,children:(0,h.jsx)("div",{className:Ts,children:r&&(0,h.jsx)(le._,{triggerOnInitialLoad:!1,onReachBottom:o,children:(0,h.jsx)(fs.S4,{ariaLabel:x,hasHeaderRow:!0,columns:c,renderRow:l,resolveItem:d,nrTracks:r.length,headerTop:48,tracks:r,columnPersistenceKey:bs.SZ.SEARCH_RESULTS},s)})})}):(0,h.jsx)(y,{spec:m.emptyResultsFactory(),children:(0,h.jsx)(re,{forChip:W.j7.tracks()})})},_s=({results:e,displayChips:s})=>{const{category:t}=Z();return t?"podcastAndEpisodes"===t?(0,h.jsx)(Ce,{results:e}):"tracks"===t?(0,h.jsx)(qs,{}):"episodes"===t?(0,h.jsx)(be,{enableInfiniteScroll:!0,showTitle:!1}):(0,h.jsx)(qe,{displayChips:s,category:t}):(0,h.jsx)(O.PageErrorTemplate,{})};var Fs=t(99373),Ms=t(95407),Bs=t(3877),Os=t(93320),Vs=t(92124),Ls=t(48237),Ds=t(10700),Ws=t(39125),Hs=t(35394),$s=t(27135),Gs=t(15400),zs=t(19239),Ys=t(80464);const Qs="MdWVOTFflb7OayRjn9pZ",Zs="N7Ng_kgcjiOOGs7Y48l9",Xs="_4tnwlIafghEfbtatHyO",Js="xgdE_xwOB8XLCxHOdp_I",Ks="YQfV97NZUj3G9JJwAiuY",et=(e,s)=>e($s.d,{concertUri:s}),st=(e,s)=>e(Gs.$,{concertUri:s}),tt=e=>{const[s,t]=(0,a.useState)(!1),[r,i]=(0,a.useState)(e.saved),{unsaveConcertFn:n=st,saveConcertFn:o=et,enqueueSnackbarFn:l=Ls.M8}=e.deps??{},{getGraphQLLoader:c}=(0,zs.mv)(),d=c(),p=(0,Ys.V)(),m=(0,L.o_h)(e.uri);if(!m)return null;const y=r?Ds.k:Ws.P,g=r?"textPositive":void 0;return(0,h.jsx)(H.N_,{to:`/${m.toURLPath()}`,onClick:e.onClick,className:Js,children:(0,h.jsxs)("div",{className:Qs,children:[(0,h.jsxs)("div",{className:Zs,children:[(0,h.jsxs)("div",{className:Xs,children:[(0,h.jsx)($.E,{as:"div",variant:"marginal",children:e.date.month}),(0,h.jsx)($.E,{as:"div",variant:"bodySmallBold",children:e.date.day})]}),(0,h.jsxs)("div",{className:Ks,children:[(0,h.jsx)($.E,{children:e.title}),(0,h.jsx)($.E,{semanticColor:"textSubdued",variant:"bodySmall",children:e.subtitle})]})]}),!p&&(0,h.jsx)(Hs.H,{semanticColor:g,iconOnly:y,"aria-label":u.Ru.get("concerts_interested_tooltip"),onClick:async a=>{if(a.preventDefault(),a.stopPropagation(),!s){t(!0);try{r?(await n(d,e.uri),l(u.Ru.get("concerts_removed-from-your-saved-events")),i(!1)):(e.onClickInterested&&e.onClickInterested(),await o(d,e.uri),l(u.Ru.get("concerts_added-to-your-saved-events")),i(!0))}finally{t(!1)}}}})]})})};var at=t(92585);const rt="mh7QL6adD4FIJhD5Exb9",it="FgawEObrsLOnHPzhrl5a",nt="PrDOhMH2lS5D8mMwbmF1",ot="hd4Hw4T7wuHZluBSTMZc",lt=e=>{const s=(0,L.o_h)(e.uri);return s?(0,h.jsx)(H.N_,{to:`/artist/${s.id}/concerts`,onClick:e.onClick,className:ot,children:(0,h.jsxs)("div",{className:rt,children:[(0,h.jsx)("div",{className:it,children:(0,h.jsx)(at.T,{className:nt})}),e.children]})}):null};var ct=t(80945);const dt="ifJugrlP5ysjVmb2s4v3",ut="yKnPM8up5atlbSBdRXVv",pt="NsXrW_ZuSRESU0URaCER",mt=({uri:e,date:s,title:t,subtitle:r,saved:i})=>{const{spec:n}=(0,F.r)(Os.S,{data:{uri:e}}),o=(0,me.s)(),l=(0,K.n)(n?.getAbsoluteLocation(),n),c=new Date(s),d=u.Ru.formatDate(c,{weekday:"short"}),p=u.Ru.formatDate(c,{hour:"numeric",minute:"numeric"}),m=u.Ru.formatDate(c,{day:"numeric"}),y=u.Ru.formatDate(c,{month:"short"}),g=(0,a.useMemo)((()=>n.localConcertFactory({uri:e})),[e,n]),x=(0,a.useMemo)((()=>n.interestedButtonFactory({uri:e})),[e,n]);return(0,h.jsx)("div",{ref:l,children:(0,h.jsx)(tt,{uri:e,title:t,saved:i,subtitle:u.Ru.get("search.concert.event",d,p,r),date:{day:m,month:y},onClick:()=>{o.logInteraction(g.hitUiNavigate({destination:e}))},onClickInterested:()=>{o.logInteraction(x.hitUiSelect())}})})},ht=({artistUri:e})=>{const{spec:s}=(0,F.r)(Vs._,{data:{uri:e??""}}),t=(0,me.s)(),r=(0,K.n)(s.getAbsoluteLocation(),s),i=(0,a.useMemo)((()=>s.onTourShelfFactory({uri:e??""})),[e,s]);return(0,h.jsx)("div",{ref:r,children:(0,h.jsx)(lt,{uri:e??"",onClick:()=>{t.logInteraction(i.hitUiNavigate({destination:`${e}:concerts`}))},children:u.Ru.get("search.concerts.see-all")})})},yt=({artistUri:e,concert:s})=>(0,h.jsxs)("section",{className:Ie()(dt),children:[(0,h.jsx)("div",{className:ct.A.header,children:(0,h.jsx)("div",{className:ct.A.topRow,children:(0,h.jsx)("div",{className:ct.A.titleWrapper,children:(0,h.jsx)($.E,{as:"h2",variant:"titleSmall",className:Ie()(ct.A.title,ut),children:u.Ru.get("search.title.concerts")})})})}),(0,h.jsx)("div",{className:pt,children:s?(0,h.jsx)(mt,{...s}):(0,h.jsx)(ht,{artistUri:e})})]});var gt=t(7519),xt=t(15623);const ft=a.memo((function({uri:e,name:s,duration:t,album:r,artists:i,index:n,imgUrl:o,isPlayable:c,isExplicit:d,is19PlusOnly:p,requestId:m,isLyricsMatch:y,hasAssociatedVideo:g,hasAssociatedAudio:x,mediaType:f,type:b}){const v=!g&&!x&&b===hs.c.TRACK&&f===ms.IX.Video,j=(0,ss.o)(d,v),R=(0,l.NC)(we.LX5),{isActive:C,isPlaying:A,triggerPlay:I,togglePlay:P}=(0,pe.P)({uri:e},{featureIdentifier:"search",referrerIdentifier:"search"}),k=a.useMemo((()=>v?{modes:{media:"audio"}}:void 0),[v]),{spec:w}=(0,J.D)(Fe.i,{data:{position:n,reason:m??"",uri:e}}),S=(0,ps.T)(e),{isPlayable:E,isAnyArtistBanned:N}=(0,os.g)(e,{isPlayable:c,isLocal:!1,isOutOfMarket:!1,artistUris:i?.map((e=>e.uri))}),{unBanArtists:U}=(0,is.M)(i.map((e=>e.uri))),{badges:T,hasBadges:q}=(0,ys.b)({downloadAvailability:S,isExplicit:d,isMOGEFRestricted:p,isVideo:R&&(g||v)}),_=(i||[]).map((e=>e.name)).join(u.Ru.getSeparator()),{isWeb:F}=(0,ls.V)(),M=(0,K.n)(w.getAbsoluteLocation(),w);return(0,h.jsx)("div",{ref:M,children:(0,h.jsx)(Me.h,{menu:(0,h.jsx)(Be.P,{uri:e,artists:i,contextUri:e,albumUri:r?.uri}),children:(0,h.jsxs)(ts.w,{uri:e,contextUri:e,index:n,ariaRowIndex:n,onTriggerPlay:(e,s)=>{I({loggingParams:s,...k})},isActive:C,isPlayable:E,isAnyArtistBanned:N,handleArtistBanUndoClick:U,ageRestricted:p,dragMetadata:{name:s,createdBy:_},spec:w,isExplicit:d,children:[(0,h.jsxs)(Xe.U,{ariaColIndex:0,children:[(0,h.jsx)(xt.u,{uri:e,src:j?void 0:o,onClick:(e,s)=>{P({loggingParams:s,...k})},isLocked:!1,isPlaying:A,isActive:C,playAriaLabel:u.Ru.get("tracklist.a11y.play",s,_),spec:w}),(0,h.jsxs)($e.l,{children:[(0,h.jsx)(Oe.R,{enabled:F,uri:e,className:gs.A.rowTitle,children:(0,h.jsx)(es.p,{titleText:s,children:s})}),q&&(0,h.jsxs)(De.P,{children:[T.download&&(0,h.jsx)(ds._,{}),T.explicit&&(0,h.jsx)(cs.U,{}),T.nineteen&&(0,h.jsx)(us.q,{className:gs.A.nineteen,size:16}),T.isVideo&&(0,h.jsx)(as.l,{})]}),(0,h.jsxs)(Ke.p,{children:[(0,h.jsx)(Le.l,{artists:i,spec:w}),y&&(0,h.jsx)(ns.G,{})]})]})]}),(0,h.jsxs)(Qe.l,{ariaColIndex:1,children:[(0,h.jsx)(rs.d,{uri:e,spec:w}),(0,h.jsx)(We.P,{duration:t.milliseconds}),(0,h.jsx)(ze.Y,{menu:(0,h.jsx)(Be.P,{uri:e,artists:i,contextUri:e,albumUri:r?.uri}),label:u.Ru.get("more.label.track",s,_),spec:w})]})]})})})}),((e,s)=>e.uri===s.uri&&e.index===s.index)),bt=a.memo((function({tracks:e,query:s}){const t=(0,a.useCallback)(((e,s)=>{const t=(0,Us.g)(e.album?.images,{desiredSize:40});return(0,h.jsx)(ft,{uri:(0,Ns.a)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:e.isPlayable,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,index:s,imgUrl:t?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,hasAssociatedVideo:e.hasAssociatedVideo,hasAssociatedAudio:e.hasAssociatedAudio,mediaType:e.mediaType,type:e.type},e.uri)}),[]),r=(0,a.useMemo)((()=>[bs.$C.TITLE_AND_ARTIST,bs.$C.DURATION]),[]),i=(0,a.useCallback)((e=>({uri:e.uri})),[]);return e&&(0,h.jsx)(fs.S4,{ariaLabel:u.Ru.get("search.a11y.songs-search-results"),renderRow:t,rowPlaceholder:gt.qq,nrTracks:Math.min(e.length,4),tracks:e,resolveItem:i,columns:r},s)}),((e,s)=>e.tracks===s.tracks)),vt="ib6ClWIXW5DmWXaC0W08",jt="nTbpvWKW0gZOhU4sejUH",Rt=({tracks:e,query:s,className:t,showSeeAll:r=!0,spec:i})=>{const n=(0,me.s)(),o=(0,a.useCallback)((()=>(0,h.jsx)("div",{className:jt,children:(0,h.jsx)(a.Suspense,{fallback:null,children:(0,h.jsx)(bt,{tracks:e.items,query:s})})})),[s,e]),l=`spotify:app:search:${encodeURIComponent(s)}:tracks`,c=(0,a.useCallback)((()=>{const e=i.headerFactory().titleFactory().hitUiNavigate({destination:l});n.logInteraction(e)}),[n,i,l]),d=(0,a.useCallback)((()=>{const e=i.headerFactory().seeAllFactory().hitUiNavigate({destination:l});n.logInteraction(e)}),[n,i,l]);return e.items.length?(0,h.jsxs)("section",{className:Ie()(vt,t),"aria-label":u.Ru.get("search.title.tracks"),"data-testid":"search-tracks-result",children:[(0,h.jsx)("div",{className:ct.A.header,children:(0,h.jsx)(D.k,{seeAllUri:l,onClickTitle:c,onClickSeeAll:d,title:u.Ru.get("search.title.tracks"),titleUri:l,showSeeAll:r&&e.items.length>4})}),(0,h.jsx)(T.r,{spec:i,children:(0,h.jsx)(Ee.E,{render:o})})]}):null},Ct=({topRecommendations:e,className:s,onAddToHistory:t,position:a})=>{const r=e.totalCount||0;return(0,h.jsx)(b.p,{index:a,id:"top-recommendations",className:s,total:r,title:u.Ru.get("artist-page.featuring",e.artistName),children:e.items.map(((e,s)=>(0,h.jsx)(ve.Q,{onClick:()=>t(e),entity:e,index:s},e.uri)))})};var At=t(92544);const It="vKsgiy0W3aHYmZUlwHoQ",Pt="w2O3N2xilgVcd4ep6cQL",kt="T2cpdJTvNpOFPvN4WJM4",wt="u372KlVrkMz1ZpJ89LMG",St="DIYNtp69Gd1l3eaBT3Bg",Et="cXdpTaiu9PEfynRcDKrU",Nt="yZ3EPSfU0nkNoCu19iPL",Ut="OtEFcRGkMfUXBZC2HF5M",Tt=({topResults:e,onAddToHistory:s})=>{const[t]=e.items;return t&&(0,h.jsx)(At.$,{total:1,className:It,title:u.Ru.get("search.title.top-result"),withEncoreCards:!1,children:[(0,h.jsx)("div",{"aria-live":"polite","data-testid":"top-result-card",className:Pt,children:(0,h.jsx)(ve.Q,{isHero:!0,index:0,onClick:()=>s(t),onPlay:()=>s(t),entity:t})},"top-result-item")]})};var qt=t(51697);const _t=e=>e?.type===hs.c.ARTIST,Ft=({results:e})=>{const{query:s,onAddToHistory:t,serpId:r}=Z(),i=(0,L.RuZ)(s).toURI(),{spec:n,UBIFragment:o}=(0,qt.$)(Ms.P,{data:{uri:i,reason:r}}),l=e.topResults.items.length>0,c=e.tracks.items.length>0,d=e.topRecommendations.items.length>0,[u]=e.topResults.items??[],p=_t(u)?(e=>{const[s]=e??[];if(s&&"uri"in(s.data??{}))return{uri:s.data.uri,date:s.data.startDateIsoString,title:s.data.location.city,subtitle:s.data.location.name,saved:s.data.saved}})(u.localConcerts?.items):void 0,m=_t(u)&&(u.hasConcerts||!!p),y=(0,a.useMemo)((()=>({topResult:n.topResultFactory(),trackList:n.trackListFactory(),shelves:n.shelvesFactory()})),[n]);return(0,h.jsx)(Ee.E,{className:kt,rowGap:Fs.WG,colGap:Fs.CJ,testId:"search-results",render:({columnCount:a})=>{let r,i;return l?r=a>3?St:Et:d&&(a>5&&c?(r=wt,i=Nt):(r=Et,i=Ut)),(0,h.jsxs)(h.Fragment,{children:[l&&(0,h.jsx)(o,{spec:y.topResult,children:(0,h.jsx)(Tt,{topResults:e.topResults,onAddToHistory:t})}),(0,h.jsxs)("section",{className:r,children:[m&&(0,h.jsx)(yt,{artistUri:u.uri,concert:p}),c&&(0,h.jsx)(Rt,{spec:y.trackList,query:s,tracks:m?{totalCount:3,items:e.tracks.items.slice(0,3)}:e.tracks,onAddToHistory:t,showSeeAll:!1})]}),d&&(0,h.jsx)(o,{spec:y.shelves,children:(0,h.jsx)(Ct,{position:0,query:s,className:i,topRecommendations:e.topRecommendations,onAddToHistory:t,showSeeAll:!1})}),W.ud.map(((a,r)=>(0,h.jsx)(o,{spec:y.shelves,children:(0,h.jsx)(je,{position:r+1,category:a,title:W.j7[a](),query:s,results:e[a],onAddToHistory:t,showSeeAll:!1})},`search-shelf-${a}`)))]})}})},Mt=({results:e,hasResults:s})=>{const{query:t,serpId:a}=Z(),r=(0,L.RuZ)(t).toURI(),i=!(0,X.n)(),{spec:n,UBIFragment:o}=(0,qt.$)(Ms.P,{data:{uri:r,reason:a}});return i?(0,h.jsx)(re,{}):e?e&&!s?(0,h.jsx)(o,{spec:n.emptyResultsFactory(),children:(0,h.jsx)(re,{})}):(0,h.jsx)(Ft,{results:e}):(0,h.jsx)(Bs.LoadingPage,{hasError:!1,errorMessage:""})},Bt=Spicetify.GraphQL.Definitions["searchDesktop"]=new k.l("searchDesktop","query","d9f785900f0710b31c07818d617f4f7600c1e21217e80f5b043d1e78d74e6026",null);var Ot=t(79051);const Vt=Spicetify.GraphQL.Definitions["searchAlbums"]=new k.l("searchAlbums","query","a71d2c993fc98e1c880093738a55a38b57e69cc4ce5a8c113e6c5920f9513ee2",null),Lt=(e,s)=>{const t="object"==typeof e?.requestIds?e?.requestIds:void 0,a=t?.[s],r="object"==typeof a?a:void 0;return"string"==typeof r?.["search-api"]?r?.["search-api"]:void 0},Dt=e=>Lt(e,"/searchV2"),Wt=e=>Lt(e,"/searchV2/topResultsV2"),Ht=(e,s)=>({...e,pagingInfo:s});var $t=t(31321);const Gt=Spicetify.GraphQL.Definitions["searchArtists"]=new k.l("searchArtists","query","0e6f9020a66fe15b93b3bb5c7e6484d1d8cb3775963996eaede72bac4d97e909",null);var zt=t(41995);const Yt=Spicetify.GraphQL.Definitions["searchAudiobooks"]=new k.l("searchAudiobooks","query","5c6347dec82c306ba125f2396e67be997eabcc4b4760da068874c66f52105e32",null);var Qt=t(45433);const Zt=Spicetify.GraphQL.Definitions["searchAuthors"]=new k.l("searchAuthors","query","4a9d403a7cbc7e19da5520d619a865472b35382b043bfa458154e73a5c6f46bd",null);var Xt=t(35141);const Jt=Spicetify.GraphQL.Definitions["searchEpisodes"]=new k.l("searchEpisodes","query","2fcb8b20ea473814e9f85eda12cd057a233aa8580293d8b1add3b67ecbba4377",null);const Kt=Spicetify.GraphQL.Definitions["searchFullEpisodes"]=new k.l("searchFullEpisodes","query","85faf0563998f70f8a0dd430bb5ae5d57ba176c42b33a8937520fe976ba7e5fc",null);t(2557);var ea=t(97011),sa=t(56859);const ta={...Xt.q,description:"",htmlDescription:"",coverArt:[],trailer:null,topics:[],podcastType:"UNKNOWN",showTypes:[],publisherName:"",consumptionOrder:"recent",gatedContentAccessReason:void 0,isLocked:!1};function aa(e,s){return e.map((e=>function(e,s){if("Episode"!==e.data?.__typename)return null;let t=ta;"Podcast"===e.data.podcastV2.data.__typename&&(t=(0,ea._v)(e.data.podcastV2.data));return{requestId:s,episode:(0,ea.S)(e.data),show:t}}(e,s))).filter(sa.P)}async function ra(e,s,t){const a=await e(Kt,s,void 0,void 0,t),r=a?.data?.searchV2?.episodes;return r?function(e,s){return{items:aa(e?.items||[],s),totalCount:e?.totalCount||0}}(r,Dt(a?.extensions)):null}var ia=t(57799);const na=Spicetify.GraphQL.Definitions["searchGenres"]=new k.l("searchGenres","query","9e1c0e056c46239dd1956ea915b988913c87c04ce3dadccdb537774490266f46",null);var oa=t(41994);const la=Spicetify.GraphQL.Definitions["searchPlaylists"]=new k.l("searchPlaylists","query","fc3a690182167dbad20ac7a03f842b97be4e9737710600874cb903f30112ad58",null);var ca=t(92282);const da=Spicetify.GraphQL.Definitions["searchPodcasts"]=new k.l("searchPodcasts","query","f4d1e6ff2422dd998e26ba696e853e4372811843361e91105f736d128d3d64e0",null);var ua=t(69397),pa=t(7467),ma=t(43597),ha=t(21789);function ya(e,s){const t=e?.itemsV2??[],a=t.map((({item:e,matchedFields:t})=>{const{__typename:a}=e;switch(a){case"AlbumResponseWrapper":return(0,Ot.l)(e,s);case"ArtistResponseWrapper":return(0,$t.f)(e,s);case"AudiobookResponseWrapper":return(0,zt.V)(e,s);case"EpisodeResponseWrapper":return(0,Xt.t)(e,s);case"GenreResponseWrapper":return(0,ia.z)(e,s);case"PlaylistResponseWrapper":return(0,oa.G)(e,s);case"PodcastResponseWrapper":return(0,ca.yY)(e,s);case"TrackResponseWrapper":return(0,pa.g)(e,t,s);case"UserResponseWrapper":return(0,ma.n)(e,s);case"PreReleaseResponseWrapper":return(0,ua.M)(e,s);case"AuthorResponseWrapper":return(0,Qt.j)(e,s);case"UnknownTypeWrapper":case"SearchAutoCompleteEntity":case"SearchSection":return null;default:return(0,C.k)(a),null}})).filter(sa.P);return{totalCount:t.length,items:a}}function ga(e,s){const t=e?.featured||[];return{artistName:t.length?xa(e):"",items:t?.map((e=>(0,oa.G)(e,s))).filter(sa.P)||[],totalCount:t.length||0}}function xa(e){const s=(0,ha.no)(e,"itemsV2",[]);try{const e=(0,ha.Jt)(s.map((({item:e})=>e)).filter(Boolean),"0.data");return e?.profile?.name||""}catch{return""}}const fa=Spicetify.GraphQL.Definitions["searchTopResultsOnly"]=new k.l("searchTopResultsOnly","query","110b0fd7638e42f548083f15e922437b747105063fe3458f5db7dba6cdefb25c",null);const ba=Spicetify.GraphQL.Definitions["searchTracks"]=new k.l("searchTracks","query","bc1ca2fcd0ba1013a0fc88e6cc4f190af501851e3dafd3e1ef85840297694428",null);const va=Spicetify.GraphQL.Definitions["searchUsers"]=new k.l("searchUsers","query","d3f7547835dc86a4fdf3997e0f79314e7580eaf4aaf2f4cb1e71e189c5dfcb1f",null);const ja={items:[],totalCount:0,pagingInfo:{nextOffset:null}},Ra={albums:{items:[],totalCount:0},artists:{items:[],totalCount:0},authors:{items:[],totalCount:0},episodes:{items:[],totalCount:0},genres:{items:[],totalCount:0},playlists:{items:[],totalCount:0},podcasts:{items:[],totalCount:0},audiobooks:{items:[],totalCount:0},topResults:{items:[]},tracks:{items:[],totalCount:0},users:{items:[],totalCount:0},topRecommendations:{artistName:"",items:[],totalCount:0},chipOrder:{items:[]}};class Ca{constructor(e){this._request=e}async getSearchResults(e,s){const t=await this._request(Bt,e,void 0,void 0,s),a=t?.data?.searchV2;if(!a)return Ra;const r=Dt(t?.extensions),i=Wt(t?.extensions);return{albums:(0,Ot.r)(a.albumsV2,r),artists:(0,$t.P)(a.artists,r),authors:(0,Qt.z)(a.authors??null,r),episodes:(0,Xt.NU)(a.episodes,r),genres:(0,ia.F)(a.genres,r),playlists:(0,oa.Q)(a.playlists,r),podcasts:(0,ca.Yq)(a.podcasts,r),audiobooks:(0,zt.t)(a.audiobooks??null,r),tracks:(0,pa.x)(a.tracksV2,r),users:(0,ma.H)(a.users,r),topResults:ya(a.topResultsV2,i),topRecommendations:ga(a.topResultsV2,i),chipOrder:a.chipOrder}}async getSearchCategoryResults(e,s,t){let a=null;const r={includePreReleases:!1,numberOfTopResults:20,...s};switch(e){case"albums":a=await async function(e,s,t){const a=await e(Vt,s,void 0,void 0,t),r=a?.data?.searchV2?.albumsV2;return r?Ht((0,Ot.r)(r,Dt(a?.extensions)),r.pagingInfo):null}(this._request,r,t);break;case"artists":a=await async function(e,s,t){const a=await e(Gt,s,void 0,void 0,t),r=a?.data?.searchV2?.artists;return r?Ht((0,$t.P)(r,Dt(a?.extensions)),r.pagingInfo):null}(this._request,r,t);break;case"authors":a=await async function(e,s,t){const a=await e(Zt,s,void 0,void 0,t),r=a?.data?.searchV2?.authors;return r?Ht((0,Qt.z)(r,Dt(a?.extensions)),r.pagingInfo):null}(this._request,r,t);break;case"episodes":a=await async function(e,s,t){const a=await e(Jt,s,void 0,void 0,t),r=a?.data?.searchV2?.episodes;return r?Ht((0,Xt.NU)(r,Dt(a?.extensions)),r.pagingInfo):null}(this._request,r,t);break;case"genres":a=await async function(e,s,t){const a=await e(na,s,void 0,void 0,t),r=a?.data?.searchV2?.genres;return r?Ht((0,ia.F)(r,Dt(a?.extensions)),r.pagingInfo):null}(this._request,r,t);break;case"playlists":a=await async function(e,s,t){const a=await e(la,s,void 0,void 0,t),r=a?.data?.searchV2?.playlists;return r?Ht((0,oa.Q)(r,Dt(a?.extensions)),r.pagingInfo):null}(this._request,r,t);break;case"podcasts":a=await async function(e,s,t){const a=await e(da,s,void 0,void 0,t),r=a?.data?.searchV2?.podcasts;return r?Ht((0,ca.Yq)(r,Dt(a?.extensions)),r.pagingInfo):null}(this._request,r,t);break;case"audiobooks":a=await async function(e,s,t){const a=await e(Yt,s,void 0,void 0,t),r=a?.data?.searchV2?.audiobooks;return r?Ht((0,zt.t)(r,Dt(a?.extensions)),r.pagingInfo):null}(this._request,r,t);break;case"tracks":a=await async function(e,s,t){const a=await e(ba,s,void 0,void 0,t),r=a?.data?.searchV2?.tracksV2;return r?Ht((0,pa.x)(r,Dt(a?.extensions)),r.pagingInfo):null}(this._request,r,t);break;case"users":a=await async function(e,s,t){const a=await e(va,s,void 0,void 0,t),r=a?.data?.searchV2?.users;return r?Ht((0,ma.H)(r,Dt(a?.extensions)),r.pagingInfo):null}(this._request,r,t);break;case"topResults":a=await async function(e,s,t){const a=await e(fa,s,void 0,void 0,t),r=a?.data?.searchV2?.topResultsV2;return r?ya(r,Wt(a?.extensions)):null}(this._request,r,t);break;case"podcastAndEpisodes":a=await ra(this._request,r,t);break;default:(0,C.k)(e)}return a||ja}async getFullEpisodes(e,s=0,t=25){const a={searchTerm:e,offset:s,limit:t};return await ra(this._request,a)||ja}}var Aa=t(15879),Ia=t(76355),Pa=t(58028),ka=t(68734),wa=t(254);const Sa="kMLumUDiP1DgYtLABkVO",Ea=({results:e,hasResults:s})=>{const{category:t}=Z(),a=(0,Pa.Qe)(e,t,!1),r="podcasts"!==t&&"episodes"!==t;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Es,{searchCategories:a,selectedCategory:t,displayChips:r}),(0,h.jsx)("div",{className:"contentSpacing",id:"searchPage",children:(0,h.jsx)(Ee.E,{className:Sa,render:()=>(0,h.jsxs)(i.BV,{children:[(0,h.jsx)(i.qh,{path:"/",element:(0,h.jsx)(m.e,{pageId:d.$h.FIND,entityUri:"spotify:app:search",children:(0,h.jsx)(B,{})})}),(0,h.jsx)(i.qh,{path:":query",element:(0,h.jsx)(x,{children:(0,h.jsx)(Mt,{results:e,hasResults:s})})}),(0,h.jsx)(i.qh,{path:":query/:category",element:(0,h.jsx)(g,{children:(0,h.jsx)(_s,{results:e,displayChips:r})})})]})})})]})};const Na=a.memo((function(){const e=(0,r.jE)(),s=(0,l.NC)(we.KvH),t=(0,l.NC)(we.Lh5),i=(0,l.NC)(we.Wvg),n=!(0,X.n)(),[{category:d,query:m},y]=(0,Ia.o)();(0,ka.m)("search");const[g,x]=(0,a.useState)({results:null,queryForResults:m??""}),f=g.results,b=function(e){return null!==e&&void 0!==Object.keys(e).find((s=>"chipOrder"!==s&&e[s].items.length>0))}(f),{request:v}=a.useContext(wa.j),j=(0,a.useMemo)((()=>new Ca(v)),[v]),{addToSearchHistory:R}=(0,Aa.k)(),C=(0,a.useCallback)((e=>{R([e])}),[R]),A=(0,a.useCallback)((async e=>{e===g.queryForResults&&b||y(e,d,!1)}),[g.queryForResults,d,b,y]);(0,a.useEffect)((()=>{if(!m)return;if(n)return void x({results:null,queryForResults:m});const a=["searchPageResults",m,{numberOfTopResults:5,isConcertsInSearchEnabled:s,isLocalConcertsInSearchEnabled:t,isAuthorsInSearchEnabled:i}];let r=!0;return e.ensureQueryData({queryKey:a,queryFn:({signal:e})=>{const a={searchTerm:m,offset:0,limit:10,numberOfTopResults:5,includeAudiobooks:!0,includeArtistHasConcertsField:s,includePreReleases:!0,includeLocalConcertsField:t,includeAuthors:i};return j.getSearchResults(a,e)},gcTime:9e5,staleTime:9e5}).then((e=>{r&&x({results:e,queryForResults:m})})).catch((e=>{if(("code"in e?e.code:null)!==c.TransportErrors.HTTP_REQUEST_ABORTED)throw e})),()=>{r=!1}}),[j,i,s,t,n,m,e]),(0,a.useEffect)((()=>{m||x({results:null,queryForResults:""})}),[m]);const I=(0,a.useMemo)((()=>o().create().toString()),[d,g.queryForResults]),P=(0,a.useMemo)((()=>({api:j,category:d,query:g.queryForResults,onAddToHistory:C,onSearchRequest:A,serpId:I})),[j,d,C,A,g.queryForResults,I]);return(0,h.jsxs)(Q,{value:P,children:[(0,h.jsx)(p.Q,{children:u.Ru.get("search.page-title")}),(0,h.jsx)(Ea,{results:f,hasResults:b})]})}))},12286:(e,s,t)=>{t.d(s,{X:()=>r});var a=t(1231);function r(e){return[a.kw.YES,a.kw.DOWNLOADING,a.kw.WAITING].includes(e)}},15400:(e,s,t)=>{t.d(s,{$:()=>a});const a=new(t(63388).l)("removeConcertFromLibrary","mutation","2b6a3dc45db6b423eb36c628ccb26768f2c03e75ae274e09a1701336d46dd21d",null)},15623:(e,s,t)=>{t.d(s,{u:()=>p});var a=t(97500),r=t.n(a),i=t(52427),n=t(26852),o=t(28831),l=t(4116),c=t(68293),d=t(40795),u=t(86070);const p=({uri:e,src:s,playAriaLabel:t,onClick:a,isPlaying:p,isActive:m,isLocked:h,isEpisode:y,isVideo:g,spec:x})=>{const f=(0,c.s)(),b=(0,i.YQ)((s=>{let t;if(x){const s=x.playbackButtonFactory();let a;a=m&&p?s.hitPause({itemToBePaused:e}):m&&!p?s.hitResume({itemToBeResumed:e}):s.hitPlay({itemToBePlayed:e}),t=f.logInteraction(a)}a(s,t)}),l.d,{leading:!0,trailing:!1});return(0,u.jsxs)("div",{className:d.A.rowImageWithPlay,children:[(0,u.jsx)(o.e,{src:s,isEpisode:y,isVideo:g}),(0,u.jsx)(n.x,{className:r()(d.A.rowPlayPauseButton,d.A.rowImagePlayPauseButton),iconClassName:d.A.rowPlayPauseIcon,onClick:b,isPlaying:p,isLocked:h,playAriaLabel:t})]})}},15788:(e,s,t)=>{t.d(s,{r:()=>f});t(77369);var a=t(30758),r=t(67735),i=t(78717),n=t(78429),o=t(18831),l=t(96579),c=t(67240),d=t(84409);const u="CqCtb3wr4SK8AiZwxeH0",p="IGCDq9qa08JVVY3mcy7Y",m="Vn9yz8P5MjIvDT8c0U6w",h="MtV402NmdUF5mceSD0Dy",y="WDC2Yzs811n7JCYtYQzc";var g=t(86070);const x=r.l0o,f=({title:e,imageUrl:s,viewId:t,pageId:r,color:f=x,href:b,index:v,ubiId:j})=>{const R=t&&`/genre/${t}`||b||"#",{spec:C,logger:A}=(0,d.r)(n.b,{data:{position:v,identifier:j}}),I=(0,a.useCallback)((()=>{const e=(0,o.o_h)(R)?.toURI();e&&A.logInteraction(C.hitUiNavigate({destination:e}))}),[A,C,R]),P=e.split("/"),k=P.map(((e,s)=>(0,g.jsxs)("span",{children:[e,(0,g.jsx)("wbr",{}),s<P.length-1?"/":null]},s)));return(0,g.jsx)("div",{className:p,role:"listitem",children:(0,g.jsx)(l.N,{to:R,pageId:r,className:u,onClick:I,children:(0,g.jsxs)("div",{className:m,style:{backgroundColor:f},children:[s?(0,g.jsx)(c._,{loading:"lazy",src:s,className:y}):null,(0,g.jsx)(i.E,{variant:"titleSmall",className:h,title:e,children:k})]})})})}},16262:(e,s,t)=>{t.d(s,{B:()=>w,q:()=>E});var a=t(30758),r=t(62411),i=t(3665),n=t(18831),o=t(26405),l=t(71716),c=t(35054),d=t(76020),u=t(74515),p=t(4880),m=t(40100),h=t(49294),y=t(17564),g=t(28054),x=t(80464),f=t(49133),b=t(12912),v=t(24886),j=t(10167),R=t(53507),C=t(61315),A=t(84409),I=t(2897),P=t(85370),k=t(86070);function w(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const S=e=>`activation-trigger-mme-${e}`,E=a.memo((function({index:e=-1,showMetadata:s,episode:t,usePlayContextItem:E}){const{isWeb:N}=(0,b.V)(),U=t.playedState.playPositionMilliseconds,T=t.uri,q=(0,a.useRef)(null),_=(0,y.N)(s.uri),{draggable:F,onDragStart:M}=(0,g.P)(),B=(0,x.V)(),O=(0,v.y)(),V=(0,r.wA)(),{UBIFragment:L,spec:D,logger:W}=(0,A.r)(i.d,{data:{uri:T,reason:t.requestId||"",position:e}}),H=(0,C.n)(D.getAbsoluteLocation(),D),{isActive:$,isPlaying:G,togglePlay:z}=E({uri:T}),[Y]=(0,j.S)(1e4,(e=>e?.item?.uri===T)),{isFullyPlayed:Q,setIsFullyPlayed:Z}=(0,R.e)({uri:T,durationMs:t.duration.milliseconds,episodePlaybackState:t.playedState?.state,isPlaying:G});(0,a.useEffect)((()=>{G&&(q.current=Y)}),[G,Y]),(0,a.useEffect)((()=>{!G&&q.current&&t.duration.milliseconds<=q.current&&Z(!0)}),[G,t.duration.milliseconds,Z]);const X=(0,a.useCallback)((e=>{e||(q.current=0),Z(e)}),[Z]),J=w(s),K=(0,f.C)({...t,coverArt:{sources:t.coverArt}},J),ee=(0,a.useCallback)((()=>{if(t.episodeType===I.I_.Episode&&N)p.h.set((()=>({triggerId:S(t.uri),triggerAction:null})));else if(B)K();else{let e;e=G?D.playButtonFactory().hitPause({itemToBePaused:T}):$?D.playButtonFactory().hitResume({itemToBeResumed:T}):D.playButtonFactory().hitPlay({itemToBePlayed:T});const s=W.logInteraction(e);z({loggingParams:s})}}),[$,K,z,T,G,B,t,N,W,D]),se=(0,a.useCallback)((()=>{W.logInteraction(D.hitUiNavigate({destination:T}))}),[T,W,D]),te=t.podcastSubscription?.isPaywalled??!1,ae=t.podcastSubscription?.isUserSubscribed??!1,re=te&&!ae,ie=te&&B,{badges:ne}=(0,P.b)({contentRating:t.contentRating?.label,isPaywalled:te}),oe=(0,a.useCallback)((()=>V((0,o.Tf)(s.uri))),[s.uri,V]),le=(0,a.useCallback)((e=>{let a=e;return(re||ie)&&(a=(0,k.jsx)(m.N,{enabled:!0,showUri:t.podcast?.uri||s.uri,renderInline:!1,children:a})),!t.playability.playable&&ne.nineteen&&(a=(0,k.jsx)("div",{onClick:e=>{e.stopPropagation(),oe()},children:e})),a=(0,k.jsx)(l.k,{id:S(T),targetURI:(0,n.o_h)(T),children:a}),a}),[T,re,ie,s.uri,ne.nineteen,t.playability.playable,oe,t.podcast?.uri]);return(0,k.jsx)(L,{spec:D,children:(0,k.jsx)(c.h,{onShow:()=>{W.logInteraction(D.secondaryHitUiReveal())},menu:(0,k.jsx)(d.b,{uri:T,showUri:s.uri,sharingInfo:t.sharingInfo,isPlayed:Q,onMarkAsPlayed:X}),children:(0,k.jsx)(u.k,{ref:H,requestId:t.requestId,index:e,uri:T,size:O,images:t.coverArt||[],name:t.name,showName:t.podcast?.name||s.name,description:t.description,isPlayable:t.playability.playable||re,fullyPlayed:Q,durationMs:t.duration.milliseconds,releaseDate:t.releaseDate,resumePositionMs:q.current??U,draggable:F,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const a=`${t.name} • ${s.name}`;M(e,{itemUris:[T],dragLabelText:a,contextUri:s.uri})},handlePlaybackClick:ee,handleClick:se,isCurrentlyPlaying:$,isPaywalled:te,isUserSubscribed:ae,isCourseLesson:_,isPlaying:G,position:G?Y:void 0,episodeSharingInfo:t.sharingInfo,onMarkAsPlayed:X,contentInformation:t.contentInformation,showUri:t.podcast?.uri||s.uri,mediaTypes:t.mediaTypes??void 0,badges:(0,k.jsx)(h.P,{episode:t}),playButtonWrapper:le,onMoreButtonClick:()=>{W.logInteraction(D.moreButtonFactory().hitUiReveal())},sixteenByNineCoverImages:t.sixteenByNineCoverImages??void 0,dynamicColors:t.dynamicColors??void 0})})})}))},16562:(e,s,t)=>{t.d(s,{RS:()=>r,f0:()=>n,o8:()=>i});t(77369);var a=t(1287);function r(e){return{url:e.url,width:e.width,height:e.height}}function i(e){if("Episode"===e.__typename){const s=e.podcastV2.data;return"Podcast"!==s.__typename?[]:s.coverArt?.sources.map(r)??[]}return[]}function n(e){switch(e.__typename){case"Artist":return e.visuals.avatarImage?.sources.map(r)??[];case"Album":case"Audiobook":case"Podcast":case"Episode":case"Chapter":return e.coverArt?.sources.map(r)??[];case"Track":return e.albumOfTrack?.coverArt?.sources.map(r)??[];case"Playlist":return e.images.items[0]?.sources.map(r)??[];case"User":return e.avatar?.sources.map(r)??[];case"Merch":return e.image?.sources.map(r)??[];case"ArtistConcerts":{const s=e.mainArtist.data;return"Artist"!==s.__typename?[]:s.visuals.avatarImage?.sources.map(r)??[]}case"BrowseSectionContainer":return e.data?.cardRepresentation?.artwork?.sources.map(r)??[];case"BrowseClientFeature":return e.artwork?.sources.map(r)??e.iconOverlay?.sources.map(r)??[];case"GenericError":case"NotFound":case"RestrictedContent":case"BrowseSpacesHub":case"BrowseExternalHref":return[];default:return(0,a.k)(e),[]}}},27135:(e,s,t)=>{t.d(s,{d:()=>a});const a=new(t(63388).l)("addConcertToLibrary","mutation","c4670bb9503f201cff5a61ee426a0aa93cac0eaa1c1b9b8c66d53e058f270f7c",null)},27704:(e,s,t)=>{t.d(s,{PG:()=>r,f8:()=>n,oC:()=>a,s8:()=>i});const a=o(120),r=o(30),i=o(60),n=o(15);function o(e){return 60*e*1e3}},37992:(e,s,t)=>{t.d(s,{R:()=>i});var a=t(96579),r=t(86070);const i=({uri:e,enabled:s,className:t,children:i,onClick:n})=>s?(0,r.jsx)(a.N,{to:e,className:t,onClick:n,children:i}):(0,r.jsx)(r.Fragment,{children:i})},42812:(e,s,t)=>{t.d(s,{K:()=>r});var a=t(18831);function r(e){const s=(0,a.o_h)(e,{parseUnknown:!0}),[t,r]=s?.args??[];if(r&&"page"===t)return`/genre/${r}`}},49294:(e,s,t)=>{t.d(s,{P:()=>p});var a=t(42394),r=t(51152),i=t(74459),n=t(99893),o=t(52567),l=t(94545),c=t(13695),d=t(85370),u=t(86070);const p=({episode:e,showVideoBadge:s=!1})=>{const{badges:t}=(0,d.b)((e=>"contentRating"in e)(e)?{contentRating:e?.contentRating?.label,isPaywalled:e.podcastSubscription?.isPaywalled,isVideo:e.mediaTypes?.includes(c.C.Video)}:{isExplicit:e?.isExplicit,isMOGEFRestricted:e?.is19PlusOnly,isPaywalled:e.podcastSubscription?.isPaywalled}),p=e.gatedEntityRelations&&e.gatedEntityRelations.entitiesWithValueProps.at(0),m=(0,i.B)(p,e);return(0,u.jsxs)(u.Fragment,{children:[t.explicit&&(0,u.jsx)(n.U,{}),m?(0,u.jsx)(r.x,{gatedEntityRelations:e.gatedEntityRelations}):t.paid&&(0,u.jsx)(o.y,{}),t.nineteen&&(0,u.jsx)(l.q,{size:16}),s&&t.isVideo&&(0,u.jsx)(a.T,{})]})}},53507:(e,s,t)=>{t.d(s,{e:()=>o});var a=t(30758),r=t(85834),i=t(99875),n=t(10167);const o=({uri:e,durationMs:s,episodePlaybackState:t,isPlaying:o})=>{const l=(0,r.p)(e),[c,d]=(0,a.useState)(t===i._w.Completed||l?.state===i.H7.Completed),[u]=(0,n.S)(1e4,(s=>s?.item?.uri===e));return(0,a.useEffect)((()=>{!o&&(t===i._w.Completed||l?.state===i.H7.Completed||u>s-1e4)&&d(!0)}),[s,t,o,u,l?.state]),{isFullyPlayed:c,setIsFullyPlayed:d}}},53888:(e,s,t)=>{t.d(s,{a:()=>a});const a=e=>e?.linked_from?.uri||e.uri},65199:(e,s,t)=>{t.d(s,{PageErrorTemplate:()=>x});var a=t(30758),r=t(85387),i=t(8859),n=t(94378),o=t(20746),l=t(37899),c=t(73136),d=t(20304),u=t(70397),p=t(61315),m=t(84409);const h="main-pageErrorTemplate-errorBody";var y=t(86070);const g={"/":i.H,"/search":n.C,"/collection":o.M},x=a.memo((function(){const e=(0,r.zy)(),s=(t=e.pathname,g[t]||l.b);var t;const{spec:i,logger:n}=(0,m.r)(d.W,{data:{uri:e.pathname}}),o=(0,p.n)(i.getAbsoluteLocation(),i),x=(0,a.useCallback)((()=>{const e=i.reloadPageButtonFactory().hitRefreshContent();n.logInteraction(e),window.location.reload()}),[i,n]);return(0,y.jsxs)("div",{className:h,ref:o,children:[(0,y.jsx)(s,{width:46,height:46}),(0,y.jsx)("h1",{children:u.Ru.get("error-dialog.generic.header")}),(0,y.jsx)("p",{children:u.Ru.get("error-dialog.generic.body")}),(0,y.jsx)(c.$,{onClick:x,children:u.Ru.get("fatal-error.button-label")})]})}))},85518:(e,s,t)=>{t.d(s,{j:()=>P});var a=t(55797),r=t(70397);const i="wIA_5Ypq0rltNPeZQpM4",n="Swi6YtNEFCCVz8l4y75v",o="pklLPOhfigdytL9bPoth",l="sb24Y8kdMZInJ8aI8dXT";var c=t(18298),d=t(2401),u=t(86070);function p({ariaValueText:e,max:s,current:t}){const a={transform:`translateX(-${100-(s&&t?100*Math.min(1,t/s):0)}%)`},p=Math.ceil(Math.max(s-t,0)),{hours:m,minutes:h,seconds:y}=(0,d.S)(s),g=(0,c.j)({h:m,m:h,s:y}),{hours:x,minutes:f,seconds:b}=(0,d.S)(p),v=(0,c.j)({h:x,m:f,s:b}),j=e||r.Ru.get("time.left-of",v,g);return(0,u.jsxs)("div",{className:i,role:"progressbar",tabIndex:0,"aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":s,"aria-valuetext":j,children:[(0,u.jsx)("div",{className:n}),(0,u.jsx)("div",{className:o,children:(0,u.jsx)("div",{"data-testid":"progressBarFg",className:l,style:a})})]})}const m="qfYkuLpETFW3axnfMntO",h="_q93agegdE655O5zPz6l",y="z7Yl7CIT1AB0y91f_moh",g="iLIlkUcfIq56KncGtX7u",x="nV50yZ6BR_TIuWP3l7b1",f="qLjIx_SzBEpDRA_q7kxQ";var b=t(78717),v=t(60940),j=t(97500),R=t.n(j),C=t(97471);const A="xWm_uA0Co4SXVxaO7wlB",I=({durationMs:e,className:s,displaySeconds:t})=>{const{hours:a,minutes:i,seconds:n}=(0,d.S)(e);t=!1!==t&&!a&&n;const o=(0,c.j)({h:a,m:i,s:t?n:0});return o?(0,u.jsx)("span",{className:R()(A,s),children:r.Ru.get("time.left",o)}):null},P=e=>{const{resumePositionMs:s=0,releaseDate:t,isPlaying:i,fullyPlayed:n,durationMs:o,position:l=s,compactVariant:c=!1,className:d,progressBarClassName:j,progressStateClassName:A,releaseDateClassName:P}=e,k=t&&t.isoString?(0,u.jsx)(b.E,{as:"p",variant:"bodySmall",className:h,children:(0,a.V2)((0,a.ad)(t.isoString),t.precision)}):null,w=(()=>{if(0===o)return null;if(n&&!i)return(0,u.jsxs)("div",{className:R()(g,A),children:[(0,u.jsx)(b.E,{as:"p",variant:"bodySmall",className:y,children:r.Ru.get("episode.audiobook.chapter.finished")}),(0,u.jsx)(v.i,{size:"small",className:f,"aria-hidden":"true"})]});if(l>0||i){const e=Math.ceil(Math.max(o-l,0));return(0,u.jsx)("div",{className:R()(g,A),children:(0,u.jsx)(b.E,{as:"p",variant:"bodySmall",className:y,children:(0,u.jsx)(I,{durationMs:e,displaySeconds:!c&&void 0})})})}return(0,u.jsx)(b.E,{as:"p",variant:"bodySmall",className:R()(h,P),"data-testid":"episode-progress-not-played",children:(0,u.jsx)(C.d,{durationMs:o,displaySeconds:!c&&void 0})})})(),S=0===o?null:!n&&l>0||i?(0,u.jsx)("div",{className:R()(x,j),children:(0,u.jsx)(p,{current:l,max:o})}):null;return k||w||S?(0,u.jsxs)("div",{className:R()(m,d),children:[k,w,S]}):null}},97011:(e,s,t)=>{t.d(s,{xh:()=>h,Gv:()=>j,S:()=>y,_v:()=>x,e$:()=>f});t(2557),t(86328),t(77369),t(70397);var a=t(2897),r=t(19151),i=t(99875),n=t(53143);const o="recent";var l=t(71572),c=t(62659),d=t(56859),u=t(22762);function p(e){switch(e){case a.$c.AgeRestricted:return i.Uk.AgeRestricted;case a.$c.CatalogueRestricted:return i.Uk.CatalogueRestricted;case a.$c.CountryRestricted:return i.Uk.CountryRestricted;case a.$c.Explicit:return i.Uk.Explicit;case a.$c.PaymentRequired:return i.Uk.PaymentRequired;case a.$c.Playable:return i.Uk.Playable;case a.$c.Unavailable:default:return i.Uk.Unavailable}}function m(e,s=!1){return{playable:!s&&e.playable,reason:s?i.Uk.Anonymous:p(e.reason)}}function h(e){return e.previewPlayback?.audioPreview?.cdnUrl?{url:e.previewPlayback.audioPreview.cdnUrl}:null}function y(e){const s="Podcast"!==(t=e.podcastV2).data.__typename?null:{uri:t.data.uri,name:t.data.name,coverArt:t.data.coverArt?.sources||[],trailer:(a=t.data.trailerV2,("Episode"===a?.data.__typename?{uri:a.data.uri}:null)||null),showTypes:(t.data.showTypes||[]).filter(g)};var t,a;const i=(0,c.Wx)(e?.restrictions,e.playability),o=(0,u.p)(e.gatedEntityRelations)?.accessInfo,l=(0,u.v)(o);return{type:r.c.EPISODE,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",podcast:s,episodeType:e.type,mediaTypes:e.mediaTypes,coverArt:e.coverArt?.sources||[],audio:e.audio,releaseDate:(d=e.releaseDate,d?{isoString:d.isoString,precision:d.precision}:null),playedState:e.playedState,playability:m(e.playability),audioPreview:h(e),sharingInfo:e.sharingInfo,duration:{milliseconds:e.duration.totalMilliseconds},contentRating:e.contentRating,segmentsCount:0,podcastSubscription:i,contentInformation:e.contentInformation,transcript:e.transcripts?.items||null,upsellExplanation:l?v(l):null,gatedEntityRelations:j(e.gatedEntityRelations),hasGatedEntityRelationAccess:Boolean(o?.isUserMemberOfAtLeastOneGroup),dynamicColors:(0,n.V)(e.visualIdentity?.squareCoverImage?.extractedColorSet),sixteenByNineCoverImages:"ImageV2"===e.visualIdentity?.sixteenByNineCoverImage?.image?.data?.__typename?e.visualIdentity.sixteenByNineCoverImage.image.data.sources?.map((e=>({url:e.url,width:e.maxWidth,height:e.maxHeight}))):null};var d}function g(e){return!!e}function x(e){const s="Episode"===e.trailerV2?.data.__typename?(t=e.trailerV2.data,{type:r.c.EPISODE,uri:t.uri,name:t.name,coverArt:t.coverArt?.sources||[],audio:t.audio,audioPreview:h(t),sharingInfo:t.sharingInfo,duration:{milliseconds:t.duration.totalMilliseconds},contentRating:t.contentRating,mediaTypes:t.mediaTypes}):null;var t;const a=(0,l.q)(e?.accessInfo?.unlockedBy),i=(0,u.p)(e.gatedEntityRelations),n=(0,u.v)(i?.accessInfo);return{type:r.c.SHOW,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",coverArt:e.coverArt?.sources||[],trailer:s,topics:e.topics.items,podcastType:e.musicAndTalk?"SHOW":"PODCAST",showTypes:(e.showTypes||[]).filter(g),publisherName:e.publisher?.name||"",consumptionOrder:o,gatedContentAccessReason:a,isLocked:null===a,rating:e.rating,isSaved:e.saved,gatedEntityRelations:j(e.gatedEntityRelations),hasGatedEntityRelationAccess:Boolean(!!i&&i?.accessInfo?.isUserMemberOfAtLeastOneGroup),upsellExplanation:n?v(n):null,gatedEntityCoverArt:i?.coverArt?.sources||null}}function f(e){const s=!1===e?.isUserMemberOfAtLeastOneGroup,t=e?.unlockedBy?.includes(a.UG.Abp);return s&&!t}function b(e){return null!==e.displayText}function v({title:e,body:s,actionText:t,url:a}){return e&&s&&t&&a?{title:e,body:s,cta:t,url:a}:null}function j(e){return{entitiesWithValueProps:e.map((({badges:e,relatedEntity:s,summary:t,fallbackGatedEntity:a})=>"EpisodeResponseWrapper"===s?.__typename||"PodcastResponseWrapper"===s?.__typename?{uri:s._uri,summary:t?.forUserWithoutAccess?{forUserWithoutAccess:t.forUserWithoutAccess,forUserWithAccess:t.forUserWithAccess??void 0}:void 0,valueProps:e.filter(b),fallbackNavigation:a?.description?{uri:a.uri,description:a?.description}:void 0}:null)).filter(d.P)}}},97471:(e,s,t)=>{t.d(s,{d:()=>c});var a=t(97500),r=t.n(a),i=t(2401),n=t(18298);const o="UyzJidwrGk3awngSGIwv";var l=t(86070);const c=({durationMs:e,className:s,displaySeconds:t})=>{const{hours:a,minutes:c,seconds:d}=(0,i.S)(e);return t=!1!==t&&!a&&d,(0,l.jsx)("span",{className:r()(o,s),children:(0,n.j)({h:a,m:c,s:t?d:0})})}}}]);
//# sourceMappingURL=xpui-routes-search.js.map