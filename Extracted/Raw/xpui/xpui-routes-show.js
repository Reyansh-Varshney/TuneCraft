"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[8606],{9159:(e,a,t)=>{t.d(a,{s:()=>c});var s=t(85387),i=t(65809),r=t(12912),n=t(59161),o=t(27264),l=t(94539);const c=()=>{const e=(0,o.o)(l.P.SimilarAudiobooksComponent,(0,s.zy)()),a=(()=>{const{isWeb:e}=(0,r.V)(),a=(0,i.NC)(n.S$t);return!!e&&a===n.LR0.Enabled})();return e||a}},9952:(e,a,t)=>{function s(e){const a=new Date;return(e instanceof Date?e:new Date(e)).getTime()-a.getTime()}t.d(a,{u:()=>s})},16262:(e,a,t)=>{t.d(a,{B:()=>I,q:()=>A});var s=t(30758),i=t(62411),r=t(3665),n=t(18831),o=t(26405),l=t(71716),c=t(35054),d=t(76020),u=t(74515),m=t(4880),h=t(40100),p=t(49294),g=t(17564),x=t(28054),y=t(80464),b=t(49133),j=t(12912),v=t(24886),C=t(10167),f=t(53507),k=t(61315),P=t(84409),w=t(2897),R=t(85370),S=t(86070);function I(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const N=e=>`activation-trigger-mme-${e}`,A=s.memo((function({index:e=-1,showMetadata:a,episode:t,usePlayContextItem:A}){const{isWeb:E}=(0,j.V)(),_=t.playedState.playPositionMilliseconds,B=t.uri,F=(0,s.useRef)(null),U=(0,g.N)(a.uri),{draggable:T,onDragStart:D}=(0,x.P)(),L=(0,y.V)(),M=(0,v.y)(),O=(0,i.wA)(),{UBIFragment:z,spec:V,logger:H}=(0,P.r)(r.d,{data:{uri:B,reason:t.requestId||"",position:e}}),W=(0,k.n)(V.getAbsoluteLocation(),V),{isActive:q,isPlaying:G,togglePlay:$}=A({uri:B}),[K]=(0,C.S)(1e4,(e=>e?.item?.uri===B)),{isFullyPlayed:Q,setIsFullyPlayed:J}=(0,f.e)({uri:B,durationMs:t.duration.milliseconds,episodePlaybackState:t.playedState?.state,isPlaying:G});(0,s.useEffect)((()=>{G&&(F.current=K)}),[G,K]),(0,s.useEffect)((()=>{!G&&F.current&&t.duration.milliseconds<=F.current&&J(!0)}),[G,t.duration.milliseconds,J]);const X=(0,s.useCallback)((e=>{e||(F.current=0),J(e)}),[J]),Z=I(a),Y=(0,b.C)({...t,coverArt:{sources:t.coverArt}},Z),ee=(0,s.useCallback)((()=>{if(t.episodeType===w.I_.Episode&&E)m.h.set((()=>({triggerId:N(t.uri),triggerAction:null})));else if(L)Y();else{let e;e=G?V.playButtonFactory().hitPause({itemToBePaused:B}):q?V.playButtonFactory().hitResume({itemToBeResumed:B}):V.playButtonFactory().hitPlay({itemToBePlayed:B});const a=H.logInteraction(e);$({loggingParams:a})}}),[q,Y,$,B,G,L,t,E,H,V]),ae=(0,s.useCallback)((()=>{H.logInteraction(V.hitUiNavigate({destination:B}))}),[B,H,V]),te=t.podcastSubscription?.isPaywalled??!1,se=t.podcastSubscription?.isUserSubscribed??!1,ie=te&&!se,re=te&&L,{badges:ne}=(0,R.b)({contentRating:t.contentRating?.label,isPaywalled:te}),oe=(0,s.useCallback)((()=>O((0,o.Tf)(a.uri))),[a.uri,O]),le=(0,s.useCallback)((e=>{let s=e;return(ie||re)&&(s=(0,S.jsx)(h.N,{enabled:!0,showUri:t.podcast?.uri||a.uri,renderInline:!1,children:s})),!t.playability.playable&&ne.nineteen&&(s=(0,S.jsx)("div",{onClick:e=>{e.stopPropagation(),oe()},children:e})),s=(0,S.jsx)(l.k,{id:N(B),targetURI:(0,n.o_h)(B),children:s}),s}),[B,ie,re,a.uri,ne.nineteen,t.playability.playable,oe,t.podcast?.uri]);return(0,S.jsx)(z,{spec:V,children:(0,S.jsx)(c.h,{onShow:()=>{H.logInteraction(V.secondaryHitUiReveal())},menu:(0,S.jsx)(d.b,{uri:B,showUri:a.uri,sharingInfo:t.sharingInfo,isPlayed:Q,onMarkAsPlayed:X}),children:(0,S.jsx)(u.k,{ref:W,requestId:t.requestId,index:e,uri:B,size:M,images:t.coverArt||[],name:t.name,showName:t.podcast?.name||a.name,description:t.description,isPlayable:t.playability.playable||ie,fullyPlayed:Q,durationMs:t.duration.milliseconds,releaseDate:t.releaseDate,resumePositionMs:F.current??_,draggable:T,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const s=`${t.name} â€¢ ${a.name}`;D(e,{itemUris:[B],dragLabelText:s,contextUri:a.uri})},handlePlaybackClick:ee,handleClick:ae,isCurrentlyPlaying:q,isPaywalled:te,isUserSubscribed:se,isCourseLesson:U,isPlaying:G,position:G?K:void 0,episodeSharingInfo:t.sharingInfo,onMarkAsPlayed:X,contentInformation:t.contentInformation,showUri:t.podcast?.uri||a.uri,mediaTypes:t.mediaTypes??void 0,badges:(0,S.jsx)(p.P,{episode:t}),playButtonWrapper:le,onMoreButtonClick:()=>{H.logInteraction(V.moreButtonFactory().hitUiReveal())},sixteenByNineCoverImages:t.sixteenByNineCoverImages??void 0,dynamicColors:t.dynamicColors??void 0})})})}))},23347:(e,a,t)=>{t.d(a,{O:()=>d});t(77369);var s=t(30758),i=t(70397),r=t(96579),n=t(5201);const o="IIKJOrbx5pjNtg3gpI0H";var l=t(86070);const c=e=>e,d=({authorName:e="",authors:a,nameHighlighter:t=c})=>(0,n.H)()&&a?.length?a.map((({uri:e,name:a},n)=>(0,l.jsxs)(s.Fragment,{children:[n?i.Ru.getSeparator():null,e?(0,l.jsx)(r.N,{to:e,className:o,children:t(a)},n):t(a)]},n))):t(e)},28153:(e,a,t)=>{t.d(a,{w:()=>d});var s=t(30758),i=t(41919),r=t(70397),n=t(30929),o=t(48220),l=t(80357),c=t(84409);const d=({uri:e,isBook:a})=>{const{add:t,remove:d}=(0,l.p)("prerelease"),u=(0,o.o)("prerelease",[e]).at(0),{enqueueSnackbar:m}=(0,n.d)(),{spec:h,logger:p}=(0,c.r)(i.k,{data:{uri:e}});return{isPreSaved:u,addPresave:(0,s.useCallback)((async()=>{p.logInteraction(h.actionBarFactory().preSaveButtonFactory().hitPresave({prereleaseId:e,itemToBePresaved:e,contextUri:e})),await t(e),m(a?r.Ru.get("web-player.prerelease.audiobook_feedback_presaved"):r.Ru.get("web-player.prerelease.album_feedback_presaved"))}),[t,m,a,p,h,e]),removePresave:(0,s.useCallback)((async()=>{p.logInteraction(h.actionBarFactory().preSaveButtonFactory().hitRemovePresave({prereleaseId:e,itemToBeRemovedFromPresaved:e,contextUri:e})),await d(e)}),[p,d,h,e])}}},39055:(e,a,t)=>{t.d(a,{h:()=>u});var s=t(30758),i=t(4880),r=t(63961),n=t(80464),o=t(93016),l=t(15679);var c=t(92404),d=t(86070);const u=({children:e,action:a,uri:t})=>{const u=(0,n.V)(),m=(0,l.N)(o.JD);let h;const p=()=>{const e={triggerId:r.d,triggerAction:{type:a}};i.h.set((a=>({...a,...e}))),m.storeAction(o.j8,{operation:c.tS.ADD,uris:[t]})};try{h=s.Children.only(e)}catch(a){return(0,d.jsx)(d.Fragment,{children:e})}return u?s.cloneElement(h,{onClick:p}):(0,d.jsx)(d.Fragment,{children:e})}},39251:(e,a,t)=>{t.d(a,{K:()=>s});const s=e=>{return a=e,"NotFound"!==a?.__typename&&"GenericError"!==a?.__typename&&"Podcast"===e.__typename;var a}},48788:(e,a,t)=>{t.d(a,{v:()=>m});var s=t(73136),i=t(62960),r=t(10700),n=t(39125),o=t(70397),l=t(39055),c=t(28153),d=t(275),u=t(86070);const m=({uri:e,isBook:a=!1})=>{const{isPreSaved:t,addPresave:m,removePresave:h}=(0,c.w)({uri:e,isBook:a});return t?(0,u.jsx)(i.n,{onClick:h,iconTrailing:r.k,children:o.Ru.get("web-player.prerelease.presaved")}):(0,u.jsx)(l.h,{uri:e,action:d.no.SAVE_PRERELEASE,children:(0,u.jsx)(s.$,{disabled:void 0===t,onClick:m,iconTrailing:n.P,children:o.Ru.get("web-player.prerelease.presave")})})}},52855:(e,a,t)=>{t.d(a,{G:()=>w});var s=t(97500),i=t.n(s),r=t(70397),n=t(78717);const o="YNXLVjlRXPfM4xObTojA",l="CVRy4NtxZYSle8dJ1E67",c="holKDGFNEFSz85czBeSv",d="gqidZhN1lgoZDfI_7E6w",u="_IQ8dgA5pEr_V8PfUkWa",m="xNkPMA_OvAxcFTdfyroI";var h=t(86070);const p=({value:e,label:a,hasDivider:t=!1})=>(0,h.jsxs)("div",{className:c,"aria-hidden":"true",children:[(0,h.jsx)(n.E,{variant:"titleSmall",className:i()({[u]:t}),children:e}),(0,h.jsx)(n.E,{variant:"marginal",semanticColor:"textSubdued",children:a})]});var g=t(30758);const x=6e4,y=36e5,b=864e5;var j=t(9952),v=t(39418);const C={days:0,hours:0,minutes:0,seconds:0};function f(e){return e>0?function(e){const a=Math.abs(e);return{days:Math.floor(a/b),hours:Math.floor(a%b/y),minutes:Math.floor(a%y/x),seconds:Math.floor(a%x/1e3)}}(e):C}var k=t(73061),P=t(19151);const w=({targetDate:e,className:a,onComplete:t,images:s,imageTitle:n})=>{const{days:c,hours:u,minutes:x,seconds:y}=((e,a)=>{const t=(0,g.useRef)(a);t.current=a;const[s,i]=(0,g.useState)((()=>f((0,j.u)(e))));return(0,v.$)((a=>{const s=(0,j.u)(e),r=f(s);i(r),s<=0&&(a(),t.current?.())}),1e3),s})(e,t),b=void 0!==s&&s.length>0&&n,C=r.Ru.get("web-player.prerelease.countdown_label",{days:c,hours:u,minutes:x,seconds:y});return(0,h.jsxs)("div",{className:i()(o,a,{[l]:b}),role:"timer","data-testid":"countdown",children:[(0,h.jsx)("span",{className:m,children:C}),b&&(0,h.jsx)(k.b,{images:s,type:P.c.ALBUM,shape:k.u.ROUNDED_CORNERS,className:d,title:n}),(0,h.jsx)(p,{value:c,label:r.Ru.get("web-player.prerelease.days",c),hasDivider:!0}),(0,h.jsx)(p,{value:u,label:r.Ru.get("web-player.prerelease.hours",u),hasDivider:!0}),(0,h.jsx)(p,{value:x,label:r.Ru.get("web-player.prerelease.minutes",x),hasDivider:!0}),(0,h.jsx)(p,{value:y,label:r.Ru.get("web-player.prerelease.seconds",y)})]})}},65250:(e,a,t)=>{t.d(a,{r:()=>n});var s=t(63388),i=t(39463);const r=Spicetify.GraphQL.Definitions["similarAudiobooks"]=new s.l("similarAudiobooks","query","d62da1bbf5859e5a156da1f52ce21a73a642f925db717a179fd89626b27a80b8",null),n=(e,a)=>(0,i.I)(r,e,a)},66563:(e,a,t)=>{t.r(a),t.d(a,{default:()=>ni});var s=t(30758),i=t(85387),r=t(63426),n=t(11120),o=t(18831),l=t(70397),c=t(19399),d=t(3877),u=t(97500),m=t.n(u),h=t(62411),p=t(78717),g=t(65809),x=t(86125),y=t(84601),b=t(48729),j=t(89145),v=t(65720),C=t(89996),f=t(9159),k=t(76358),P=t(76541),w=t(19239),R=t(80464),S=t(59161),I=t(91107),N=t(83953),A=t(35035),E=t(24944);t(77369);var _=t(8335),B=t(87859),F=t(95638),U=t(78428),T=t(92544),D=t(65250);var L=t(84748),M=t(19151),O=t(86070);const z=({className:e,title:a,uri:t})=>{const{data:i}=(0,D.r)({uri:t}),r=i?.seoRecommendedAudiobook.items,n=i?.seoRecommendedAudiobook.totalCount,c=(0,L.a)(r),{ref:d,inView:u}=(0,_.Wx)({threshold:1}),m=(e=>{const a=(0,R.V)(),t=(0,w.vh)(),s=(0,g.NC)(S.S$t),i=(0,h.d4)(N.F6),r=(0,h.d4)(I.JJ);return()=>{const n={category:"audiobook_more_like_this_component_visible",action:"component_visible",variant:s,label:"dwp",os:(0,E.f)(),destination_url:e,country:i?r:"",sp_t:(0,A.v8)("sp_t")};a?t.send((0,P.r)(n)):t.send((0,k._)(n))}})(t);if((0,s.useEffect)((()=>{u&&m()}),[u,m]),0===n)return null;const p=(0,o.o_h)(t)?.id;return(0,O.jsx)(T.$,{className:e,title:a,seeAllLabel:l.Ru.get("shelf.see-all"),total:r?.length,alwaysShowSeeAll:!0,seeAllUri:`spotify:app:show:${p}:more-like-this`,elementRef:d,children:c?.map((({data:e},a)=>{return(0,O.jsx)(B.M,{uri:e.uri,name:e.name,images:e.coverArt?.sources||[],authorName:(t=e.authorsV2,t.map((e=>e?.name)).join(l.Ru.getSeparator())??""),authors:e.authorsV2,index:a},e.name);var t}))})},V=e=>{const a=(0,U.D)({entityType:M.c.AUDIOBOOK,componentType:"shelf",uri:e.uri});return(0,O.jsx)(F.s,{onError:a,children:(0,O.jsx)(z,{...e})})};t(2557);var H=t(40539),W=t(96579);const q="nLNTsyonBwoRIzAv1AME",G="E4I5I7G2CfW32hLWZaqE",$="w4ZoklZWkrsyrVA34vI8",K=({title:e,uri:a,className:t,onClick:i,position:r})=>{const n=(0,s.useCallback)((e=>{i?.(e,{uri:a,position:r})}),[i,r,a]);return(0,O.jsx)(W.N,{"aria-label":e,className:m()(G,$,t),to:a,onClick:n,children:(0,O.jsx)(H.v,{as:"span",children:e})})};function Q(e){return!!e.uri&&!!e.title}const J=({topics:e,className:a,onClick:t})=>(0,O.jsx)("div",{className:m()(q,a),children:e.filter(Q).map(((e,a)=>{const s=`${e.uri}-${a}`;return(0,O.jsx)(K,{title:e.title,uri:e.uri,position:a,onClick:t},s)}))});var X=t(31656),Z=t(49843),Y=t(70847),ee=t(41157),ae=t(99893),te=t(73061),se=t(99244),ie=t(94545),re=t(97471),ne=t(85370);const oe="Bns6t3CfzQaCA4DLRzPQ",le="zGFcpmwFVhJxRDXUXoXA",ce="_FLyhB96W9W0msGYNWUl",de="Si5iVyGLDY7mGWH_U2wA",ue="HLBtD6mJyIB9EeOzDtXE",me="DRO0ur1WXqpK9BelywtE",he="vtlBEOtYFwv1cxC32ccc",pe="Pq_DZj9ECxwTsK8pBxe0",ge="bu7LVUNyDPF_FcrKMv74",xe="bYP2npsc_CeChpMGcr6g",ye="Ux7aVnDYlwojS4AmkSLg";let be=function(e){return e.SMALL="small",e.LARGE="large",e}({});const je=({images:e,title:a,contentRating:t,duration:s,moreButton:i,onClick:r,onContextMenu:n,onTouchStart:o,onTouchEnd:l,isPlaying:c,isActive:d,size:u,className:h,label:p,isPlayable:g=!0})=>{const x=u===be.LARGE?"medium":"small",{badges:y}=(0,ne.b)({contentRating:t});return(0,O.jsxs)("div",{"data-testid":"trailer-component",className:m()(oe,h,{[le]:d}),onContextMenu:n,onTouchStart:o,onTouchEnd:l,children:[(0,O.jsxs)("div",{className:de,children:[(0,O.jsxs)("div",{className:pe,children:[(0,O.jsx)(te.b,{type:M.c.EPISODE,title:a,className:m()(he,{[ye]:u===be.SMALL,[xe]:u===be.LARGE}),size:se.Qe.SIZE_56,images:e,shape:te.u.ROUNDED_CORNERS}),(0,O.jsx)("div",{className:ge,children:(0,O.jsx)(Y.R,{"data-testid":"trailer-play-button",version:Z.H4.transparent,size:x,isPlaying:c,onClick:r,disabled:!g})})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("div",{className:ue,children:(0,O.jsx)(X.Z,{dir:"auto",className:ce,variant:"balladBold",children:a})}),(0,O.jsxs)("div",{className:me,children:[(0,O.jsx)(ee.E,{text:p}),y.explicit&&(0,O.jsx)(ae.U,{}),y.nineteen&&(0,O.jsx)(ie.q,{}),(0,O.jsx)(X.Z,{dir:"auto",variant:"mesto",children:(0,O.jsx)(re.d,{durationMs:s})})]})]})]}),i]})};var ve=t(90114),Ce=t(68293);const fe=({htmlDescription:e,narrators:a,spec:t,isPreRelease:i})=>{const r=(0,Ce.s)(),n=(0,s.useCallback)((e=>{const a=t.seeMoreButtonFactory();r.logInteraction(e?a.hitUiReveal():a.hitUiHide())}),[r,t]);return(0,O.jsxs)(O.Fragment,{children:[a.length?(0,O.jsx)(p.E,{as:"p",variant:"bodyMedium",children:l.Ru.get("web-player.audiobooks.narratedByX",a.join(l.Ru.getSeparator()))}):null,e&&(0,O.jsx)(ve.N,{maxLines:4,content:e,htmlContent:e,onExpanded:n,isOpen:i||null})]})};var ke=t(87926),Pe=t(8616),we=t(8594),Re=t(38042),Se=t(65556),Ie=t(99280),Ne=t(33923),Ae=t(11562),Ee=t(85834),_e=t(85518);const Be="e74TmRHu_W1yZHspTBmR",Fe="rrcjfInomKt1lXRDRdR8",Ue="Wj9mxFJDtPdiMcUtS1te",Te="SCwESjClY3m_9JlV2L7S",De="fgCxxxjc_7WRNVrA0QJH",Le="s4XxbZsgf9j4glrHhFdM",Me="Yoa_yG2jhELT4w9wJpHf",Oe="xsw253oiwmIAafVfjl1J",ze="JPqnsg5dgBTzsEoClLmD",Ve="bhuRgaz03VXMf0mOG3Q2",He="GP_qgmZlmL0CJ9r22AD9",We="bilV2VquzmEnhV4d97Tc",qe="caqddwmUJf4ix6GI84NX",Ge="H3bD3wHovFQ2QWwQ5RCg",$e=({explicit:e,durationMs:a,publishDate:t,preReleaseEndDateTime:s,isPreRelease:i,uri:r,isPlaying:n})=>{const o=(0,Ee.p)(r),{isMarkedAsFinished:c}=(0,Ae.z)(r);let d;return i&&s?d=l.Ru.get("web-player.prerelease.releases_on",{date:l.Ru.formatDate(s)}):!i&&t&&(d=l.Ru.formatDate(t)),(0,O.jsxs)("div",{className:Ve,children:[e&&(0,O.jsx)(ae.U,{className:qe}),(0,O.jsxs)("div",{className:He,children:[d&&(0,O.jsx)(p.E,{variant:"bodySmall",className:We,children:d}),a?(0,O.jsxs)(O.Fragment,{children:[o?.playPositionMilliseconds?(0,O.jsx)(p.E,{variant:"bodySmall",className:We,children:(0,O.jsx)(re.d,{durationMs:a})}):null,(0,O.jsx)(_e.j,{isPlaying:n,fullyPlayed:c,durationMs:a,position:o?.playPositionMilliseconds})]}):null]})]})};var Ke=t(73136),Qe=t(48788);const Je=(0,s.createContext)(null),Xe=({children:e,isPreRelease:a})=>{const[t,i]=(0,s.useState)(!a),r=(0,s.useMemo)((()=>({isPreRelease:a,isCountdownFinished:t,setCountdownFinished:()=>i(!0)})),[a,t,i]);return(0,O.jsx)(Je.Provider,{value:r,children:e})};function Ze(){const e=(0,s.useContext)(Je);if(null===e)throw new Error("Trying to use 'PreRealeaseCountdownContext' without 'PreRealeaseCountdownProvider'!");return e}var Ye=t(74532);const ea="nz8Wc80RAtdAb3yU9FxM",aa=({uri:e})=>{const{isCountdownFinished:a}=Ze(),{invalidateCache:t}=(0,Ye.W)(e);return(0,O.jsx)("div",{className:ea,children:a?(0,O.jsx)(Ke.$,{onClick:t,children:l.Ru.get("web-player.audiobooks.goToAudiobook")}):(0,O.jsx)(Qe.v,{uri:e,isBook:!0})})};var ta=t(83408),sa=t(52427),ia=t(30929),ra=t(54269);const na="NQAShVY0o7RQ2bCTDSkw";function oa({uri:e,price:a,size:t,spec:s,logger:i,onPlayback:r}){const{enqueueSnackbar:n}=(0,ia.d)(),o=(0,R.V)(),c=(0,h.d4)(N.Ly),d=0===a?.finalPrice?.amount,u=d?s.getButtonFactory({uri:e}):s.buyButtonFactory({uri:e}),m=(0,sa.YQ)((async()=>{if(i.logInteraction(u.hitShowPaywall({paywalledItem:e})),o)r();else{try{a?.finalPrice?await(0,ra.Su)({show_uri:e,currency:a.finalPrice.currency,price:a.finalPrice.amount}):n(l.Ru.get("error.generic"))}catch(e){n(l.Ru.get("error.generic"))}r()}}),2e3,{leading:!0,trailing:!1}),p=c?l.Ru.get("web-player.audiobooks.unlock"):l.Ru.get("web-player.audiobooks.buy");return(0,O.jsx)(Ke.$,{size:t,className:na,style:{flexShrink:0},onClick:m,children:d?l.Ru.get("web-player.audiobooks.buyFree"):p})}const la=({uri:e,isLocked:a,price:t,isPlaying:s,isConsumptionCapped:i,onPlayback:r,logger:n,spec:o,size:l="large"})=>a&&!i?(0,O.jsx)(oa,{size:l,uri:e,price:t,logger:n,spec:o,onPlayback:r}):(0,O.jsx)(ta.D,{size:l,isPlaying:s,uri:e,onClick:r});var ca=t(98268),da=t(54596),ua=t(45786),ma=t(19906),ha=t(1231),pa=t(84409);const ga="8px",xa=s.memo((function({backgroundColor:e,uri:a,name:t,isPlaying:i,togglePlay:r,isLocked:n,hasUnlimitedAccess:o,isSaved:c,isConsumptionCapped:d,price:u,spec:m,isExplicit:p,publishDate:g,preReleaseEndDateTime:x,duration:y}){const[C,f]=(0,ma.A)(a,c),k=!(0,ua.n)(),{isPreRelease:P}=Ze(),w=(0,h.wA)(),R=(0,Ce.s)(),S=(0,ca.d$)(),{spec:I,logger:N}=(0,pa.r)(ke.e,{data:{uri:a}});(0,s.useEffect)((()=>{S&&N.logImpression(I.impression())}),[S,N,I]);const A=(0,s.useCallback)((()=>{const e=m.saveToLibraryButtonFactory();C?R.logInteraction(e.hitUnfollow({itemToBeUnfollowed:a})):(R.logInteraction(e.hitFollow({itemToBeFollowed:a})),S&&N.logInteraction(I.hitFollow({itemToBeFollowed:a}))),f(!C)}),[a,C,m,f,R,S,N,I]),E=(0,s.useCallback)(((e,t)=>{const s=m.downloadButtonFactory();d?w((0,b._3)()):t===ha.NV.ADD?R.logInteraction(s.hitDownload({itemToDownload:a})):t===ha.NV.REMOVE?R.logInteraction(s.hitRemoveDownload({itemToRemoveFromDownloads:a})):t!==ha.NV.NO_PERMISSION&&t!==ha.NV.NO_CAPABILITY||R.logInteraction(s.hitUiReveal())}),[d,w,R,m,a]),_=(0,s.useCallback)((()=>{const e=m.contextButtonFactory().hitUiReveal();R.logInteraction(e)}),[R,m]),B=(0,da.j)(),F=!!d,U=!n&&!F;return(0,O.jsxs)(Pe.E,{backgroundColor:e,style:{"--action-bar-padding-bottom":ga},children:[(0,O.jsx)(we.S,{testId:"book-action-bar-metadata",children:(0,O.jsx)($e,{explicit:p,publishDate:g,preReleaseEndDateTime:x,durationMs:y,isPreRelease:P,uri:a,isPlaying:i})}),(0,O.jsxs)(we.S,{children:[P&&(0,O.jsx)(aa,{uri:a}),!P&&(0,O.jsx)(la,{uri:a,isLocked:n,isConsumptionCapped:F,price:u,isPlaying:i,onPlayback:r,logger:R,spec:m,size:B}),!P&&(0,O.jsx)(Ne.e,{children:(0,O.jsx)(Re.M,{isAdded:C,onClick:A,disabled:k,size:B,condensed:!0})},"follow-button"),(0,O.jsx)(Se.I,{uri:a,onClick:E,size:B,canDownload:U}),(0,O.jsx)(v.b,{menu:(0,O.jsx)(Ie.p,{uri:a,isPreRelease:P,price:u,isLocked:n,isCapped:F,hasUnlimitedAccess:o}),children:(0,O.jsx)(j.e,{label:l.Ru.get("more.label.context",t),onClick:_,size:B})})]})]})}));var ya=t(35054),ba=t(52855),ja=t(72983),va=t(49740),Ca=t(13335),fa=t(19667),ka=t(98210),Pa=t(4218),wa=t(62272),Ra=t(63450),Sa=t(51839),Ia=t(24448),Na=t(23347),Aa=t(98630),Ea=t(82758),_a=t(332),Ba=t(24886);const Fa="BBK_i9SHovXTLVjas0kc",Ua=s.memo((function({coverArt:e,name:a,authorName:t,authors:s,uri:i,backgroundColor:r,isPlaying:n,togglePlay:o,isLocked:c,hasUnlimitedAccess:d,price:u,isConsumptionCapped:m,logger:h,spec:g,preReleaseEndDateTime:x}){const y=(0,Ba.y)(),b=y===_a.E.SMALL||y===_a.E.XSMALL,{isOpen:j,openModal:v,closeModal:C}=(0,Ea.W)(),{isPreRelease:f,setCountdownFinished:k}=Ze(),P=f&&b,w=(0,O.jsx)(Ie.p,{uri:i,price:u,isLocked:c,isCapped:m,hasUnlimitedAccess:d}),R=(0,O.jsx)(Na.O,{authorName:t,authors:s});return(0,O.jsxs)(va.z,{backgroundColor:r,size:f?va.K.XLARGE:va.K.DEFAULT,children:[(0,O.jsxs)(ka.h,{children:[f&&(0,O.jsx)(aa,{uri:i}),!f&&(0,O.jsx)(la,{uri:i,isLocked:c,price:u,isPlaying:n,isConsumptionCapped:m,onPlayback:o,logger:h,spec:g,size:"medium"}),(0,O.jsx)(ya.h,{menu:w,children:(0,O.jsx)(Pa.X,{text:a,dragUri:i,dragLabel:a})})]}),!P&&(0,O.jsx)(ya.h,{menu:w,children:(0,O.jsx)(Ca.K,{images:e,name:a,dragUri:i,dragMimeType:ja.fl.AUDIOBOOKS,shape:te.u.SQUARE,onClick:v,ariaLabel:l.Ru.get("web-player.audiobooks.open_cover_modal")})}),(0,O.jsxs)(fa.Y,{children:[(0,O.jsx)(Ra.B,{children:l.Ru.get("web-player.audiobooks.audiobook")}),(0,O.jsx)(ya.h,{menu:w,children:(0,O.jsx)(Ia.mm,{canEdit:!1,onClick:()=>{},scaleAtMinWidth:Ia.tw,dragUri:i,dragMimeType:ja.fl.AUDIOBOOKS,dragLabel:a,children:a})}),f?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(wa.X,{children:(0,O.jsx)(p.E,{className:Fa,variant:"bodySmallBold","data-testid":"entityAuthor",children:R})}),x&&(0,O.jsx)(ba.G,{targetDate:x,images:P?e:[],imageTitle:a,onComplete:k})]}):(0,O.jsx)(Sa.g,{children:R})]}),(0,O.jsx)(Aa.K,{images:e,isOpen:j,onClose:C,title:a})]})})),Ta="pwjwUMaZVoJ0wBcQlIDf",Da=s.memo((({price:e})=>e.finalPrice&&e.finalListPrice?0===e.finalPrice.amount&&0===e.finalListPrice.amount?(0,O.jsxs)("div",{className:Ta,children:[(0,O.jsx)(p.E,{variant:"bodyMediumBold",semanticColor:"textBase",children:l.Ru.get("audiobook.freePriceDescription")}),(0,O.jsx)(p.E,{variant:"bodySmall",children:l.Ru.get("audiobook.freePriceExplanation")})]}):(0,O.jsxs)("div",{className:Ta,children:[(0,O.jsx)(p.E,{variant:"titleSmall",semanticColor:"textBase",children:e.finalPrice.formattedPrice}),e.finalPrice.amount<e.finalListPrice.amount&&(0,O.jsx)(p.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:l.Ru.get("web-player.audiobooks.retailPrice",(0,O.jsx)("span",{style:{textDecoration:"line-through"},children:e.finalListPrice.formattedPrice}))})]}):null));var La=t(21903),Ma=t(79898),Oa=t(70796),za=t(84825),Va=t(39737),Ha=t(68888);const Wa="XzRW0BrBLoXKWET5f8m4",qa="ooqITYCPJKua4e5yv8_9",Ga="zN8lTnSnAUSRAMPb7XYV",$a="llVyicNXe8z0QAnoRur1",Ka="fCrjgF2UgDUWjtqWls4Q",Qa="CLnKy_BRVtIluLfBWy5t",Ja="RZa0qnXymlZCoGOdE03d",Xa="RFXE57hUzWvvK4_7GX13",Za="ALQqkJiR2lZOSYvhHesh",Ya="BQwrI2BbKK4n451iu2QC",et="VYLq_YaQVNISHPQOu2af",at=s.memo((function({name:e,duration:a,uri:t,bookName:i,usePlayContextItem:r,isChapterLocked:n,isPlayable:o,resumePositionMs:c,isFullyPlayed:d,isExplicit:u,is19PlusOnly:g,spec:x,index:y,isConsumptionCapped:f}){const k=(0,s.useRef)(c),{isPlaying:P,togglePlay:w,isActive:R}=r({uri:t}),S=(0,Ce.s)(),I=(0,h.wA)(),N=(0,Va.o)((e=>{if(e?.item?.uri===t){const a=(0,Ha.s)(e)??0;return k.current=a,a}return 0})),A=(0,s.useCallback)((e=>{e.stopPropagation(),e.preventDefault()}),[]),E=(0,s.useCallback)((e=>{if(A(e),f)return void I((0,b._3)());const a=x.chapterBlockFactory({position:y,uri:t}).playButtonFactory();if(n)S.logInteraction(a.hitShowPaywall({paywalledItem:t}));else{const e=(0,za.$I)({isPlaying:P,isActive:R,spec:a,logger:S,uri:t});w({loggingParams:e})}}),[f,I,y,R,n,P,S,x,A,w,t]),_=(0,s.useCallback)((()=>{const e=x.chapterBlockFactory({position:y,uri:t}).secondaryHitUiReveal();S.logInteraction(e)}),[y,S,x,t]),B=(0,s.useCallback)((e=>{A(e);const a=x.chapterBlockFactory({position:y,uri:t}).contextMenuFactory().hitUiReveal();S.logInteraction(a)}),[y,S,x,A,t]),F=!(n||f),U=(0,O.jsx)(Ma.d,{className:m()({[qa]:R}),children:e}),T=(0,O.jsxs)("div",{className:Qa,children:[u&&(0,O.jsx)(ae.U,{fullText:!0}),g&&(0,O.jsx)(ie.q,{size:16}),(0,O.jsxs)("div",{className:Ja,children:[k.current?(0,O.jsx)(p.E,{variant:"bodySmall",className:et,children:(0,O.jsx)(re.d,{durationMs:a.milliseconds})}):null,(0,O.jsx)(_e.j,{isPlaying:P,fullyPlayed:d,durationMs:a.milliseconds,resumePositionMs:k.current,position:P?N:void 0})]})]}),D=(0,O.jsxs)("div",{className:Za,"data-testid":`chapter-${y}`,children:[(0,O.jsx)("div",{className:Ya,children:F?(0,O.jsx)(v.b,{menu:(0,O.jsx)(C.r,{uri:t}),children:(0,O.jsx)(j.e,{className:Ka,size:j.M.xs,label:l.Ru.get("more.label.context",e),onClick:B})}):null}),(0,O.jsx)("div",{className:Xa,children:(0,O.jsx)(Y.R,{size:"small",version:Y.H.secondary,onClick:E,isPlaying:P,ariaPlayLabel:l.Ru.get("tracklist.a11y.play",e,i),ariaPauseLabel:l.Ru.get("tracklist.a11y.pause",e,i),locked:n&&!f,disabled:!o&&!(n||f)})})]}),L=(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("hr",{className:Ga,"aria-hidden":!0}),(0,O.jsx)(Oa.v,{id:`chapter-${y}`,title:U,body:T,footer:D,onDoubleClick:e=>{E(e)},className:Wa})]});return F?(0,O.jsx)(ya.h,{menu:(0,O.jsx)(C.r,{uri:t}),onShow:_,children:(0,O.jsx)("div",{className:$a,children:L})}):(0,O.jsx)("div",{className:$a,children:L})}));var tt=t(43891),st=t(56403),it=t(88426);var rt=t(99875);const nt="LrH_3T2eS36fCP4M_9Wt",ot="D8QrQAVF8Vwxp0zzAf2B",lt=({bookUri:e,bookName:a,sampleUri:t,isFinishedUnlockingJourney:i,usePlayContextItem:r,spec:n,isConsumptionCapped:o})=>{const c=function(e,a){const t=(0,it.T)();return(0,s.useCallback)((async(s,i)=>t.getBookContents(e,{offset:s,limit:i,doRefreshSubscription:a})),[a,t,e])}(e,i),{isMarkedAsFinished:d}=(0,Ae.z)(e),u=(0,f.s)(),m=u?6:50,[h,g]=(0,s.useState)(m),x=(0,s.useCallback)((e=>e?.uri===t),[t]),y=(0,s.useCallback)((e=>(e=>null!==e)(e)&&!x(e)),[x]),b=(0,s.useCallback)((async(e,a)=>{const t=await c(e,a);return{items:t.items,totalLength:t.totalCount}}),[c]),{getItems:j,nrValidItems:v}=(0,st.E)({fetch:b,nrItems:m,limit:50}),C=(0,s.useCallback)((()=>{g((e=>e+m))}),[m]),k=u&&v>h,P=h-1;return(0,O.jsxs)("ul",{children:[(0,O.jsx)(tt._,{onReachBottom:u?void 0:C,triggerOnInitialLoad:!0,children:j(0,P).map(((e,t)=>{if(!e||!y(e))return null;const{name:s,duration:i,uri:l,playability:{playable:c},playedState:{playPositionMilliseconds:u,state:m},isExplicit:h,is19PlusOnly:p}=e,g=m===rt._w.Completed||d,x=function(e){return!e.playability?.playable&&(e.playability?.reason===rt.Uk.PaymentRequired||e.playability?.reason===rt.Uk.Anonymous)}(e);return(0,O.jsx)(at,{name:s,duration:i,uri:l,bookName:a,usePlayContextItem:r,isPlayable:c,isChapterLocked:x,isConsumptionCapped:!!o,resumePositionMs:u,isFullyPlayed:g,isExplicit:h,is19PlusOnly:p,spec:n,index:t},`${l}/${t}`)}))}),k&&(0,O.jsx)("div",{className:nt,children:(0,O.jsxs)(H.v,{onClick:()=>{C()},className:ot,children:[(0,O.jsx)(p.E,{variant:"bodySmallBold",children:l.Ru.get("similar-audiobooks.load-more-chapters")}),(0,O.jsx)(La.V,{size:"xsmall"})]})})]})};var ct=t(6287),dt=t(60397),ut=t(96067),mt=t(7333),ht=t(2854);const pt="_yl4tOZxcpoUt28k6B8I",gt="lcJflizNrSwDM9yPNk6h",xt="ret7iHkCxcJvsZU14oPY",yt=({rating:e,className:a,onClick:t})=>{if(!e)return null;const s=Boolean(e.rating?.rating),i=l.Ru.formatNumber(e.averageRating?.average??0,{maximumFractionDigits:1}),r=l.Ru.formatNumberCompact(Number(e.averageRating?.totalRatings??0)),n=e.averageRating?.showAverage?l.Ru.get("web-player.audiobooks.rating.ratingButton",{averageStars:l.Ru.get("web-player.audiobooks.rating.ratingButtonStars",i),totalRatings:l.Ru.get("web-player.audiobooks.rating.ratingButtonRatings",r)}):l.Ru.get("web-player.audiobooks.noRating");return(0,O.jsxs)("button",{className:m()(pt,a),onClick:t,"aria-label":n,children:[(0,O.jsx)(p.E,{dir:"auto",variant:"bodySmallBold",children:e.averageRating?.showAverage?i:l.Ru.get("web-player.audiobooks.noRating")}),s?(0,O.jsx)(mt.j,{size:"small",className:m()(gt)}):(0,O.jsx)(ht.a,{size:"small",className:m()(gt)}),e.averageRating?.showAverage&&(0,O.jsx)(p.E,{variant:"bodySmall",className:m()(xt),children:`(${r})`})]})};var bt=t(46330),jt=t(72432),vt=t(42681),Ct=t(24516);const ft={shuffle:!1,repeat:vt.p.REPEAT_NONE},kt=s.memo((function({metadata:e}){const{uri:a,coverArt:t,name:r,htmlDescriptionPlain:o,authorName:d,authors:u,sample:_,narrators:B,rating:F,isExplicit:U,duration:T,copyrights:D,publishDate:L,price:z,isLocked:H,hasUnlimitedAccess:W,isSaved:q,isConsumptionCapped:G,signifierText:$,resumeEpisodeLink:K,topics:Q,isPreRelease:X,preReleaseEndDateTime:Z}=e,{search:Y}=(0,i.zy)(),ee=!!new URLSearchParams(Y).get("isUnlockingAudiobook"),ae=!(!(0,bt.Z)(ee)||ee),te=(0,R.V)(),se=(0,dt.H)(t[0]?.url),ie=(0,h.wA)(),re=(0,f.s)(),ne=(e=>{const a=(0,R.V)(),t=(0,w.vh)(),s=(0,g.NC)(S.S$t),i=(0,h.d4)(N.F6),r=(0,h.d4)(I.JJ);return()=>{const n={category:"audiobook_show_page_exposure",action:"audiobook_show_page_visit",variant:s,label:"dwp",os:(0,E.f)(),destination_url:e,country:i?r:"",sp_t:(0,A.v8)("sp_t")};a?t.send((0,P.r)(n)):t.send((0,k._)(n))}})(a);(0,s.useEffect)((()=>{ne()}),[ne]);const oe=(0,g.NC)(S.NzS,{loadingValue:!1}),{spec:le,logger:ce}=(0,pa.r)(x.U,{data:{uri:a,identifier:n.$h.PODCAST_SHOW_AUDIOBOOK}}),{spec:de,logger:ue}=(0,pa.r)(x.U,{data:{uri:a,identifier:n.$h.RATINGS_AND_REVIEWS_RATINGS_AUDIOBOOK}}),{spec:me,logger:he}=(0,pa.r)(y.Y,{data:{uri:a}}),pe=(0,s.useMemo)((()=>le.actionBarFactory()),[le]),ge=(0,s.useMemo)((()=>de.aboutSectionFactory()),[de]),xe=(0,s.useMemo)((()=>le.chapterListFactory()),[le]);(0,s.useEffect)((()=>{H&&he.logImpression(me.impression())}),[me,he,H]);const{isPlaying:ye,togglePlay:ve,usePlayContextItem:Ce,isActive:ke,triggerPlay:Pe}=(0,jt.P)({uri:a},{featureIdentifier:"audiobook"},ft),{togglePlay:we,isPlaying:Re,isActive:Se}=(0,jt.P)({uri:_?.uri??"",pages:[{items:[{uri:_?.uri??"",uid:_?.uri??"",type:M.c.CHAPTER,provider:null,metadata:X?{is_pre_release:"true",type:"trailer"}:void 0}]}]},{featureIdentifier:"audiobook"},ft),Ie=ye&&!Re,Ne=ke&&!Se,Ae=(0,s.useCallback)((async()=>{const e=le.actionBarFactory().playButtonFactory();if(G)return ce.logInteraction(e.hitShowPaywall({paywalledItem:a})),void ie((0,b._3)());if(!H||te)if(te)ve();else{const t=(0,za.$I)({isPlaying:Ie,isActive:Ne,spec:e,logger:ce,uri:a});Ne?ve({loggingParams:t}):Pe({skipTo:K?{uri:K}:void 0,loggingParams:t})}}),[le,G,te,H,ce,a,ie,ve,Ie,Ne,Pe,K]),Ee=(0,s.useCallback)((()=>{_?.uri&&we()}),[we,_?.uri]),_e=(0,s.useCallback)((()=>{const t=ge.ratingButtonFactory().hitUiReveal();ue.logInteraction(t),ie((0,b.eH)(a,e))}),[ge,ie,e,ue,a]),Ve=(0,Ba.y)(),He=H&&!G&&z;return(0,O.jsx)("section",{children:(0,O.jsxs)(Xe,{isPreRelease:X,children:[(0,O.jsx)(c.Q,{children:(0,Ct.hV)({showOrAudiobookName:r,type:"Audiobook"})}),(0,O.jsx)(ct.c,{artistOrShow:d,title:r,uri:a,entityType:X?ct.p.AUDIOBOOK_PRERELEASE:ct.p.AUDIOBOOK}),(0,O.jsx)(Ua,{name:r,authorName:d,authors:u,uri:a,coverArt:t,backgroundColor:se,togglePlay:Ae,isPlaying:Ie,isLocked:H,hasUnlimitedAccess:W,price:z,logger:ce,spec:le.actionBarFactory(),preReleaseEndDateTime:Z,isConsumptionCapped:G}),(0,O.jsx)(xa,{name:r,backgroundColor:se,uri:a,togglePlay:Ae,isPlaying:Ie,isLocked:H,hasUnlimitedAccess:W,isSaved:q,isExplicit:U,duration:T,publishDate:L,preReleaseEndDateTime:Z,price:z,spec:pe,isConsumptionCapped:G}),(0,O.jsxs)("div",{className:m()(Be,"contentSpacing",{[Fe]:Ve===_a.E.LARGE}),children:[(0,O.jsxs)("div",{className:Ue,children:[(0,O.jsxs)("div",{className:ze,children:[$&&(0,O.jsx)(p.E,{variant:"bodyMedium",as:"p",semanticColor:"textBrightAccent",children:$}),!$&&He&&(0,O.jsx)(Da,{price:z})]}),(0,O.jsx)(fe,{htmlDescription:o,narrators:B,spec:ge,isPreRelease:X??!1})]}),(0,O.jsxs)("div",{className:Te,children:[_?.isPlayable&&(0,O.jsx)(je,{label:l.Ru.get("audiobook.page.sample"),images:_.coverArt,title:_.name,duration:_.duration.milliseconds,moreButton:H?null:(0,O.jsx)(v.b,{menu:(0,O.jsx)(C.r,{uri:_.uri}),children:(0,O.jsx)(j.e,{})}),onClick:Ee,isPlaying:Re,isActive:Se,size:be.LARGE,contentRating:_.contentRating?.label,isPlayable:_.isPlayable}),(0,O.jsxs)("div",{className:Me,children:[!X&&(0,O.jsx)("div",{className:De,children:(0,O.jsx)(yt,{rating:F,onClick:_e})}),Q.length>0&&(0,O.jsx)(J,{topics:Q,className:Le})]})]}),(0,O.jsxs)("div",{className:Oe,children:[!X&&(0,O.jsx)(lt,{bookUri:a,bookName:r,sampleUri:_?.uri,isFinishedUnlockingJourney:ae,usePlayContextItem:Ce,spec:xe},`${a}-${H}`),oe&&(0,O.jsx)(ut.Z,{copyrights:D})]}),re&&(0,O.jsx)(V,{title:l.Ru.get("similar-audiobooks.more-audiobooks-like-this"),uri:a,className:Ge})]})]})})}));var Pt=t(91988),wt=t(57399),Rt=t(64224);const St=({uri:e,name:a,isSaved:t,backgroundColor:i,spec:r})=>{const n=(0,Ce.s)(),o=!(0,ua.n)(),[c,d]=(0,ma.A)(e,t),u=(0,ca.d$)(),{spec:m,logger:h}=(0,pa.r)(ke.e,{data:{uri:e}});(0,s.useEffect)((()=>{u&&h.logImpression(m.impression())}),[u,h,m]);const p=(0,s.useCallback)((()=>{const a=r.followButtonFactory();n.logInteraction(c?a.hitUnfollow({itemToBeUnfollowed:e}):a.hitFollow({itemToBeFollowed:e})),!c&&u&&h.logInteraction(m.hitFollow({itemToBeFollowed:e})),d(!c)}),[e,c,r,n,d,u,h,m]),g=(0,s.useCallback)((()=>{n.logInteraction(r.contextButtonFactory().hitUiReveal())}),[n,r]),x=(0,da.j)();return(0,O.jsx)(Pe.E,{backgroundColor:i,children:(0,O.jsxs)(we.S,{children:[(0,O.jsx)(Ne.e,{children:(0,O.jsx)(Rt.W,{isFollowing:c,onClick:p,disabled:o})},"follow-button"),(0,O.jsx)(v.b,{menu:(0,O.jsx)(wt.H,{uri:e}),onShow:g,children:(0,O.jsx)(j.e,{label:l.Ru.get("more.label.context",a),size:x})})]})})};var It=t(14776),Nt=t(74291),At=t(281),Et=t(36585),_t=t(57642),Bt=t(15005),Ft=t(72024);const Ut="BknvXMyUnN3fQCz8mvLI",Tt="slMInsl3HL9_02zHT22R",Dt="40px",Lt=({leavebehinds:e})=>{let a;return 1===e.length&&e[0]&&(a=(0,O.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[0].advertiser})),2===e.length&&e[0]&&e[1]&&(a=l.Ru.get("podcast-ads.recent_ads_just_two",(0,O.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[0].advertiser}),(0,O.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[1].advertiser}))),e.length>2&&e[0]&&e[1]&&(a=l.Ru.get("podcast-ads.recent_ads_more_than_two",(0,O.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[0].advertiser}),(0,O.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[1].advertiser}))),(0,O.jsxs)(p.E,{variant:"bodySmall",semanticColor:"textSubdued","data-testid":"show-leavebehinds-text",children:[l.Ru.get("podcast-ads.recent_ads_from"),a]})},Mt=({leavebehinds:e,uri:a,surface:t})=>{const i=(0,w.vh)();if((0,s.useEffect)((()=>{a&&e.length>0&&e[0]&&i.send((0,Et.x)({leavebehind_request_id:e[0].requestId,event:"event_viewed",event_reason:`viewed_on_${(0,_t.Fh)(t).toLowerCase()}`,surface:(0,_t.Fh)(t),uri:a}))}),[i,e,a,t]),0===e.length||!e[0])return null;const r=(0,o.o_h)(a)?.id,n=1===e.length?e[0].clickthroughUrl:(0,Bt.q)(r),c=Ft.Qd,d=e.length>c,u=e.length-(c-1),m=e.slice(0,d?c-1:c);return(0,O.jsx)(W.N,{to:n,pathname:e.length>1?n:void 0,state:{uri:a},className:Tt,onClick:()=>i.send((0,Et.x)({leavebehind_request_id:e[0]?.requestId,event:"event_clicked",event_reason:"cta_see_all",surface:(0,_t.Fh)(t),uri:a})),"data-testid":"show-leavebehinds-container",children:(0,O.jsx)(Oa.v,{layout:"wide",variant:"tinted",size:"xl",id:"show-leavebehinds",title:(0,O.jsxs)("div",{className:Ut,"data-testid":"show-leavebehinds-logos-container",children:[m.map((e=>(0,O.jsx)(Nt.C,{"data-testid":"show-leavebehind-image",src:e.displayImage.src,alt:e.displayImage.alt,imageHeight:Dt,imageWidth:Dt},e.adId))),d?(0,O.jsx)(Ot,{"data-testid":"show-leavebehinds-more-count-indicator",variant:"tinted",minBlockSize:Dt,borderRadius:"4px",padding:"6px",children:(0,O.jsx)(p.E,{variant:"bodyMedium","data-testid":"show-leavebehinds-more-count-indicator-text",children:l.Ru.get("podcast-ads.show_more_indicator",u)})}):null]}),body:(0,O.jsx)(Lt,{leavebehinds:e})})})};var Ot=(0,It.Ay)(At.a).withConfig({displayName:"LeavebehindsPreview___StyledBox",componentId:"sc-qakd80-0"})({backgroundColor:"#121212",width:"40px",display:"flex",alignItems:"center",justifyContent:"center"}),zt=t(42088);const Vt=_t.ui.SHOW_PAGE;function Ht({uri:e}){const{data:a,isError:t}=(0,zt.A)({surface:Vt,uri:e});return t||!a||a.length<1?null:(0,O.jsx)(Mt,{leavebehinds:a,uri:e,surface:Vt})}var Wt=t(76020),qt=t(84947),Gt=t(82607),$t=t(39251),Kt=t(10649);const Qt=({className:e,title:a,uri:t})=>{const{data:s}=(0,Gt.v)({uri:t},{gcTime:9e5,staleTime:3e5}),i=s?.seoRecommendedPodcast.totalCount;if(0===i)return null;const r=s?.seoRecommendedPodcast.items,n=function(e){return(e||[]).filter((e=>(0,$t.K)(e.data)))}(r),c=(0,o.o_h)(t)?.id;return(0,O.jsx)(T.$,{className:e,title:a,seeAllLabel:l.Ru.get("shelf.see-all"),total:i,alwaysShowSeeAll:!0,seeAllUri:`spotify:app:show:${c}:more-like-this`,children:n?.map((({data:e},a)=>(0,O.jsx)(qt.o,{uri:e.uri,name:e.name,images:e.coverArt?.sources||[],publisher:e.publisher?.name??"",sharingInfo:null,mediaType:(0,Kt.w)(e.mediaType),index:a},e.uri)))})},Jt=e=>{const a=(0,U.D)({entityType:M.c.SHOW,componentType:"shelf",uri:e.uri});return(0,O.jsx)(F.s,{onError:a,children:(0,O.jsx)(Qt,{...e})})};var Xt=t(17469),Zt=t(16262),Yt=t(38274),es=t(26484),as=t(68593);const ts=(0,s.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a ShowFilterProvider")},sortState:[]}),ss=s.memo((function({uri:e,children:a}){return(0,O.jsx)(as.E,{uri:e,defaultState:[],sortContext:ts,localStorageKey:"showFilterParams-v2",children:a})}));t(87175);var is=t(20197);const rs={field:is.WY.PUBLISH_DATE,order:is.AX.DESC},ns={field:is.WY.PUBLISH_DATE,order:is.AX.ASC},os=ns,ls={episodic:rs,sequential:ns,recent:rs};function cs(){return new Map([[rs,{key:"newest-to-oldest",value:l.Ru.get("shows.sort.newest-to-oldest")}],[ns,{key:"oldest-to-newest",value:l.Ru.get("shows.sort.oldest-to-newest")}]])}function ds(e){return ls[e]}const us=(0,s.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a ShowSortProvider")},sortState:ds("recent")}),ms=e=>{const a=cs();return Array.from(a.keys()).some((({field:a})=>a===e?.field))},hs=s.memo((function({uri:e,children:a,defaultSortParam:t}){return(0,O.jsx)(as.E,{uri:e,defaultState:t,sortContext:us,localStorageKey:"showSortParam",validator:ms,children:a})}));var ps=t(12912),gs=t(88308);const xs="ysJC093hc_2ixGCy40_s",ys="mJP3Bamg3hN7S0p7XKfN",bs="clPqCj1L_KSfoVuTuP6x",js="vqQmhCMZq7eUtTV7YYOQ",vs=s.memo((function({showMetadata:e,usePlayContextItem:a}){const{sortState:t}=(0,s.useContext)(us),{sortState:i}=(0,s.useContext)(ts),r=function(e,a,t){const s=(0,it.T)(),{canSort:i}=s.capabilities,r=(0,gs.U0)((async(i,r)=>s.getContents(e,{offset:i,limit:r,sort:a,filters:t})),[s,e,a,t]),n=(0,gs.U0)((async(a,t)=>s.getContents(e,{offset:a,limit:t})),[s,e]);return i?r:n}(e.uri,t,i),{isWeb:n}=(0,ps.V)(),o=n?6:50,[c,d]=(0,s.useState)(o),u=(0,s.useCallback)((async(e,a)=>{const t=await r(e,a);return{items:t.items,totalLength:t.totalCount}}),[r]),{getItems:m,nrValidItems:h}=(0,st.E)({fetch:u,nrItems:o,limit:50}),g=(0,s.useCallback)((()=>{d((e=>e+o))}),[o]),x=n&&h>c;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(Yt.R,{"aria-rowcount":h,"aria-colcount":6,firstInteractiveIsWrapper:!0,children:(0,O.jsx)(tt._,{onReachBottom:n?void 0:g,children:m(0,c-1).map(((t,s)=>t&&(0,O.jsx)(es.W,{"aria-posinset":s+1,children:(0,O.jsxs)("div",{className:ys,children:[(0,O.jsx)("hr",{className:xs,"aria-hidden":!0}),(0,O.jsx)(Zt.q,{index:s,episode:t,showMetadata:e,usePlayContextItem:a},`${t.uri}/${s}`)]})},`${s}${t.uri}`)))})}),x&&(0,O.jsx)("div",{className:bs,children:(0,O.jsxs)(H.v,{onClick:()=>{g()},className:js,children:[(0,O.jsx)(p.E,{variant:"bodySmallBold",children:l.Ru.get("internal-link-recommender.load-more-episodes")}),(0,O.jsx)(La.V,{size:"xsmall"})]})})]})}));t(66016);var Cs=t(53038);const fs={field:is.K$.ISPLAYED,operator:is.uj.EQUALS,value:!1},ks={field:is.K$.STARTEDPLAYING,operator:is.uj.GREATER_THAN,value:0};const Ps="all-episodes",ws=({onFilter:e})=>{const{sortState:a,setSortState:t}=(0,s.useContext)(ts),i=new Map([[fs,{key:"is-played",value:l.Ru.get("shows.filter.unplayed")}],[ks,{key:"started-playing",value:l.Ru.get("shows.filter.in-progress")}]]),r=Array.from(i.values());r.unshift({key:Ps,value:l.Ru.get("mwp.podcast.all.episodes")});const n=Array.from(i.keys()),o=(0,s.useCallback)((a=>{if(a===Ps)t([]);else{const e=n.find((e=>i.get(e)?.key===a));e&&t([e])}e()}),[e,t,n,i]);if(!i.size||!n)return null;let c=r[0];const d=Array.from(i.entries()).filter((e=>a?.some((a=>a.field===e[0].field&&a.operator===e[0].operator))));return d[0]&&(c=d[0][1]),(0,O.jsx)(Cs.g,{options:r,onSelect:e=>o(e),selected:c,variant:"bodyMediumBold",semanticColor:"textBase",heading:l.Ru.get("drop_down.filter_by")})},Rs=({onSort:e})=>{const{sortState:a,setSortState:t}=(0,s.useContext)(us),i=cs(),r=Array.from(i.values()),n=Array.from(i.keys()),o=(0,s.useCallback)((a=>{const s=n.find((e=>i.get(e)?.key===a));s&&t(s),e()}),[n,e,i,t]);if(!i.size||!a)return null;const c=Array.from(i.keys()).find((e=>e.field===a.field&&e.order===a.order));if(!c)return null;const d=i.get(c);return d?(0,O.jsx)(Cs.g,{options:r,onSelect:e=>o(e),selected:d,heading:l.Ru.get("drop_down.sort_by")}):null},Ss="jVWq1orbpiIK34UFHkFb",Is="gYTsg8kvcGmu41_lilIb",Ns="GMHh7OED_Nijo4zzSfrb",As="sNEwCEh44Lapg36PnVFw",Es="SoIsw3P_1RnUtFBHs_2d",_s="OMG3QMzpwer8oWsiJpzs",Bs="r0yVSge7A1iSTNfudfyV",Fs="yP6EeRtQJeqKq10IsMxn",Us="MIaGJ1KyQ3JLblOjWL19",Ts="p8WHC1qBUrwrBwzp_vYY",Ds="Uzyuaxpkm_Gwb6jOGbva",Ls="TSNj_F4gGzCuxrzx6n98",Ms="E4HX0M3aD0MY5dUCKSCb",Os="CbSqM7wDwoLFnyIo1iKL",zs="c0h80mSMc3PkNlHX0DYs",Vs="SGGetEMTKgQk1aJvG4k9",Hs="ne3ntrWAoMrE6_4A23Mf",Ws=({spec:e})=>{const a=(0,Ce.s)(),{canSort:t,canFilter:i}=(0,it.T)().capabilities,r=(0,s.useCallback)((()=>{a.logInteraction(e.episodeListFactory().filterButtonFactory().hitFilter())}),[a,e]),n=(0,s.useCallback)((()=>{a.logInteraction(e.episodeListFactory().sortButtonFactory().hitSort())}),[a,e]);return(0,O.jsxs)("div",{className:Fs,children:[i&&(0,O.jsx)("div",{className:Ts,children:(0,O.jsx)(ws,{onFilter:r})}),!i&&(0,O.jsx)(p.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:Ds,children:l.Ru.get("mwp.podcast.all.episodes")}),t&&(0,O.jsx)("div",{className:Us,children:(0,O.jsx)(Rs,{onSort:n})})]})};var qs=t(17564),Gs=t(49133),$s=t(53467),Ks=t(57735),Qs=t(23291);const Js=({breakpoint:e,metadata:a,spec:t})=>{const{uri:i,trailer:n,topics:o,description:c,htmlDescription:d,rating:u}=a,g=(0,qs.N)(i),x=(0,Ce.s)(),{spec:y,logger:C}=(0,pa.r)(r.R,{data:{uri:i}}),f=(0,s.useMemo)((()=>y.aboutSectionFactory()),[y]),k=(0,s.useMemo)((()=>t.episodeListFactory()),[t]),P=(0,h.wA)(),w=(0,R.V)(),{sortState:S}=(0,s.useContext)(ts),I=(0,it.T)(),{isWeb:N}=(0,ps.V)(),{usePlayContextItem:A}=(0,jt.P)({uri:i,metadata:{[Ks.W.SORTING_CRITERIA]:I.getPlayerSort(os),[Ks.W.FILTERING_PREDICATE]:I.getPlayerFilter(S)}},{featureIdentifier:"show"}),{isActive:E,isPlaying:_,togglePlay:B}=A({uri:n?.uri||""}),F=(0,s.useCallback)((e=>{const a=t.aboutSectionFactory().seeMoreButtonFactory(),s=e?a.hitUiReveal():a.hitUiHide();x.logInteraction(s)}),[x,t]),U=(0,s.useCallback)(((e,a)=>{const s=t.aboutSectionFactory().topicFactory(a).hitUiNavigate({destination:a.uri});x.logInteraction(s)}),[x,t]),T=n?{name:n.name,uri:n.uri,audio:{items:n.audio.items.map((e=>({url:e.url})))}}:null,D=(0,Zt.B)(a),L=(0,Gs.C)(T,D),M=(0,s.useCallback)((()=>{n?.uri&&(w?L():B())}),[L,w,B,n?.uri]),{ref:z,breakpoint:V}=(0,$s.x)({[_a.E.MEDIUM]:0,[_a.E.LARGE]:600}),H=o.length>0,W=c||d,q=W||H;return(0,O.jsxs)("div",{className:m()(Ss,"contentSpacing",{[Ns]:e===_a.E.LARGE}),ref:z,children:[(0,O.jsx)(Xt.q,{className:Is,gatedEntityCoverArt:a.gatedEntityCoverArt,gatedEntityRelations:a.gatedEntityRelations,upsellExplanation:a.upsellExplanation,hasAccess:a.hasGatedEntityRelationAccess,showCoverArt:!0}),(0,O.jsxs)("div",{className:As,children:[q&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(p.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:Ds,children:l.Ru.get("artist.about")}),W&&(0,O.jsx)(ve.N,{maxLines:4,content:(c||"").trim(),onExpanded:F,htmlContent:d||void 0}),n&&(0,O.jsx)(ya.h,{menu:(0,O.jsx)(Wt.b,{uri:n.uri,showUri:i,sharingInfo:n.sharingInfo}),children:(0,O.jsx)(je,{label:l.Ru.get("track-trailer"),className:Ls,images:n.coverArt,title:n.name,duration:n.duration.milliseconds,moreButton:(0,O.jsx)(v.b,{menu:(0,O.jsx)(Wt.b,{uri:n.uri,sharingInfo:n.sharingInfo,showUri:i}),children:(0,O.jsx)(j.e,{})}),onClick:M,isPlaying:_,isActive:E,size:be.LARGE,contentRating:n.contentRating?.label})}),(0,O.jsxs)("div",{className:Os,children:[u&&!g&&(0,O.jsx)("div",{className:zs,children:(0,O.jsx)(yt,{rating:u,onClick:()=>{const e=f.ratingButtonFactory().hitUiReveal();C.logInteraction(e),P((0,b.eH)(i,a))}})}),H&&(0,O.jsx)(J,{topics:o,className:Vs,onClick:U})]})]}),(0,O.jsx)(Ht,{uri:i})]}),(0,O.jsx)(Ba.o.Provider,{value:V,children:(0,O.jsxs)("div",{className:m()(_s,{[Bs]:N}),"data-testid":"show-all-episode-list",children:[(0,O.jsx)(Ws,{spec:t}),(0,O.jsx)(Qs.r,{spec:k,children:(0,O.jsx)(vs,{showMetadata:a,usePlayContextItem:A})})]})}),(0,O.jsx)(ut.Z,{copyrights:[]}),(0,O.jsx)("div",{className:Es,children:N&&(0,O.jsx)(Jt,{title:l.Ru.get("internal-link-recommender.more-podcasts-like-this"),uri:i,className:Hs})})]})},Xs=s.memo(Js);var Zs=t(990),Ys=t(20568);const ei=({reason:e})=>{const a=function(e){switch(e){case"OTP":return l.Ru.get("podcasts.subscriber-indicator.otp");case"SUBSCRIPTION":return l.Ru.get("podcasts.subscriber-indicator.subscription");default:return""}}(e);return a?(0,O.jsx)(p.E,{variant:"bodySmall",semanticColor:"textBase",className:Ms,children:a}):null};const ai=({metadata:e,backgroundColor:a})=>{const{uri:t,coverArt:s,name:i,podcastType:r,publisherName:n,gatedContentAccessReason:o}=e,c=(0,O.jsx)(wt.H,{uri:t});return(0,O.jsxs)(va.z,{backgroundColor:a,children:[(0,O.jsx)(ka.h,{children:(0,O.jsx)(ya.h,{menu:c,children:(0,O.jsx)(Pa.X,{text:i,dragUri:t,dragLabel:i})})}),(0,O.jsx)(Zs.X,{children:(0,O.jsx)(ya.h,{menu:c,children:(0,O.jsx)(Ys.b,{loading:"eager",name:i,images:s,placeholderType:"show",shape:Ys.u.SQUARE})})}),(0,O.jsxs)(fa.Y,{children:[(0,O.jsxs)(Ra.B,{children:["SHOW"===r?l.Ru.get("type.show"):l.Ru.get("type.podcast"),o&&(0,O.jsx)(ei,{reason:o})]}),(0,O.jsx)(ya.h,{menu:c,children:(0,O.jsx)(Ia.mm,{dragUri:t,dragLabel:i,scaleAtMinWidth:Ia.tw,children:(0,O.jsx)("span",{"data-testid":"show-title",children:i})})}),(0,O.jsx)(Sa.g,{children:n})]})]})};var ti=t(94075),si=t(84925),ii=t(24695);const ri=({metadata:e,showId:a})=>{const{coverArt:t,name:i,uri:n,isSaved:o}=e,{spec:l}=(0,pa.r)(r.R,{data:{uri:n}}),d=(0,s.useMemo)((()=>l.actionBarFactory()),[l]),u=(0,dt.H)(t[0]?.url||null),m=(0,Ba.y)();return(0,O.jsxs)("section",{children:[(0,O.jsx)(c.Q,{children:(0,Ct.hV)({showOrAudiobookName:i,type:"Podcast"})}),(0,O.jsx)(ct.c,{artistOrShow:i,uri:n,entityType:ct.p.PODCAST}),(0,O.jsx)(ai,{metadata:e,backgroundColor:u}),(0,O.jsx)(St,{uri:n,name:i,isSaved:o,backgroundColor:u,spec:d}),(0,O.jsx)(Xs,{breakpoint:m,metadata:e,showId:a,spec:l})]})},ni=(0,s.memo)((function(){const{showId:e=""}=(0,i.g)(),a=`spotify:show:${e}`,{data:t,error:r,redirectUri:c}=(0,Ye.W)(a);if(c){const e=(0,o.Lce)(c);return(0,O.jsx)(Pt.$,{to:e.toURLPath(!0)})}const u=t&&(0,rt.Go)(t);if(!t||r){if(r instanceof ii.W)return(0,O.jsx)(d.LoadingPage,{hasError:!0,errorMessage:l.Ru.get("error-page.not-available-in-region.title")});const e=Boolean(r);return(0,O.jsx)(d.LoadingPage,{hasError:e,errorMessage:l.Ru.get("error.not_found.title.page")})}return u?(0,O.jsx)(s.Suspense,{fallback:null,children:(0,O.jsx)(ti.u,{pageId:n.$h.PODCAST_SHOW_AUDIOBOOK,uri:a,children:(0,O.jsx)(si.d,{dynamicColors:t.dynamicColors,children:(0,O.jsx)(kt,{metadata:t},`${!!t.isConsumptionCapped}`)})})}):(0,O.jsx)(s.Suspense,{fallback:null,children:(0,O.jsx)(ti.u,{pageId:n.$h.PODCAST,uri:a,children:(0,O.jsx)(ss,{uri:t.uri,children:(0,O.jsx)(hs,{uri:t.uri,defaultSortParam:ds(t.consumptionOrder),children:(0,O.jsx)(si.d,{dynamicColors:t.dynamicColors,children:(0,O.jsx)(ri,{showId:e,metadata:t})})})})})})}))},82607:(e,a,t)=>{t.d(a,{v:()=>n});var s=t(63388),i=t(39463);const r=Spicetify.GraphQL.Definitions["internalLinkRecommenderShow"]=new s.l("internalLinkRecommenderShow","query","6c369ff272a666b31fef1629c169925a1bd80f372195396c82304142cacd89e8",null),n=(e,a)=>(0,i.I)(r,e,a)},82758:(e,a,t)=>{t.d(a,{W:()=>i});var s=t(30758);const i=()=>{const[e,a]=(0,s.useState)(!1);return{isOpen:e,openModal:(0,s.useCallback)((()=>a(!0)),[]),closeModal:(0,s.useCallback)((()=>a(!1)),[])}}},84748:(e,a,t)=>{t.d(a,{a:()=>s});t(2557);const s=e=>(e||[]).filter((e=>(e=>{return a=e,"NotFound"!==a?.__typename&&"GenericError"!==a?.__typename&&"Audiobook"===e.__typename;var a})(e.data)))},84947:(e,a,t)=>{t.d(a,{o:()=>h});var s=t(70397),i=t(90098),r=t(71259),n=t(23658),o=t(3257),l=t(82102),c=t(35054),d=t(57399),u=t(9065),m=t(86070);const h=({images:e,name:a,uri:t,publisher:h,sharingInfo:p,mediaType:g,isHero:x=!1,onClick:y,onPlay:b,testId:j,index:v,requestId:C,color:f,variant:k,logCardImpressions:P=!1,role:w})=>{let R;const S=g===u.Q.MIXED?s.Ru.get("type.show"):s.Ru.get("card.tag.show");return R=x?(0,m.jsx)(o.A,{index:v,onClick:y,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:t,isPlayable:!1,onPlay:b,renderCardImage:()=>(0,m.jsx)(r.M,{isHero:!0,images:e,color:f}),renderSubHeaderContent:()=>(0,m.jsxs)(n.c,{isHero:!0,children:[(0,m.jsx)(l.t,{children:S}),h&&(0,m.jsx)("span",{children:h})]}),testId:j,requestId:C,logCardImpressions:P}):(0,m.jsx)(i.Z,{variant:k,onClick:y,isPlayable:!1,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:t,role:w,index:v,renderCardImage:()=>(0,m.jsx)(r.M,{isHero:x,images:e,color:f}),renderSubHeaderContent:()=>(0,m.jsx)(n.c,{children:h&&(0,m.jsx)("span",{children:h})}),testId:j,requestId:C,logCardImpressions:P}),(0,m.jsx)(c.h,{menu:(0,m.jsx)(d.H,{uri:t,sharingInfo:p}),children:R})}},87859:(e,a,t)=>{t.d(a,{M:()=>A});var s=t(30758),i=t(97500),r=t.n(i),n=t(62411),o=t(78717),l=t(461),c=t(79444),d=t(65809),u=t(70397),m=t(48729),h=t(90098),p=t(71259),g=t(23658),x=t(3257),y=t(82102),b=t(35054),j=t(99280),v=t(72983),C=t(23347),f=t(56510),k=t(59161),P=t(55797);const w="udGpsOceE80fzjUaGxkU",R="wMX24UZ671wvuRJkkUOC";var S=t(86070);const I=({isPreRelease:e,publishDate:a})=>e&&a?("string"==typeof a&&(a=new Date(a)),(0,S.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",children:(0,S.jsx)("span",{children:u.Ru.get("web-player.prerelease.releases_on",{date:u.Ru.formatDate((0,P.ad)(a.toISOString()),(0,P.s7)({month:"long",day:"numeric",year:"numeric"}))})})})):null,N=({signifierText:e})=>e?(0,S.jsx)(o.E,{as:"div",variant:"bodySmall",semanticColor:"textBrightAccent",children:e}):null,A=({name:e,uri:a,images:t,authorName:i,authors:P,isHero:A,className:E,onClick:_,onPlay:B,testId:F,index:U,requestId:T,isLocked:D=!1,isPlayable:L=!1,color:M,signifierText:O,isPreRelease:z=!1,publishDate:V,variant:H,consumptionCapExplanation:W,logCardImpressions:q=!1,role:G})=>{const{playUri:$,playOptions:K}=(0,f.J)(a),Q=(0,n.wA)(),J=(0,d.NC)(k.HJU),X=!!W,Z=(0,S.jsx)(C.O,{authorName:i,authors:P}),Y=(0,s.useCallback)((()=>{B?.(),X&&Q((0,m._3)())}),[Q,X,B]);let ee;return ee=A?(0,S.jsx)(x.A,{className:E,index:U,onClick:_,headerText:e,featureIdentifier:"audiobook",uri:a,playOptions:K,onPlay:X?Y:void 0,delegatePlayback:X,isPlayable:(L||X)&&J,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,i),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,i),dragMimeType:v.fl.AUDIOBOOKS,renderCardImage:()=>(0,S.jsx)(p.M,{isHero:!0,images:t,color:M,FallbackComponent:e=>(0,S.jsx)(l.l,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(y.t,{children:u.Ru.get("card.tag.audiobook")}),(0,S.jsx)(o.E,{variant:"bodySmall",children:Z})]}),getSignifierContent:()=>(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(I,{isPreRelease:z,publishDate:V}),(0,S.jsx)(N,{signifierText:O})]}),testId:F,requestId:T,logCardImpressions:q}):(0,S.jsx)(h.Z,{className:E,variant:H,index:U,onClick:_,headerText:e,featureIdentifier:"audiobook",uri:a,role:G,playUri:$,onPlay:X?Y:void 0,delegatePlayback:X,playOptions:K,isPlayable:(L||X)&&J,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,i),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,i),dragMimeType:v.fl.AUDIOBOOKS,renderCardImage:()=>(0,S.jsx)(p.M,{images:t,color:M,FallbackComponent:e=>(0,S.jsx)(l.l,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(g.c,{lineClamp:O?1:2,children:[D&&(0,S.jsx)(c.y,{size:"small",className:w}),(0,S.jsx)(I,{isPreRelease:z,publishDate:V}),(0,S.jsx)(o.E,{as:"span",variant:"bodySmall",className:r()({[R]:z&&i}),children:Z})]}),(0,S.jsx)(N,{signifierText:O})]}),testId:F,requestId:T,logCardImpressions:q}),(0,S.jsx)(b.h,{menu:(0,S.jsx)(j.p,{uri:a}),children:ee})}},96067:(e,a,t)=>{t.d(a,{Z:()=>n});t(77369);var s=t(31656);const i="rTMkDBDp47Eo12ZEQv4U";var r=t(86070);const n=({copyrights:e,courtesyLine:a})=>{const t=(e||[]).map(((e,a)=>{if(e.untyped)return(0,r.jsx)(s.Z,{as:"p",variant:"finale",dir:"auto",children:e.text},a);const t=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(Â©\s+)/,"").replace(/^(â„—\s+)/,"");let i;return i="C"===e.type?"Â©":"P"===e.type?"â„—":`(${e.type})`,(0,r.jsx)(s.Z,{as:"p",variant:"finale",dir:"auto",children:`${i} ${t}`},a)}));return a&&t.unshift((0,r.jsx)(s.Z,{as:"p",variant:"finale",dir:"auto",children:a},t.length)),(0,r.jsx)("div",{className:i,children:t})}},98630:(e,a,t)=>{t.d(a,{K:()=>x});var s=t(30758),i=t(35394),r=t(70397),n=t(57157),o=t(67240),l=t(60804);const c="bhvAemcPYUmxOdBe1mVi",d="hmgHdasWrZaA9tiXVw_u",u="RmbxUFLb4j9KmgftJyk1",m="boNCdFnbh9y0PBweIDUt",h="LfQtKa295FPgk8VuZRfD",p="Oytey9nANMtSDKSmZpJ6";var g=t(86070);const x=s.memo((function(e){const{images:a,title:t,isOpen:x,onClose:y}=e,b=(0,s.useMemo)((()=>(0,l.g)(a,{desiredSize:1e4})),[a]);return b?(0,g.jsx)(n.A,{className:c,isOpen:x,onRequestClose:y,animation:{modal:{base:m,afterOpen:h,beforeClose:p}},animated:!0,children:(0,g.jsxs)("div",{style:{"--image-width":`${b.width}px`,"--image-height":`${b.height}px`},className:d,children:[(0,g.jsx)(o._,{loading:"eager",alt:t,src:b.url,className:u}),(0,g.jsx)(i.H,{onClick:y,semanticColor:"textBase",children:r.Ru.get("web-player.cover-art-modal.close")})]})}):null}))}}]);
//# sourceMappingURL=xpui-routes-show.js.map