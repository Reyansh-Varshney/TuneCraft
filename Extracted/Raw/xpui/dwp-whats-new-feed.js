"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[4084,9319],{3761:(e,t,a)=>{a.d(t,{P:()=>i.P});var i=a(49294)},5678:(e,t,a)=>{a.d(t,{s:()=>x});a(77369);var i=a(30758),s=a(97500),n=a.n(s),r=a(40539),l=a(47170),o=a(70397),c=a(32765),d=a(26427),u=a(93441);const m="IVnoxrO3iL_tz5ULI8g_";var p=a(86070);const y={marginBlockEnd:0,willChange:"transform, opacity"},g=({filterId:e=null,isPrimaryFilter:t,isPlaceholder:a,resetFilterIds:s,toggleFilterId:l,className:o,innerRef:c,onFilterClick:d,index:u=0,...g})=>{const h=g.selected,x=(0,i.useCallback)((()=>{if(!e)return s(),void d(null,!1,u);d(e,!!h,u),l(e)}),[e,s,l,d,h,u]),f=(0,i.useCallback)((e=>{e.detail>1||a||x()}),[a,x]);return(0,p.jsx)(r.v,{...g,className:n()(o,{[m]:a}),onClick:f,selectedColorSet:"invertedLight",secondary:h&&!t,style:y,ref:c,tabIndex:t?0:-1})},h=({filterId:e=null,isPlaceholder:t,resetFilterIds:a,toggleFilterId:s,className:r,innerRef:c,onFilterClick:d,index:u=0,...g})=>{const h=g.selected,x=(0,i.useCallback)((()=>{if(!e)return a(),void d(null,!1,u);d(e,!!h,u),s(e)}),[e,a,s,d,h,u]),f=(0,i.useCallback)((e=>{e.detail>1||t||x()}),[t,x]);return(0,p.jsx)(l.m,{...g,"aria-label":o.Ru.get("web-player.clear-filter"),className:n()(r,{[m]:t}),onClick:f,style:y,ref:c,tabIndex:-1})},x=(0,i.memo)((function({placeholderFilters:e=[],availableFilters:t,selectedFilters:a,toggleFilterId:s,resetFilterIds:n,onFilterClick:r,ariaLabel:l,clearBtnAriaLabel:o,className:m,scrollContentClassName:y,applyLightThemeControls:x=!1}){const f=!(a||t),v=f?e:[...a??[],...t??[]],b=(0,i.useRef)(null),w=(0,i.useCallback)((()=>{(0,u.MS)(b.current,b.current?.nextElementSibling instanceof HTMLElement?b.current?.nextElementSibling:null),n()}),[n]);return 0===v.length?null:(0,p.jsxs)(c.FN,{className:m,scrollContentClassName:y,ariaLabel:l,applyLightThemeControls:x,role:"listbox",children:[!!a?.length&&(0,p.jsx)(d.A,{children:(0,p.jsx)(h,{resetFilterIds:w,toggleFilterId:s,onFilterClick:r,"aria-label":o??l,innerRef:b})}),v.map(((e,t)=>{const i=a?.includes(e),l=0===t;return(0,p.jsx)(d.A,{children:(0,p.jsx)(g,{filterId:e.id,isPrimaryFilter:l,isPlaceholder:f,onFilterClick:r,resetFilterIds:n,toggleFilterId:s,selected:i,index:t,children:e.getName()})},e.id)}))]})}))},9949:(e,t,a)=>{a.d(t,{WhatsNewFeed:()=>jt});a(2557),a(77369);var i=a(30758),s=a(51822),n=a(97500),r=a.n(n),l=a(78717),o=a(62960),c=a(65809),d=a(29876),u=a(70397),m=a(38274),p=a(26484),y=a(32131),g=a(19239),h=a(91462),x=a(281),f=a(69365),v=a(35394),b=a(30920),w=a(30831);const N="hv_KAWAGg7x6ZMbizLXD",k="Q2nqfbkIlfIraKNNhCsJ";var C=a(86070);const j=({onDismiss:e})=>(0,C.jsxs)(x.a,{variant:"contrasting",colorSet:"announcement",className:N,children:[(0,C.jsx)(f.p,{}),(0,C.jsx)(l.E,{variant:"bodySmall",children:(0,w.v)("Looking for the latest from creators you follow? Check the Music or Podcast feeds on Home")}),(0,C.jsx)(v.H,{iconOnly:b.M,onClick:()=>{e()},"aria-label":u.Ru.get("web-player.download-page.notification-hide"),condensedAll:!0,className:k})]});a(86328);var I=a(5678),E=a(68293);const S="q5riNmaoksSuEEvQAurA",R="Mw7mDlSjkkGqF2DEMzY6",F=[{id:"ALBUM",getName:()=>u.Ru.get("web-player.whats-new-feed.filters.music"),ubiId:"Music"},{id:"EPISODE",getName:()=>u.Ru.get("web-player.whats-new-feed.filters.episodes"),ubiId:"Podcast & Shows"},{id:"WHATS_NEW_FEED_NOTIFICATION",getName:()=>u.Ru.get("web-player.whats-new-feed.filters.notifications"),ubiId:"Merch & Events"}],P=(0,i.memo)((function({availableFilters:e,selectedFilters:t,toggleFilterId:a,resetFilterIds:s,spec:n}){const r=u.Ru.get("web-player.whats-new-feed.filters.options"),l=(0,E.s)(),o=(0,i.useMemo)((()=>{const t=new Map;return(e||[]).forEach((e=>{t.set(e.id,e)})),t}),[e]),c=(0,i.useCallback)(((e,t,a)=>{let i;if(!e)return i=n.clearFiltersFactory().hitClearFilter(),void l.logInteraction(i);const s=o.get(e);if(!s)return;const r=n.filterChipFactory({identifier:s.ubiId,position:a});i=t?r.hitClearFilter():r.hitFilter(),l.logInteraction(i)}),[n,l,o]);return(0,C.jsx)("div",{className:S,children:(0,C.jsx)(I.s,{placeholderFilters:F,availableFilters:e,selectedFilters:t,toggleFilterId:a,onFilterClick:c,resetFilterIds:s,ariaLabel:r,scrollContentClassName:R})})}));var A=a(79898),O=a(70796),M=a(10622),B=a(81458),U=a(38042),L=a(34843),T=a(89145),D=a(59375),_=a(65720),V=a(35054),z=a(31016),G=a(97);const H="UzbVbHOHQ3xdlESl06nb",W=({dateAdded:e,prefix:t})=>{let a=e.getTime()>0&&u.Ru.formatRelativeDate(e,{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"});return a&&t&&(a=`${t} ${a}`),(0,C.jsx)(l.E,{variant:"bodySmall",className:H,children:a})};var q=a(96579),Y=a(99244),Z=a(332);const X=e=>{switch(e){case Z.E.LARGE:return Y.Qe.SIZE_112;case Z.E.MEDIUM:default:return Y.Qe.SIZE_64}};var K=a(70847),$=a(28054),Q=a(97630),J=a(73061),ee=a(24886),te=a(19906),ae=a(12286),ie=a(10070),se=a(1231),ne=a(72432),re=a(23291),le=a(19151),oe=a(92015);const ce="SjhDNg4bQRQmIJAba47Z",de="eYvk_xcxVNMwCBkfY3O0",ue="TtoLzgGMAU9nkxMbixq9",me="Rw7qIj58PeAz8p6dejOP",pe="uzhTSuCH_4ojaqifMJRB",ye="D71yL9GnHIYg7PheYlz8",ge="KKRyrr7NUJy1VBWydHHH",he="kAYwHqwZ7agHEAGbYN3v",xe="XaingSntLq8c8wEfqf81",fe="FDm94lE0xkDYtA1Bk7Jc",ve="TPNGFuTvzNVNHisumnhg";function be({album:e,onLike:t,onMoreButtonClick:a,onDownloadClick:s,spec:n}){const o=(0,ee.y)(),c=o===Z.E.LARGE,{draggable:d,onDragStart:m}=(0,$.P)({itemUris:[e.uri],dragLabelText:e.name});let p;e.date&&(p=(0,C.jsx)(W,{dateAdded:new Date(e.date.isoString)}));const[y,g]=(0,te.A)(e.uri),h=e.artists?.items.map((e=>e.profile.name)).join(u.Ru.getSeparator())||"",x=(0,E.s)(),f=(0,i.useCallback)((async()=>{try{await g(!y)}catch{}}),[y,g]),{togglePlay:v,isPlaying:b,isActive:w}=(0,ne.P)({uri:e.uri},{featureIdentifier:"whats_new_panel",referrerIdentifier:"whats_new_panel"}),N=(0,i.useCallback)((t=>{let a;t.preventDefault(),w&&!b&&(a=n.playButtonFactory().hitResume({itemToBeResumed:e.uri})),b||w||(a=n.playButtonFactory().hitPlay({itemToBePlayed:e.uri})),b&&(a=n.playButtonFactory().hitPause({itemToBePaused:e.uri})),a&&x.logInteraction(a),v()}),[v,w,b,x,n,e.uri]),k=(0,Q.V)(e.uri),j=(0,ie.T)(e.uri),I=(0,i.useCallback)((()=>{const t=n.hitUiNavigate({destination:e.uri});x.logInteraction(t),k()}),[e.uri,n,x,k]),S=(0,i.useCallback)((a=>{const i=n.saveButtonFactory().hitLike({itemToBeLiked:e.uri}),s=n.saveButtonFactory().hitRemoveLike({itemNoLongerLiked:e.uri});x.logInteraction(a?i:s),t?.(a)}),[n,x,e.uri,t]),R=(0,i.useCallback)(((t,a)=>{let i;a===se.NV.ADD?i=n.downloadButtonFactory().hitDownload({itemToDownload:e.uri}):a===se.NV.REMOVE?i=n.downloadButtonFactory().hitUiReveal():a!==se.NV.NO_PERMISSION&&a!==se.NV.NO_CAPABILITY||(i=n.downloadButtonFactory().hitUiReveal()),i&&x.logInteraction(i),s?.(t,a)}),[e.uri,x,n,s]),F=(0,i.useCallback)((e=>{a?.(e)}),[a]),P=(0,i.useCallback)((()=>{const t=n.titleFactory().hitUiNavigate({destination:e.uri});x.logInteraction(t)}),[e.uri,x,n]),H=u.Ru.get("tracklist.a11y.play",e.name,h),Y=u.Ru.get("tracklist.a11y.pause",e.name,h),be=(0,C.jsx)(A.d,{lineClamp:1,as:"h3",children:(0,C.jsx)(q.N,{to:e.uri,onClick:P,children:e.name})}),we=e.artists?e.artists.items.map(((e,t,a)=>{return(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)(V.h,{menu:(0,C.jsx)(G.t,{uri:e.uri}),children:(0,C.jsx)(q.N,{to:e.uri,className:pe,onClick:(s=e.uri,()=>{const e=n.subtitleFactory().hitUiNavigate({destination:s});x.logInteraction(e)}),children:e.profile.name})}),t<a.length-1&&u.Ru.getSeparator()]},t);var s})):"",Ne=(0,C.jsx)("div",{className:ye,children:(0,C.jsx)(J.b,{className:r()(ge,{[he]:c}),type:le.c.ALBUM,size:X(o),title:e.name,images:e.coverArt?.sources})}),ke=(0,C.jsxs)(l.E,{className:fe,children:[(0,oe.C)(e.albumType),(0,C.jsx)("span",{className:ve,children:p})]}),Ce=c?U.t.sm:U.t.xs,je=(0,C.jsxs)("div",{className:xe,children:[(0,C.jsxs)("div",{className:de,children:[(0,C.jsx)(D.b,{onClick:S,uri:e.uri,size:Ce,className:ue}),(0,C.jsx)(L.f,{onClick:R,className:r()({[ue]:(0,ae.X)(j)}),uri:e.uri,isFollowing:y,onFollow:f,size:Ce,condensed:!0}),(0,C.jsx)(re.r,{spec:n,children:(0,C.jsx)(_.b,{menu:(0,C.jsx)(z.h,{uri:e.uri}),children:(0,C.jsx)(T.e,{onClick:F,size:Ce})})})]}),(0,C.jsx)("div",{className:me,children:(0,C.jsx)(K.R,{size:"small",onClick:N,isPlaying:b,ariaPlayLabel:H,ariaPauseLabel:Y,version:K.H.secondary})})]});return(0,C.jsx)(V.h,{menu:(0,C.jsx)(z.h,{uri:e.uri}),children:(0,C.jsx)(O.v,{draggable:d,onDragStart:m,size:"xxl",className:ce,media:Ne,title:be,subtitle:(0,C.jsx)(M.j,{lineClamp:1,children:we}),id:e.uri,variant:"naked",body:ke,footer:je,onClick:I,hoverBackgroundColor:"backgroundHighlight",layout:c?"wide":"regular",horizontalGap:c?B.lT:B.CJ,verticalGap:B.v4,paddingBlockStart:"16px",paddingBlockEnd:"16px"})})}var we=a(42682),Ne=a(55168),ke=a(91546),Ce=a(76020),je=a(57399),Ie=a(3761),Ee=a(10167),Se=a(85518);const Re="N3zMh5FMdbBKUvz4uDfe",Fe="h0YQcDKdGmWssZyuIcvq",Pe="lMQrLkJVNqZAzT95gQnA";function Ae({episode:e,isPlaying:t,isActive:a,isFullyPlayed:s,setIsFullyPlayed:n}){let r;e.release.isoString&&(r=(0,C.jsx)(W,{dateAdded:new Date(e.release.isoString)}));const o=(0,i.useRef)(null),[c]=(0,Ee.S)(1e4,(t=>t?.item?.uri===e.uri));(0,i.useEffect)((()=>{t&&(o.current=c)}),[t,c]),(0,i.useEffect)((()=>{!t&&o.current&&e.duration.milliseconds<=o.current&&n(!0)}),[t,e.duration.milliseconds,n]);const d=(0,i.useRef)(e.duration.milliseconds-e.playedState.timeLeft.milliseconds),m=(0,C.jsx)(Se.j,{isPlaying:t,fullyPlayed:s,durationMs:e.duration.milliseconds,resumePositionMs:o.current||d.current,position:a?c:void 0,className:Fe});return(0,C.jsxs)("div",{className:Re,children:[(0,C.jsx)(Ie.P,{episode:e}),(0,C.jsx)(l.E,{variant:"bodySmall",children:u.Ru.get("card.tag.episode")}),(0,C.jsx)("span",{className:Pe}),r,(0,C.jsx)("span",{className:Pe}),m]})}var Oe=a(39159),Me=a(13695);const Be="IEDOUN3mwwZhHVziC03a",Ue="Olh4d9g46wryDMTzRRmw",Le="zyDT2CX7tvGjKxxUnO7D",Te="TKntS5R19vVI3J9xxwDL",De="IoTOUob09_0_3kC8ORbu",_e="aKVUno8YrkyvGsg7iS59",Ve="iF91evq0EtvlgCxIRI_6",ze="moZJ2Pxni1o4HtHAuHmF",Ge="VzSICihKBYcgMsSFv8SH",He="iOxe1erWkyDFY3p4NG8x",We="_72TrTBKZHea2vJ2I2BJX";function qe({episode:e,podcastName:t,podcastUri:a,onLike:s,onMoreButtonClick:n,onDownloadClick:o,spec:c,featureIdentifier:d,referrerIdentifier:m,size:p="xxl"}){const y=e.name,g=(0,ee.y)(),h=(0,ie.T)(e.uri),x=g===Z.E.LARGE,{draggable:f,onDragStart:v}=(0,$.P)({itemUris:[e.uri],dragLabelText:`${e.name} • ${t}`}),b=(0,E.s)(),{togglePlay:w,isPlaying:N,isActive:k}=(0,ne.P)({uri:e.uri},{featureIdentifier:d,referrerIdentifier:m}),[j,I]=(0,i.useState)(e.playedState.state===Me.M.Completed),S=(0,Q.V)(e.uri),R=u.Ru.get("tracklist.a11y.play",e.name,t),F=u.Ru.get("tracklist.a11y.pause",e.name,t),P=(0,i.useCallback)((()=>{const t=c.hitUiNavigate({destination:e.uri});b.logInteraction(t),S()}),[S,b,c,e.uri]),U=(0,i.useCallback)((t=>{const a=c.saveButtonFactory().hitLike({itemToBeLiked:e.uri}),i=c.saveButtonFactory().hitRemoveLike({itemNoLongerLiked:e.uri});b.logInteraction(t?a:i),s?.(t)}),[c,b,e.uri,s]),L=(0,i.useCallback)(((t,a)=>{let i;a===se.NV.ADD?i=c.downloadButtonFactory().hitDownload({itemToDownload:e.uri}):a===se.NV.REMOVE?i=c.downloadButtonFactory().hitUiReveal():a!==se.NV.NO_PERMISSION&&a!==se.NV.NO_CAPABILITY||(i=c.downloadButtonFactory().hitUiReveal()),i&&b.logInteraction(i),o?.(t,a)}),[b,c,e.uri,o]),D=(0,i.useCallback)((()=>{const t=c.titleFactory().hitUiNavigate({destination:e.uri});b.logInteraction(t)}),[b,c,e.uri]),z=(0,i.useCallback)((t=>{let a;t.preventDefault(),k&&!N&&(a=c.playButtonFactory().hitResume({itemToBeResumed:e.uri})),N||k||(a=c.playButtonFactory().hitPlay({itemToBePlayed:e.uri})),N&&(a=c.playButtonFactory().hitPause({itemToBePaused:e.uri})),a&&b.logInteraction(a),w()}),[w,b,c,e.uri,N,k]),G=(0,i.useCallback)((e=>{n?.(e)}),[n]),H=(0,C.jsx)(A.d,{lineClamp:2,as:"h3",children:(0,C.jsx)(q.N,{to:e.uri,onClick:D,children:e.name})}),W=(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(M.j,{lineClamp:1,paddingBottom:x?"8px":void 0,children:(0,C.jsx)(V.h,{menu:(0,C.jsx)(je.H,{uri:a}),children:(0,C.jsx)(q.N,{to:a,className:_e,onClick:(Y=a,()=>{const e=c.subtitleFactory().hitUiNavigate({destination:Y});b.logInteraction(e)}),children:(0,C.jsx)(l.E,{as:"span",variant:"bodySmall",children:t})})})})});var Y;const te=e.sixteenByNineCoverImages&&e.sixteenByNineCoverImages.length>0,oe=(0,C.jsx)("div",{className:r()(Ve,{[ze]:te}),style:{"--bg-color-from":e.dynamicColors?.minContrast?.backgroundBase?.toCSS(Oe.a.RGBA),"--bg-color-to":e.dynamicColors?.higherContrast?.backgroundBase?.toCSS(Oe.a.RGBA)},children:(0,C.jsx)(J.b,{className:r()(Ge,{[He]:x}),type:le.c.EPISODE,size:X(g),title:e.name,images:te?e.sixteenByNineCoverImages:e.images,children:te&&(0,C.jsx)(K.R,{ariaPlayLabel:u.Ru.get("playlist.a11y.play",y),ariaPauseLabel:u.Ru.get("playlist.a11y.pause",y),isPlaying:N,onClick:z,version:K.H.transparent,isWrapperClickable:!0})})}),ce=x?"medium":"small",de=e.podcastSubscription,ue=de.isPaywalled&&!de.isUserSubscribed,me=!ue,pe=(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Ae,{episode:e,isPlaying:N,isActive:k,isFullyPlayed:j,setIsFullyPlayed:I}),(0,C.jsxs)("div",{className:We,children:[(0,C.jsxs)("div",{className:Ue,children:[(0,C.jsx)(ke.b,{onClick:U,uri:e.uri,size:ce,className:Le,condensed:!0}),(0,C.jsx)(Ne.e,{className:r()({[Le]:(0,ae.X)(h)}),onClick:L,uri:e.uri,size:ce,canDownload:me,condensed:!0}),(0,C.jsx)(re.r,{spec:c,children:(0,C.jsx)(_.b,{menu:(0,C.jsx)(Ce.b,{uri:e.uri,onMarkAsPlayed:I,isPlayed:j}),children:(0,C.jsx)(T.e,{onClick:G,size:ce})})})]}),(0,C.jsx)("div",{className:Te,children:(0,C.jsx)(K.R,{size:"small",onClick:z,isPlaying:N,ariaPlayLabel:R,ariaPauseLabel:F,version:K.H.secondary,disabled:!e.isPlayable,locked:ue})})]})]}),ye=(0,C.jsx)(we.v,{lineClamp:2,paddingBottom:x?"4px":void 0,className:De,children:(0,C.jsx)(l.E,{as:"span",variant:"bodySmall",children:e.description})});return(0,C.jsx)(V.h,{menu:(0,C.jsx)(Ce.b,{uri:e.uri,onMarkAsPlayed:I,isPlayed:j}),children:(0,C.jsx)(O.v,{draggable:f,onDragStart:v,size:p,className:Be,media:oe,title:H,subtitle:W,id:e.uri,variant:"naked",body:ye,footer:pe,onClick:P,hoverBackgroundColor:"backgroundHighlight",layout:x?"wide":"regular",horizontalGap:x?B.lT:B.CJ,verticalGap:B.v4,paddingBlockStart:"16px",paddingBlockEnd:"16px"})})}var Ye=a(53143),Ze=a(97011),Xe=a(2897),Ke=a(86069),$e=a(62659),Qe=a(15759);function Je({item:e,spec:t}){if("AlbumResponseWrapper"===e.content.__typename){const a=e.content.data;if("Album"===a.__typename)return(0,C.jsx)(be,{album:a,spec:t})}if("EpisodeOrChapterResponseWrapper"===e.content.__typename){const i=e.content.data;if("Chapter"===i.__typename)return(0,C.jsx)(C.Fragment,{});if("Episode"===i.__typename){let e="",s="";return"Podcast"===i.podcastV2.data.__typename&&(e=i.podcastV2.data.name,s=i.podcastV2.data.uri),(0,C.jsx)(qe,{episode:(a=i,{type:le.c.EPISODE,uri:a.uri,name:a.name,description:a.description??"",duration:{milliseconds:a.duration.totalMilliseconds},playedState:(0,$e.fS)(a.duration,a.playedState),images:a.coverArt?.sources.map(Qe.m)??[],languages:a.language?[a.language.code]:[],release:(0,Ke.mp)(a.releaseDate),show:"Podcast"===a.podcastV2.data.__typename?(0,$e.jM)(a.podcastV2.data):null,podcastSubscription:(0,$e.Wx)(a.restrictions,a.playability),gatedEntityRelations:(0,Ze.Gv)(a.gatedEntityRelations),isPlayable:a.playability.playable,isExplicit:a.contentRating?.label===Xe.x7.Explicit,is19PlusOnly:a.contentRating?.label===Xe.x7.NineteenPlus,dynamicColors:(0,Ye.V)(a.visualIdentity?.squareCoverImage?.extractedColorSet),sixteenByNineCoverImages:"ImageV2"===a.visualIdentity?.sixteenByNineCoverImage?.image?.data?.__typename?a.visualIdentity.sixteenByNineCoverImage.image.data.sources?.map((e=>({url:e.url,width:e.maxWidth,height:e.maxHeight}))):null}),podcastName:e,podcastUri:s,spec:t,referrerIdentifier:"whats_new_panel",featureIdentifier:"whats_new_panel"})}}var a;return(0,C.jsx)(C.Fragment,{})}var et=a(35147);const tt="PNAsPBOgLLv9EX8LZ6xL",at="UjEEhwY497frsytmeR9u",it="VQ0BLAewv7Aw5H3hV0YK",st="pxV6pRWzmVb2_leuWtEG",nt="G97bWDW7Mp3aZEL19Umr",rt="p6l0_RUXhei0P7rrQaeg",lt="erd9k4EG_HWK3UzsLhht",ot="ap9brNzQxEcx9SV2FksM",ct="pVVteJIfAdehWU3vX7JR",dt="J_VZoZ53jBtkdyxrt2My",ut="VOGWdrCvz59_A_wAZv58",mt="m8V0BPcmce3GusmXkFhM",pt=i.memo((()=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(et.Y,{as:"h3",variant:"titleSmall",className:dt,charCount:4,isLoading:!0}),(0,C.jsx)("div",{className:ot,children:[20,50,25].map(((e,t)=>(0,C.jsx)(et.Y,{as:"div",variant:"bodySmall",className:dt,charCount:e,isLoading:!0},`${e}-${t}`)))})]})));var yt=a(59161),gt=a(43891),ht=a(53467),xt=a(39463),ft=a(92713),vt=a(84409);const bt={offset:0,limit:50,onlyUnPlayedItems:!1};const wt={[Xe.tv.Album]:{id:"ALBUM",getName:()=>u.Ru.get("web-player.whats-new-feed.filters.music"),ubiId:"Music",active:!1},[Xe.tv.Episode]:{id:"EPISODE",getName:()=>u.Ru.get("web-player.whats-new-feed.filters.episodes"),ubiId:"Podcast & Shows",active:!1}};function Nt(e){switch(e){case Xe.tv.Album:return Xe.tv.Album;case Xe.tv.Episode:return Xe.tv.Episode;case Xe.tv.WhatsNewFeedNotification:return Xe.tv.WhatsNewFeedNotification;case Xe.tv.Unknown:default:return Xe.tv.Unknown}}const kt=({spec:e,items:t})=>{const[a,s]=(0,i.useState)([]),n=e=>{const t=e.state.state;if(!e.state.timestamp?.isoString&&t===Xe.GN.New)return!0;if(e.state.timestamp?.isoString){const t=new Date(e.state.timestamp.isoString).getTime();return Date.now()-t<=36e5}return!1},r=t.findIndex((e=>!n(e))),o=(0,i.useCallback)(((t,a)=>{const i=n(t)&&a<r,s=i&&0===a;return(0,C.jsx)("div",{className:mt,children:(0,C.jsxs)(p.W,{"aria-posinset":a+1,children:[s&&(0,C.jsx)(l.E,{as:"h2",variant:"titleSmall",className:it,semanticColor:"textBase",children:u.Ru.get("web-player.whats-new-feed.new-section-title")}),!i&&a===r&&(0,C.jsx)(l.E,{as:"h2",variant:"titleSmall",className:it,semanticColor:"textBase",children:u.Ru.get("web-player.whats-new-feed.earlier-section-title")}),(0,C.jsx)("hr",{className:ut,"aria-hidden":!0}),(0,C.jsx)(Je,{item:t,spec:e.notificationItemFactory({identifier:t.id,position:a})})]},t.id)},t.id)}),[r,e]),c=(0,i.useRef)(0),d=(0,i.useCallback)((()=>{const e=t.slice(c.current,c.current+10);s((t=>(c.current=c.current+10,[...t,...e])))}),[t]),{ref:y,breakpoint:g}=(0,ht.x)({[Z.E.MEDIUM]:0,[Z.E.LARGE]:600});return(0,C.jsx)(ee.o.Provider,{value:g,children:(0,C.jsx)(m.R,{className:lt,ref:y,firstInteractiveIsWrapper:!0,"aria-rowcount":a.length,"aria-colcount":6,children:(0,C.jsx)(gt._,{onReachBottom:d,triggerOnInitialLoad:!0,children:a.map(o)})})})},Ct=({includedContentTypes:e,data:t,handleRetry:a,error:i,spec:s,loading:n})=>{if(n)return(0,C.jsxs)("div",{className:st,role:"list","data-testid":"whats-new-feed-loading-skeleton",children:[(0,C.jsx)(pt,{}),(0,C.jsx)(pt,{})]});if(i)return(0,C.jsxs)("div",{className:nt,dir:"auto",children:[(0,C.jsx)(l.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:u.Ru.get("error.generic")}),(0,C.jsx)(l.E,{as:"p",variant:"bodyMedium",children:u.Ru.get("web-player.whats-new-feed.panel.error")}),(0,C.jsx)(o.n,{className:rt,onClick:a,size:"small",children:(0,C.jsx)(l.E,{as:"span",variant:"bodyMediumBold",semanticColor:"textBase",children:u.Ru.get("web-player.whats-new-feed.panel.error.button")})})]});const r=t?.whatsNewFeedItems?.items;if(!r||0===r?.length){const{title:t,message:a}=function(e=[]){return e.includes(Xe.tv.Episode)?{title:u.Ru.get("web-player.whats-new-feed.panel.empty-results-podcast.title"),message:u.Ru.get("web-player.whats-new-feed.panel.empty-results-podcast.message")}:e.includes(Xe.tv.Album)?{title:u.Ru.get("web-player.whats-new-feed.panel.empty-results-music.title"),message:u.Ru.get("web-player.whats-new-feed.panel.empty-results-music.message")}:{title:u.Ru.get("web-player.whats-new-feed.panel.empty-results-all.title"),message:u.Ru.get("web-player.whats-new-feed.panel.empty-results-all.message")}}(e);return(0,C.jsx)(y.p,{title:t,message:a,renderInline:!0})}return(0,C.jsx)(kt,{items:r,spec:s},e.join(" "))},jt=()=>{const e=(0,s.jE)(),{spec:t,logger:a}=(0,vt.r)(d.q,{}),n=(0,i.useCallback)((()=>{const{name:e}=h.lo;return[e]}),[]),o=(0,i.useCallback)((()=>{e.invalidateQueries({queryKey:n()})}),[e,n]);(0,i.useEffect)((()=>{a.logImpression(t.impression())}),[a,t]);const[m,p]=(0,i.useState)(wt),y=Object.values(m),x=y.filter((e=>e.active)),f=x.length>0?[]:y,v=x.map((e=>e.id)),b=(0,i.useCallback)((e=>{const t=Nt(e),a={id:m[t]?.id||Xe.tv.Unknown,getName:()=>m[t]?.getName()||"",ubiId:m[t]?.ubiId||"",active:!m[t]?.active},i={...wt,...m,[a.id||"UNKNOWN"]:a};p(i)}),[m,p]),w=(0,i.useCallback)((()=>{p(wt)}),[p]),{data:N,error:k,loading:I}=(0,xt.I)(h.lo,{...bt,includedContentTypes:v.map(Nt)??[]},{gcTime:30*xt.i}),{getGraphQLLoader:E}=(0,g.mv)(),S=E();(0,i.useEffect)((()=>{if(!N?.whatsNewFeedItems?.items)return;const e=N?.whatsNewFeedItems?.items.filter((e=>e.state.state===Xe.GN.New)).map((e=>({id:e.id,state:Xe.GN.Seen})));e.length>0&&async function(e,t){await e(h.BP,{items:t})}(S,{items:e})}),[N?.whatsNewFeedItems?.items,S]);const R=(0,c.NC)(yt.Zyi),[F,A]=(0,ft.x)("dismissed-following-feed-banner-on-whats-new",!1),O=!F&&R,M=(0,i.useCallback)((()=>{A(!0)}),[A]);return(0,C.jsxs)("section",{className:r()(ct,"contentSpacing"),children:[O&&(0,C.jsx)(j,{onDismiss:M}),(0,C.jsxs)("div",{className:tt,children:[(0,C.jsx)(l.E,{as:"h1",semanticColor:"textBase",variant:"titleMedium",className:at,children:u.Ru.get("web-player.whats-new-feed.panel.title")}),(0,C.jsx)(l.E,{as:"p",semanticColor:"textSubdued",variant:"bodySmall",children:u.Ru.get("web-player.whats-new-feed.panel.subtitle")})]}),!k&&(0,C.jsx)(P,{availableFilters:f,toggleFilterId:b,selectedFilters:x,resetFilterIds:w,spec:t.filterChipsFactory()}),(0,C.jsx)(Ct,{includedContentTypes:v.map(Nt),data:N,loading:I,error:k??null,spec:t,handleRetry:o})]})}},12286:(e,t,a)=>{a.d(t,{X:()=>s});var i=a(1231);function s(e){return[i.kw.YES,i.kw.DOWNLOADING,i.kw.WAITING].includes(e)}},32131:(e,t,a)=>{a.d(t,{p:()=>j});var i=a(30758),s=a(97500),n=a.n(s),r=a(78717),l=a(73136),o=a(7998),c=a(88018);const d="(min-width: 0px)",u="(min-width: 0px) and (max-width: 767px)",m="(min-width: 768px)",p="(min-width: 768px) and (max-width: 1023px)",y="(min-width: 1024px)",g="(min-width: 1024px) and (max-width: 1279px)",h="(min-width: 1280px)",x="(min-width: 1280px) and (max-width: 1919px)",f="(min-width: 1920px)",v="FvfvGU3jvHRskUU9v9_8",b="Q9AlbZn2EGzy3MTWXa8X",w="mxmxS0y8LiwSs5nueKPT",N="GXxVAveNFStY3pBI_NO4",k="eHcXC2s97InYP7rMNT0H";var C=a(86070);const j=(0,i.memo)((function(e){const{children:t,message:a,title:i,linkTitle:s,linkTo:j,onClick:I,renderInline:E=!1}=e,{isXSOnly:S,isSMOnly:R}={isXS:(0,c.U)(d),isXSOnly:(0,c.U)(u),isSM:(0,c.U)(m),isSMOnly:(0,c.U)(p),isMD:(0,c.U)(y),isMDOnly:(0,c.U)(g),isLG:(0,c.U)(h),isLGOnly:(0,c.U)(x),isXL:(0,c.U)(f)},F=S||R;return(0,C.jsxs)("section",{className:n()(v,{[b]:E}),children:[t,(0,C.jsx)(r.E,{as:"h1",variant:F?"titleSmall":"titleMedium",className:N,children:i}),(0,C.jsx)(r.E,{variant:F?"bodySmall":"bodyMedium",className:k,children:a}),s&&(j||I)&&(0,C.jsx)(l.$,{colorSet:"invertedLight",className:w,href:j,onClick:I,component:o.v,children:s})]})}))},38274:(e,t,a)=>{a.d(t,{R:()=>p});var i=a(30758),s=a(98165),n=a(93441);function r(e,t,a=!1){if(!e)return void console.error("No list element found. Canceling moving focus");if(!(0,n.fk)(e))return;const i=e.querySelector('[tabindex="0"]');t===s.O.UP&&(0,n.MS)(i,l(e,i,s.O.UP,a)),t===s.O.DOWN&&(0,n.MS)(i,l(e,i,s.O.DOWN,a)),t===s.O.RIGHT&&(0,n.MS)(i,o(i,s.O.RIGHT,a)),t===s.O.LEFT&&(0,n.MS)(i,o(i,s.O.LEFT,a)),t===s.O.HOME&&(0,n.MS)(i,c(s.O.HOME,a)??i),t===s.O.END&&(0,n.MS)(i,c(s.O.END,a)??i)}function l(e,t,a,i=!1){const r=t.closest('li[role="row"]');if(!r)return t;let l=r;const c=Array.from(e.querySelectorAll('li[role="row"]')),d=Array.from(r.querySelectorAll(n.nu)),u=c.indexOf(r);if(u<0)return t;const m=(i&&t!==d[0]||!i&&t!==r)&&!(t instanceof HTMLLIElement);if(a===s.O.UP){if(document.activeElement===e){l=c[c.length-1];return(i?l?.querySelector(n.nu):l)??t}if(m)return o(t,s.O.LEFT,i);let a=u-1;if(-1===a)return t;l=c[a],a-=1}else if(a===s.O.DOWN){if(document.activeElement===e){l=c[0];return(i?l?.querySelector(n.nu):l)??t}if(m)return o(t,s.O.RIGHT,i);let a=u+1;if(a===c.length)return t;l=c[a],a+=1}return(i?l?.querySelector(n.nu):l)??t}function o(e,t,a=!1){const i=e.closest('li[role="row"]');if(!i)return e;let r=e;const l=Array.from(i.querySelectorAll(n.nu)),o=l.indexOf(e);let c=0;if(t===s.O.RIGHT&&o-1!==l.length)c=o+1;else{if(t===s.O.LEFT&&-1===o)return i;if(t===s.O.LEFT&&0!==o)c=o-1;else if(t===s.O.LEFT&&0===o){return(a?i.querySelector(n.nu):i)??i}}return r=l.at(c),r??e}function c(e,t=!1){const{currentFocus:a,listEl:i}=function(){const e=document.activeElement,t=e?.closest("ul");return((0,s.I)(e)||e instanceof HTMLLIElement)&&t?{currentFocus:e,listEl:t}:{currentFocus:null,listEl:null}}();if(null===a||null===i)return null;const r=a.closest('li[role="row"]');if(!r)return a;const l=Array.from(i.querySelectorAll('li[role="row"]')),o=Array.from(r.querySelectorAll(n.nu));if(l.indexOf(r)<0)return a;const c=t&&a===o[0]||!t&&a===r;if(e===s.O.HOME){if(c){return(t?l[0]?.querySelector(n.nu):l[0])??a}return(t?o[1]:o[0])??a}if(e===s.O.END){if(c){return(t?l[l.length-1]?.querySelector(n.nu):l[l.length-1])??a}return o[o.length-1]??a}return a}var d=a(94728),u=a(45978),m=a(86070);const p=(0,i.forwardRef)((({onKeyDown:e,children:t,firstInteractiveIsWrapper:a=!1,...l},o)=>{const c=(0,u.N)(o);(0,d.R)(c);const p=(0,i.useCallback)((t=>{c.current?.contains(t.target)&&("ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"Home"!==t.key&&"End"!==t.key||t.preventDefault(),"ArrowUp"!==t.key&&"ArrowDown"!==t.key||document.documentElement.classList.remove("no-focus-outline"),"ArrowUp"===t.key&&r(c.current,s.O.UP,a),"ArrowDown"===t.key&&r(c.current,s.O.DOWN,a),"ArrowRight"===t.key&&r(c.current,s.O.RIGHT,a),"ArrowLeft"===t.key&&r(c.current,s.O.LEFT,a),"Home"===t.key&&r(c.current,s.O.HOME,a),"End"===t.key&&r(c.current,s.O.END,a),e?.(t))}),[a,c,e]),y=(0,i.useCallback)((e=>{if(!c.current)return;const t=e.target,a=c.current.querySelector('[tabindex="0"]');t.closest('li[role="row"]')&&t!==a&&(0,n.MS)(a,t,{preventScroll:!0})}),[c]);return(0,m.jsx)("ul",{role:"treegrid",ref:c,onKeyDown:p,onFocus:y,tabIndex:0,...l,children:t})}))},47170:(e,t,a)=>{a.d(t,{m:()=>w});var i=a(38934),s=a(30758),n=a(64958),r=a(82462),l=a(92440),o=a(43580),c=a(40539),d=a(30920),u=a(73649),m=a(53495),p=a(46313),y=a(21765),g=a(28838),h=a(97202),x=a(51584),f=a(14776),v=x.Ay.button.withConfig({displayName:"ChipClear__ChipClearComponent",componentId:"sc-zv5btm-0"})(["",""],(function(e){var t=e.$size,a=e.$isUsingKeyboard,i=e.$useBrowserDefaultFocusStyle;return(0,f.AH)(["",";",";",";border-radius:50%;display:inline-flex;vertical-align:middle;padding:",";transition-property:background-color,color;transition-duration:var(--shortest-3);transition-timing-function:var(--productive);background-color:",";&:hover{background-color:",";transition-duration:var(--shortest-1);}&:active{background-color:",";}&:disabled,&[aria-disabled='true']{background-color:",";opacity:",";cursor:",";}&:not(:last-child){margin-inline-end:",";margin-block-end:",";}"],(0,u.W)(),(0,m.y0)(i,!0),!i&&(0,p.X2)({isUsingKeyboard:a}),"sm"===t?(0,y.po)("tighter-2","8px"):(0,y.po)("tighter","12px"),(0,g.oj)(g.ZI.backgroundTintedBase),(0,g.oj)(g.ZI.backgroundTintedHighlight),(0,g.oj)(g.ZI.backgroundTintedPress),(0,g.oj)(g.ZI.backgroundTintedBase),h.ok,h.zM,(0,y.po)("tighter-2","8px"),(0,y.po)("tighter-2","8px"))})),b=["size"],w=s.forwardRef((function(e,t){var a=e.size,u=void 0===a?"sm":a,m=(0,i.A)(e,b),p=(0,s.useContext)(l.E).isUsingKeyboard,y=(0,s.useContext)(n.g).useBrowserDefaultFocusStyle,g=(0,s.useContext)(r.i_),h="sm"===u?"small":"medium";return"next"===(0,r.BS)(r.NH.chip,g)?s.createElement(c.v,Object.assign({ref:t,size:u,iconLeading:d.M},m,{"data-encore-id":o.j.ChipClear})):s.createElement(v,Object.assign({ref:t,$size:u,$isUsingKeyboard:p,$useBrowserDefaultFocusStyle:y},m,{"data-encore-id":o.j.ChipClear}),s.createElement(d.M,{size:h,"aria-hidden":"true"}))}))},49294:(e,t,a)=>{a.d(t,{P:()=>m});var i=a(42394),s=a(51152),n=a(74459),r=a(99893),l=a(52567),o=a(94545),c=a(13695),d=a(85370),u=a(86070);const m=({episode:e,showVideoBadge:t=!1})=>{const{badges:a}=(0,d.b)((e=>"contentRating"in e)(e)?{contentRating:e?.contentRating?.label,isPaywalled:e.podcastSubscription?.isPaywalled,isVideo:e.mediaTypes?.includes(c.C.Video)}:{isExplicit:e?.isExplicit,isMOGEFRestricted:e?.is19PlusOnly,isPaywalled:e.podcastSubscription?.isPaywalled}),m=e.gatedEntityRelations&&e.gatedEntityRelations.entitiesWithValueProps.at(0),p=(0,n.B)(m,e);return(0,u.jsxs)(u.Fragment,{children:[a.explicit&&(0,u.jsx)(r.U,{}),p?(0,u.jsx)(s.x,{gatedEntityRelations:e.gatedEntityRelations}):a.paid&&(0,u.jsx)(l.y,{}),a.nineteen&&(0,u.jsx)(o.q,{size:16}),t&&a.isVideo&&(0,u.jsx)(i.T,{})]})}},55168:(e,t,a)=>{a.d(t,{e:()=>o});var i=a(30758),s=a(34843),n=a(19906),r=a(86070);const l=i.memo((function({uri:e,size:t=s.M.md,className:a,onClick:l,showUpsell:o,canDownload:c,condensed:d}){const[u,m]=(0,n.A)(e),p=(0,i.useCallback)((()=>{m(!u)}),[u,m]);return(0,r.jsx)(s.f,{className:a,isFollowing:u,onFollow:p,onClick:l,uri:e,size:t,showUpsell:o,canDownload:c,condensed:d})})),o=i.memo((function(e){return(0,r.jsx)(l,{...e})}))},85518:(e,t,a)=>{a.d(t,{j:()=>I});var i=a(55797),s=a(70397);const n="wIA_5Ypq0rltNPeZQpM4",r="Swi6YtNEFCCVz8l4y75v",l="pklLPOhfigdytL9bPoth",o="sb24Y8kdMZInJ8aI8dXT";var c=a(18298),d=a(2401),u=a(86070);function m({ariaValueText:e,max:t,current:a}){const i={transform:`translateX(-${100-(t&&a?100*Math.min(1,a/t):0)}%)`},m=Math.ceil(Math.max(t-a,0)),{hours:p,minutes:y,seconds:g}=(0,d.S)(t),h=(0,c.j)({h:p,m:y,s:g}),{hours:x,minutes:f,seconds:v}=(0,d.S)(m),b=(0,c.j)({h:x,m:f,s:v}),w=e||s.Ru.get("time.left-of",b,h);return(0,u.jsxs)("div",{className:n,role:"progressbar",tabIndex:0,"aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":t,"aria-valuetext":w,children:[(0,u.jsx)("div",{className:r}),(0,u.jsx)("div",{className:l,children:(0,u.jsx)("div",{"data-testid":"progressBarFg",className:o,style:i})})]})}const p="qfYkuLpETFW3axnfMntO",y="_q93agegdE655O5zPz6l",g="z7Yl7CIT1AB0y91f_moh",h="iLIlkUcfIq56KncGtX7u",x="nV50yZ6BR_TIuWP3l7b1",f="qLjIx_SzBEpDRA_q7kxQ";var v=a(78717),b=a(60940),w=a(97500),N=a.n(w),k=a(97471);const C="xWm_uA0Co4SXVxaO7wlB",j=({durationMs:e,className:t,displaySeconds:a})=>{const{hours:i,minutes:n,seconds:r}=(0,d.S)(e);a=!1!==a&&!i&&r;const l=(0,c.j)({h:i,m:n,s:a?r:0});return l?(0,u.jsx)("span",{className:N()(C,t),children:s.Ru.get("time.left",l)}):null},I=e=>{const{resumePositionMs:t=0,releaseDate:a,isPlaying:n,fullyPlayed:r,durationMs:l,position:o=t,compactVariant:c=!1,className:d,progressBarClassName:w,progressStateClassName:C,releaseDateClassName:I}=e,E=a&&a.isoString?(0,u.jsx)(v.E,{as:"p",variant:"bodySmall",className:y,children:(0,i.V2)((0,i.ad)(a.isoString),a.precision)}):null,S=(()=>{if(0===l)return null;if(r&&!n)return(0,u.jsxs)("div",{className:N()(h,C),children:[(0,u.jsx)(v.E,{as:"p",variant:"bodySmall",className:g,children:s.Ru.get("episode.audiobook.chapter.finished")}),(0,u.jsx)(b.i,{size:"small",className:f,"aria-hidden":"true"})]});if(o>0||n){const e=Math.ceil(Math.max(l-o,0));return(0,u.jsx)("div",{className:N()(h,C),children:(0,u.jsx)(v.E,{as:"p",variant:"bodySmall",className:g,children:(0,u.jsx)(j,{durationMs:e,displaySeconds:!c&&void 0})})})}return(0,u.jsx)(v.E,{as:"p",variant:"bodySmall",className:N()(y,I),"data-testid":"episode-progress-not-played",children:(0,u.jsx)(k.d,{durationMs:l,displaySeconds:!c&&void 0})})})(),R=0===l?null:!r&&o>0||n?(0,u.jsx)("div",{className:N()(x,w),children:(0,u.jsx)(m,{current:o,max:l})}):null;return E||S||R?(0,u.jsxs)("div",{className:N()(p,d),children:[E,S,R]}):null}},97011:(e,t,a)=>{a.d(t,{xh:()=>y,Gv:()=>w,S:()=>g,_v:()=>x,e$:()=>f});a(2557),a(86328),a(77369),a(70397);var i=a(2897),s=a(19151),n=a(99875),r=a(53143);const l="recent";var o=a(71572),c=a(62659),d=a(56859),u=a(22762);function m(e){switch(e){case i.$c.AgeRestricted:return n.Uk.AgeRestricted;case i.$c.CatalogueRestricted:return n.Uk.CatalogueRestricted;case i.$c.CountryRestricted:return n.Uk.CountryRestricted;case i.$c.Explicit:return n.Uk.Explicit;case i.$c.PaymentRequired:return n.Uk.PaymentRequired;case i.$c.Playable:return n.Uk.Playable;case i.$c.Unavailable:default:return n.Uk.Unavailable}}function p(e,t=!1){return{playable:!t&&e.playable,reason:t?n.Uk.Anonymous:m(e.reason)}}function y(e){return e.previewPlayback?.audioPreview?.cdnUrl?{url:e.previewPlayback.audioPreview.cdnUrl}:null}function g(e){const t="Podcast"!==(a=e.podcastV2).data.__typename?null:{uri:a.data.uri,name:a.data.name,coverArt:a.data.coverArt?.sources||[],trailer:(i=a.data.trailerV2,("Episode"===i?.data.__typename?{uri:i.data.uri}:null)||null),showTypes:(a.data.showTypes||[]).filter(h)};var a,i;const n=(0,c.Wx)(e?.restrictions,e.playability),l=(0,u.p)(e.gatedEntityRelations)?.accessInfo,o=(0,u.v)(l);return{type:s.c.EPISODE,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",podcast:t,episodeType:e.type,mediaTypes:e.mediaTypes,coverArt:e.coverArt?.sources||[],audio:e.audio,releaseDate:(d=e.releaseDate,d?{isoString:d.isoString,precision:d.precision}:null),playedState:e.playedState,playability:p(e.playability),audioPreview:y(e),sharingInfo:e.sharingInfo,duration:{milliseconds:e.duration.totalMilliseconds},contentRating:e.contentRating,segmentsCount:0,podcastSubscription:n,contentInformation:e.contentInformation,transcript:e.transcripts?.items||null,upsellExplanation:o?b(o):null,gatedEntityRelations:w(e.gatedEntityRelations),hasGatedEntityRelationAccess:Boolean(l?.isUserMemberOfAtLeastOneGroup),dynamicColors:(0,r.V)(e.visualIdentity?.squareCoverImage?.extractedColorSet),sixteenByNineCoverImages:"ImageV2"===e.visualIdentity?.sixteenByNineCoverImage?.image?.data?.__typename?e.visualIdentity.sixteenByNineCoverImage.image.data.sources?.map((e=>({url:e.url,width:e.maxWidth,height:e.maxHeight}))):null};var d}function h(e){return!!e}function x(e){const t="Episode"===e.trailerV2?.data.__typename?(a=e.trailerV2.data,{type:s.c.EPISODE,uri:a.uri,name:a.name,coverArt:a.coverArt?.sources||[],audio:a.audio,audioPreview:y(a),sharingInfo:a.sharingInfo,duration:{milliseconds:a.duration.totalMilliseconds},contentRating:a.contentRating,mediaTypes:a.mediaTypes}):null;var a;const i=(0,o.q)(e?.accessInfo?.unlockedBy),n=(0,u.p)(e.gatedEntityRelations),r=(0,u.v)(n?.accessInfo);return{type:s.c.SHOW,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",coverArt:e.coverArt?.sources||[],trailer:t,topics:e.topics.items,podcastType:e.musicAndTalk?"SHOW":"PODCAST",showTypes:(e.showTypes||[]).filter(h),publisherName:e.publisher?.name||"",consumptionOrder:l,gatedContentAccessReason:i,isLocked:null===i,rating:e.rating,isSaved:e.saved,gatedEntityRelations:w(e.gatedEntityRelations),hasGatedEntityRelationAccess:Boolean(!!n&&n?.accessInfo?.isUserMemberOfAtLeastOneGroup),upsellExplanation:r?b(r):null,gatedEntityCoverArt:n?.coverArt?.sources||null}}function f(e){const t=!1===e?.isUserMemberOfAtLeastOneGroup,a=e?.unlockedBy?.includes(i.UG.Abp);return t&&!a}function v(e){return null!==e.displayText}function b({title:e,body:t,actionText:a,url:i}){return e&&t&&a&&i?{title:e,body:t,cta:a,url:i}:null}function w(e){return{entitiesWithValueProps:e.map((({badges:e,relatedEntity:t,summary:a,fallbackGatedEntity:i})=>"EpisodeResponseWrapper"===t?.__typename||"PodcastResponseWrapper"===t?.__typename?{uri:t._uri,summary:a?.forUserWithoutAccess?{forUserWithoutAccess:a.forUserWithoutAccess,forUserWithAccess:a.forUserWithAccess??void 0}:void 0,valueProps:e.filter(v),fallbackNavigation:i?.description?{uri:i.uri,description:i?.description}:void 0}:null)).filter(d.P)}}},97471:(e,t,a)=>{a.d(t,{d:()=>c});var i=a(97500),s=a.n(i),n=a(2401),r=a(18298);const l="UyzJidwrGk3awngSGIwv";var o=a(86070);const c=({durationMs:e,className:t,displaySeconds:a})=>{const{hours:i,minutes:c,seconds:d}=(0,n.S)(e);return a=!1!==a&&!i&&d,(0,o.jsx)("span",{className:s()(l,t),children:(0,r.j)({h:i,m:c,s:a?d:0})})}},97630:(e,t,a)=>{a.d(t,{V:()=>r});var i=a(30758),s=a(18831),n=a(98756);function r(e){const t=(0,s.o_h)(e);let a="";return t&&(a=t.toURLPath(!0)),function(e){const t=(0,n.g)();return(0,i.useCallback)((()=>{""!==e&&t(e)}),[e,t])}(a)}}}]);
//# sourceMappingURL=dwp-whats-new-feed.js.map