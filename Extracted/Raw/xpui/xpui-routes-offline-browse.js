"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2630,3569],{7463:(e,a,s)=>{s.d(a,{y:()=>n});var t=s(30758),r=s(12665);function n(){const e=(0,r.A)(),[a,s]=(0,t.useState)(e.getIsEnabled());(0,t.useEffect)((()=>{const a=e.subscribeIsEnabled(s);return()=>a()}),[e]);return[a,(0,t.useCallback)((a=>e.setIsEnabled(a)),[e])]}},13659:(e,a,s)=>{s.d(a,{T:()=>u});var t=s(22119),r=s(79915),n=s(87859),i=s(95685),l=s(84947),o=s(19151),c=s(9065),d=s(86070);function u(e,a){switch(e.type){case o.c.ALBUM:return(0,d.jsx)(t.a,{uri:e.uri,name:e.name,images:e.images,sharingInfo:null,artists:e.artists,index:a},e.uri);case o.c.ARTIST:return(0,d.jsx)(r.a,{uri:e.uri,name:e.name,images:e.images,index:a},e.uri);case o.c.SHOW:return(0,d.jsx)(l.o,{uri:e.uri,name:e.name,images:e.images,publisher:e.publisher,sharingInfo:null,mediaType:c.Q.UNKNOWN,index:a},e.uri);case o.c.AUDIOBOOK:return(0,d.jsx)(n.M,{uri:e.uri,name:e.name,images:e.images,authorName:e.authorName,authors:e.authors,index:a},e.uri);case o.c.PLAYLIST:return(0,d.jsx)(i.B,{uri:e.uri,name:e.name,images:e.images,description:"",authorName:e.creatorName,index:a},e.uri);default:return null}}},17588:(e,a,s)=>{s.d(a,{l:()=>n});var t=s(30758),r=s(67144);function n(){const e=(0,r.B)(),[a,s]=(0,t.useState)(!0),[n,i]=(0,t.useState)(!1),[l,o]=(0,t.useState)([]);return(0,t.useEffect)((()=>{(async()=>{try{const a=await e.getDownloads();o(a)}catch(e){i(!0)}finally{s(!1)}})()}),[e]),{isLoading:a,hasError:n,items:l}}},23347:(e,a,s)=>{s.d(a,{O:()=>d});s(77369);var t=s(30758),r=s(70397),n=s(96579),i=s(5201);const l="IIKJOrbx5pjNtg3gpI0H";var o=s(86070);const c=e=>e,d=({authorName:e="",authors:a,nameHighlighter:s=c})=>(0,i.H)()&&a?.length?a.map((({uri:e,name:a},i)=>(0,o.jsxs)(t.Fragment,{children:[i?r.Ru.getSeparator():null,e?(0,o.jsx)(n.N,{to:e,className:l,children:s(a)},i):s(a)]},i))):s(e)},62936:(e,a,s)=>{s.d(a,{E:()=>n});var t=s(30758),r=s(28487);function n(e){var a,s,n,i,l,o=e.size?r.$Z[e.size]:e.iconSize,c=(0,r._C)([{size:16,svgContent:"<path d='M1.75 1A1.75 1.75 0 0 0 0 2.75v11.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0 0 16 14.25v-9.5A1.75 1.75 0 0 0 14.25 3H7.82l-.65-1.125A1.75 1.75 0 0 0 5.655 1z'/>"},{size:24,svgContent:"<path d='M1 4a2 2 0 0 1 2-2h5.155a3 3 0 0 1 2.598 1.5l.866 1.5H21a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2z'/>"}],o||24),d=null!==(a=e.autoMirror)&&void 0!==a&&a;return t.createElement(r.In,Object.assign({},e,{autoMirror:d,viewBox:"0 0 ".concat(c.size," ").concat(c.size),dangerouslySetInnerHTML:{__html:"".concat((i=e.title,l=e.titleId,i?"<title ".concat(l?'id="'.concat(l,'"'):"",">").concat(i,"</title>"):"")).concat((s=e.desc,n=e.descId,s?"<desc ".concat(n?'id="'.concat(n,'"'):"",">").concat(s,"</desc>"):"")).concat(c.svgContent)}}))}},75398:(e,a,s)=>{s.d(a,{e:()=>i});var t=s(62936);const r="k270skPbT7JOaSidSA2a";var n=s(86070);const i=({iconSize:e=64,...a})=>(0,n.jsx)("div",{className:r,children:(0,n.jsx)(t.E,{iconSize:e,...a,semanticColor:"textBrightAccent","aria-hidden":!0})})},79086:(e,a,s)=>{s.d(a,{OfflineEmptyState:()=>c});var t=s(78717),r=s(64398),n=s(88677),i=s(70397),l=s(99031),o=s(86070);const c=({showDownloadInformation:e})=>(0,o.jsxs)("div",{className:l.A.emptyStateContainer,children:[e?(0,o.jsx)(r.i,{size:"xxlarge",className:l.A.icon}):(0,o.jsx)(n.P,{size:"xxlarge",className:l.A.icon}),(0,o.jsx)(t.E,{as:"h1",variant:"titleLarge",semanticColor:"textBase",dir:"auto",children:i.Ru.get("web-player.offline.empty-state.title")}),(0,o.jsx)(t.E,{as:"h2",variant:"bodyMedium",semanticColor:"textSubdued",dir:"auto",className:l.A.info,children:e?i.Ru.get("web-player.offline.empty-state.subtitle"):i.Ru.get("offline.callout-disconnected")})]})},82585:(e,a,s)=>{s.r(a),s.d(a,{default:()=>m});s(77369);var t=s(97500),r=s.n(t),n=s(70397),i=s(13659),l=s(3877),o=s(92544),c=s(17588),d=s(99031),u=s(86070);const m=()=>{const{hasError:e,isLoading:a,items:s}=(0,c.l)();return e||a?(0,u.jsx)(l.LoadingPage,{hasError:e,errorMessage:n.Ru.get("error.request-collection-music-downloads-failure"),loadOffline:!0}):(0,u.jsx)("div",{className:r()(d.A.offline,"contentSpacing"),children:(0,u.jsx)(o.$,{title:n.Ru.get("music_downloads"),total:s.length,showAll:!0,children:s.map(((e,a)=>(0,i.T)(e,a)))})})}},84947:(e,a,s)=>{s.d(a,{o:()=>g});var t=s(70397),r=s(90098),n=s(71259),i=s(23658),l=s(3257),o=s(82102),c=s(35054),d=s(57399),u=s(9065),m=s(86070);const g=({images:e,name:a,uri:s,publisher:g,sharingInfo:x,mediaType:h,isHero:f=!1,onClick:p,onPlay:y,testId:j,index:b,requestId:I,color:v,variant:C,logCardImpressions:S=!1,role:k})=>{let P;const w=h===u.Q.MIXED?t.Ru.get("type.show"):t.Ru.get("card.tag.show");return P=f?(0,m.jsx)(l.A,{index:b,onClick:p,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:s,isPlayable:!1,onPlay:y,renderCardImage:()=>(0,m.jsx)(n.M,{isHero:!0,images:e,color:v}),renderSubHeaderContent:()=>(0,m.jsxs)(i.c,{isHero:!0,children:[(0,m.jsx)(o.t,{children:w}),g&&(0,m.jsx)("span",{children:g})]}),testId:j,requestId:I,logCardImpressions:S}):(0,m.jsx)(r.Z,{variant:C,onClick:p,isPlayable:!1,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:s,role:k,index:b,renderCardImage:()=>(0,m.jsx)(n.M,{isHero:f,images:e,color:v}),renderSubHeaderContent:()=>(0,m.jsx)(i.c,{children:g&&(0,m.jsx)("span",{children:g})}),testId:j,requestId:I,logCardImpressions:S}),(0,m.jsx)(c.h,{menu:(0,m.jsx)(d.H,{uri:s,sharingInfo:x}),children:P})}},87108:(e,a,s)=>{s.d(a,{P:()=>r});var t=s(7463);function r(){return(0,t.y)()[0]}},87859:(e,a,s)=>{s.d(a,{M:()=>N});var t=s(30758),r=s(97500),n=s.n(r),i=s(62411),l=s(78717),o=s(461),c=s(79444),d=s(65809),u=s(70397),m=s(48729),g=s(90098),x=s(71259),h=s(23658),f=s(3257),p=s(82102),y=s(35054),j=s(99280),b=s(72983),I=s(23347),v=s(56510),C=s(59161),S=s(55797);const k="udGpsOceE80fzjUaGxkU",P="wMX24UZ671wvuRJkkUOC";var w=s(86070);const A=({isPreRelease:e,publishDate:a})=>e&&a?("string"==typeof a&&(a=new Date(a)),(0,w.jsx)(l.E,{variant:"bodySmall",semanticColor:"textSubdued",children:(0,w.jsx)("span",{children:u.Ru.get("web-player.prerelease.releases_on",{date:u.Ru.formatDate((0,S.ad)(a.toISOString()),(0,S.s7)({month:"long",day:"numeric",year:"numeric"}))})})})):null,R=({signifierText:e})=>e?(0,w.jsx)(l.E,{as:"div",variant:"bodySmall",semanticColor:"textBrightAccent",children:e}):null,N=({name:e,uri:a,images:s,authorName:r,authors:S,isHero:N,className:O,onClick:E,onPlay:T,testId:H,index:M,requestId:z,isLocked:L=!1,isPlayable:D=!1,color:U,signifierText:_,isPreRelease:B=!1,publishDate:F,variant:K,consumptionCapExplanation:q,logCardImpressions:Z=!1,role:W})=>{const{playUri:J,playOptions:Q}=(0,v.J)(a),$=(0,i.wA)(),G=(0,d.NC)(C.HJU),V=!!q,X=(0,w.jsx)(I.O,{authorName:r,authors:S}),Y=(0,t.useCallback)((()=>{T?.(),V&&$((0,m._3)())}),[$,V,T]);let ee;return ee=N?(0,w.jsx)(f.A,{className:O,index:M,onClick:E,headerText:e,featureIdentifier:"audiobook",uri:a,playOptions:Q,onPlay:V?Y:void 0,delegatePlayback:V,isPlayable:(D||V)&&G,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,r),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,r),dragMimeType:b.fl.AUDIOBOOKS,renderCardImage:()=>(0,w.jsx)(x.M,{isHero:!0,images:s,color:U,FallbackComponent:e=>(0,w.jsx)(o.l,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(p.t,{children:u.Ru.get("card.tag.audiobook")}),(0,w.jsx)(l.E,{variant:"bodySmall",children:X})]}),getSignifierContent:()=>(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(A,{isPreRelease:B,publishDate:F}),(0,w.jsx)(R,{signifierText:_})]}),testId:H,requestId:z,logCardImpressions:Z}):(0,w.jsx)(g.Z,{className:O,variant:K,index:M,onClick:E,headerText:e,featureIdentifier:"audiobook",uri:a,role:W,playUri:J,onPlay:V?Y:void 0,delegatePlayback:V,playOptions:Q,isPlayable:(D||V)&&G,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,r),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,r),dragMimeType:b.fl.AUDIOBOOKS,renderCardImage:()=>(0,w.jsx)(x.M,{images:s,color:U,FallbackComponent:e=>(0,w.jsx)(o.l,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(h.c,{lineClamp:_?1:2,children:[L&&(0,w.jsx)(c.y,{size:"small",className:k}),(0,w.jsx)(A,{isPreRelease:B,publishDate:F}),(0,w.jsx)(l.E,{as:"span",variant:"bodySmall",className:n()({[P]:B&&r}),children:X})]}),(0,w.jsx)(R,{signifierText:_})]}),testId:H,requestId:z,logCardImpressions:Z}),(0,w.jsx)(y.h,{menu:(0,w.jsx)(j.p,{uri:a}),children:ee})}},93868:(e,a,s)=>{s.r(a),s.d(a,{default:()=>A});s(77369);var t=s(97500),r=s.n(t),n=s(70397),i=s(13659),l=s(92544),o=s(30758),c=s(52427),d=s(90098),u=s(71259),m=s(23658),g=s(75398),x=s(95509),h=s(4116),f=s(92410),p=s(87108),y=s(12665),j=s(99047),b=s(72432),I=s(42099),v=s(86070);const C=function({uri:e,name:a,images:s,index:t}){const r=(0,j.o)(),i=(0,o.useRef)(null),l=(0,o.useRef)(!0),x=(0,y.A)(),{isPlaying:C}=(0,I.l_)(f.bV),{togglePlay:S}=(0,b.P)({uri:f.bV,pages:[{items:i.current?.map((e=>({...e,provider:null})))||[]}]},{featureIdentifier:"local_files"});(0,o.useEffect)((()=>(l.current=!0,()=>{l.current=!1})),[]);const k=(0,p.P)(),P=(0,c.YQ)((async(e,a)=>{if(!i.current){const e=await x.getTracks();i.current=e}l&&S({loggingParams:a},{uri:f.bV,pages:[{items:i.current?.map((e=>({...e,provider:null})))||[]}]})}),h.d,{leading:!0,trailing:!1});return r.canFetchAllTracks&&k?(0,v.jsx)(d.Z,{index:t,delegatePlayback:!0,isPlaying:C,onPlay:P,headerText:a,featureIdentifier:"local_files",uri:e,renderCardImage:()=>(0,v.jsx)(u.M,{images:s,FallbackComponent:g.e}),renderSubHeaderContent:()=>(0,v.jsx)(m.c,{children:n.Ru.get("local-files.description")})}):null},S=({index:e})=>{const a=(0,x.Iu)();return(0,v.jsx)(o.Suspense,{fallback:null,children:(0,v.jsx)(C,{index:e,name:a.name,uri:a.uri,images:a.images})})};var k=s(79086),P=s(17588),w=s(99031);const A=function(){const{hasError:e,items:a}=(0,P.l)(),s=(0,p.P)();return e?null:(0,v.jsx)("div",{className:r()(w.A.offline,"contentSpacing"),children:a.length>0||s?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(l.$,{title:n.Ru.get("music_downloads"),total:a.length,seeAllUri:"/music-downloads",alwaysShowSeeAll:!0,children:a.map(((e,a)=>(0,i.T)(e,a)))}),s&&(0,v.jsx)(l.$,{title:n.Ru.get("local-files"),total:1,showAll:!0,children:(0,v.jsx)(S,{index:0})})]}):(0,v.jsx)(k.OfflineEmptyState,{showDownloadInformation:!0})})}},99031:(e,a,s)=>{s.d(a,{A:()=>t});const t={offline:"tpweADmlLll_vhLLKgu2",emptyStateContainer:"e9Wimf8ZtOrZpvPbfWtg",icon:"zCM7ss2KtS5tWRItxyls",info:"lG5QlwmK6exKdfikWw2A"}}}]);
//# sourceMappingURL=xpui-routes-offline-browse.js.map