"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[6863],{15623:(e,t,a)=>{a.d(t,{u:()=>p});var r=a(97500),i=a.n(r),n=a(52427),s=a(26852),o=a(28831),c=a(4116),l=a(68293),u=a(40795),d=a(86070);const p=({uri:e,src:t,playAriaLabel:a,onClick:r,isPlaying:p,isActive:h,isLocked:m,isEpisode:y,isVideo:g,spec:x})=>{const v=(0,l.s)(),b=(0,n.YQ)((t=>{let a;if(x){const t=x.playbackButtonFactory();let r;r=h&&p?t.hitPause({itemToBePaused:e}):h&&!p?t.hitResume({itemToBeResumed:e}):t.hitPlay({itemToBePlayed:e}),a=v.logInteraction(r)}r(t,a)}),c.d,{leading:!0,trailing:!1});return(0,d.jsxs)("div",{className:u.A.rowImageWithPlay,children:[(0,d.jsx)(o.e,{src:t,isEpisode:y,isVideo:g}),(0,d.jsx)(s.x,{className:i()(u.A.rowPlayPauseButton,u.A.rowImagePlayPauseButton),iconClassName:u.A.rowPlayPauseIcon,onClick:b,isPlaying:p,isLocked:m,playAriaLabel:a})]})}},20792:(e,t,a)=>{a.d(t,{J:()=>s});var r=a(63388),i=a(39463);const n=Spicetify.GraphQL.Definitions["getTrack"]=new r.l("getTrack","query","612585ae06ba435ad26369870deaae23b5c8800a256cd8a57e08eddc25a37294",null),s=(e,t)=>(0,i.I)(n,e,t)},37992:(e,t,a)=>{a.d(t,{R:()=>n});var r=a(96579),i=a(86070);const n=({uri:e,enabled:t,className:a,children:n,onClick:s})=>t?(0,i.jsx)(r.N,{to:e,className:a,onClick:s,children:n}):(0,i.jsx)(i.Fragment,{children:n})},42551:(e,t,a)=>{a.d(t,{Mz:()=>o});var r="NOT_FOUND";var i=function(e,t){return e===t};function n(e,t){var a,n,s="object"==typeof t?t:{equalityCheck:t},o=s.equalityCheck,c=void 0===o?i:o,l=s.maxSize,u=void 0===l?1:l,d=s.resultEqualityCheck,p=function(e){return function(t,a){if(null===t||null===a||t.length!==a.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],a[i]))return!1;return!0}}(c),h=1===u?(a=p,{get:function(e){return n&&a(n.key,e)?n.value:r},put:function(e,t){n={key:e,value:t}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}):function(e,t){var a=[];function i(e){var i=a.findIndex((function(a){return t(e,a.key)}));if(i>-1){var n=a[i];return i>0&&(a.splice(i,1),a.unshift(n)),n.value}return r}return{get:i,put:function(t,n){i(t)===r&&(a.unshift({key:t,value:n}),a.length>e&&a.pop())},getEntries:function(){return a},clear:function(){a=[]}}}(u,p);function m(){var t=h.get(arguments);if(t===r){if(t=e.apply(null,arguments),d){var a=h.getEntries().find((function(e){return d(e.value,t)}));a&&(t=a.value)}h.put(arguments,t)}return t}return m.clearCache=function(){return h.clear()},m}function s(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var n,s=0,o={memoizeOptions:void 0},c=r.pop();if("object"==typeof c&&(o=c,c=r.pop()),"function"!=typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var l=o.memoizeOptions,u=void 0===l?a:l,d=Array.isArray(u)?u:[u],p=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var a=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+a+"]")}return t}(r),h=e.apply(void 0,[function(){return s++,c.apply(null,arguments)}].concat(d)),m=e((function(){for(var e=[],t=p.length,a=0;a<t;a++)e.push(p[a].apply(null,arguments));return n=h.apply(null,e)}));return Object.assign(m,{resultFunc:c,memoizedResultFunc:h,dependencies:p,lastResult:function(){return n},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),m}}var o=s(n)},46044:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Qr});a(77369);var r=a(30758),i=a(97500),n=a.n(i),s=a(85387),o=a(78717),c=a(81458),l=a(35394);const u="music",d="5.1.0",p="default",h="16.2.6";function m(e){return new y(e)}class y{constructor(e){this._path=[{name:"desktop-track",...e.data}],e?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=e.parentAbsoluteLocation)}headerFactory(){return new y.HeaderEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}actionBarFactory(){return new y.ActionBarEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}!function(e){e.HeaderEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"header"}),t&&(this._parentAbsoluteLocation=t)}artistLinkFactory(t){return new e.HeaderEventFactory.ArtistLinkEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:t})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}}(y||(y={})),function(e){e.ActionBarEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"action_bar"}),t&&(this._parentAbsoluteLocation=t)}playButtonFactory(){return new e.ActionBarEventFactory.PlayButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}saveButtonFactory(){return new e.ActionBarEventFactory.SaveButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}contextButtonFactory(){return new e.ActionBarEventFactory.ContextButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}downloadButtonFactory(){return new e.ActionBarEventFactory.DownloadButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}}(y||(y={})),function(e){!function(e){e.ArtistLinkEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({...a,name:"artist_link"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.HeaderEventFactory||(e.HeaderEventFactory={}))}(y||(y={})),function(e){!function(e){e.PlayButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"play_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitPlay({itemToBePlayed:e}){return{actionParameterNames:["item_to_be_played"],actionParameterValues:[e.toString()],actionName:"play",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitResume({itemToBeResumed:e}){return{actionParameterNames:["item_to_be_resumed"],actionParameterValues:[e.toString()],actionName:"resume",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitPause({itemToBePaused:e}){return{actionParameterNames:["item_to_be_paused"],actionParameterValues:[e.toString()],actionName:"pause",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(y||(y={})),function(e){!function(e){e.SaveButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"save_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitLike({itemToBeLiked:e}){return{actionParameterNames:["item_to_be_liked"],actionParameterValues:[e.toString()],actionName:"like",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitRemoveLike({itemNoLongerLiked:e}){return{actionParameterNames:["item_no_longer_liked"],actionParameterValues:[e.toString()],actionName:"remove_like",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(y||(y={})),function(e){!function(e){e.ContextButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"context_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(y||(y={})),function(e){!function(e){e.DownloadButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"download_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[p,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[d,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:u,generatorVersion:h,interactionType:"hit",specificationMode:p,specificationVersion:d,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(y||(y={}));var g=a(18831),x=a(70397),v=a(35054),b=a(53169),L=a(19399),A=a(49740),f=a(13335),k=a(19667),j=a(98210),_=a(4218),C=a(62272),N=a(86208),R=a(29229),I=a(58444),w=a(64010),E=a(24448),P=a(37493),S=a(84559),T=a(41350),V=a(95638),U=a(63388),B=a(39463);const F=Spicetify.GraphQL.Definitions["internalLinkRecommenderTrack"]=new U.l("internalLinkRecommenderTrack","query","c77098ee9d6ee8ad3eb844938722db60570d040b49f41f5ec6e7be9160a7c86b",null);var O=a(37992),M=a(68229),D=a(76999),q=a(60331),z=a(15623),G=a(80797),W=a(42511),$=a(95231),Y=a(58955),H=a(2835),X=a(27403),Z=a(97935),Q=a(28521),K=a(42200),J=a(43159),ee=a(8312),te=a(88705),ae=a(12912),re=a(99893),ie=a(84049),ne=a(94545),se=a(10070),oe=a(85370);const ce="Z9Dr8PkXFtlO8KnnDcxp",le="Bm0LUMlhVIcF5qusgdUP",ue="GIyB7JDkRwjtVL6PSBbg",de="whTIka0YYAkqhqrs26Wa";var pe=a(86070);const he=r.memo((function({uri:e,name:t,imgUrl:a,artists:r,isExplicit:i,index:n,albumUri:s,contextUri:o,isPlayable:c,isMOGEFRestricted:l,totalMilliseconds:u,playcount:d,usePlayContextItem:p}){const{isActive:h,isPlaying:m,triggerPlay:y,togglePlay:g}=p({uri:e,index:n}),L=(0,se.T)(e),{isPlayable:A,isAnyArtistBanned:f}=(0,te.g)(e,{isPlayable:c,isLocal:!1,isOutOfMarket:!1,artistUris:r.map((e=>e.uri))}),{unBanArtists:k}=(0,ee.M)(r.map((e=>e.uri))),j=r.map((e=>e.name)).join(x.Ru.getSeparator()),{badges:_,hasBadges:C}=(0,oe.b)({isMOGEFRestricted:l,downloadAvailability:L,isExplicit:i}),N=r.map((e=>e.name)).join(x.Ru.getSeparator()),{isWeb:R}=(0,ae.V)();return(0,pe.jsx)(v.h,{menu:(0,pe.jsx)(b.P,{uri:e,albumUri:s,artists:r,contextUri:o}),children:(0,pe.jsxs)(K.w,{uri:e,contextUri:o,isPlayable:A,isAnyArtistBanned:f,handleArtistBanUndoClick:k,onTriggerPlay:(e,t)=>{y({loggingParams:t})},isActive:h,index:n,ariaRowIndex:n,dragMetadata:{name:t,createdBy:j},isExplicit:i,children:[(0,pe.jsxs)(H.U,{ariaColIndex:0,children:[(0,pe.jsx)(z.u,{uri:e,src:a,onClick:(e,t)=>{g({loggingParams:t})},isLocked:!1,isPlaying:m,isActive:h,playAriaLabel:x.Ru.get("tracklist.a11y.play",t,j)}),(0,pe.jsxs)(G.l,{children:[(0,pe.jsx)(O.R,{uri:e,enabled:R,className:ue,children:(0,pe.jsx)(Q.p,{titleText:t,children:t})}),C&&(0,pe.jsxs)(D.P,{children:[_.download&&(0,pe.jsx)(ie._,{}),_.explicit&&(0,pe.jsx)(re.U,{}),_.nineteen&&(0,pe.jsx)(ne.q,{className:de,size:16})]}),(0,pe.jsx)(Z.p,{children:(0,pe.jsx)(M.l,{artists:r})})]})]}),(0,pe.jsx)(X.o,{ariaColIndex:1,children:(0,pe.jsx)($.Y,{playcount:d})}),(0,pe.jsxs)(Y.l,{ariaColIndex:2,children:[(0,pe.jsx)(J.d,{uri:e}),(0,pe.jsx)(q.P,{duration:u}),(0,pe.jsx)(W.Y,{menu:(0,pe.jsx)(b.P,{uri:e,albumUri:s,contextUri:o,artists:r}),label:x.Ru.get("more.label.track",t,N)})]})]})})}),((e,t)=>e.uri===t.uri&&e.index===t.index));a(2557);var me=a(7519),ye=a(71600),ge=a(77486),xe=a(72432),ve=a(32121),be=a(2897),Le=a(19151);const Ae=r.memo((function({subtitle:e,uri:t}){const{data:a}=(i={uri:t,limit:5},(0,B.I)(F,i,n));var i,n;const s=function(e){return(e||[]).filter((e=>(e=>{return t=e,"NotFound"!==t?.__typename&&"GenericError"!==t?.__typename&&"Track"===e.__typename;var t})(e.data))).map((e=>e.data))}(a?.seoRecommendedTrack.items),l=(0,r.useMemo)((()=>s?.slice(0,Math.min(s.length,5))),[s]),u=(0,r.useCallback)((e=>({uri:"uri"in e?e.uri:""})),[]),d=(0,r.useMemo)((()=>[ge.$C.TITLE_AND_ARTIST,ge.$C.ALBUM,ge.$C.DURATION]),[]),{usePlayContextItem:p}=(0,xe.P)({uri:"spotify:internal:recs:track-ilr",pages:[{items:s?.map((e=>({uri:e.uri,uid:null,type:Le.c.TRACK,provider:null})))}]},{featureIdentifier:"ilr"}),h=(0,r.useCallback)(((e,a)=>(0,pe.jsx)(he,{index:a,contextUri:t,uri:e.uri,name:e.name,totalMilliseconds:e.duration.totalMilliseconds,imgUrl:e.albumOfTrack?.coverArt?.sources[0]?.url,isPlayable:e.playability.playable,artists:e.artists.items.map((e=>({uri:e.uri,id:e.id,name:e.profile.name}))),albumUri:e?.albumOfTrack?.uri||"",isExplicit:e.contentRating?.label===be.x7.Explicit,isMOGEFRestricted:e.contentRating?.label===be.x7.NineteenPlus,playcount:parseInt(e.playcount||"0",10),usePlayContextItem:p},`${a}-${e.uri}`)),[t,p]);return s?.length?(0,pe.jsxs)("div",{className:ce,children:[(0,pe.jsxs)("div",{className:le,children:[(0,pe.jsx)(o.E,{variant:"titleSmall",semanticColor:"textBase",children:x.Ru.get("playlist.extender.recommended.title")}),(0,pe.jsx)(o.E,{variant:"bodySmall",paddingBottom:c.CD,children:e})]}),(0,pe.jsx)(ye.S4,{ariaLabel:x.Ru.get("playlist.extender.recommended.title"),nrTracks:l.length,rowPlaceholder:me.qq,tracks:l,renderRow:h,resolveItem:u,columns:d},"internal-link-recommender-track-list")]}):null})),fe=e=>{const{entityType:t}=e;return(0,pe.jsx)(V.s,{onError:()=>{(0,ve.fE)({metric_type:T.MetricTypes.COUNTER,what:"dwp-ilr-component-error",value:1,tags:{entityType:t}})},children:(0,pe.jsx)(Ae,{...e})})};var ke=a(96579),je=a(3877),_e=a(83408),Ce=a(56812),Ne=a(92544),Re=a(13859);const Ie=({albums:e,artistName:t,artistId:a,artistUri:r,className:i})=>e?(0,pe.jsx)(Ne.$,{total:e.totalCount,title:x.Ru.get("rich-page.popular-albums-by-artist",{artist:t}),seeAllUri:`${(0,Re.Dh)(a)}:discography:${be._m.Album.toLowerCase()}`,seeAllLabel:x.Ru.get("shelf.see-all"),alwaysShowSeeAll:!0,className:i,children:(0,Re.Ey)(e.items).map(((e,t)=>(0,pe.jsx)(Ce.K,{album:e,index:t,artistURI:r},e.uri)))}):null;var we=a(79915);const Ee=({artistId:e,className:t,fansAlsoLike:a,title:r})=>(0,pe.jsx)(Ne.$,{total:a.length,title:r??x.Ru.get("rich-page.fans-also-like"),seeAllUri:`${(0,Re.Dh)(e)}:related`,className:t,children:a.map(((e,t)=>(0,pe.jsx)(we.a,{index:t,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources||[]},e.uri)))});var Pe=a(43754);const Se="ERm7dIKbVoqGwPb_lXPH",Te=({artistName:e,artistUri:t,headerClassName:a,rowClassName:i,topTracks:n,topTracksTransformer:s,uri:c})=>{const l=(0,r.useMemo)((()=>n?.items.map((e=>s(e,c)))),[n?.items,s,c]);return l&&l.length>0?(0,pe.jsxs)("div",{className:i,children:[(0,pe.jsxs)("div",{children:[(0,pe.jsx)(o.E,{variant:"bodySmall",className:Se,children:x.Ru.get("rich-page.popular-tracks")}),(0,pe.jsx)(o.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:a,children:e})]}),(0,pe.jsx)(Pe.z,{uri:t,nrTracks:l.length,initialTracks:l})]}):null};var Ve=a(9131);const Ue=({artistName:e,artistId:t,artistUri:a,className:i,releases:n,artistImages:s})=>{const o=(0,r.useMemo)((()=>s?{title:e,pretitle:x.Ru.get("artist-page.popular"),media:(0,Ve.h)(s,{desiredSize:48})||""}:null),[s,e]);return n?(0,pe.jsx)(Ne.$,{total:10,title:x.Ru.get("rich-page.popular-releases-by-artist",{artist:e}),seeAllUri:`${(0,Re.Dh)(t)}:discography:${be._m.Album.toLowerCase()}`,seeAllLabel:x.Ru.get("shelf.see-all"),alwaysShowSeeAll:!0,className:i,...o,children:n.items.map(((e,t)=>(0,pe.jsx)(Ce.K,{album:e,index:t,artistURI:a},e.uri)))}):null},Be=({artistId:e,artistName:t,artistUri:a,className:r,singles:i})=>i?(0,pe.jsx)(Ne.$,{total:i.totalCount,title:x.Ru.get("rich-page.popular-singles-and-eps-by-artist",{artist:t}),seeAllUri:`${(0,Re.Dh)(e)}:discography:${be._m.Single.toLowerCase()}`,seeAllLabel:x.Ru.get("shelf.see-all"),alwaysShowSeeAll:!0,className:r,children:(0,Re.Ey)(i.items).map(((e,t)=>(0,pe.jsx)(Ce.K,{album:e,index:t,artistURI:a},e.uri)))}):null;var Fe=a(569),Oe=a(96781),Me=a(6287),De=a(81481),qe=a(56510),ze=a(7645);const Ge="VdIaMy6YRQX6cN5B7OVC",We="LjkmarFarmUOq0nmv9iy",$e="VHigmLQwT1FxkKEbCs4H",Ye="qX5K6LTMIuXG1gFBXzjZ",He="fsH_X6pBkexdxtu19q5k",Xe="sDbr7RxY_jjg1XXq8zU5",Ze="MiWZGlZeQCy1tibDTql5",Qe="uci6FedOoLZEL163ZR8k",Ke="GDA6ugyRoV7ZiqIyOU4d",Je="IUBwxdZXklSkRPTZ9w_Q",et="f7XB243E_dNMV9dkUXV6",tt="gQQC7YFmzffMUaCqbx3o",at="QJVNM_FcLpEHhjDc_FU3",rt="Vd2oInYt1Ynz9X6KgL7o",it="yUA20RYjsLIb7xXNRlfn",nt="MVDvKVX1aJ05U9lmHzaz",st=({richTrack:e})=>{const{search:t}=(0,s.zy)(),a=(0,r.useCallback)((()=>new URLSearchParams(t.slice(1)).get("highlight")||""),[t])(),{tracklistRef:i}=(0,ze.h)(),n=e.albumOfTrack,{playUri:o,playOptions:c}=(0,qe.J)(n?.uri||""),{usePlayContextItem:l}=(0,xe.P)({uri:o},{featureIdentifier:"album"},c),u=(0,r.useMemo)((()=>({items:[],totalCount:0})),[]);return n?(0,pe.jsx)("div",{ref:i,className:Ze,children:(0,pe.jsx)(De.F,{albumName:n.name,nrTracks:n.tracks.totalCount,albumUri:n.uri,highlightUri:a,discs:u,usePlayContextItem:l,hasHeaderRow:!1})}):null};let ot=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});var ct=a(1287);const lt=(e,t)=>{switch(t.type){case"SEO_LYRICS_LOADING":return{...e,[t.uri]:{status:ot.LOADING}};case"SEO_LYRICS_LOADED":return{...e,[t.uri]:{status:ot.LOADED,data:t.response}};case"SEO_LYRICS_ERROR":return{...e,[t.uri]:{status:ot.UNAVAILABLE}};default:return(0,ct.d)(t,`Unhandled lyrics action with type: ${t.type}`)}};var ut=a(76972),dt=a(55827);var pt=a(17026);const ht=async({api:e,uri:t,isPlayable:a,clientId:r=""})=>{if(!a||!t||!r)return{hasLyrics:!1};try{const a=await(async(e,t,a)=>(await e.build().withHost(dt.Hj).withPath(`/seo/track/${t}`).withEndpointIdentifier("/track/{trackId}").withHeaders([{key:"x-spotify-seolyrics-clientid",value:a}]).send()).body)(e||ut.n.getInstance(),t.id,r);return{hasLyrics:!0,lyrics:a.lyrics.lines,provider:a.lyrics.provider,providerDisplayName:a.lyrics.providerDisplayName,providerLyricsId:a.lyrics.providerLyricsId,isRtlLanguage:a.lyrics.isRtlLanguage}}catch(e){if(e instanceof pt.O&&404===e.status)return{hasLyrics:!1};throw e}},mt={status:ot.LOADING},yt={status:ot.UNAVAILABLE},gt=r.createContext(void 0),xt=({children:e,initialState:t={}})=>{const a=r.useReducer(lt,t);return(0,pe.jsx)(gt.Provider,{value:a,children:e})},vt=({uri:e,isNotPermittedToFetchLyrics:t,isPlayable:a})=>{const i=r.useContext(gt);if(void 0===i)throw new Error("useSeoLyrics must be used within a SeoLyricsProvider");const[n,s]=i,o=e?n[e]:null;return(0,r.useEffect)((()=>{t||!o&&e&&(s({type:"SEO_LYRICS_LOADING",uri:e}),ht({uri:(0,g.o_h)(e)??void 0,isPlayable:a,clientId:"65b708073fc0480ea92a077233ca87bd"}).then((t=>{s({type:"SEO_LYRICS_LOADED",uri:e,response:t})})).catch((()=>{s({type:"SEO_LYRICS_ERROR",uri:e})})))}),[s,t,a,o,e]),e&&(0,g.U_m)(e)&&!t&&a?o||mt:yt};var bt=a(31656);const Lt="OH5mnpJIVCJozYM3raMt",At="etw0slM6uVrCi5RR3iDi",ft=({padded:e,providerDisplayName:t})=>t?(0,pe.jsx)(bt.Z,{as:"p",dir:"auto",variant:"finale",className:`${Lt} ${e?At:""}`,children:x.Ru.get("web-player.lyrics.providedBy",t)}):null,kt=({uri:e,isPlayable:t})=>{const{data:a}=vt({uri:e,isPlayable:t});return a?.hasLyrics?(0,pe.jsx)(ft,{providerDisplayName:a.providerDisplayName}):null};var jt=a(62411),_t=a(65809),Ct=a(67988),Nt=a(59161),Rt=a(83953),It=a(4666);var wt=a(87926),Et=a(8616),Pt=a(8594),St=a(38042),Tt=a(34843),Vt=a(89145),Ut=a(65720),Bt=a(33923),Ft=a(98268),Ot=a(54596),Mt=a(45786),Dt=a(84825),qt=a(80701),zt=a(19906),Gt=a(84409);const Wt=r.memo((function({uri:e,togglePlay:t,isPlaying:a,isActive:i,spec:n,logger:s,backgroundColor:o,name:c,isPlayable:l,albumUri:u,artists:d}){const p=(0,Mt.n)(),[h,m]=(0,zt.A)(e),y=(0,Ft.d$)(),{spec:g,logger:v}=(0,Gt.r)(wt.e,{data:{uri:e}});(0,r.useEffect)((()=>{y&&v.logImpression(g.impression())}),[y,v,g]);const L=(0,r.useCallback)((async()=>{const t=n.saveButtonFactory();s.logInteraction(h?t.hitRemoveLike({itemNoLongerLiked:e}):t.hitLike({itemToBeLiked:e})),h&&y&&v.logInteraction(g.hitAddToPlaylist({itemToBeAdded:e,playlist:qt.BP}));try{await m(!h)}catch{}}),[e,h,n,s,m,y,v,g]),A=(0,r.useCallback)((()=>{const r=(0,Dt.$I)({isPlaying:a,isActive:i,spec:n.playButtonFactory(),logger:s,uri:e});t({loggingParams:r})}),[i,a,s,n,t,e]),f=(0,r.useCallback)((()=>{s.logInteraction(n.contextButtonFactory().hitUiReveal())}),[s,n]),k=(0,Ot.j)();return(0,pe.jsx)(Et.E,{backgroundColor:o,children:(0,pe.jsxs)(Pt.S,{children:[(0,pe.jsx)(Bt.e,{children:(0,pe.jsx)(_e.D,{onClick:A,isPlaying:a,disabled:!l,size:k,uri:e})}),(0,pe.jsx)(Bt.e,{children:(0,pe.jsx)(St.M,{isAdded:h,onClick:L,disabled:!p,size:k,condensed:!0})}),(0,pe.jsx)(Tt.f,{uri:e,isFollowing:h,onFollow:L,size:k,condensed:!0,onClick:(t,a)=>(0,Dt.Qv)(a,n.downloadButtonFactory(),s,e)}),(0,pe.jsx)(Ut.b,{menu:(0,pe.jsx)(b.P,{uri:e,albumUri:u,artists:d}),onShow:f,children:(0,pe.jsx)(Vt.e,{label:x.Ru.get("more.label.context",c),size:k})})]})})}));let $t=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});const Yt=(e,t)=>{switch(t.type){case"LYRICS_LOADING":return{...e,[t.uri]:{status:$t.LOADING}};case"LYRICS_LOADED":return{...e,[t.uri]:{status:$t.LOADED,data:t.response}};case"LYRICS_ERROR":return{...e,[t.uri]:{status:$t.UNAVAILABLE}};default:return(0,ct.d)(t,`Unhandled lyrics action with type: ${t.type}`)}},Ht=async({trackUri:e,api:t,imageForLyricsRequest:a,isPlayable:r})=>{if(!r)return{hasLyrics:!1};const i=(0,g.o_h)(e);try{const e=await(async(e,t,a)=>(await e.build().withHost(dt.Hj).withPath(`/track/${encodeURIComponent(t)}/image/${encodeURIComponent(a)}`).withHeaders([{key:"App-Platform",value:"WebPlayer"}]).withQueryParameters({format:"json",vocalRemoval:!1}).withEndpointIdentifier("/track/{trackId}").send()).body)(t||ut.n.getInstance(),i.id,a||"");return{hasLyrics:!0,syncType:e.lyrics.syncType,lyrics:e.lyrics.lines,provider:e.lyrics.provider,providerDisplayName:e.lyrics.providerDisplayName,providerLyricsId:e.lyrics.providerLyricsId,isRtlLanguage:e.lyrics.isRtlLanguage}}catch(e){if(e instanceof pt.O&&404===e.status)return{hasLyrics:!1};throw e}},Xt={status:$t.LOADING},Zt={status:$t.UNAVAILABLE},Qt=r.createContext(void 0),Kt=({children:e,initialState:t={}})=>{const a=r.useReducer(Yt,t);return(0,pe.jsx)(Qt.Provider,{value:a,children:e})},Jt=({uri:e,isNotPermittedToFetchLyrics:t,imageForLyricsRequest:a,isPlayable:i})=>{const n=r.useContext(Qt);if(void 0===n)throw new Error("useTrackEntityLyrics must be used within a TrackEntityLyricsProvider");const[s,o]=n,c=e?s[e]:null;return(0,r.useEffect)((()=>{t||!c&&e&&(o({type:"LYRICS_LOADING",uri:e}),Ht({trackUri:e,imageForLyricsRequest:a,isPlayable:i}).then((t=>{o({type:"LYRICS_LOADED",uri:e,response:t})})).catch((()=>{o({type:"LYRICS_ERROR",uri:e})})))}),[o,a,t,i,c,e]),e&&(0,g.U_m)(e)&&!t&&i?c||Xt:Zt},ea=({uri:e,imageForLyricsRequest:t,isPlayable:a})=>{const{data:r}=Jt({uri:e,imageForLyricsRequest:t,isPlayable:a});return r?.hasLyrics?(0,pe.jsx)(ft,{providerDisplayName:r.providerDisplayName}):null};var ta=a(73136);const aa="QhDsXG1Gmo7XmQWLggAO",ra="bZgWQj7UxvK8GYKWDA7N",ia="AW61P3tnW5cKJCWtbhFh",na=({buttonText:e,className:t,onSecondaryButtonClick:a,onPrimaryButtonClick:r,secondaryButtonText:i,text:s})=>(0,pe.jsxs)("div",{className:n()(aa,t),"data-testid":"static-activation-trigger",children:[(0,pe.jsx)(o.E,{className:ra,variant:"bodyMediumBold",semanticColor:"textBase",children:s}),(0,pe.jsxs)("div",{className:ia,children:[(0,pe.jsx)(l.H,{onClick:a,semanticColor:"textBase",children:i}),(0,pe.jsx)(ta.$,{onClick:r,colorSet:"invertedLight",children:e})]})]}),sa="oWgwIBnBvj8IjAPWKBDy",oa="U3qCVvvWjXfhFjrVTXWQ",ca="Vt6gF7t_aNm175pTVcy7",la="Mj0T7rjUe9nkGxlYMxNT",ua=({width:e})=>(0,pe.jsx)("div",{className:n()(oa,la),style:{"--skeleton-line-width":`${e}px`}}),da=()=>{const e=(0,r.useMemo)((()=>[100,150,200,250,300]),[]),t=(0,r.useMemo)((()=>Array.from({length:8}).map((()=>{const t=Math.floor(Math.random()*e.length);return(e[t]||0)+(Math.floor(50*Math.random())-25)}))),[e]);return(0,pe.jsxs)("div",{className:sa,children:[(0,pe.jsx)("div",{className:n()(oa,ca),style:{"--skeleton-line-height":"24px","--skeleton-title-width":"60px"}}),t.map(((e,t)=>(0,pe.jsx)(ua,{width:e},t)))]})};var pa=a(19239),ha=a(76358),ma=a(76541),ya=a(80464),ga=a(91107),xa=a(35035),va=a(24944);const ba=e=>{const t=(0,pa.vh)(),a=(0,jt.d4)(Rt.F6),r=(0,jt.d4)(ga.JJ),i=(0,jt.d4)(Rt.oo),n=(0,ya.V)();return()=>{(0,ve.fE)({metric_type:T.MetricTypes.COUNTER,what:"dwp-lyrics-component-error",value:1});const s={category:"lyrics_render_error",label:"dwp",os:(0,va.f)(),context:JSON.stringify({uri:e,product:i}),country:a?r:"",sp_t:(0,xa.v8)("sp_t")},o=n?ma.r:ha._;t.send(o(s))}};a(54871);var La=a(42551),Aa=a(30520);const fa=e=>e.seoExperiment,ka=(0,La.Mz)(fa,(e=>e?.uri)),ja=(0,La.Mz)(fa,(e=>e.status===Aa.V.LOADING)),_a=(0,La.Mz)(fa,(e=>e?.[Le.c.TRACK]));(0,La.Mz)(fa,(e=>e?.[Le.c.SHOW]));var Ca=a(27264),Na=a(94539),Ra=a(37293);a(66016);let Ia=function(e){return e.TEST="test",e.UNAUTH_LYRICS_SEO="lyrics-unauth-seo-test",e}({}),wa=function(e){return e.CONTROL="0",e.VARIANT="1",e}({});const Ea=()=>{const{isWeb:e}=(0,ae.V)(),{trackId:t=""}=(0,s.g)(),a=(0,s.zy)(),r=(0,Ca.o)(Na.P.SeoLyrics,a),i=(0,Ca.o)(Na.P.SeoLyricsReferrer,a),n=(0,Ra.sp)(document.referrer)||i,o=atob((0,xa.v8)("x-unauth-referred")||"")===t,c=(0,jt.d4)(_a),l=(({treatment:e,entityId:t,experimentId:a,treatmentVariation:r})=>{if(e&&e[t]){const i=e[t],n=i?.find((e=>e.experimentId===a));return n?.treatment===r}return!1})({treatment:c||{},entityId:t,experimentId:Ia.UNAUTH_LYRICS_SEO,treatmentVariation:wa.VARIANT});const u=(0,Ra.w2)(window.navigator.userAgent);return!!e&&(r&&n&&o||n&&o&&l||u&&l)};var Pa=a(8335);const Sa="EaTxqhHk6J4ecKHwpY5m",Ta="dUQl9yd5x_1oWk4L0Ntm",Va="xt5C47eHPYNiriMJxGnC";var Ua=a(97504),Ba=a(90131);const Fa=({words:e,onObserve:t,lyricsInView:a,...i})=>{const{ref:n,inView:s}=(0,Pa.Wx)({threshold:1}),c=(0,r.useRef)(!1);return(0,r.useEffect)((()=>{a||(c.current=!1)}),[a]),(0,r.useEffect)((()=>{c.current||s&&(t({text:e,outOfView:!1}),c.current=!0)}),[s,t,e]),(0,pe.jsx)(o.E,{ref:n,as:"p",dir:"auto",variant:"bodyMedium",className:Va,"data-testid":i["data-testid"],children:e})},Oa="q1JbsdMqX7OImgIFWa6J",Ma="hAGejMh7SncdbJ5wcfUi",Da="IaG9Zc3xGxeYjsn73RAz",qa="zgSEYVU2gMYxihFVEJPn",za=420,Ga=280,Wa="expandable-lyrics-container";const $a=({lyrics:e,lyricsInView:t,onObserve:a,previewCount:i})=>{const[s,c]=(0,r.useState)(!1),{visibleLyrics:l,collapsibleLyrics:u}=function(e,t){let a=0,r=-1;const i=e.filter((e=>!!e.words));for(const[e,n]of i.entries())if(a+=n.words.length,a>t){r=e;break}if(r>-1)return{visibleLyrics:i.slice(0,r),collapsibleLyrics:i.slice(r)};return{visibleLyrics:i,collapsibleLyrics:[]}}(e,i),d=u.length>0,p=s?x.Ru.get("show_less"):`…${x.Ru.get("show_more")}`;return(0,pe.jsxs)(pe.Fragment,{children:[l.map((({words:e},r)=>(0,pe.jsx)(Fa,{onObserve:a,words:e,lyricsInView:t,"data-testid":"lyrics-line-always-visible"},`lyrics-seo-line-${r}`))),(0,pe.jsx)("span",{"aria-hidden":!s,className:n()(Da,{[qa]:s}),children:u.map((({words:e},r)=>(0,pe.jsx)(Fa,{onObserve:s?a:()=>{},words:e,lyricsInView:s&&t},`lyrics-seo-line-${r}`)))}),d&&(0,pe.jsx)("button",{className:Oa,onClick:()=>{c(!s)},"aria-controls":Wa,"aria-owns":Wa,"aria-label":p,children:(0,pe.jsx)(o.E,{variant:"bodyMediumBold",className:Ma,children:p})})]})},Ya=({data:e,eventSender:t,playbackId:a,previewCount:i,uri:n})=>{const{lyrics:s=[],provider:c,providerLyricsId:l,syncType:u}=e,{ref:d,inView:p}=(0,Pa.Wx)({threshold:0}),h=function(e){const{trackUri:t,provider:a,providerLyricsId:i,syncType:n,eventSender:s,playbackId:o}=e,c=(0,r.useRef)(null),[l,u]=(0,r.useState)(!1),[d,p]=(0,r.useState)(!1),[h,m]=(0,r.useState)(0),[y,g]=(0,r.useState)(!1),x=(0,r.useMemo)((()=>(0,Ua.W)({lyrics_format:"track-page",track_uri:t,provider:a,provider_lyrics_id:i,sync_type:n,playback_id:o})),[t,a,i,n,o]),v=(0,r.useMemo)((()=>(0,Ba.X)({track_uri:t,playback_id:o,provider:a,provider_lyrics_id:i,sync_type:n,lyrics_format:"track-page"})),[t,a,i,n,o]);return(0,r.useEffect)((()=>{p(!1),u(!1),m(0),g(!1),c.current=null}),[t]),(0,r.useEffect)((()=>{o&&(l&&u(!1),d&&p(!1))}),[o]),(0,r.useEffect)((()=>{l||(!d&&h>0&&(s?.send(v),p(!0)),h>=140&&y&&(s?.send(x),u(!0)))}),[h,d,v,l,x,s,y]),(0,r.useCallback)((e=>{const{text:t,outOfView:a}=e;t&&t.length>0&&(m((e=>e+t.length)),l||null!==c.current||(c.current=setTimeout((()=>{g(!0)}),1500))),a&&(c.current&&clearTimeout(c.current),c.current=null,m(0))}),[m,l])}({trackUri:n,provider:c,providerLyricsId:l,syncType:u,eventSender:t,playbackId:a});return(0,r.useEffect)((()=>{p||h({outOfView:!0})}),[p,h]),(0,pe.jsxs)("div",{className:Sa,ref:d,children:[(0,pe.jsx)(o.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:Ta,children:x.Ru.get("web-player.lyrics.title")}),(0,pe.jsx)($a,{lyrics:s,lyricsInView:p,onObserve:h,previewCount:i})]})};function Ha(e){return{name:"SeoLyricsImpressionNonAuth",environments:["browsernonauth"],data:e}}const Xa=({data:e,eventSender:t,isBot:a,previewCount:i,trackTitle:n,trackArtists:s,uri:c})=>{const{ref:l,inView:u}=(0,Pa.Wx)({threshold:0}),d=function(e){const{eventSender:t,isBot:a,provider:i,providerLyricsId:n,trackTitle:s,trackArtists:o,trackUri:c}=e,l=(0,r.useRef)(null),[u,d]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1),[m,y]=(0,r.useState)(0),[g,x]=(0,r.useState)(!1),v=(0,r.useMemo)((()=>Ha({user_type:a?"bot":"human",sp_t:"undefined"!=typeof document?(0,xa.v8)("sp_t"):void 0,impression_type:"minimumCharactersSeen",lyrics_provider:i,lyrics_provider_id:n,track_title:s,track_artist:o,track_uri:c})),[a,i,n,s,o,c]),b=(0,r.useMemo)((()=>Ha({user_type:a?"bot":"human",sp_t:"undefined"!=typeof document?(0,xa.v8)("sp_t"):void 0,impression_type:"snippet",lyrics_provider:i,lyrics_provider_id:n,track_title:s,track_artist:o,track_uri:c})),[a,i,n,s,o,c]);return(0,r.useEffect)((()=>{h(!1),d(!1),y(0),x(!1),l.current=null}),[c]),(0,r.useEffect)((()=>{u||(!p&&m>0&&(t?.send(b),h(!0)),m>=140&&g&&(t?.send(v),d(!0)))}),[m,p,b,u,v,t,g]),(0,r.useCallback)((e=>{const{text:t,outOfView:a}=e;t&&t.length>0&&(y((e=>e+t.length)),u||null!==l.current||(l.current=setTimeout((()=>{x(!0)}),1500))),a&&(l.current&&clearTimeout(l.current),l.current=null,y(0))}),[y,u])}({eventSender:t,isBot:a,provider:e?.provider||"",providerLyricsId:e?.providerLyricsId||"",trackUri:c,trackArtists:s,trackTitle:n});return(0,r.useEffect)((()=>{u||d({outOfView:!0})}),[u,d]),e?(0,pe.jsxs)("div",{className:Sa,ref:l,children:[(0,pe.jsx)(o.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:Ta,children:x.Ru.get("web-player.lyrics.title")}),(0,pe.jsx)($a,{lyrics:e.lyrics,lyricsInView:u,onObserve:d,previewCount:i})]}):null};var Za=a(60986);const Qa=({uri:e,isPlayable:t,trackArtists:a,trackTitle:i})=>{const[n,s]=(0,r.useState)(za),o=Ea(),{data:c}=vt({uri:e,isNotPermittedToFetchLyrics:!o,isPlayable:t}),l=(0,pa.vh)(),u=(0,r.useCallback)((()=>{window.innerWidth<=768?s(Ga):window.innerWidth>768&&n===Ga&&s(za)}),[n]);return(0,r.useEffect)((()=>{u()}),[u]),(0,Za.s)(u),c&&c?.hasLyrics?(0,pe.jsx)(Xa,{data:c,eventSender:l,isBot:(0,Ra.w2)(window.navigator.userAgent),previewCount:n,trackArtists:a,trackTitle:i,uri:e}):null},Ka=e=>{const t=ba(e.uri);return(0,pe.jsx)(V.s,{onError:t,children:(0,pe.jsx)(Qa,{...e})})};var Ja=a(39737),er=a(86246);const tr=({uri:e,imageForLyricsRequest:t,isPlayable:a})=>{const[i,n]=(0,r.useState)(za),{data:s}=Jt({uri:e,imageForLyricsRequest:t,isPlayable:a}),o=(0,pa.vh)(),{isPaused:c,currentTrackUri:l,playbackId:u}=(0,Ja.o)((e=>({isPaused:e?.isPaused,currentTrackUri:e?.item?.uri,playbackId:e?.playbackId})),er.a),d=!c&&l===e,p=(0,r.useCallback)((()=>{window.innerWidth<=768?n(Ga):window.innerWidth>768&&i===Ga&&n(za)}),[i]);return(0,r.useEffect)((()=>{p()}),[p]),(0,Za.s)(p),s&&s?.hasLyrics?(0,pe.jsx)(Ya,{data:s,uri:e,eventSender:o,playbackId:d?u:void 0,previewCount:i}):null},ar=e=>{const t=ba(e.uri);return(0,pe.jsx)(V.s,{onError:t,children:(0,pe.jsx)(tr,{...e})})},rr="T1nqQ4HEh3heHy4RCCKa",ir="L8zjshPVgUMXyZR4FtOk",nr="YMn1FWcFmOz9osBrNvhF",sr="Inbyq3TnvKDOJtcKFTDQ",or="lWk5se4WETUOJwaEb8D6",cr="i8DyQbWCmDV_8N5XGJQT",lr="t5WPFlGTY6GCd9UOFfLu",ur="AGQ3wRyMVK1odq860qnT",dr="ZX_r7uZgPgssaUplfpxT",pr="qrqctaPu2XBpxsw23nPX",hr="XnWidTagai3nQwMPxIMF";var mr=a(73061),yr=a(99244),gr=a(57940),xr=a(96586);let vr=function(e){return e.SMALL="small",e.LARGE="large",e}({});const br=e=>{const{disabled:t,images:a,LinkComponent:r,name:i,size:o,uri:c,enableI18nAdditionalPages:l}=e,u=o===vr.SMALL,d=(0,s.Zp)(),p=(0,g.o_h)(c),h=p?.type,m=x.Ru.getLocaleForURLPath(),y=(0,gr.p)({entityFeatureFlag:l,urlLocale:m,entity:h,type:"link"});return(0,pe.jsxs)("div",{className:n()(ir,{[nr]:t}),"data-testid":"track-artist-link-card",children:[(0,pe.jsx)(mr.b,{shape:mr.u.CIRCLE,images:a,size:yr.Qe.SIZE_80,title:i,type:Le.c.ARTIST}),(0,pe.jsxs)("div",{className:n()(or,{[cr]:u}),children:[(0,pe.jsx)(bt.Z,{variant:"mestoBold",className:sr,children:x.Ru.get("card.tag.artist")}),(0,pe.jsx)(r,{to:c,children:(0,pe.jsx)(bt.Z,{as:"div",dir:"ltr",className:lr,variant:"balladBold",children:i})})]}),(0,pe.jsx)("div",{onClick:()=>{const e=p?.toURL(`/${xr.CT}${m}/`);if(p){const t=y?e:p.toURLPath(!0);d(t)}},className:ur})]})},Lr=({size:e=vr.LARGE,disabled:t=!1,enableI18nRoutes:a,enableI18nAdditionalPages:i,...s})=>{const[o,c]=(0,r.useState)(!1),u=(0,r.useCallback)((()=>{c(!o)}),[o]),d=s.artists;return(0,pe.jsxs)("div",{"data-testid":"track-artist-link-card-container",children:[(0,pe.jsx)("div",{className:rr,children:d.map(((r,c)=>(0,pe.jsx)("div",{className:n()({[pr]:o&&c>5,[dr]:c>5}),children:(0,pe.jsx)(br,{name:r.name,uri:r.uri,images:r.images,size:e,LinkComponent:s.LinkComponent,disabled:t,enableI18nRoutes:a,enableI18nAdditionalPages:i},r.id)},`${r.uri}-${c}`)))}),d.length>6&&(0,pe.jsx)(l.H,{onClick:u,className:hr,children:(0,pe.jsx)(bt.Z,{as:"p",variant:"violaBold",children:o?x.Ru.get("show_less"):x.Ru.get("mwp.search.artists.all")})})]})};var Ar=a(50496);const fr=e=>{const{albumArtists:t,columnCount:a,imageForLyricsRequest:i,isPlayable:s,uri:o,title:c}=e,l=a-2,u={"--column-count":a,"--left-column-end":l-2,"--right-column-start":l},{isAnonymous:d}=(0,jt.d4)(Rt.Ht),p=(0,Mt.n)(),{data:h,status:m}=Jt({uri:o,isNotPermittedToFetchLyrics:d,imageForLyricsRequest:i,isPlayable:s}),y=!!h?.hasLyrics&&m!==$t.UNAVAILABLE,g=Ea(),{data:v,status:b}=vt({uri:o,isPlayable:s,isNotPermittedToFetchLyrics:!g}),L=!!v?.hasLyrics&&b!==ot.UNAVAILABLE,A=y||d&&(!g||L),f=(0,jt.d4)(ja);return(0,pe.jsxs)(r.Suspense,{fallback:null,children:[A&&(0,pe.jsx)("div",{className:n()($e,{[Ye]:a>5}),style:{...u},"data-testid":"lyrics-container",children:f?(0,pe.jsx)(da,{}):d?d&&g?(0,pe.jsx)(Ka,{uri:o,isPlayable:s,trackArtists:t.map((e=>e.name)).join(x.Ru.getSeparator()),trackTitle:c}):(0,pe.jsx)(na,{buttonText:x.Ru.get("sign_up"),secondaryButtonText:x.Ru.get("login"),text:x.Ru.get("track-page.sign-in-to-view-lyrics"),onPrimaryButtonClick:Ar.ie,onSecondaryButtonClick:Ar.PW,className:"paywall"}):(0,pe.jsx)(ar,{uri:o,imageForLyricsRequest:i,isPlayable:s})}),(0,pe.jsx)("div",{className:n()(Ge,{[We]:a>5&&A}),style:{...u},children:(0,pe.jsx)(Lr,{artists:t,LinkComponent:ke.N,disabled:!p,enableI18nRoutes:!0,enableI18nAdditionalPages:!1})})]})};function kr({playcount:e,durationMs:t}){return(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(I.q,{children:(0,Ve.f)(t)}),e&&e>0?(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(w.J,{}),(0,pe.jsx)(I.q,{variant:"bodySmall","data-testid":"playcount",children:x.Ru.formatNumber(e)})]}):null]})}var jr=a(70952),_r=a(20792),Cr=a(94065);var Nr=a(69878),Rr=a(96067),Ir=a(48883);const wr="o2TlnuNKxRO5RnB9BpHB",Er="q0Ke_aAvTcc4dO4wCHQt",Pr="UlKUfS_GcROZmofuafOW",Sr="I5LORTI1u3A6VoUvRCBf",Tr="TS85Qkpioa31wR0p4kzT",Vr="yL1DLXBc05CR_ACv_NhA",Ur="k5kRkUyoz9znqg_SGOVQ";var Br=a(92015),Fr=a(12677);let Or=function(e){return e.SMALL="small",e.LARGE="large",e}({});const Mr=({art:e,disabled:t=!1,LinkComponent:a,name:r,size:i=Or.SMALL,type:o,uri:c})=>{const l=e?[e]:[],u=i===Or.SMALL?(0,Br.C)(o):function(e){switch(e){case Fr.s.SINGLE:return x.Ru.get("track-page.from-the-single");case Fr.s.EP:return x.Ru.get("track-page.from-the-ep");case Fr.s.COMPILATION:return x.Ru.get("track-page.from-the-compilation");case Fr.s.ALBUM:default:return x.Ru.get("track-page.from-the-album")}}(o),d=(0,s.Zp)();return(0,pe.jsxs)("div",{className:n()(wr,{[Pr]:i===Or.SMALL,[Er]:t}),children:[(0,pe.jsx)("div",{className:Sr,children:(0,pe.jsx)(mr.b,{images:l,size:yr.Qe.SIZE_80,title:r,type:Le.c.ALBUM})}),(0,pe.jsxs)("div",{className:Tr,children:[(0,pe.jsx)(bt.Z,{variant:i===Or.SMALL?"mestoBold":"finale",children:u}),(0,pe.jsx)(a,{to:c,children:(0,pe.jsx)(bt.Z,{as:"div",className:Vr,variant:"balladBold",dir:"auto",children:r})})]}),(0,pe.jsx)("div",{onClick:()=>{d((0,g.o_h)(c).toURLPath(!0))},className:Ur})]})};var Dr=a(37311),qr=a(56627),zr=a(53143),Gr=a(84925),Wr=a(24516),$r=a(55797);const Yr=e=>(e.items||[]).map((e=>({name:e.profile.name,images:(e.visuals.avatarImage?.sources||[]).map((e=>({url:e.url,width:e.width,height:e.height}))),uri:e.uri,id:e.id}))),Hr=e=>(e||[]).map((e=>e.profile.name)),Xr=({uri:e,track:t})=>{const a=(0,Mt.n)(),i=(0,ya.V)(),s=(0,Nr.W)({type:"locale",uri:e}),u=x.Ru.getLocaleForTranslation(),d=parseInt(t.playcount||"0",10),{firstArtist:p,otherArtists:h,albumOfTrack:y,duration:g,name:T}=t,V=y?.coverArt,U=y?.copyright.items,B=y?.courtesyLine,F=y?.date,O=V?.extractedColors?.colorRaw.hex,M=(V?.sources||[]).map((e=>({url:e.url,width:e.width||void 0,height:e.height||void 0}))),D=Hr(p.items),q=Hr(h.items),z=Yr(p),G=Yr(h),W=[...z,...G],$=p.items[0],Y=t.albumOfTrack,H=Y?.playability?.playable,X={artistId:$?.id,artistName:$?.profile?.name,artistUri:$?.uri},Z=t.albumOfTrack?.coverArt?.sources,Q=(0,Ve.h)(Z||void 0,{desiredLabel:"large",desiredSize:600})??Z?.[0]?.url??"",[K,J]=(0,r.useState)(!1),ee=(0,r.useCallback)((()=>{J(!K)}),[K]),te=h&&h.items.length>5,{spec:re,logger:ie}=(0,Gt.r)(m,{data:{uri:e}}),ne=t.associationsV3.videoAssociations.totalCount>0,se=t.associationsV3.audioAssociations.items.length>0,oe=!ne&&!se&&t.mediaType===be.IX.Video,ce=t.contentRating?.label===be.x7.Explicit,le=(0,Fe.o)(oe,ce),ue=t.playability.playable,{togglePlay:de,isPlaying:he,isActive:me}=(0,xe.P)({uri:e},{featureIdentifier:"track"}),ye=(0,r.useCallback)((()=>(0,Wr.rO)({i18n:x.Ru,trackArtistsList:[...D,...q].join(x.Ru.getSeparator()),trackName:t.name,shouldLocalize:s})),[D,q,s,t.name]),ge=(0,r.useCallback)(((e,t)=>{ie.logInteraction(re.headerFactory().artistLinkFactory({position:t.position,uri:t.creator.uri}).hitUiNavigate({destination:t.creator.uri}))}),[ie,re]),ve=(0,r.useCallback)((()=>{const t=(0,Dt.$I)({isPlaying:he,isActive:me,spec:re.actionBarFactory().playButtonFactory(),logger:ie,uri:e});de({loggingParams:t})}),[me,he,ie,re,de,e]),Ae=Y?.uri,je=(0,r.useMemo)((()=>[...p.items,...h.items].map((e=>({uri:e.uri,name:e.profile.name})))),[p.items,h.items]);(e=>{const t=(0,jt.wA)(),{isWeb:a}=(0,ae.V)(),i=(0,jt.d4)(ka);(0,r.useEffect)((()=>{a&&e!==i&&t((0,Cr.SC)(e))}),[e,i,t,a])})(e);const Ce=Ea();(0,jr.L)({uri:e});const Ne=(0,pe.jsx)(b.P,{uri:e,albumUri:Ae,artists:je});return(0,pe.jsxs)("section",{"data-testid":"track-page",children:[(0,pe.jsx)(L.Q,{children:ye()}),(0,pe.jsx)(Me.c,{artistOrShow:je.map((e=>e.name)).join(x.Ru.getSeparator()),title:T,uri:e,entityType:Me.p.TRACK}),(0,pe.jsxs)(A.z,{backgroundColor:O,children:[(0,pe.jsxs)(j.h,{children:[(0,pe.jsx)(_e.D,{size:"medium",onClick:ve,disabled:!ue,isPlaying:he,uri:e}),(0,pe.jsx)(v.h,{menu:Ne,children:(0,pe.jsx)(_.X,{text:T,dragUri:e,dragLabel:T})})]}),(0,pe.jsx)(v.h,{menu:Ne,children:(0,pe.jsx)(f.K,{dragUri:e,images:le?[]:M,name:T,placeholderType:"album"})}),(0,pe.jsxs)(k.Y,{children:[(0,pe.jsx)(o.E,{variant:"bodySmallBold",children:x.Ru.get("song")}),(0,pe.jsx)(v.h,{menu:Ne,children:(0,pe.jsx)(E.mm,{dragUri:e,dragLabel:T,children:T})}),(0,pe.jsxs)(C.X,{children:[(0,pe.jsx)(N.j,{creators:z,onCreatorClick:ge}),Y&&(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)(w.J,{}),(0,pe.jsx)(I.q,{children:(0,pe.jsx)(ke.N,{to:Y.uri,children:Y.name})})]}),(0,pe.jsx)(w.J,{}),(0,pe.jsx)(R.H,{releaseDate:F}),(0,pe.jsx)(w.J,{}),(0,pe.jsx)(kr,{playcount:d,durationMs:g.totalMilliseconds})]})]})]}),(0,pe.jsx)(Wt,{uri:e,togglePlay:de,isPlaying:he,isActive:me,spec:(0,r.useMemo)((()=>re.actionBarFactory()),[re]),logger:ie,backgroundColor:O,name:T,isPlayable:ue,albumUri:Ae,artists:je}),(0,pe.jsx)(xt,{children:(0,pe.jsxs)(Kt,{children:[(0,pe.jsxs)("div",{className:"contentSpacing",children:[(0,pe.jsx)("div",{className:He,children:(0,pe.jsx)(Ir.E,{render:({columnCount:a})=>(0,pe.jsx)(fr,{imageForLyricsRequest:Q,albumArtists:W,columnCount:a,uri:e,isPlayable:ue,title:t.name}),rowGap:c.lT})}),(0,pe.jsx)(P.N$,{renderInVariant:Nt.ssn.AboveRecommendedBasedOnThisSong,uri:e}),(0,pe.jsx)(fe,{subtitle:x.Ru.get("internal-link-recommender.based-on-this-song"),uri:t.uri,entityType:Le.c.TRACK}),(0,pe.jsx)(Te,{artistName:$.profile.name,artistUri:$.uri,headerClassName:Ke,rowClassName:He,topTracks:$.discography.topTracks,topTracksTransformer:Oe.fX,uri:t.uri}),(0,pe.jsx)(P.N$,{renderInVariant:Nt.ssn.AbovePopularReleases,uri:e}),(0,pe.jsx)(Ue,{className:Qe,releases:$?.discography?.popularReleasesAlbums,...X}),(0,pe.jsx)(Ie,{albums:$?.discography?.albums,className:Qe,...X}),(0,pe.jsx)(Be,{className:Qe,singles:$?.discography?.singles,...X}),h.items.length>0&&(0,pe.jsx)("div",{className:et,children:h.items.map(((e,t)=>(0,pe.jsx)(Ue,{className:n()(Je,{[at]:t>4,[rt]:K&&t>4}),releases:e.discography.popularReleasesAlbums,artistName:e.profile.name,artistId:e.id,artistUri:e.uri,artistImages:e.visuals.avatarImage?.sources},e.id)))}),te&&(0,pe.jsx)(l.H,{onClick:ee,className:it,children:(0,pe.jsx)(o.E,{as:"h2",variant:"bodySmallBold",children:K?x.Ru.get("show_less"):x.Ru.get("mwp.search.artists.all")})}),(0,pe.jsx)(S.b,{uri:e,className:Qe}),(0,pe.jsx)(P.N$,{renderInVariant:Nt.ssn.AboveFansAlsoLike,uri:e}),(0,pe.jsx)(Ee,{artistId:$.id,className:n()(Qe,{[tt]:h.items.length>0}),fansAlsoLike:$.relatedContent.relatedArtists.items,title:x.Ru.get("artist-page.fansalsolike")}),Y&&(0,pe.jsx)(Mr,{art:Y.coverArt?.sources[0],disabled:!H||!a,LinkComponent:ke.N,name:Y.name,type:Y.type,size:Or.LARGE,uri:Y.uri}),(0,pe.jsx)(st,{richTrack:t})]}),(0,pe.jsx)("div",{className:"contentSpacing",children:(0,pe.jsxs)("div",{className:Xe,children:[F?.isoString&&(0,pe.jsx)(o.E,{as:"p",variant:"bodySmall",className:nt,children:(0,$r.rh)((0,$r.ad)(F.isoString),u,{year:"numeric",month:"long",day:"numeric"},(0,$r.rk)(F.precision))}),(0,pe.jsx)(Rr.Z,{copyrights:U||[],courtesyLine:B}),!i&&(0,pe.jsx)(ea,{uri:e,imageForLyricsRequest:Q,isPlayable:ue}),i&&Ce&&(0,pe.jsx)(kt,{uri:e,isPlayable:ue})]})})]})})]})},Zr=(0,r.memo)((function(){const{trackId:e=""}=(0,s.g)(),t=(0,g.Mce)(e).toURI(),{data:a,loading:i,error:n}=(0,_r.J)({uri:t}),o="Track"===a?.trackUnion?.__typename&&a?.trackUnion?.visualIdentity?.squareCoverImage?.extractedColorSet?(0,zr.V)(a?.trackUnion?.visualIdentity.squareCoverImage.extractedColorSet):null;return((e,t)=>{const a=(0,_t.NC)(Nt.O6E),i=(0,It.z)(),{isAnonymous:n}=(0,jt.d4)(Rt.Ht),s="Track"===t?.trackUnion?.__typename&&t.trackUnion.playability.playable,[o]=(0,Ct.l)(),c=a&&!n&&!o&&s;(0,r.useEffect)((()=>{if(!c)return;const t=i.getState();t&&!t.isPaused||i.play({uri:e},{featureIdentifier:"track",referrerIdentifier:i.getReferrer()})}),[c,i,e])})(t,a),i||n||"Track"!==a?.trackUnion?.__typename?(0,pe.jsx)(je.LoadingPage,{hasError:!i,errorMessage:x.Ru.get("track-page.error")}):(0,pe.jsx)(qr.P,{surface:Dr.u.TRACK,uris:[t,a.trackUnion.albumOfTrack?.uri??null],children:(0,pe.jsx)(Gr.d,{dynamicColors:o,children:(0,pe.jsx)(Xr,{uri:t,track:a.trackUnion})})})})),Qr=Zr},86208:(e,t,a)=>{a.d(t,{j:()=>R});var r=a(30758),i=(a(22400),a(77369),a(97500)),n=a.n(i),s=a(78717),o=a(97351),c=a(18831),l=a(70397),u=a(50375),d=a(35054),p=a(97),h=a(93624),m=a(96579);var y=a(92797),g=a(332),x=a(24886),v=a(84195),b=a(86070);function L(e){return e?.displayName||e?.name||""}const A=e=>{let t=null;return(0,c.ecE)(e)&&(t=(0,b.jsx)(p.t,{uri:e})),(0,c.APS)(e)&&(t=(0,b.jsx)(h.B,{uri:e})),t},f=({creator:e,onClick:t,position:a=0})=>{const i=(0,r.useCallback)((r=>{t?.(r,{position:a,creator:e})}),[e,t,a]);return(0,y.s)(e)?(0,b.jsx)(d.h,{menu:A(e.uri),children:(0,b.jsx)(s.E,{variant:"bodySmallBold",children:(0,b.jsx)(m.N,{"data-testid":"creator-link",to:e.uri,onClick:i,children:L(e)})})}):(0,b.jsx)(s.E,{variant:"bodySmall",children:L(e)})},k=({creator:e,onClick:t,isSmallIcon:a})=>{const[r,i]=l.Ru.get("playlist.header.made-for","USER").split("USER");return(0,b.jsxs)("div",{className:n()(v.A.metaDataText,v.A.creatorWrapper,{[v.A.smallMadeForIcon]:a}),children:[(0,b.jsx)(o.D,{semanticColor:"textBrightAccent"}),(0,b.jsx)(s.E,{variant:"bodySmall",children:r}),(0,b.jsx)(f,{creator:e,onClick:t}),i&&(0,b.jsx)(s.E,{variant:"bodySmall",children:i})]})},j=({creator:e,onClick:t,isSmallIcon:a,prefix:r})=>(0,b.jsxs)("div",{className:n()(v.A.metaDataText,v.A.creatorWrapper),children:[e.images.length>0&&(0,b.jsx)(u.e,{label:L(e),images:e.images.map((e=>({url:e.url,width:e.width||null,height:e.height||null}))),width:a?20:24,userIconSize:a?"xsmall":"small"}),r&&(0,b.jsx)(s.E,{variant:"bodySmall",children:r}),(0,b.jsx)(f,{creator:e,onClick:t})]}),_=({creators:e,onPiledCreatorsClick:t,isSmallIcon:a})=>{const r=(0,b.jsx)("div",{className:v.A.piled,children:e.slice(0,3).map(((e,t)=>(0,b.jsx)(u.e,{label:L(e),images:e.images.map((e=>({url:e.url,width:e.width||null,height:e.height||null}))),width:a?20:24,userIconSize:a?"xsmall":"small",piled:t>0},e.uri)))});let i=l.Ru.get("playlist.header.creator-and-others",L(e[0]),e.length-1);return 2===e.length&&(i=l.Ru.get("playlist.header.creator-and-co-creator",L(e[0]),L(e[1]))),t?(0,b.jsxs)("button",{className:n()(v.A.metaDataText,v.A.creatorWrapper,v.A.creatorButton),onClick:t,children:[r,i]}):(0,b.jsxs)("div",{className:n()(v.A.metaDataText,v.A.creatorWrapper),children:[r,i]})},C=({creators:e,onCreatorClick:t})=>(0,b.jsx)(b.Fragment,{children:e.map(((e,a)=>(0,b.jsxs)(r.Fragment,{children:[0!==a&&(0,b.jsx)("span",{className:v.A.divider}),(0,b.jsx)(f,{creator:e,onClick:t,position:a})]},e.id)))}),N=({creators:e,onPiledCreatorsClick:t,onCreatorClick:a,isTunaApplied:r})=>{const i=(0,x.y)(),n=i===(g.E.SMALL||i===g.E.XSMALL);if(1===e.length&&e[0]){const t=e[0];return t.isMadeFor?(0,b.jsx)(k,{creator:t,onClick:a,isSmallIcon:n}):(0,b.jsx)(j,{creator:t,onClick:a,isSmallIcon:n,prefix:r?"":void 0})}return e.length>0&&e.every((e=>(0,c.APS)(e.uri)))?(0,b.jsx)(_,{creators:e,onPiledCreatorsClick:t,isSmallIcon:n}):(0,b.jsx)(C,{creators:e,onCreatorClick:a})};function R({creators:e,onCreatorClick:t,onPiledCreatorsClick:a,isTunaApplied:i}){return(0,b.jsx)(r.Suspense,{fallback:null,children:(0,b.jsx)(N,{creators:e,onPiledCreatorsClick:a,onCreatorClick:t,isTunaApplied:i})})}},96067:(e,t,a)=>{a.d(t,{Z:()=>s});a(77369);var r=a(31656);const i="rTMkDBDp47Eo12ZEQv4U";var n=a(86070);const s=({copyrights:e,courtesyLine:t})=>{const a=(e||[]).map(((e,t)=>{if(e.untyped)return(0,n.jsx)(r.Z,{as:"p",variant:"finale",dir:"auto",children:e.text},t);const a=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let i;return i="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,(0,n.jsx)(r.Z,{as:"p",variant:"finale",dir:"auto",children:`${i} ${a}`},t)}));return t&&a.unshift((0,n.jsx)(r.Z,{as:"p",variant:"finale",dir:"auto",children:t},a.length)),(0,n.jsx)("div",{className:i,children:a})}}}]);
//# sourceMappingURL=xpui-routes-track-v2.js.map