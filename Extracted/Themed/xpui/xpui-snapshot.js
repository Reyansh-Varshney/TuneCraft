(()=>{var e,t,n,a,r,s,i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=__webpack_modules__,o.amdO={},e=[],o.O=(t,n,a,r)=>{if(!n){var s=1/0;for(u=0;u<e.length;u++){for(var[n,a,r]=e[u],i=!0,c=0;c<n.length;c++)(!1&r||s>=r)&&Object.keys(o.O).every((e=>o.O[e](n[c])))?n.splice(c--,1):(i=!1,r<s&&(s=r));if(i){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,a,r]},o.F={},o.E=e=>{Object.keys(o.F).map((t=>{o.F[t](e)}))},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var r=Object.create(null);o.r(r);var s={};t=t||[null,n({}),n([]),n(n)];for(var i=2&a&&e;("object"==typeof i||"function"==typeof i)&&!~t.indexOf(i);i=n(i))Object.getOwnPropertyNames(i).forEach((t=>s[t]=()=>e[t]));return s.default=()=>e,o.d(r,s),r},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>(({42:"xpui-routes-blend",319:"dwp-panel-section",347:"home-subfeed",352:"dwp-page-error-template",399:"xpui-routes-episode-more-like-this",599:"home-ad-card",749:"xpui-routes-country-hub-section",777:"dwp-watch-feed-view-container",983:"xpui-debug-window-contents",1206:"xpui-root-dialogs",1396:"xpui-routes-premium-page",1602:"dwp-home-header",1621:"home-v2-section",1785:"xpui-desktop-routes-settings",1845:"xpui-routes-all-show-ads",2205:"xpui-playlist-format-redirect-with-params",2233:"dwp-home-chips-row",2355:"xpui-routes-playlist",2391:"xpui-routes-desktop-settings",2543:"xpui-routes-country-hub",2579:"dwp-error-page",2630:"dwp-offline-empty-state",2889:"xpui-routes-recent-searches",3322:"dwp-now-playing-bar",3569:"xpui-routes-offline-browse",3632:"this-is-playlist-concerts-carousel",3667:"xpui-pip-mini-player",3838:"xpui-routes-cultural-moment-hub",3890:"xpui-routes-track",3934:"dev-playground",4084:"dwp-whats-new-feed",4312:"home-hpto",4389:"xpui-routes-collection-local-files",4483:"dwp-user-comments",4496:"xpui-routes-create-playlist",4574:"your-sound-capsule-modal",4789:"concerts-on-tour-playlist-card",5040:"xpui-routes-see-all-playlist-leavebehinds",5094:"dwp-top-bar",5518:"dwp-premium-upsell-page",5523:"xpui-routes-stage-page",5663:"xpui-routes-recently-played",5783:"xpui-routes-collection-concerts",5853:"xpui-routes-collection-concert-gallery",5885:"home-ads-container",5962:"xpui-routes-album",6080:"xpui-routes-collection-episodes",6266:"browse-v2",6426:"xpui-routes-label-artists",6457:"xpui-routes-your-library-x",6505:"xpui-routes-lyrics",6541:"xpui-routes-label",6665:"home-ads-visibility-logger",6863:"xpui-routes-track-v2",7067:"lottie-animation",7125:"xpui-routes-search",7170:"home-ads-fetcher",7241:"xpui-routes-venues",7564:"xpui-routes-buddy-feed",7599:"legacy-hpto-compatibility",7988:"dwp-video-player",8212:"xpui-routes-health-check",8493:"xpui-desktop-modals",8552:"dwp-feedback-bar",8588:"dwp-billboard-ad",8606:"xpui-routes-show",8828:"xpui-routes-collection-songs",8865:"xpui-routes-album-prerelease",9033:"xpui-routes-show-more-like-this",9209:"xpui-routes-concert",9319:"home-v2",9480:"xpui-routes-profile",9500:"dwp-leaderboard-component",9528:"xpui-routes-episode",9560:"employee-notifications",9718:"playlist-leavebehinds"}[e]||e)+".js"),o.miniCssF=e=>(({42:"xpui-routes-blend",319:"dwp-panel-section",347:"home-subfeed",352:"dwp-page-error-template",399:"xpui-routes-episode-more-like-this",599:"home-ad-card",749:"xpui-routes-country-hub-section",777:"dwp-watch-feed-view-container",983:"xpui-debug-window-contents",1206:"xpui-root-dialogs",1396:"xpui-routes-premium-page",1602:"dwp-home-header",1845:"xpui-routes-all-show-ads",2233:"dwp-home-chips-row",2355:"xpui-routes-playlist",2391:"xpui-routes-desktop-settings",2543:"xpui-routes-country-hub",2579:"dwp-error-page",2630:"dwp-offline-empty-state",2889:"xpui-routes-recent-searches",3322:"dwp-now-playing-bar",3569:"xpui-routes-offline-browse",3632:"this-is-playlist-concerts-carousel",3667:"xpui-pip-mini-player",3838:"xpui-routes-cultural-moment-hub",4084:"dwp-whats-new-feed",4312:"home-hpto",4389:"xpui-routes-collection-local-files",4483:"dwp-user-comments",4574:"your-sound-capsule-modal",4789:"concerts-on-tour-playlist-card",5040:"xpui-routes-see-all-playlist-leavebehinds",5094:"dwp-top-bar",5518:"dwp-premium-upsell-page",5523:"xpui-routes-stage-page",5663:"xpui-routes-recently-played",5783:"xpui-routes-collection-concerts",5853:"xpui-routes-collection-concert-gallery",5962:"xpui-routes-album",6080:"xpui-routes-collection-episodes",6266:"browse-v2",6426:"xpui-routes-label-artists",6457:"xpui-routes-your-library-x",6488:"dwp-premium-page",6541:"xpui-routes-label",6863:"xpui-routes-track-v2",7125:"xpui-routes-search",7241:"xpui-routes-venues",7564:"xpui-routes-buddy-feed",7599:"legacy-hpto-compatibility",7988:"dwp-video-player",8493:"xpui-desktop-modals",8552:"dwp-feedback-bar",8588:"dwp-billboard-ad",8606:"xpui-routes-show",8828:"xpui-routes-collection-songs",8865:"xpui-routes-album-prerelease",9033:"xpui-routes-show-more-like-this",9209:"xpui-routes-concert",9480:"xpui-routes-profile",9500:"dwp-leaderboard-component",9528:"xpui-routes-episode",9560:"employee-notifications",9718:"playlist-leavebehinds"}[e]||e)+".css"),o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a={},r="client-web:",o.l=(e,t,n,s)=>{if(a[e])a[e].push(t);else{var i,c;if(void 0!==n)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+n){i=d;break}}i||(c=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",r+n),i.src=e),a[e]=[t];var h=(t,n)=>{i.onerror=i.onload=null,clearTimeout(p);var r=a[e];if(delete a[e],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),c&&document.head.appendChild(i)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.p="/",(()=>{if("undefined"!=typeof document){var e=e=>new Promise(((t,n)=>{var a=o.miniCssF(e),r=o.p+a;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var r=(i=n[a]).getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(r===e||r===t))return i}var s=document.getElementsByTagName("style");for(a=0;a<s.length;a++){var i;if((r=(i=s[a]).getAttribute("data-href"))===e||r===t)return i}})(a,r))return t();((e,t,n,a,r)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",o.nc&&(s.nonce=o.nc),s.onerror=s.onload=n=>{if(s.onerror=s.onload=null,"load"===n.type)a();else{var i=n&&n.type,o=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+i+": "+o+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=i,c.request=o,s.parentNode&&s.parentNode.removeChild(s),r(c)}},s.href=t,n?n.parentNode.insertBefore(s,n.nextSibling):document.head.appendChild(s)})(e,r,null,t,n)})),t={4234:0};o.f.miniCss=(n,a)=>{t[n]?a.push(t[n]):0!==t[n]&&{42:1,319:1,347:1,352:1,399:1,599:1,749:1,777:1,983:1,1206:1,1310:1,1396:1,1602:1,1845:1,2233:1,2355:1,2391:1,2543:1,2579:1,2630:1,2889:1,3087:1,3322:1,3569:1,3632:1,3633:1,3667:1,3838:1,4084:1,4312:1,4389:1,4483:1,4574:1,4789:1,5040:1,5094:1,5226:1,5518:1,5522:1,5523:1,5663:1,5783:1,5853:1,5962:1,6080:1,6266:1,6426:1,6457:1,6488:1,6541:1,6863:1,7079:1,7125:1,7241:1,7564:1,7567:1,7599:1,7661:1,7749:1,7988:1,8348:1,8493:1,8552:1,8557:1,8588:1,8606:1,8828:1,8865:1,9033:1,9209:1,9480:1,9500:1,9528:1,9560:1,9718:1}[n]&&a.push(t[n]=e(n).then((()=>{t[n]=0}),(e=>{throw delete t[n],e})))},o.F.miniCss=e=>{if(!(o.o(t,e)&&void 0!==t[e]||/^(1(24|25|392|508|577|621|714|785)|2(205|288|649|710)|3(9(0|16|23|34|60)|[56]23|06|11|890)|4(063|070|258|293|404|496)|5(96(|4)|109|130|39|660|885)|6(0(51|59|91)|505|589|665|693|738|824|936)|7(1(40|67|70)|067|202|315|42|805|909)|8((21|32|72)2|001|490|920|93)|9((67|84|98)5|046|319|667|76|834))$/.test(e))){t[e]=null;var n=document.createElement("link");o.nc&&n.setAttribute("nonce",o.nc),n.rel="prefetch",n.as="style",n.href=o.p+o.miniCssF(e),document.head.appendChild(n)}}}})(),(()=>{var e={4234:0};o.f.j=(t,n)=>{var a=o.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else if(6488!=t){var r=new Promise(((n,r)=>a=e[t]=[n,r]));n.push(a[2]=r);var s=o.p+o.u(t),i=new Error;o.l(s,(n=>{if(o.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var r=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",i.name="ChunkLoadError",i.type=r,i.request=s,a[1](i)}}),"chunk-"+t,t)}else e[t]=0},o.F.j=t=>{if((!o.o(e,t)||void 0===e[t])&&6488!=t){e[t]=null;var n=document.createElement("link");n.charset="utf-8",o.nc&&n.setAttribute("nonce",o.nc),n.rel="prefetch",n.as="script",n.href=o.p+o.u(t),document.head.appendChild(n)}},o.O.j=t=>0===e[t];var t=(t,n)=>{var a,r,[s,i,c]=n,l=0;if(s.some((t=>0!==e[t]))){for(a in i)o.o(i,a)&&(o.m[a]=i[a]);if(c)var u=c(o)}for(t&&t(n);l<s.length;l++)r=s[l],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(u)},n=("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),o.nc=void 0,s={7170:[599,6665]},o.f.prefetch=(e,t)=>Promise.all(t).then((()=>{var t=s[e];Array.isArray(t)&&t.map(o.E)})),o.O(0,[4234],(()=>{[352,1714,9985,4070,3923,7125,1577,390,4312,5885,3569,2630].map(o.E)}),5);var c={};(()=>{"use strict";o(77369),o(54871);var e=o(99576);var t=o(65809),n=o(159),a=o(34921),r=o(98108),s=o(70397),i=o(87716),c=o(48729),l=o(51778),u=o(62411),d=o(12703),h=o(42785),p=o(95638),m=o(30758);const f="main-appShell-container",g="main-appShell-sideBar",v="main-appShell-navItems",b="main-appShell-mainContent",y="main-appShell-topBar",x="main-appShell-cards",w="main-appShell-cardsHeader",A="main-appShell-cardsWrapper",_="main-appShell-card",E="main-appShell-playbackBar";var S=o(86070);const j=(0,m.memo)((function(){return(0,S.jsxs)("div",{className:f,children:[(0,S.jsx)("div",{className:g,children:(0,S.jsxs)("svg",{className:v,width:"232",height:"704",viewBox:"0 0 232 704",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("path",{fill:"#000",d:"M0 0h227v704H0z"}),(0,S.jsx)("path",{d:"M29.887 130.123A8.47 8.47 0 0032.5 124a8.5 8.5 0 10-8.5 8.5 8.454 8.454 0 005.125-1.73l4.401 5.153.76-.649-4.399-5.151zM24 131.5c-4.136 0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5-3.364 7.5-7.5 7.5zM29.16 158.597l-.913.406 7.797 17.513.914-.406-7.798-17.513zM18.5 176.5h1v-18h-1v18zm6 0h1v-18h-1v18z",fill:"#757575"}),(0,S.jsx)("path",{fill:"#404040",d:"M53 162h122v11H53zM64 258h95v11H64z"}),(0,S.jsx)("path",{fill:"#fff",d:"M16 248h32v32H16z"}),(0,S.jsx)("path",{d:"M38 263h-5v-5h-2v5h-5v2h5v5h2v-5h5v-2z",fill:"#000"}),(0,S.jsx)("path",{fill:"url(#paint0_linear)",d:"M16 292h32v32H16z"}),(0,S.jsx)("path",{d:"M37.797 302.727a4.057 4.057 0 00-5.488-.253.558.558 0 01-.31.112.531.531 0 01-.31-.112 4.054 4.054 0 00-5.488.253 4.05 4.05 0 00-1.194 2.883c0 1.089.424 2.113 1.168 2.855l4.462 5.223a1.791 1.791 0 002.726 0l4.435-5.195a4.052 4.052 0 001.195-2.883 4.057 4.057 0 00-1.196-2.883z",fill:"#fff"}),(0,S.jsx)("path",{fill:"#404040",d:"M64 303h79v11H64z"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 353h142v11H16zM16 395h53v11H16zM16 437h98v11H16zM16 479h143v11H16zM16 521h97v11H16z",opacity:"0.6"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 218h71v11H16z"}),(0,S.jsx)("path",{d:"M25.501 73.078L34 77.984V91h-6v-7h-5v7h-6V78.024l8.501-4.946zm-.002-1.156L16 77.449V92h8v-7h3v7h8V77.407l-9.501-5.485z",fill:"#616161"}),(0,S.jsx)("path",{fill:"#404040",d:"M53 78h122v11H53zM53 120h122v11H53z"}),(0,S.jsx)("defs",{children:(0,S.jsxs)("linearGradient",{id:"paint0_linear",x1:"0",y1:"308",x2:"32",y2:"340",gradientUnits:"userSpaceOnUse",children:[(0,S.jsx)("stop",{stopColor:"#450AF5"}),(0,S.jsx)("stop",{offset:"1",stopColor:"#C4EFD9"})]})})]})}),(0,S.jsxs)("div",{className:b,children:[(0,S.jsx)("div",{className:y,children:(0,S.jsxs)("svg",{width:"125",height:"95",viewBox:"0 0 125 95",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{x:"0",y:"31",width:"125",height:"32",rx:"16",fill:"#282828"}),(0,S.jsx)("path",{d:"M992 59c6.627 0 12-5.373 12-12s-5.373-12-12-12-12 5.373-12 12 5.373 12 12 12z",fill:"#404040"}),(0,S.jsx)("path",{fill:"#404040",d:"M1014 42h66v11h-66z"})]})}),(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:x,children:[(0,S.jsxs)("div",{className:w,children:[(0,S.jsx)("svg",{width:"257",height:"23",viewBox:"0 0 257 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{fill:"#404040",d:"M0 0h257v23H0z"})}),(0,S.jsx)("svg",{width:"72",height:"11",viewBox:"0 0 72 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{fill:"#404040",d:"M0 0h72v11H0z"})})]}),(0,S.jsxs)("div",{className:A,children:[(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]})]})]}),(0,S.jsxs)("div",{className:x,children:[(0,S.jsxs)("div",{className:w,children:[(0,S.jsx)("svg",{width:"257",height:"23",viewBox:"0 0 257 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{fill:"#404040",d:"M0 0h257v23H0z"})}),(0,S.jsx)("svg",{width:"72",height:"11",viewBox:"0 0 72 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{fill:"#404040",d:"M0 0h72v11H0z"})})]}),(0,S.jsxs)("div",{className:A,children:[(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]})]})]}),(0,S.jsxs)("div",{className:x,children:[(0,S.jsxs)("div",{className:w,children:[(0,S.jsx)("svg",{width:"257",height:"23",viewBox:"0 0 257 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{fill:"#404040",d:"M0 0h257v23H0z"})}),(0,S.jsx)("svg",{width:"72",height:"11",viewBox:"0 0 72 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{fill:"#404040",d:"M0 0h72v11H0z"})})]}),(0,S.jsxs)("div",{className:A,children:[(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]}),(0,S.jsxs)("svg",{className:_,width:"164",height:"232",viewBox:"0 0 164 232",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("rect",{width:"164",height:"232",rx:"8",fill:"#282828"}),(0,S.jsx)("path",{fill:"#404040",d:"M16 16h132v132H16zM16 166h122v11H16zM16 182h72v11H16zM16 206h94v6H16z"})]})]})]})]})]}),(0,S.jsxs)("div",{className:E,children:[(0,S.jsx)("div",{children:(0,S.jsx)("svg",{width:"175",height:"40",viewBox:"0 0 175 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{fill:"#404040",d:"M53 5h122v11H53zM53 23h101v11H53zM0 0h40v40H0z"})})}),(0,S.jsx)("div",{children:(0,S.jsxs)("svg",{width:"216",height:"48",viewBox:"0 0 216 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("path",{d:"M12.5 22.8l.7-.8c-1.1-1.3-2.7-2-4.3-2v1c1.3 0 2.6.6 3.5 1.6l.1.2zm7.5 4.7c-1.2 0-2.3-.5-3.2-1.3l-.6.8c1 1 2.4 1.5 3.8 1.5V30l3.5-2-3.5-2v1.5zm0-6V23l3.5-2-3.5-2v1.5c-1.6 0-3.2.7-4.2 2l-3.4 3.9c-.9 1-2.2 1.6-3.5 1.6v1c1.6 0 3.2-.7 4.2-2l3.4-3.9c.9-1 2.2-1.6 3.5-1.6zM61 18.5l-8 4.619V19h-2v10h2v-4.119l8 4.619v-11zM163 20v4.119l-8-4.619v11l8-4.619V30h2V20h-2zM197.5 21h4.5v1.5l3.5-2-3.5-2V20h-4.5c-2.5 0-4.5 2-4.5 4.5 0 .6.1 1.2.4 1.8l.9-.5c-.2-.4-.3-.8-.3-1.3 0-1.9 1.6-3.5 3.5-3.5zm9.1 1.7l-.9.5c.2.4.3.8.3 1.3 0 1.9-1.6 3.5-3.5 3.5H198v-1.5l-3.5 2 3.5 2V29h4.5c2.5 0 4.5-2 4.5-4.5 0-.6-.1-1.2-.4-1.8z",fill:"#fff"}),(0,S.jsx)("circle",{cx:"108",cy:"24",r:"20",fill:"#fff"}),(0,S.jsx)("path",{d:"M100 16h16v16h-16V16z",fill:"#fff"}),(0,S.jsx)("path",{d:"M104.018 30l10.392-6-10.392-6v12z",fill:"#000"})]})}),(0,S.jsx)("div",{children:(0,S.jsx)("svg",{width:"99",height:"16",viewBox:"0 0 99 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{d:"M1 2v5l4.33-2.5L1 2zm0 12h14v-1H1v1zm0-4h14V9H1v1zm7-5v1h7V5H8zM92.945 1.379l-.652.763A7.968 7.968 0 0194.863 8a7.972 7.972 0 01-2.57 5.858l.651.763a8.966 8.966 0 00.001-13.242zm-2.272 2.66l-.651.763a4.484 4.484 0 01-.001 6.397l.651.763a5.48 5.48 0 001.691-3.961c0-1.557-.65-2.962-1.69-3.962zM80 5v6h2.804L88 14V2l-5.196 3H80zm7-1.268v8.536L83.072 10H81V6h2.072L87 3.732zM40 2.5v8c0 .55.45 1 1 1h5v-1h-5v-8h5v-1h-5c-.55 0-1 .45-1 1zM43 14c0 .275.225.5.5.5H46v-1h-2.5c-.275 0-.5.225-.5.5zM55 1.5h-6c-.55 0-1 .45-1 1v11c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-11c0-.55-.45-1-1-1zm0 12h-6v-11h6v11zm-3-8A.75.75 0 1052 4a.75.75 0 000 1.5zm0 6a2 2 0 100-4 2 2 0 000 4zm0-3c.551 0 1 .449 1 1 0 .551-.449 1-1 1-.551 0-1-.449-1-1 0-.551.449-1 1-1z",fill:"#fff"})})})]})]})}));var C=o(71939);const L=m.memo((function(){const e=Object.keys(s.Ru.getTranslations()).length>0;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(C.x,{isOpen:!0,isRemoteConfigInitialized:!1,headingMessage:e?s.Ru.get("error-dialog.generic.header"):"Something went wrong",message:e?s.Ru.get("error-dialog.generic.body"):"Try reloading the page",buttonLabel:e?s.Ru.get("fatal-error.button-label"):"RELOAD PAGE"}),(0,S.jsx)(j,{})]})}));var I=o(32915),N=o(29423),k=o(79309),T=o(4666),R=o(52887),P=o(90471);const M=()=>{const e=(0,T.z)(),t=(0,u.Pj)(),n=(0,m.useRef)(),a=(0,N.S)(),r=e.getState()?.item,s=r&&((0,P.p)(r)||(0,R.d)(r));return(0,m.useEffect)((()=>{n.current=a}),[a]),(0,m.useEffect)((()=>navigator&&navigator.mediaSession?((0,k.g)()&&s||(navigator.mediaSession.setActionHandler("previoustrack",(()=>{const t=n.current?.isOpen;t||e.skipToPrevious()})),navigator.mediaSession.setActionHandler("nexttrack",(()=>{const t=n.current?.isOpen;t||e.skipToNext()}))),navigator.mediaSession.setActionHandler("play",(()=>{const t=n.current?.isOpen;t||e.resume({featureIdentifier:"media-keys"})})),navigator.mediaSession.setActionHandler("pause",(()=>{const t=n.current?.isOpen;t||e.pause({featureIdentifier:"media-keys"})})),s&&(navigator.mediaSession.setActionHandler("seekbackward",(t=>{const n=t.seekOffset?1e3*t.seekOffset:1e4;e.seekBackward(n)})),navigator.mediaSession.setActionHandler("seekforward",(t=>{const n=t.seekOffset?1e3*t.seekOffset:1e4;e.seekForward(n)}))),()=>{navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("nexttrack",null),navigator.mediaSession.setActionHandler("play",null),navigator.mediaSession.setActionHandler("pause",null),navigator.mediaSession.setActionHandler("seekbackward",null),navigator.mediaSession.setActionHandler("seekforward",null)}):()=>{}),[s,e,t]),null};var D=o(56261),O=o(52593),V=o(92852),z=o(33562),H=o(52613),B=o(29425),F=o(89457),U=o(1287);function q(e){return e?.map((({url:e,width:t,height:n})=>({src:e,sizes:`${t}x${n}`})))??[]}function W(e){window.navigator.mediaSession&&(window.navigator.mediaSession.metadata=function(e){return(0,B.v)(e)?new window.MediaMetadata({title:e.name,artist:e.artists.map((e=>e.name)).join(s.Ru.getSeparator()),album:e.album.name,artwork:q(e.images)}):(0,P.p)(e)?new window.MediaMetadata({title:e.name,artist:e.artists?.map((e=>e.name)).join(s.Ru.getSeparator())||"",album:e.show.name,artwork:q(e.images)}):(0,R.d)(e)?new window.MediaMetadata({title:e.name,artist:e.artists?.map((e=>e.name)).join(s.Ru.getSeparator())||"",album:e.book.name,artwork:q(e.images)}):(0,H.N)(e)?new window.MediaMetadata({title:s.Ru.get("ad-formats.advertisement"),artist:"",album:"",artwork:q(e.images)}):(0,F.v)(e)||void 0===e?new window.MediaMetadata({title:"",artist:"",album:"",artwork:[]}):(0,U.d)(e)}(e))}const G=()=>((0,z.p)(V.gd.UPDATE,(({data:e})=>W(e?.item??void 0))),null),K=()=>(0,u.d4)(D.c)===O.Kz.pip?(0,S.jsx)(G,{}):null;var Q=o(96131),$=o(30339);function Z(e){return{name:"KmPageView",environments:["browser"],data:e}}function Y(e){return{name:"KmPageViewNonAuth",environments:["browsernonauth"],data:e}}var J=o(18831);function X(e=""){const t=`https://open.spotify.com${e}`;let n="";const a=/^\/\w+\/([a-zA-Z0-9]+)[/\w+]*/.exec(e);a?.[1]&&(n=a[1]);let r=e,s=e;const i=e.match(/^\/search\/(.*)\/(.*)/);return/^\/genre\//.test(e)||/^\/view\//.test(e)?s="/browse/genres":"/"===e?(s="/browse",r="/browse/featured"):"/browse/charts"===e?s="/charts":"/collection/tracks"===e?s="/collection/songs":"/search"===e?s="/search":i?(s="podcasts"===i[2]?"/search/shows":`/search/${i[2]}`,r=`/search/${i[2]}`):e.match(/\/search\/(?<query>.*)/)?(s="/search",r="/search/results"):"/download"===e?s="/upsell":"/queue"===e?s="/nowplaying/queue":/^\/artist\/[a-zA-Z0-9]+\/related/.test(e)?(r=(0,J.ITr)(n).toString(),s="/artist/related"):/^\/artist\/[a-zA-Z0-9]+\/about/.test(e)?(r=(0,J.ITr)(n).toString(),s="/artist/about"):/^\/artist\/[a-zA-Z0-9]+\/concerts/.test(e)?(r=(0,J.ITr)(n).toString(),s="/artist/concerts"):(0,J.ecE)(t)?(r=(0,J.ITr)(n).toString(),s="/artist"):(0,J.tbX)(t)?(r=(0,J.Pse)(n).toString(),s="/playlist"):(0,J._Tv)(t)?(r=(0,J.Q00)(n).toString(),s="/album"):(0,J.gHQ)(t)?(r=(0,J.iMK)(n).toString(),s="/episode"):(0,J.WB1)(t)?(r=(0,J.Mci)(n).toString(),s="/shows"):(0,J.APS)(t)?(r=(0,J.Qjr)(n).toString(),s="/profile"):(0,J.U_m)(t)&&(r=(0,J.Mce)(n).toString(),s="/track"),{viewUri:r,mappedPageId:s}}var ee=o(75519);const te="#login";var ne=o(85387);var ae=o(84425);class re extends m.Component{constructor(e){super(e);const{eventSender:t,location:n,isAnonymous:a}=this.props;t.send(oe(n.pathname,a))}shouldComponentUpdate(e){const{eventSender:t,navigationType:n,location:a,isAnonymous:r}=e,{location:s}=this.props,i=a.hash===te||s.hash===te;return(0,Q.j)(a,s)||n===$.rc.Replace||i||((0,ae.D)(a.pathname),t.send(function(e,t=!1){const{viewUri:n,mappedPageId:a}=X(e),r={page:a,type:"exit",view_uri:n};return t?Y(r):Z(r)}(s.pathname,r)),t.send(oe(a.pathname,r))),!1}render(){return null}}const se=(0,u.Ng)((function(e,t){return{...t,isAnonymous:e.session.isAnonymous}}))((ie=re,e=>{const t=(0,ne.zy)(),n=(0,ne.Zp)(),a=(0,ne.wQ)(),r=(0,ne.g)();return(0,S.jsx)(ie,{...e,navigate:n,navigationType:a,location:t,params:r})}));var ie;function oe(e,t=!1){const{viewUri:n,mappedPageId:a}=X(e),r={page:a,type:"enter",view_uri:n};return t?Y(r):Z(r)}var ce=o(59516),le=o(92440),ue=o(30341);var de=le.L.isUsingKeyboard,he=function(e){var t=function(e){var t=(0,m.useState)(e),n=(0,ue.A)(t,2),a=n[0],r=n[1],s=function(){return r(!1)},i=function(e){switch(e.key){case"Tab":case"ArrowDown":case"ArrowUp":case"ArrowLeft":case"ArrowRight":r(!0)}};return(0,m.useEffect)((function(){return window.addEventListener("keydown",i),window.addEventListener("mousedown",s),window.addEventListener("touchstart",s),function(){window.removeEventListener("keydown",i),window.removeEventListener("mousedown",s),window.removeEventListener("touchstart",s)}}),[]),{isUsingKeyboard:a,setIsUsingKeyboard:r}}(de),n=t.isUsingKeyboard;return m.createElement(le.E.Provider,{value:{isUsingKeyboard:n}},e.children)},pe=o(93844);var me=o(90238),fe=o(19239);const ge=({fetchHomeAd:e,setHomeAd:t,adsSlotConfig:n,fetchRef:a})=>{const r=(0,fe.vh)();return{fetchAndSetHomeAd:(0,m.useMemo)((()=>e&&n?.hpto?async()=>{const n=e();a.current=n;try{t(n);const e=await n;a.current===n&&t(e)}catch(e){a.current===n&&t(void 0);const s=e&&"object"==typeof e&&"message"in e&&"string"==typeof e.message?e.message:String(e);r.send((0,me.G)({error_type:"fetchHPTOSlotFailure",error_message:s,request_type:"hpto"}))}}:void 0),[r,a,e,t,n])}};function ve(e){const[t,n]=(0,m.useState)(!1);return(0,m.useEffect)((()=>n(!1)),[e]),{dismissed:t,dismiss(){n(!0)}}}function be(){const e=(0,m.useState)(),t=(0,m.useRef)(e[0]);return{imageUrlToExtractHomeAdColorFrom:(0,m.useState)(),extractedHomeAdColor:[e[0],function(n){t.current=n,e[1](n)}],extractedHomeAdColorRef:t}}const ye=m.useState;var xe=o(59161);const we=()=>({allowSwitchingBetweenHomeAdsAndHpto:(0,t.NC)(xe.htx)});var Ae=o(24955);const _e=m.useState;var Ee=o(63304);function Se({adsSlotConfig:e}){const t=(0,ne.Zp)(),[n,a]=_e(),r=e&&Ee.r.hpto in e;return(0,m.useEffect)((()=>{if(!r)return()=>{};const e=(async()=>{const e=await Promise.resolve().then(o.bind(o,73636)),{slotsClient:n,adsCoreConnector:r}=e,s=await Promise.resolve().then(o.bind(o,67456)),{AdSlotEvent_AdSlotEventType:i,SubSlotRequest:c}=s;return await r.createSlot(Ee.r.hpto),await r.enableSlot(Ee.r.hpto),n.subSlot(c.fromPartial({slotId:Ee.r.hpto}),(({adSlotEvent:e})=>{e?.eventType===i.AVAILABLE&&"true"===e.ad?.metadata?.is_preview&&(a(e.ad),t("/"))}))})();return()=>{e.then((e=>e.cancel()))}}),[r,t,a]),{previewHomeAd:n,setPreviewHomeAd:a}}function je({fetchHomeAd:e,adsSlotConfig:t,enableLegacyHptoContainerLoader:n}){const{homeAd:a,setHomeAd:r}=function(){const[e,t]=ye();return{homeAd:e,setHomeAd:t}}(),{fetchAndSetHomeAd:s}=(i={fetchHomeAd:e,setHomeAd:r,adsSlotConfig:t},{...ge({...i,fetchRef:(0,m.useRef)()})});var i;return function({enableLegacyHptoContainerLoader:e}={}){const{allowSwitchingBetweenHomeAdsAndHpto:t}=we(),n=(0,u.wA)();(0,m.useEffect)((()=>{!t&&e&&n((0,Ae.T)())}),[e,t,n])}({enableLegacyHptoContainerLoader:n}),{setHomeAd:r,fetchAndSetHomeAd:s,homeAd:a,...be(),...ve(a),...Se({adsSlotConfig:t})}}const Ce=({instance:e,children:t})=>{const{adsSlotConfig:n}=function({getAdsSlotConfig:e}){const[t,n]=(0,m.useState)();return(0,m.useEffect)((function(){e?.().then(n)}),[e]),{adsSlotConfig:t}}({getAdsSlotConfig:e?.config.getAdsSlotConfig}),a=je({adsSlotConfig:n,...e?.home}),r=(0,m.useMemo)((()=>({adsAPI:e||null,homeAds:a})),[a,e]);return(0,S.jsx)(pe.Cp.Provider,{value:r,children:t})};var Le=o(28246),Ie=o(26471),Ne=o(65527),ke=o(56572),Te=o(11444),Re=o(19803),Pe=o(49552),Me=o(32684),De=o(56334),Oe=o(34387),Ve=o(64591),ze=o(61718),He=class extends ze.Q{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const a=t.queryKey,r=t.queryHash??(0,De.F$)(a,t);let s=this.get(r);return s||(s=new Oe.X({client:e,queryKey:a,queryHash:r,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(s)),s}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ve.jG.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>(0,De.MK)(t,e)))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>(0,De.MK)(e,t))):t}notify(e){Ve.jG.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){Ve.jG.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){Ve.jG.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},Be=o(25300),Fe=class extends ze.Q{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#n=new Map,this.#a=0}#t;#n;#a;build(e,t,n){const a=new Be.s({mutationCache:this,mutationId:++this.#a,options:e.defaultMutationOptions(t),state:n});return this.add(a),a}add(e){this.#t.add(e);const t=Ue(e);if("string"==typeof t){const n=this.#n.get(t);n?n.push(e):this.#n.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Ue(e);if("string"==typeof t){const n=this.#n.get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&this.#n.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Ue(e);if("string"==typeof t){const n=this.#n.get(t),a=n?.find((e=>"pending"===e.state.status));return!a||a===e}return!0}runNext(e){const t=Ue(e);if("string"==typeof t){const n=this.#n.get(t)?.find((t=>t!==e&&t.state.isPaused));return n?.continue()??Promise.resolve()}return Promise.resolve()}clear(){Ve.jG.batch((()=>{this.#t.forEach((e=>{this.notify({type:"removed",mutation:e})})),this.#t.clear(),this.#n.clear()}))}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find((e=>(0,De.nJ)(t,e)))}findAll(e={}){return this.getAll().filter((t=>(0,De.nJ)(e,t)))}notify(e){Ve.jG.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return Ve.jG.batch((()=>Promise.all(e.map((e=>e.continue().catch(De.lQ))))))}};function Ue(e){return e.options.scope?.id}var qe=o(83548),We=o(67333),Ge=o(72985),Ke=class{#r;#s;#i;#o;#c;#l;#u;#d;constructor(e={}){this.#r=e.queryCache||new He,this.#s=e.mutationCache||new Fe,this.#i=e.defaultOptions||{},this.#o=new Map,this.#c=new Map,this.#l=0}mount(){this.#l++,1===this.#l&&(this.#u=qe.m.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#r.onFocus())})),this.#d=We.t.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#r.onOnline())})))}unmount(){this.#l--,0===this.#l&&(this.#u?.(),this.#u=void 0,this.#d?.(),this.#d=void 0)}isFetching(e){return this.#r.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#s.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#r.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#r.build(this,t),a=n.state.data;return void 0===a?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime((0,De.d2)(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#r.findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,n){const a=this.defaultQueryOptions({queryKey:e}),r=this.#r.get(a.queryHash),s=r?.state.data,i=(0,De.Zw)(t,s);if(void 0!==i)return this.#r.build(this,a).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return Ve.jG.batch((()=>this.#r.findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,n)]))))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#r.get(t.queryHash)?.state}removeQueries(e){const t=this.#r;Ve.jG.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=this.#r;return Ve.jG.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries({type:"active",...e},t))))}cancelQueries(e,t={}){const n={revert:!0,...t},a=Ve.jG.batch((()=>this.#r.findAll(e).map((e=>e.cancel(n)))));return Promise.all(a).then(De.lQ).catch(De.lQ)}invalidateQueries(e,t={}){return Ve.jG.batch((()=>(this.#r.findAll(e).forEach((e=>{e.invalidate()})),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},a=Ve.jG.batch((()=>this.#r.findAll(e).filter((e=>!e.isDisabled()&&!e.isStatic())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(De.lQ)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(a).then(De.lQ)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#r.build(this,t);return n.isStaleByTime((0,De.d2)(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(De.lQ).catch(De.lQ)}fetchInfiniteQuery(e){return e.behavior=(0,Ge.PL)(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(De.lQ).catch(De.lQ)}ensureInfiniteQueryData(e){return e.behavior=(0,Ge.PL)(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return We.t.isOnline()?this.#s.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#r}getMutationCache(){return this.#s}getDefaultOptions(){return this.#i}setDefaultOptions(e){this.#i=e}setQueryDefaults(e,t){this.#o.set((0,De.EN)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#o.values()],n={};return t.forEach((t=>{(0,De.Cp)(e,t.queryKey)&&Object.assign(n,t.defaultOptions)})),n}setMutationDefaults(e,t){this.#c.set((0,De.EN)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#c.values()],n={};return t.forEach((t=>{(0,De.Cp)(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#i.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,De.F$)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===De.hT&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#i.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#r.clear(),this.#s.clear()}},Qe=o(29291);function $e(e){return e}function Ze(e){return{mutationKey:e.options.mutationKey,state:e.state,...e.options.scope&&{scope:e.options.scope},...e.meta&&{meta:e.meta}}}function Ye(e,t,n){return{dehydratedAt:Date.now(),state:{...e.state,...void 0!==e.state.data&&{data:t(e.state.data)}},queryKey:e.queryKey,queryHash:e.queryHash,..."pending"===e.state.status&&{promise:e.promise?.then(t).catch((e=>n(e)?Promise.reject(new Error("redacted")):Promise.reject(e)))},...e.meta&&{meta:e.meta}}}function Je(e){return e.state.isPaused}function Xe(e){return"success"===e.state.status}function et(e){return!0}function tt(e,t={}){const n=t.shouldDehydrateMutation??e.getDefaultOptions().dehydrate?.shouldDehydrateMutation??Je,a=e.getMutationCache().getAll().flatMap((e=>n(e)?[Ze(e)]:[])),r=t.shouldDehydrateQuery??e.getDefaultOptions().dehydrate?.shouldDehydrateQuery??Xe,s=t.shouldRedactErrors??e.getDefaultOptions().dehydrate?.shouldRedactErrors??et,i=t.serializeData??e.getDefaultOptions().dehydrate?.serializeData??$e;return{mutations:a,queries:e.getQueryCache().getAll().flatMap((e=>r(e)?[Ye(e,i,s)]:[]))}}var nt=o(51822),at=["added","removed","updated"];function rt(e){return at.includes(e)}async function st({queryClient:e,persister:t,maxAge:n=864e5,buster:a="",hydrateOptions:r}){try{const s=await t.restoreClient();if(s){if(!s.timestamp)return t.removeClient();{const i=Date.now()-s.timestamp>n,o=s.buster!==a;if(i||o)return t.removeClient();!function(e,t,n){if("object"!=typeof t||null===t)return;const a=e.getMutationCache(),r=e.getQueryCache(),s=n?.defaultOptions?.deserializeData??e.getDefaultOptions().hydrate?.deserializeData??$e,i=t.mutations||[],o=t.queries||[];i.forEach((({state:t,...r})=>{a.build(e,{...e.getDefaultOptions().hydrate?.mutations,...n?.defaultOptions?.mutations,...r},t)})),o.forEach((({queryKey:t,state:a,queryHash:i,meta:o,promise:c,dehydratedAt:l})=>{const u=c?(0,Qe.b)(c):void 0,d=void 0===a.data?u?.data:a.data,h=void 0===d?d:s(d);let p=r.get(i);const m="pending"===p?.state.status,f="fetching"===p?.state.fetchStatus;if(p){const e=u&&void 0!==l&&l>p.state.dataUpdatedAt;if(a.dataUpdatedAt>p.state.dataUpdatedAt||e){const{fetchStatus:e,...t}=a;p.setState({...t,data:h})}}else p=r.build(e,{...e.getDefaultOptions().hydrate?.queries,...n?.defaultOptions?.queries,queryKey:t,queryHash:i,meta:o},{...a,data:h,fetchStatus:"idle",status:void 0!==h?"success":a.status});c&&!m&&!f&&(void 0===l||l>p.state.dataUpdatedAt)&&p.fetch(void 0,{initialPromise:Promise.resolve(c).then(s)})}))}(e,s.clientState,r)}}}catch(e){throw await t.removeClient(),e}}async function it({queryClient:e,persister:t,buster:n="",dehydrateOptions:a}){const r={buster:n,timestamp:Date.now(),clientState:tt(e,a)};await t.persistClient(r)}function ot(e){const t=e.queryClient.getQueryCache().subscribe((t=>{rt(t.type)&&it(e)})),n=e.queryClient.getMutationCache().subscribe((t=>{rt(t.type)&&it(e)}));return()=>{t(),n()}}var ct=o(53952),lt=({children:e,persistOptions:t,onSuccess:n,onError:a,...r})=>{const[s,i]=m.useState(!0),o=m.useRef({persistOptions:t,onSuccess:n,onError:a}),c=m.useRef(!1);return m.useEffect((()=>{o.current={persistOptions:t,onSuccess:n,onError:a}})),m.useEffect((()=>{const e={...o.current.persistOptions,queryClient:r.client};return c.current||(c.current=!0,st(e).then((()=>o.current.onSuccess?.())).catch((()=>o.current.onError?.())).finally((()=>{i(!1)}))),s?void 0:ot(e)}),[r.client,s]),(0,S.jsx)(nt.Ht,{...r,children:(0,S.jsx)(ct.d,{value:s,children:e})})},ut=o(55941),dt=o(35035),ht=o(15282);const pt=()=>(0,dt.v8)("sp_key"),mt=e=>{const t=(0,ht.V)(),n=(()=>{const e=pt();return setInterval((()=>{e!==pt()&&window.location.reload()}),5e3)})();t.on(r.TransportEvent.LOGGED_OUT,(()=>{clearInterval(n),e()}))};const ft=864e5,gt=Spicetify.ReactComponent.PlatformProvider=({platform:e,children:n})=>{const a=(0,t.NC)(xe.QMQ),r="always",s=(0,m.useMemo)((()=>new Ke({defaultOptions:{queries:{gcTime:0,networkMode:r},mutations:{networkMode:r}}})),[r]);if((0,m.useEffect)((()=>{var e;mt((()=>{(0,ut.k)()})),e=()=>{console.log("Detected hard reload. Deleting persisted cache."),(0,ut.k)()},window.addEventListener("keydown",(t=>{const n=(t.ctrlKey||t.metaKey)&&t.shiftKey&&"R"===t.key.toUpperCase(),a=t.ctrlKey&&"F5"===t.key.toUpperCase();(n||a)&&e()}))}),[]),(0,m.useEffect)((()=>{a||(0,ut.k)()}),[a]),a){const t=(0,ut.Z)(),a=e.getSession(),r=["v1",e.username,a.locale,a.market];return(0,S.jsx)(lt,{client:s,persistOptions:{persister:t,buster:r.join(":"),maxAge:ft,hydrateOptions:{defaultOptions:{queries:{gcTime:ft}}},dehydrateOptions:{shouldDehydrateQuery:e=>!!e.meta?.persist&&Xe(e)}},children:n})}return(0,S.jsx)(nt.Ht,{client:s,children:n})};var vt=o(26884),bt=o(80272);const yt=({children:e})=>{const n=(0,vt.n)(),[a,r]=(0,m.useState)((()=>n.getLocalConfiguration()));return(0,m.useEffect)((()=>n.getEvents().addListener(bt.M.UPDATE,(e=>r(e.data.configuration)))),[n,r]),(0,S.jsx)(t.Gu,{configuration:a,children:e})},xt=({children:e,providers:t})=>{if(void 0===e)throw new Error("MultiProvider requires children!");return t.reduceRight(((e,t)=>(0,m.cloneElement)(t,void 0,e)),(0,S.jsx)(m.Fragment,{children:e}))};var wt=o(47394),At=o(44500);const _t=({instance:e,children:t})=>(0,S.jsx)(At.c.Provider,{value:e,children:t});var Et=o(36133);const St=({instance:e,children:t})=>(0,S.jsx)(Et.b.Provider,{value:e,children:t});var jt=o(254);const Ct=({request:e,children:t})=>{const n=(0,m.useMemo)((()=>({request:e})),[e]);return(0,S.jsx)(jt.j.Provider,{value:n,children:t})};var Lt=o(65821),It=o(72518),Nt=o(68293),kt=o(19898);const Tt=({instance:e,children:t})=>(0,S.jsx)(kt.J.Provider,{value:e,children:t}),Rt=({instance:e,children:t})=>(0,S.jsx)(fe.rP.Provider,{value:e,children:t}),Pt=Spicetify.ReactComponent.PlatformProvider=({platform:e,children:t})=>{const n=(0,T.z)(),a=[(0,S.jsx)(Rt,{instance:e}),(0,S.jsx)(Ne.D,{}),(0,S.jsx)(Ct,{request:e.getGraphQLLoader()}),(0,S.jsx)(Me.J,{platformData:e.getPlatformData()}),(0,S.jsx)(yt,{}),(0,S.jsx)(Ce,{instance:e.getAdManagers()}),(0,S.jsx)(Lt.A,{instance:e.getSingAlongAPI()}),(0,S.jsx)(It.a,{value:null}),(0,S.jsx)(Nt.V,{instance:e.getUBILogger()}),(0,S.jsx)(Re.Z,{instance:e.getCollectionPlatformAPI()}),(0,S.jsx)(Pe.m,{instance:e.getEqualizerAPI()}),(0,S.jsx)(Le.U.Provider,{value:e.getBuddyFeedAPI()}),(0,S.jsx)(gt,{platform:e}),(0,S.jsx)(ke.pF,{playerAPI:n}),(0,S.jsx)(Te.t,{instance:e.getSettingsAPI()}),(0,S.jsx)(wt.U,{instance:e.getRequestBuilder()}),(0,S.jsx)(_t,{instance:e.getAudioOutputDevicesAPI()}),(0,S.jsx)(St,{instance:e.getExternalAccessoryAPI()}),(0,S.jsx)(Tt,{instance:e.getUrlDispenserServiceClient()}),(0,S.jsx)(he,{}),(0,S.jsx)(Ie.i,{})];return(0,S.jsx)(xt,{providers:a,children:t})};var Mt=o(46202),Dt=o(16304),Ot=o(58923),Vt=o(19151);class zt{maybeApplyAutoTuna(e){return Promise.resolve()}getTunaPlaylist(e){return Promise.resolve({metadata:{type:Vt.c.PLAYLIST,uri:"",name:"",description:"",totalLength:0,unfilteredTotalLength:0,totalLikes:null,duration:null,images:[],dynamicColors:null,owner:{type:Vt.c.USER,uri:"",username:"",displayName:null,images:[]},madeFor:null,isLoaded:!1,isOwnedBySelf:!1,isPublished:!1,isRootlistable:!1,hasDateAdded:!1,hasEpisodes:!1,hasSpotifyTracks:!1,hasSpotifyAudiobooks:!1,canAdd:!1,canRemove:!1,canPlay:!1,formatListData:null,canReportAnnotationAbuse:!1,permissions:null,collaborators:null,availableSignals:[]},contents:{items:[],offset:0,limit:0,totalLength:0}})}turnOnTunaForPlaylist(e){return Promise.resolve()}turnOffTunaForPlaylist(e){return Promise.resolve()}enableTunaForPlaylist(e){return Promise.resolve()}disableTunaForPlaylist(e){return Promise.resolve()}setTunaDetailsForTracks(e,t,n){return Promise.resolve()}}const Ht=(0,m.createContext)(null),Bt=({children:e})=>{const t=(0,m.useMemo)((()=>new zt),[]);return(0,S.jsx)(Ht.Provider,{value:t,children:e})};var Ft=o(7193);const Ut=({children:e})=>{const t=(0,m.useMemo)((()=>({interceptShuffle:(e,t,n,a)=>{a()}})),[]);return(0,S.jsx)(Ft.s.Provider,{value:t,children:e})};var qt=o(12755),Wt=o(98756);const Gt=({history:e,children:t})=>{const[n,a]=(0,m.useState)((()=>({location:e.location,action:e.action})));return(0,m.useLayoutEffect)((()=>{e.listen(((e,t)=>a({location:e,action:t})))}),[e]),(0,S.jsx)(ne.Ix,{location:n.location,navigationType:n.action,navigator:e,children:(0,S.jsx)(Wt.$,{children:t})})};var Kt=o(10819),Qt=o(12912),$t=o(3877);var Zt=o(97500),Yt=o.n(Zt),Jt=o(96102);function Xt(){const e=(0,t.NC)(xe.g3o),n=(0,u.wA)();return(0,m.useEffect)((()=>{e&&n((0,Jt.$h)("dev"))}),[e,n]),null}function en(){const e=(0,t.NC)(xe.SqX),n=(0,u.wA)();return(0,m.useEffect)((()=>{n((0,Jt.ab)(e))}),[e,n]),null}function tn(){const e=(0,u.wA)(),[t,n]=(0,m.useState)(!1);return(0,m.useEffect)((()=>{e(c.yk()),n(!0)}),[e]),t?(0,S.jsxs)(m.Suspense,{fallback:null,children:[(0,S.jsx)(Xt,{}),(0,S.jsx)(en,{})]}):null}var nn=o(64958),an=function(e){var t=e.useBrowserDefaultFocusStyle,n=void 0===t||t,a=e.children;return m.createElement(nn.g.Provider,{value:{useBrowserDefaultFocusStyle:n}},a)},rn=o(90963);const sn=({children:e})=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(rn.M,{children:e})});var on=o(75259),cn=o(76509),ln=(o(66016),o(87175),o(73075)),un=o.n(ln),dn=o(28979),hn=o(14006),pn=function(e){return e[e.DOWN=-1]="DOWN",e[e.NONE=0]="NONE",e[e.UP=1]="UP",e}(pn||{});const mn=10,fn=({ranges:e,size:t,onResize:n,label:a,placement:r,elementRef:s,decreaseSizeKeyboardCombination:i,increaseSizeKeyboardCombination:o,afterResizing:c})=>{const[l,u]=(0,m.useState)(!1),d=(0,hn.W)(),h=(0,m.useCallback)(((t,n=pn.NONE)=>{if(e.some((([e,n])=>e<=t&&t<=n)))return t;switch(n){case pn.NONE:{const[n,a]=e.slice().sort((([e,n],[a,r])=>Math.min(Math.abs(e-t),Math.abs(n-t))-Math.min(Math.abs(a-t),Math.abs(r-t))))[0];return t<n?n:a}case pn.UP:{const n=e.find((([n],a)=>(e[a-1]?.[1]??0)<t&&t<n)),a=n?.[0];return a?Math.ceil(a/mn)*mn:t}case pn.DOWN:{const n=e.find((([n,a],r)=>{const s=e[r+1]?.[0]??1/0;return a<t&&t<s})),a=n?.[1];return a?Math.floor(a/mn)*mn:t}default:return(0,U.k)(n),t}}),[e]),p=(0,m.useCallback)((e=>{if(!s.current)return null;const t=s.current.getBoundingClientRect();return"inline-start"===r?d?e-t.left:t.right-e:"inline-end"===r?d?t.right-e:e-t.left:null}),[r,s,d]),f=(0,m.useCallback)((e=>{if(null==e)return;const t=0!==e||l?Math.trunc(h(e)):0;n(t)}),[h,n,l]);if(Number.isNaN(t)){const t=(e[0][1]-e[0][0])/2;console.error(`[LayoutResizer] css property value is not a number. Defaulting to ${t}`),f(t)}const g=(0,m.useCallback)((()=>{u(!0);const e=t,n=e=>{r.startsWith("inline")?f(p(e.clientX)):f(p(e.clientY))};document.addEventListener("pointerup",(()=>{u(!1),document.removeEventListener("pointermove",n),c?.(e,t)}),{once:!0}),document.addEventListener("pointermove",n)}),[c,p,f,t,r]);(0,m.useEffect)((()=>(i&&un().bind(i,(()=>{f(h(t-mn,-1))})),o&&un().bind(o,(()=>{f(h(t+mn,1))})),()=>{i&&un().unbind(i),o&&un().unbind(o)})),[i,h,o,f,t]);const v=e[0][0],b=e[e.length-1][1];return(0,S.jsxs)(S.Fragment,{children:[l&&(0,S.jsx)("div",{className:"LayoutResizer__resize-overlay"}),(0,S.jsx)("div",{"":"LayoutResizer__resize-bar",onPointerDown:g,className:Yt()("LayoutResizer__resize-bar",{"LayoutResizer__resize-bar--resizing":l,"LayoutResizer__inline-start":"inline-start"===r,"LayoutResizer__inline-end":"inline-end"===r,"LayoutResizer__block-start":"block-start"===r,"LayoutResizer__block-end":"block-end"===r}),onDoubleClick:()=>{const n=e.findIndex((([e])=>e===t)),a=e.findIndex((([e,n])=>n===t));if(-1!==a){const t=e.at(a+1);t&&f(t[0])}else if(-1!==n){const t=e.at(n-1);t&&f(t[1])}},children:(0,S.jsx)(dn.o,{className:"LayoutResizer__input",type:"range",min:v,max:b,onChange:function(e){if(l)return;const n=t;let a=parseInt(e.target.value,10);a=h(a,Math.sign(a-t)),f(a),c?.(n,a)},value:t,step:mn,children:a})})]})};var gn=o(3669),vn=o(78993),bn=o(94684),yn=o(58220),xn=o(21244),wn=o(50380),An=o(15954),_n=o(51697);const En=({elementRef:e})=>{const{spec:t,logger:n}=(0,_n.$)(cn.j,{data:{identifier:"yourlibraryx"}}),a=(0,wn.LH)(),{isGridView:r}=(0,An.t)(),{size:i,setSize:o,minMaxRanges:c}=(0,xn.y)(),l=(0,hn.W)(),u=(0,vn.S)()===gn.z.LIBRARY;let d="default";a===wn.ZS.COLLAPSED?d="collapsed":a===wn.ZS.EXPANDED&&(d=r?"expanded_grid":"expanded_list");const h=(0,m.useCallback)(((e,a)=>{e!==a&&n.logInteraction(t.sidebarFactory({uri:"",identifier:d}).dragUiResize({startSizePx:e,endSizePx:a}))}),[n,d,t]);return u?null:(0,S.jsx)(fn,{elementRef:e,placement:"inline-end",label:s.Ru.get("resize.sidebar"),onResize:o,size:i,ranges:c,decreaseSizeKeyboardCombination:l?(0,bn.p)(yn.r.NPV_SIDEBAR_DECREASE_WIDTH):(0,bn.p)(yn.r.LEFT_SIDEBAR_DECREASE_WIDTH),increaseSizeKeyboardCombination:l?(0,bn.p)(yn.r.NPV_SIDEBAR_INCREASE_WIDTH):(0,bn.p)(yn.r.LEFT_SIDEBAR_INCREASE_WIDTH),afterResizing:h})};var Sn=o(86247);const jn={},Cn=e=>null===e.match(/\/search\/(\w+|\W+){1,}/gi)?e:"search-result",Ln=({scrollNodeRef:e,children:t,scrollNodeChildRef:n,afterTheScrollNodeRef:a,beforeTheScrollNodeRef:r})=>{const s=(0,m.useRef)(""),i=(0,ne.zy)(),o=(0,ne.wQ)(),c=(0,m.useCallback)((()=>{if(!e.current)return()=>{};const t=Cn(i.pathname),n=jn[t];let a;if(n&&"POP"===o){const t=Date.now(),r=()=>{!e.current||Date.now()>t+3e3?clearInterval(a):e.current.scrollHeight>=n+e.current.offsetHeight&&(e.current.scrollTop=n,clearInterval(a))};a=setInterval(r,50),r()}else e.current.scrollTop=0;return()=>{clearInterval(a)}}),[i.pathname,o,e]);(0,m.useMemo)((()=>{if(!e.current)return;const t=Cn(s.current);jn[t]=e.current.scrollTop,s.current=i.pathname}),[i.pathname,e]),(0,m.useLayoutEffect)((()=>c()),[i.pathname,c,e]);const l=(0,m.useMemo)((()=>({scrollNodeRef:e,scrollNodeChildRef:n,afterTheScrollNodeRef:a,beforeTheScrollNodeRef:r})),[e,n,a,r]);return(0,S.jsx)(Sn.bi.Provider,{value:l,children:t})};var In=o(29462),Nn=o(42752);var kn=o(41240),Tn=o(57395),Rn=o(65397),Pn=o(332),Mn=o(24886),Dn=o(53467);const On="T0fKO6B7LQSCE_VaSM1P",Vn={[Pn.E.SMALL]:0,[Pn.E.MEDIUM]:600,[Pn.E.LARGE]:1024},zn=(0,m.forwardRef)((({children:e},t)=>{(0,Rn.$)();const n=(0,m.useRef)(null);(0,m.useImperativeHandle)(t,(()=>n.current),[n]);const{breakpoint:a}=(0,Dn.x)(Vn,n);return(0,S.jsx)("main",{ref:n,className:On,tabIndex:-1,children:(0,S.jsx)(Mn.o.Provider,{value:a,children:e})})}));var Hn=o(71039),Bn=o(6651),Fn=o(720),Un=o(72664);const qn="Root__top-container",Wn="Root__top-container--has-notice-bar";function Gn({children:e}){const n=(0,u.d4)((e=>e.ui.unsupportedBrowser.isOpen)),a=(0,Fn.XB)(),r=(0,t.NC)(xe.ZDY);return(0,S.jsx)("div",{className:Yt()(qn,{[Wn]:n}),"data-right-sidebar-hidden":!r&&a===Un.Z.Disabled,children:e})}const Kn="xlgKfueiF46Wo_sED8YA",Qn=(0,m.forwardRef)((function({gridRow:e,gridColumn:t,zIndex:n,children:a,className:r,debugLabel:s},i){return(0,S.jsx)("div",{ref:i,className:Yt()(Kn,r),style:{gridRow:e,gridColumn:t,zIndex:n},children:a})})),$n="Root__main-view-overlay",Zn=(0,m.forwardRef)((function({children:e,debugLabel:t},n){return(0,S.jsx)(Qn,{ref:n,className:$n,gridRow:"global-nav / main-view",gridColumn:"left-sidebar / right-sidebar",zIndex:"var(--above-everything-except-now-playing-bar-z-index)",debugLabel:t,children:e})}));var Yn=o(72807);const Jn=()=>(0,Fn.Zf)(),Xn=()=>{const{property:e,value:t}=(()=>{const{size:e}=(0,Yn.y)();return(0,m.useMemo)((()=>({property:"--left-sidebar-width",value:e})),[e])})();return(0,m.useMemo)((()=>({[e]:t})),[e,t])},ea=()=>{const{size:e}=Jn(),n=(0,t.NC)(xe.ZDY),a=(0,Fn.XB)()===Un.Z.Disabled&&n?24:e;return(0,m.useMemo)((()=>({property:"--right-sidebar-width",value:a})),[a])},ta=()=>{const{property:e,value:t}=ea();return(0,m.useMemo)((()=>({[e]:t})),[e,t])},na="Root__nav-bar",aa="TkqXOzhmCCuE6YI3hlgA",ra="oDWO4yGAZ2kZlt3TTS4E",sa="p9p4xXN1mgRkvMNUhIWg";function ia({children:e}){const{leftSidebarRef:t}=(0,on.JT)(),n=Xn(),a=(0,vn.S)()===gn.z.LIBRARY;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:Yt()(ra,{[sa]:a}),style:n}),(0,S.jsx)("div",{id:"Desktop_LeftSidebar_Id",ref:t,className:Yt()(na,{[aa]:a}),style:n,children:e})]})}const oa="main-yourLibraryX-entryPoints",ca="main-yourLibraryX-library",la=(0,m.lazy)((async()=>{const{YourLibraryX:e}=await Promise.all([o.e(2649),o.e(6457)]).then(o.bind(o,10204));return{default:e}})),ua=()=>(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("div",{className:Yt()(oa,ca),children:(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(la,{})})})}),da="main-navBar-mainNav";function ha(){return(0,S.jsx)("nav",{className:da,"aria-label":s.Ru.get("sidebar.a11y.landmark-label"),children:(0,S.jsx)(ua,{})})}const pa="Root__main-view";function ma({children:e}){const{mainContentRef:t}=(0,on.JT)();return(0,S.jsx)("div",{ref:t,className:pa,id:"main-view",children:e})}var fa=o(9779),ga=o(68745),va=o(69937),ba=o(8724);const ya=()=>{const e=(0,va.v)((e=>{const t=(0,ga.V)(e);return t.isPlayingRemotely&&void 0!==t.remoteDevice?.name&&void 0!==t.remoteDevice?.type})),t=(0,m.useContext)(ba.a);return e||(t?.active??!1)},xa="Root__right-sidebar",wa="OTBExwAsDgh_OEe7EAlu",Aa="mYWHdrNeGjAdTOD28xSj",_a="bENvsWd8JrCmuFulkXpg",Ea="GS3Plog6THw80YGUPTYo";function Sa({children:e}){const{rightSidebarRef:t}=(0,on.JT)(),n=(0,fa.h)(),a=(0,vn.S)(),r=(0,u.d4)((e=>e.ui.fullscreenMode.isOpen)),s=ya();return(0,S.jsx)("div",{ref:t,className:Yt()(xa,{[wa]:a===gn.z.NOW_PLAYING_VIEW,[Aa]:n,[_a]:r,[Ea]:s}),children:e})}const ja="Root__now-playing-bar";function Ca({children:e}){const{nowPlayingBarRef:t}=(0,on.JT)();return(0,S.jsx)("div",{ref:t,className:ja,children:e})}var La=o(8845),Ia=o(8143);const Na=(0,m.lazy)((()=>new Promise((e=>{const t=Promise.all([o.e(7202),o.e(8322),o.e(2288),o.e(5660),o.e(742),o.e(7749),o.e(3667)]).then(o.bind(o,42307)).then((e=>({default:e.PiPMiniPlayer}))),n=new Promise((e=>{setTimeout(e,300)}));Promise.all([t,n]).then((t=>{e(t[0])}))}))));var ka=o(75986);const Ta=e=>{const t=(0,ka.ZY)()??document;(0,m.useEffect)((()=>{if(!e)return;const n=e=>{const t=e.target;["INPUT","TEXTAREA"].includes(t.tagName)||e.preventDefault()};return t.addEventListener("contextmenu",n),()=>{t.removeEventListener("contextmenu",n)}}),[t,e])},Ra=m.memo((()=>{const{isDeveloperMode:e}=(0,Qt.V)();return Ta(!e),null}));var Pa=o(3512),Ma=o(61100),Da=o(25669);o(2557),o(86328);var Oa=o(37589),Va=o(11284),za=o(54715),Ha=o(79187),Ba=o(88736);const Fa="pip-mini-player",Ua={OS_MACOS:"spotify__os--is-macos",OS_WINDOWS:"spotify__os--is-windows",CONTAINER_DESKTOP:"spotify__container--is-desktop",CONTAINER_WEB:"spotify__container--is-web"};function qa(e,t,n){!function(e,t){e.querySelector("html")?.classList.remove(...t)}(n,Object.values(Ua));const a=function(e,t){const n=["no-focus-outline"];return t===Va.f.macOS?n.push(Ua.OS_MACOS):t===Va.f.Windows&&n.push(Ua.OS_WINDOWS),e===Oa.m.Desktop?n.push(Ua.CONTAINER_DESKTOP):e===Oa.m.Web&&n.push(Ua.CONTAINER_WEB),n}(e,t);!function(e,t){t.forEach((t=>{e.querySelector("html")?.classList.add(t)}))}(n,a)}const Wa=e=>{const t=Array.from(document.getElementsByTagName("script")).filter((e=>e.src?.includes("xpui.js")))?.[0]?.src.replace(/\/[^/]+$/,"")??"",n="-snapshot";return{scripts:[`${t}/${Fa}${n}.js`,`${t}/vendor~${Fa}${n}.js`],styles:[`${t}/${Fa}${n}.css`,`${t}/vendor~${Fa}${n}.css`]}},Ga=e=>{const t=(0,fe.mv)();(0,m.useLayoutEffect)((()=>{if(!e)return;const{pipResources:n}=(0,za.x)(Ha.I4),{scripts:a,styles:r}=Wa();[{rel:"icon",href:(0,Da.bj)("images/icons/Spotify_32.png"),sizes:"32x32"}].forEach((t=>{const n=e.document.createElement("link");n.rel=t.rel,n.href=t.href,t.sizes&&n.setAttribute("sizes",t.sizes),e.document.head.appendChild(n)})),e.document.body.style.margin="0",e.document.body.style.padding="0",e.document.body.style.overflow="hidden",e.document.body.style.height="100%",qa(t.container,t.operatingSystem,e.document),Ba.M.setup(e.document),a.map((t=>((e,t)=>{const n=document.createElement("script");n.setAttribute("src",e),t.document.head.appendChild(n)})(t,e))),r.map((t=>((e,t)=>{const n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),t.document.body.prepend(n)})(t,e)))}),[e,t])};var Ka=o(89338);const Qa=m.memo((()=>{const{capabilities:{isEnabled:e},isOpen:t,close:n}=(0,Ka.H)(),a=(0,m.useCallback)(n,[n]),r=window.documentPictureInPicture?.window??null;var s,i;if(Ga(r),s=r,i=window,(0,m.useEffect)((()=>{s&&i&&["lang","dir"].forEach((e=>{const t=i.document.documentElement.getAttribute(e);null!==t&&s.document.documentElement.setAttribute(e,t)}))}),[s,i]),(0,m.useEffect)((()=>{}),[]),!e||!t||!r)return null;const o=r;return(0,Ia.createPortal)((0,S.jsx)(p.s,{onError:a,children:(0,S.jsxs)(ka.IF,{handle:o,children:[(0,S.jsx)(Ra,{}),(0,S.jsx)(Ma.S,{children:(0,S.jsx)(m.Suspense,{fallback:(0,S.jsx)(Pa.B,{}),children:(0,S.jsx)(Na,{})})})]})}),r.document.body)}));var $a=o(21147),Za=o(45663);class Ya extends Za.V{}var Ja=o(32017),Xa=(o(74846),o(9131)),er=o(73848);const tr=640;class nr{_events=new Ya;graphicsRef=null;currentImageUrl=null;getCapabilities(){return{isEnabled:!0,supportsVideo:!1,supportsAds:!1,supportsConnect:!1,supportsOffline:!1}}getEvents(){return this._events}async open(e){const t=this.getOrCreateGraphics();await this.updateGraphicsFromPlayerState(t,e);const n=this.getPictureInPictureElement();return n===t.video||(await this.requestPictureInPicture(t,(()=>{this.close()})),this._events.emitSync("visibility_change",!0)),n??null}async updateGraphicsFromPlayerState(e,t){const n=this.getImageURLFromPlayerState(t);null!==n?await this.drawImage(e,n):this.close()}close(){this.getPictureInPictureElement()&&document.exitPictureInPicture(),this.disposeGraphics(),this._events.emitSync("visibility_change",!1)}isAllowed(e,t,n){const a=e?.hasContext??!1,r=e?.item?.type===Vt.c.EPISODE&&"audio"!==e?.item.mediaType;return!!a&&(!!(n??!0)&&!r)}getCurrentState(){return this.getPictureInPictureElement()?"open":"closed"}syncWithPlayerState(e){const t=e?.hasContext??!1,n=e?.isPaused??!1,a=this.getPictureInPictureElement();!t||n?a?.pause():a?.play();const r=this.getOrCreateGraphics();this.updateGraphicsFromPlayerState(r,e)}getOrCreateGraphics(){return this.graphicsRef??=this.createGraphics(),this.graphicsRef}disposeGraphics(){this.graphicsRef=null,this.currentImageUrl=null}createGraphics(){const e=document.createElement("canvas");e.width=tr,e.height=tr;const t=e.getContext("2d"),n=document.createElement("video");return n.srcObject=e.captureStream(),n.muted=!0,{context:t,video:n}}async drawImage({context:e,video:t},n){if(this.currentImageUrl===n)return;this.currentImageUrl=n;const a=new Image;a.crossOrigin="anonymous",a.src=(0,er.m)({imageUriOrUrl:n,desiredMosaicSize:tr}),await a.decode(),e.drawImage(a,0,0,tr,tr),await t.play()}getImageURLFromPlayerState(e){const t=e?.item?.images??[];return(0,Xa.h)(t,{desiredSize:tr})??null}async requestPictureInPicture({video:e},t){try{await e.requestPictureInPicture(),e.addEventListener("leavepictureinpicture",t,{once:!0})}catch(e){(0,Ja.v)(e)}}getPictureInPictureElement(){if(document.pictureInPictureElement)return document.pictureInPictureElement}static isSupported(){return!1}}var ar=o(86274),rr=o(57230),sr=o(9856),ir=o.n(sr);class or{#h=new Ya;#p=null;#m;constructor(e=!1){this.#m=e}getCapabilities(){return{isEnabled:!0,supportsVideo:!0,supportsAds:!0,supportsConnect:!0,supportsOffline:this.#m}}getEvents(){return this.#h}async open(e){if(!or.isSupported())return null;const t=this.getDocumentPictureInPictureElement()?.window;if(t){if(t===this.#p)return this.#p;t.close()}const{width:n,height:a}=this.getInitialWindowSize(e?.item),r=await this.createWindow(n,a);return void 0===r?(this.close(),null):(this.#p=r,this.#p.addEventListener("pagehide",(()=>{this.close()}),{once:!0}),this.#h.emitSync("visibility_change",!0),this.#p)}close(){this.#p&&(this.#p.close(),this.#p=null),this.#h.emitSync("visibility_change",!1)}isAllowed(e,t,n){return!(!(e?.hasContext??!1)&&t===rr.zP.NOT_CONNECTED)||!!(0,ar.HS)(e?.context??null)}getCurrentState(){return this.#p?"open":"closed"}syncWithPlayerState(e){}getInitialWindowSize(e){let t=300,n=300;if(e){(0,P.p)(e)&&("video"===e.mediaType||"mixed"===e.mediaType)&&(t=425,n=300)}return{width:t,height:n}}async createWindow(e,t){return await(this.getDocumentPictureInPictureElement()?.requestWindow({width:e,height:t}))}getDocumentPictureInPictureElement(){return window.documentPictureInPicture}static isSupported(){return"documentPictureInPicture"in window&&!0}}class cr{getCapabilities(){return{isEnabled:!1,supportsVideo:!1,supportsAds:!1,supportsConnect:!1,supportsOffline:!1}}getEvents(){return new Ya}open(){return Promise.resolve(void 0)}close(){}isAllowed(e,t,n){return!1}getCurrentState(){return"closed"}syncWithPlayerState(){}}var lr=o(95314);var ur=o(39737),dr=o(86246);function hr(){if(pr())try{navigator.mediaSession.setActionHandler("enterpictureinpicture",null)}catch(e){}}function pr(){return"mediaSession"in navigator}const mr=m.memo((({pipInstance:e})=>((e=>{const{connectionStatus:t,isActiveDeviceLocal:n}=(0,va.v)((e=>({connectionStatus:e.connectionStatus,isActiveDeviceLocal:e.activeDevice?.isLocal})),dr.a),a=(0,ur.o)((e=>e),((e,t)=>e?.hasContext===t?.hasContext&&e?.item?.uri===t?.item?.uri)),r=(0,m.useRef)(a);r.current=a;const s=(0,m.useMemo)((()=>e.isAllowed(a,t,n)),[t,n,e,a]);(0,m.useEffect)((()=>{if(pr()){try{s?navigator.mediaSession.setActionHandler("enterpictureinpicture",(t=>{e.open(r.current)})):hr()}catch(e){}return()=>{hr()}}}),[e,s])})(e),null)));var fr=o(60749),gr=o(38934),vr=o(43580),br=o(28838),yr=o(21765),xr=o(97202),wr=o(24797),Ar=o(51584),_r=o(14776),Er=Ar.Ay.a.withConfig({displayName:"Link",componentId:"sc-1rnxmqt-0"})([""," position:absolute;inset-block-start:0;inset-inline-start:0;display:inline-block;background-color:",";padding-block:"," 24px;padding-inline:",";text-decoration:none;z-index:",";",""],(function(e){return!e.$useBrowserDefaultFocusStyle&&(0,_r.AH)(["&:focus{outline:none;}"])}),(0,br.oj)(br.ZI.backgroundBase),(0,yr.po)("base","16px"),(0,yr.po)("base","16px"),xr.GK,(function(e){return!e.$isFocus&&(0,_r.AH)(["&:not(:focus){","}"],(0,wr.Q)())})),Sr=o(73649),jr=o(46313),Cr=Ar.Ay.div.withConfig({displayName:"LinkText",componentId:"sc-3xixkl-0"})(["",";color:",";border-color:",";overflow-wrap:break-word;&::after{"," content:'';position:relative;border-color:inherit;}"],(0,Sr.W)(),(0,br.oj)(br.ZI.textBase),(0,br.oj)(br.ZI.essentialBase),(0,jr.hT)(0)),Lr=["className","colorSet","children","isFocus"],Ir=function(e){var t=e.className,n=e.colorSet,a=void 0===n?"invertedDark":n,r=e.children,s=void 0===r?"Skip to content":r,i=e.isFocus,o=(0,gr.A)(e,Lr),c=(0,m.useContext)(nn.g).useBrowserDefaultFocusStyle;return m.createElement(Er,Object.assign({$useBrowserDefaultFocusStyle:c,$isFocus:i,className:(0,br.Ju)(a,t)},o,{"data-encore-id":vr.j.SkipLink}),m.createElement(Cr,null,s))},Nr=o(58075);const kr=m.createContext({}),Tr=({children:e})=>{const[t,n]=m.useState(!0),a=(0,m.useMemo)((()=>({isGlobalNavDraggable:t,setIsGlobalNavDraggable:n})),[t,n]);return(0,S.jsx)(kr.Provider,{value:a,children:e})};var Rr=o(35394),Pr=o(73136),Mr=o(22848),Dr=o(9175);const Or=({children:e})=>(0,S.jsx)(S.Fragment,{children:e});var Vr=o(72165),zr=o(63475);const Hr=({children:e})=>{const t=(0,Vr.t)(),[{data:n}]=(0,zr.K)(t.employee.isEmployee);return n?(0,S.jsx)(S.Fragment,{children:e}):null},Br=m.lazy((async()=>{const{EmployeeNotificationsInner:e}=await o.e(9560).then(o.bind(o,3529));return{default:e}})),Fr=()=>(0,S.jsx)(Or,{children:(0,S.jsx)(Hr,{children:(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(Br,{})})})});var Ur=o(78717),qr=o(37899),Wr=o(94079),Gr=o(57676),Kr=o(6146);const Qr="400ms",$r="main-topBarStatusIndicator-TopBarStatusIndicatorContainer",Zr="main-actionButtons-button",Yr="main-noConnection-isError",Jr="main-noConnection-isNotice",Xr="main-topBarStatusIndicator-hasTooltip",es="main-topBarStatusIndicator-tooltipIsError",ts="main-topBarStatusIndicator-enter",ns="main-topBarStatusIndicator-enterActive",as="main-topBarStatusIndicator-exitActive",rs="main-topBarStatusIndicator-tooltipEnter",ss="main-topBarStatusIndicator-notMinimized",is="main-topBarStatusIndicator-tooltipEnterActive";let os=function(e){return e.ERROR="ERROR",e.NOTICE="NOTICE",e}({});const cs=(0,m.memo)((function(e){const{children:t,feedbackType:n,tooltip:a,itemId:r,display:s=!0,minimized:i=!1,renderInLine:o=!1,spec:c}=e,l=(0,m.useRef)(null),u=(0,Nt.s)();return(0,S.jsx)(Wr.A,{in:s,timeout:parseInt(Qr,10),unmountOnExit:!0,onEnter:()=>{i||l.current?.classList.add(rs)},onEntered:()=>{i||l.current?.classList.add(is)},onExited:()=>{i||l.current?.classList.remove(is)},classNames:{enter:ts,enterActive:ns,exitActive:as},nodeRef:l,children:(0,S.jsx)("div",{className:Yt()($r,{[ss]:!i}),children:(0,S.jsx)(Kr.y,{offset:[-2,20],action:"toggle",trigger:"click",content:(0,S.jsx)(Gr.z,{className:Yt()({[es]:n===os.ERROR}),children:(0,S.jsx)("div",{children:a})}),renderInline:o,children:(0,S.jsx)("button",{className:Yt()(Zr,{[Xr]:a,[Yr]:n===os.ERROR,[Jr]:n===os.NOTICE}),onClick:()=>{c&&u.logInteraction(c.hitUiReveal())},ref:l,"":r,children:t})})})})}));var ls=o(45786),us=o(18298),ds=o(24873),hs=o(54452),ps=o(2401);const ms="P8EYxpJkrSRcmY5CFfgZ",fs="oMR8tk4wMj9_exGQeapz",gs="qq3uDmbXwv31FKawHDIg",vs="B64o12iyKiKF4s8uuClS";function bs(e){if(null===e)return null;const t=Math.abs(Date.now()-e.getTime());if(t<1e3)return null;const{hours:n,minutes:a,seconds:r}=(0,ps.S)(t),i=(0,us.j)({h:n,m:a,s:r});return s.Ru.get("authorization-status.retrying",i)}const ys=({retryAt:e})=>{const t=(0,ds.v)(),[n,a]=(0,m.useState)(bs(e)),r=(0,d.Oj)();return(0,m.useEffect)((()=>{const t=window.setInterval((()=>{a(bs(e))}),500);return()=>{window.clearInterval(t)}}),[e,a]),(0,S.jsxs)("div",{className:ms,children:[(0,S.jsx)(Ur.E,{as:"p",variant:"bodyMediumBold",children:s.Ru.get("authorization-status.title")}),(0,S.jsx)("span",{className:fs,children:n??s.Ru.get("authorization-status.reconnecting")}),(0,S.jsxs)("div",{className:gs,children:[(0,S.jsx)(Rr.H,{semanticColor:"textBase",buttonSize:"sm",onClick:()=>{r({type:"close"})},children:s.Ru.get("authorization-status.dismiss")}),(0,S.jsx)(Pr.$,{className:vs,buttonSize:"sm",onClick:()=>t.tryAuthorize(),children:s.Ru.get("authorization-status.retry")})]})]})},xs=({minimized:e,spec:n})=>{const a=(0,ls.n)(),{isAuthorized:r,retryAt:i}=(0,hs.Y)();return(0,t.NC)(xe.ueo)?(0,S.jsxs)(cs,{feedbackType:os.ERROR,minimized:e,display:a&&!r,spec:n,tooltip:(0,S.jsx)(ys,{retryAt:i}),itemId:"authorization-status-indicator",children:[(0,S.jsx)(qr.b,{size:"small"}),s.Ru.get("authorization-status.badge")]}):null};var ws=o(69365),As=o(93359),_s=o(99842),Es=o(45518),Ss=o(23291),js=o(84409);const Cs="PYPe3hJJmzsQV6XoN3Cl",Ls="mqsHTSdyZwgRvD2Kylc1",Is=()=>{const e=(0,Nt.s)(),{spec:t}=(0,js.r)(As.V,{}),n=(0,d.Oj)(),a=(0,u.wA)(),r=(0,m.useCallback)((()=>{n({type:"close"}),a(Es.r8.actions.open()),e.logInteraction(t.learnMoreButtonFactory().hitUiReveal())}),[a,e,n,t]);return(0,S.jsxs)("div",{className:Cs,children:[(0,S.jsx)(Ur.E,{variant:"bodySmall",children:s.Ru.get("topBar.dsa-indicator")}),(0,S.jsx)(Rr.H,{className:Ls,onClick:r,condensedAll:!0,size:"small",semanticColor:"textBase",children:s.Ru.get("topBar.dsa-cta")})]})},Ns=({spec:e})=>{const t=(0,_s.p)();return(0,S.jsx)(Ss.r,{spec:e,children:(0,S.jsx)(cs,{feedbackType:os.NOTICE,minimized:!0,display:!t,tooltip:(0,S.jsx)(Is,{}),itemId:"dsa-mode-status-indicator",spec:e,renderInLine:!0,children:(0,S.jsx)(ws.p,{size:"small"})})})};var ks=o(88677);const Ts=({minimized:e,spec:t})=>{const n=!(0,ls.n)();return(0,S.jsxs)(cs,{feedbackType:os.NOTICE,minimized:e,display:n,spec:t,tooltip:s.Ru.get("offline.callout-disconnected"),itemId:"offline-status-indicator",children:[(0,S.jsx)(ks.P,{size:"small"}),s.Ru.get("offline.badge")]})};var Rs=o(79444),Ps=o(46692),Ms=o(15679);var Ds=o(85982);function Os(){const e=(0,Ms.N)(Ps.H),[t,n]=(0,m.useState)(!1),a=(0,Ds.a)();(0,m.useEffect)((()=>{const t=e.subscribeToPrivateSession((e=>{a()&&n(e)}));return()=>{t()}}),[e,a]);return{isPrivateSession:t,setPrivateSession:(0,m.useCallback)((t=>{e.setPrivateSession(t)}),[e])}}const Vs=({minimized:e,spec:t})=>{const{isPrivateSession:n}=Os();return(0,S.jsxs)(cs,{feedbackType:os.NOTICE,minimized:e,display:n,tooltip:s.Ru.get("private-session.badge"),spec:t,itemId:"private-session-indicator",children:[(0,S.jsx)(Rs.y,{size:"small"}),s.Ru.get("private-session.badge")]})};var zs=o(88018);const Hs=m.memo((function(e){const t=(0,zs.U)("(max-width: 1023px)"),n=(0,m.useMemo)((()=>e.spec?.privateSessionButtonFactory()),[e.spec]),a=(0,m.useMemo)((()=>e.spec?.offlineButtonFactory()),[e.spec]),r=(0,m.useMemo)((()=>e.spec?.authorizationButtonFactory()),[e.spec]),s=(0,m.useMemo)((()=>e.spec?.dsaModeButtonFactory()),[e.spec]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Vs,{spec:n,minimized:t}),(0,S.jsx)(Ts,{spec:a,minimized:t}),(0,S.jsx)(xs,{spec:r,minimized:t}),(0,S.jsx)(Ns,{spec:s})]})}));var Bs=o(64398),Fs=o(7998),Us=o(24792),qs=o(5544);const Ws=m.memo((({spec:e,logger:t})=>{const n=(0,m.useCallback)((()=>{if(!e||!t)return;const n=e.installAppButtonFactory().hitNavigateToExternalUri({destination:"/download"});t.logInteraction(n)}),[t,e]),[a,r]=(0,m.useState)(!1),i=(0,m.useRef)(null);(0,qs.w)({onResize:({width:e})=>{i.current?.scrollWidth&&e<i.current?.scrollWidth?r(!0):r(!1)},refOrElement:i});const o=(0,S.jsx)(Rr.H,{size:"small",href:"/download",iconLeading:Bs.i,onClick:n,component:Fs.v,children:(0,S.jsx)(Ur.E,{variant:"bodySmallBold",className:"ellipsis-one-line",ref:i,children:s.Ru.get("navbar.install-app")})});return a?(0,S.jsx)(Us.Zp,{label:s.Ru.get("navbar.install-app"),children:o}):o}));var Gs=o(30929),Ks=o(80464);function Qs(e,t){switch(t.type){case"installed":return{...e,installed:!0};case"before-install":return{...e,deferredPrompt:t.prompt,canBeInstalled:!0};default:return e}}const $s=m.memo((({logger:e,spec:t})=>{const n=(0,u.wA)(),a=(0,fe.vh)(),r=(0,Ks.V)(),{enqueueSnackbar:i}=(0,Gs.d)(),[o,c]=(0,m.useReducer)(Qs,{deferredPrompt:void 0,installed:!1,canBeInstalled:!1});(0,m.useEffect)((()=>{const e=()=>{c({type:"installed"}),i(s.Ru.get("pwa.confirm"));const e={action_type:"unknown",action_intent:"pwa-installed",target_uri:"/pwa-install-confirmation",item_id:"pwa",view_uri:"/unknown",page:"/page"};a.send(r?function(e){return{name:"KmInteractionNonAuth",environments:["browsernonauth"],data:e}}(e):function(e){return{name:"KmInteraction",environments:["browser"],data:e}}(e))},t=e=>{e.preventDefault(),c({type:"before-install",prompt:e})};return window.addEventListener("beforeinstallprompt",t),window.addEventListener("appinstalled",e),()=>{window.removeEventListener("beforeinstallprompt",t),window.removeEventListener("appinstalled",e)}}),[n,i,a,r]);const l=(0,m.useCallback)((n=>{if(n.preventDefault(),t&&e){const n=t.installPwaButtonFactory().hitInstallApp({appName:"pwa"});e.logInteraction(n)}o.deferredPrompt&&o.deferredPrompt.prompt()}),[t,e,o.deferredPrompt]),{canBeInstalled:d,installed:h}=o;return!d||h?null:(0,S.jsx)(Pr.$,{colorSet:"overMedia",size:"small",onClick:l,iconLeading:Bs.i,children:(0,S.jsx)(Ur.E,{variant:"bodySmallBold",className:"ellipsis-one-line",children:s.Ru.get("pwa.download-app")})})})),Zs=m.memo((({spec:e,logger:t})=>{const{preferredAppToInstall:n}=(0,Qt.V)();return"desktop"===n?(0,S.jsx)(Ws,{spec:e,logger:t}):"pwa"===n?(0,S.jsx)($s,{logger:t,spec:e}):null}));var Ys=o(29157),Js=o(60777),Xs=o(63961),ei=o(275),ti=o(80249);const ni={isCTA:!1,placement:Js.D.bottomLeft,shouldHideOnOutsideClick:({triggerAction:e})=>!e||e.type!==ti.Gs,getTitle:({triggerAction:e})=>e?.type===ei.no.SAVE_PRERELEASE?s.Ru.get("action-trigger.log-in-or-sign-up"):s.Ru.get("action-trigger.logged-out"),getDescription:({triggerAction:e})=>{switch(e?.type){case Ys.gK.ADD_TO_QUEUE_ERROR:case Ys.gK.ADD_TO_QUEUE_SUCCESS:return s.Ru.get("action-trigger.logged-out-queue");case ei.$k.START_RADIO:return s.Ru.get("action-trigger.logged-out-radio");case ei.no.SAVE_TRACK:return s.Ru.get("action-trigger.log-in-like-action");case ei.no.SAVE_ALBUM:return s.Ru.get("action-trigger.save-album");case ei.no.SAVE_PRERELEASE:return s.Ru.get("web-player.prerelease.album_anonymous_presave");case ei.tf.FOLLOW_USER:return s.Ru.get("action-trigger.log-in-follow-profile");case ti.Gs:return"track"===e?.entityType?s.Ru.get("action-trigger.logged-out-full-track"):s.Ru.get("action-trigger.logged-out-synced");default:return s.Ru.get("action-trigger.logged-out-continue")}}},ai=({children:e})=>(0,S.jsx)(Js.y,{id:Xs.d,options:ni,children:e});var ri=o(9735),si=o(61315);const ii=({...e})=>{const{spec:t}=(0,ri.D)(Mr.x,{}),n=(0,m.useMemo)((()=>t.upgradeButtonFactory()),[t]),a=(0,si.n)(n.getAbsoluteLocation(),n);return(0,S.jsx)(Pr.$,{...e,style:{flexShrink:0},ref:a,size:"small",onClick:e.onClick,"aria-label":s.Ru.get("upgrade.tooltip.title"),title:s.Ru.get("upgrade.tooltip.title"),colorSet:"invertedLight","":"upgrade-button",children:s.Ru.get("upgrade.button")})};var oi=o(30920),ci=o(59023),li=o(67735),ui=o(50375),di=o(65720);const hi="music",pi="3.1.0",mi="default",fi="12.2.0";function gi(e){return new vi(e)}class vi{constructor(e){this._path=[{name:"desktop-user-widget-menu"}],e?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=e.parentAbsoluteLocation)}goToAccountPageRowFactory(){return new vi.GoToAccountPageRowEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}goToUserProfileRowFactory(){return new vi.GoToUserProfileRowEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}openEmployeePodcastModalRowFactory(){return new vi.OpenEmployeePodcastModalRowEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}goToUpgradePlanPageRowFactory(){return new vi.GoToUpgradePlanPageRowEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}togglePrivateSessionRowFactory(){return new vi.TogglePrivateSessionRowEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}goToSettingsRowFactory(){return new vi.GoToSettingsRowEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}goToInAppMessagingRowFactory(){return new vi.GoToInAppMessagingRowEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}updateClientRowFactory(){return new vi.UpdateClientRowEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}logOutRowFactory(){return new vi.LogOutRowEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}goToPlanManagementFactory(){return new vi.GoToPlanManagementEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[mi,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[pi,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}impression(){return{app:hi,generatorVersion:fi,specificationVersion:pi,specificationMode:mi,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}!function(e){e.GoToAccountPageRowEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"go_to_account_page_row"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[mi,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[pi,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:hi,generatorVersion:fi,interactionType:"hit",specificationMode:mi,specificationVersion:pi,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(vi||(vi={})),function(e){e.GoToUserProfileRowEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"go_to_user_profile_row"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[mi,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[pi,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:hi,generatorVersion:fi,interactionType:"hit",specificationMode:mi,specificationVersion:pi,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(vi||(vi={})),function(e){e.OpenEmployeePodcastModalRowEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"open_employee_podcast_modal_row"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[mi,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[pi,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:hi,generatorVersion:fi,interactionType:"hit",specificationMode:mi,specificationVersion:pi,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(vi||(vi={})),function(e){e.GoToUpgradePlanPageRowEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"go_to_upgrade_plan_page_row"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[mi,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[pi,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitNavigateToExternalUri({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"navigate_to_external_uri",actionVersion:1,app:hi,generatorVersion:fi,interactionType:"hit",specificationMode:mi,specificationVersion:pi,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(vi||(vi={})),function(e){e.TogglePrivateSessionRowEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"toggle_private_session_row"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[mi,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[pi,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitSetSettingField(){return{actionName:"set_setting_field",actionVersion:1,app:hi,generatorVersion:fi,interactionType:"hit",specificationMode:mi,specificationVersion:pi,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(vi||(vi={})),function(e){e.GoToSettingsRowEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"go_to_settings_row"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[mi,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[pi,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:hi,generatorVersion:fi,interactionType:"hit",specificationMode:mi,specificationVersion:pi,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(vi||(vi={})),function(e){e.GoToInAppMessagingRowEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"go_to_in_app_messaging_row"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[mi,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[pi,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:hi,generatorVersion:fi,interactionType:"hit",specificationMode:mi,specificationVersion:pi,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(vi||(vi={})),function(e){e.UpdateClientRowEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"update_client_row"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[mi,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[pi,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiHide(){return{actionName:"ui_hide",actionVersion:1,app:hi,generatorVersion:fi,interactionType:"hit",specificationMode:mi,specificationVersion:pi,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(vi||(vi={})),function(e){e.LogOutRowEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"log_out_row"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[mi,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[pi,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitLogout(){return{actionName:"logout",actionVersion:1,app:hi,generatorVersion:fi,interactionType:"hit",specificationMode:mi,specificationVersion:pi,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(vi||(vi={})),function(e){e.GoToPlanManagementEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"go_to_plan_management"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[mi,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[pi,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitNavigateToExternalUri({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"navigate_to_external_uri",actionVersion:1,app:hi,generatorVersion:fi,interactionType:"hit",specificationMode:mi,specificationVersion:pi,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(vi||(vi={}));var bi=o(28718),yi=o(86148),xi=o(96282),wi=o(26705);function Ai(e,t){return t?(0,wi.r)(e):(0,xi._)(e)}var _i=o(42010),Ei=o(61537),Si=o(24944);const ji=({divider:e,visible:t})=>{const n=(0,fe.vh)(),a=(0,Ks.V)(),r=(0,m.useCallback)((()=>{n.send(Ai({category:"masthead",action:"click",label:"download-link",destination_url:Ei.Kw,context:window.location.href,os:(0,Si.f)(),variant:"a"},a))}),[n,a]);return t?(0,S.jsx)(yi.D,{divider:e,role:"menuitem",href:Ei.Kw,onClick:r,target:"_blank",trailingIcon:(0,S.jsx)(_i.p,{size:"small"}),children:s.Ru.get("download.download")}):null};var Ci=o(45426);const Li=({divider:e,ubiLogger:t,ubiSpec:n})=>{const a=(0,Ci.k)(),{url:r,isExternal:i}=a,o=(0,m.useCallback)((()=>{t.logInteraction(n.goToUpgradePlanPageRowFactory().hitNavigateToExternalUri({destination:r}))}),[t,n,r]);return i?(0,S.jsx)(yi.D,{divider:e,role:"menuitem",trailingIcon:(0,S.jsx)(_i.p,{size:"small"}),onClick:o,target:"_blank",href:r,children:s.Ru.get("navbar.premium")}):(0,S.jsx)(yi.D,{divider:e,role:"menuitem",onClick:o,to:r,children:s.Ru.get("navbar.premium")})},Ii=({divider:e,visible:t})=>{const n=(0,fe.vh)(),a=(0,Ks.V)(),r=(0,m.useCallback)((()=>{n.send(Ai({category:"masthead",action:"click",label:"support-link",destination_url:Ei.nw,context:window.location.href,os:(0,Si.f)(),variant:"a"},a))}),[n,a]);return t?(0,S.jsx)(yi.D,{divider:e,role:"menuitem",href:Ei.nw,onClick:r,target:"_blank",trailingIcon:(0,S.jsx)(_i.p,{size:"small"}),children:s.Ru.get("user.support")}):null},Ni="8px",ki="main-userWidget-box",Ti="main-userWidget-box",Ri="main-userWidget-dropDownMenu",Pi="main-avatar-avatar",Mi="main-userWidget-notificationDot",Di="tU7KjNh_lnoniCY_3zHQ",Oi="kD6L2BtiukbMHbIwCNef",Vi="main-userWidget-unableToUpdate",zi="FZ4y0Q61kFpjJzUjCvSa",Hi="main-userWidget-setupPlan",Bi="main-userWidget-hasAvatar",Fi=()=>{const{isDesktop:e}=(0,Qt.V)(),{spec:t,logger:n}=(0,js.r)(gi,{});return(0,m.useEffect)((()=>{n.logImpression(t.impression())}),[n,t]),e?null:(0,S.jsx)("div",{className:Ri,children:(0,S.jsxs)(bi.W,{children:[(0,S.jsx)(Li,{ubiSpec:t,ubiLogger:n}),(0,S.jsx)(Ii,{visible:!0}),(0,S.jsx)(ji,{visible:!0})]})})};function Ui(e){if(null===e)return null;const t=e["multiuserplan-member-type"],n=parseInt(e["multiuserplan-current-size"]||"1",10);switch(t){case"FAMILY_MANAGER":return{plan:"family",currentSize:n};case"DUO_MANAGER":return{plan:"duo",currentSize:n};default:return null}}var qi=o(30261);const Wi=`${Ei.xD}?utm_source=spotify&utm_medium=menu&utm_campaign=your_account`,Gi=({divider:e,ubiLogger:t,ubiSpec:n})=>{const{openURLWithSessionTransfer:a}=(0,qi.L)();return(0,S.jsx)(yi.D,{divider:e,role:"menuitem",trailingIcon:(0,S.jsx)(_i.p,{size:"small"}),onClick:()=>{t.logInteraction(n.goToAccountPageRowFactory().hitUiNavigate({destination:Wi})),a(Wi)},children:s.Ru.get("user.account")})};var Ki=o(20467),Qi=o(71765),$i=o(6398);const Zi=()=>{const{show:e}=(0,Qi.j)();return(0,$i.R)()?(0,S.jsxs)(Ki.g,{displayText:"Debug Tools",children:[(0,S.jsx)(yi.D,{role:"menuitem",onClick:()=>e(),children:"Debug Window"}),!1,!1]}):null};var Yi=o(1776);const Ji=({divider:e,ubiLogger:t,ubiSpec:n})=>{const a=(0,u.wA)(),r=(0,m.useCallback)((()=>{t.logInteraction(n.logOutRowFactory().hitLogout()),a((0,Yi.wH)())}),[a,t,n]);return(0,S.jsx)(yi.D,{divider:e,role:"menuitem",onClick:r,"":"user-widget-dropdown-logout",children:s.Ru.get("user.log-out")})};var Xi=o(13020);const eo=({divider:e,planAttributes:t,ubiSpec:n,ubiLogger:a})=>{const{openURLWithSessionTransfer:r}=(0,qi.L)(),i="duo"===t.plan?"https://www.spotify.com/account/duo/":"https://www.spotify.com/account/family/";return(0,S.jsx)(yi.D,{divider:e,role:"menuitem",trailingIcon:(0,S.jsx)(_i.p,{size:"small"}),onClick:()=>{a.logInteraction(n.goToPlanManagementFactory().hitNavigateToExternalUri({destination:i})),r(i)},children:(0,S.jsxs)("span",{className:Hi,children:["duo"===t.plan?s.Ru.get("user.setup-duo"):s.Ru.get("user.setup-family"),t.currentSize<=1&&(0,S.jsx)(Xi.Z,{className:Mi,"":"dot-icon"})]})})},to=({visible:e,divider:t,ubiSpec:n,ubiLogger:a})=>{const{isPrivateSession:r,setPrivateSession:i}=Os(),o=(0,m.useCallback)((()=>{a.logInteraction(n.togglePrivateSessionRowFactory().hitSetSettingField()),i(!r)}),[i,r,a,n]);return e?(0,S.jsx)(yi.D,{divider:t,role:"menuitemcheckbox","aria-checked":r,onClick:o,children:s.Ru.get("user.private-session")}):null},no="/preferences",ao=({divider:e,ubiLogger:t,ubiSpec:n})=>(0,S.jsx)(yi.D,{divider:e,role:"menuitem",to:no,onClick:()=>{t.logInteraction(n.goToSettingsRowFactory().hitUiNavigate({destination:no}))},children:s.Ru.get("user.settings")});var ro=o(92856),so=o(39477),io=o(27559);const oo=({divider:e,ubiLogger:t,ubiSpec:n})=>{const a=(0,so.k)(),r=(0,ro.t)(),i=(0,m.useCallback)((()=>{t.logInteraction(n.updateClientRowFactory().hitUiHide()),r.applyUpdate()}),[r,t,n]);return a?.state!==io.D.UPDATE_READY?null:(0,S.jsx)(yi.D,{divider:e,role:"menuitem",onClick:i,trailingIcon:(0,S.jsx)(Xi.Z,{className:Mi}),"":"user-widget-update-available",children:s.Ru.get("user.update-client")})},co=({divider:e})=>{const t=(0,u.wA)(),n=(0,m.useCallback)((()=>{t((0,c.as)())}),[t]);return(0,S.jsx)(yi.D,{divider:e,role:"menuitem",trailingIcon:(0,S.jsx)(Xi.Z,{className:Vi}),onClick:n,href:"",target:"_blank",children:s.Ru.get("user.unable-to-update")})};var lo=o(99420),uo=o(83953);const ho=({divider:e,ubiLogger:t,ubiSpec:n})=>{const a=(0,lo.D)("loggedin_upgrade_menu"),r=(0,Ci.k)(),{url:i,isExternal:o}=r,c=(0,m.useCallback)((()=>{t.logInteraction(n.goToUpgradePlanPageRowFactory().hitNavigateToExternalUri({destination:i}))}),[i,t,n]);return(0,u.d4)((e=>(0,uo.Yb)(e)))?o?(0,S.jsx)(yi.D,{divider:e,role:"menuitem",trailingIcon:(0,S.jsx)(_i.p,{size:"small"}),onClick:c,target:"_blank",href:a(i),children:s.Ru.get("upgrade.tooltip.title")}):(0,S.jsx)(yi.D,{divider:e,role:"menuitem",onClick:c,to:a(i),children:s.Ru.get("upgrade.tooltip.title")}):null},po=({divider:e,ubiSpec:t,ubiLogger:n})=>{const a=(0,u.d4)((e=>e.session.user?.uri)),r=(0,T.z)();if(!a)return null;const i=(0,J.o_h)(a).toURLPath(!0);return(0,S.jsx)(yi.D,{divider:e,role:"menuitem",to:i,onClick:()=>{n.logInteraction(t.goToUserProfileRowFactory().hitUiNavigate({destination:i})),r.setReferrer("user_profile")},children:s.Ru.get("card.tag.profile")})};var mo=o(19988),fo=o(5758);const go=()=>{const e=(0,fo.r)(),t=(0,mo.XB)();return e?(0,S.jsx)(yi.D,{role:"menuitem",onClick:()=>{t()},trailingIcon:(0,S.jsx)(Xi.Z,{semanticColor:"textWarning"}),children:s.Ru.get("web-player.age-assurance.verify-age-action.title")}):null};var vo=o(8335);const bo="KROerAKSuwZBbse9iJT_",yo="Sv1KnjVg3ekpKXQ06hx1",xo="lgapDocKw68LlwEMOEe_",wo="X0f9yl0vfdlQU4bX4p2Q",Ao="ELJKm9oK4ojPrEohxqWu",_o="GRIcLOxMVgF_nrfnY4Uv",Eo="ECeOpd1vpoOavSRlnAvd",So="eUqphQq1C_Rpj86v0C76",jo="q_y6r1A1e8D5uNZ_Menz",Co="jG4F9TThOut3mIchASGW",Lo="SuKZtj8PyNFy4RV6GSem",Io="SO8ZVeRnaa3OYx4hD5WZ",No="FSi_NkGvBacIY9AQ3Enf",ko="RRTp4ESOekxPGhzyjzt5",To="KFhPNPSqzSZjHtAi0Kqz",Ro="O84I6j6mdxtM8lakjPzR",Po="WATiQKibA4mYnP3g6KaM",Mo="y77CgOUQOe6c5bjVe4GX",Do="QeUrkqvHAbXSveKN2wCu",Oo=()=>(0,S.jsx)("div",{className:Yt()(wo,Ao,_o),children:(0,S.jsx)(Ur.E,{semanticColor:"textSubdued",variant:"marginal",children:s.Ru.get("web-player.notification-center.empty-state")})});var Vo=o(22541);const zo=({lastItemRef:e})=>(0,S.jsx)("div",{className:Yt()(wo,Ao),ref:e,children:(0,S.jsx)(Vo.a3,{semanticColor:"textSubdued","aria-labelledby":s.Ru.get("page.loading")})});var Ho=o(73061),Bo=o(99244);const Fo=({primaryImages:e})=>(0,S.jsx)("div",{className:Co,children:e.length>1?(0,S.jsx)("div",{className:No,children:e.map(((t,n)=>(0,S.jsx)("div",{className:ko,style:{zIndex:e.length-n},children:(0,S.jsx)(ui.e,{imageClassName:So,placeholderClassName:So,label:"notificationAvatar",width:32,images:[{url:t.image_url}],userIconSize:"medium",username:t.displayName,displayName:t.displayName})},n)))}):(0,S.jsx)(ui.e,{images:e.map((e=>({url:e.image_url}))),userIconSize:"large",label:"notificationAvatar",width:48,username:e[0]?.displayName,displayName:e[0]?.displayName})}),Uo=({primaryImage:e,secondaryImage:t})=>(0,S.jsxs)("div",{className:Co,children:[(0,S.jsx)(Ho.b,{className:Lo,images:[{url:e.image_url}],iconSize:"medium",size:Bo.Qe.SIZE_40,type:Vt.c.PLAYLIST,title:e.displayName}),(0,S.jsx)(ui.e,{className:Io,imageClassName:So,placeholderClassName:So,label:"notificationAvatar",width:24,images:[{url:t.image_url}],userIconSize:"small",username:t.displayName,displayName:t.displayName})]});var qo=o(56386),Wo=o.n(qo),Go=o(28798),Ko=o(48905);const Qo=({title:e,timestamp:t})=>{let n=0;const a=(0,m.useRef)(null),r=(0,Go.K)({ref:a}),s=(0,m.useMemo)((()=>(0,Ko.Z)(Date.parse(t)).replace(/\s+/g,"")),[t]);return(0,S.jsxs)("div",{className:To,children:[(0,S.jsx)(Ur.E,{variant:"bodySmall",semanticColor:"textBase",style:{"--timestamp-text":`'${s}'`},className:Po,ref:a,children:Wo()(e.text?.text,/(\$\d+)/g,((t,a)=>{const r=(0,S.jsx)(Ur.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e.text_values[n]?.text},a);return n++,r}))}),r&&(0,S.jsx)(Ur.E,{variant:"marginal",semanticColor:"textSubdued",className:Ro,children:s})]})},$o=()=>(0,S.jsx)("div",{className:Do});let Zo=function(e){return e.UNKNOWN_STATE="UNKNOWN_STATE",e.UNREAD="UNREAD",e.READ="READ",e.CLICKED="CLICKED",e[e.UNRECOGNIZED=NaN]="UNRECOGNIZED",e}({});const Yo=({notification:e,markAsRead:t})=>{const{ref:n,inView:a}=(0,vo.Wx)();return(0,m.useEffect)((()=>{a&&e.state===Zo.UNREAD&&t(e.notification_id)}),[a,t,e.notification_id,e.state]),(0,S.jsxs)("div",{className:jo,ref:n,children:[(0,S.jsx)(Fo,{primaryImages:e.primary_images}),(0,S.jsx)(Qo,{title:e.title,timestamp:e.event_timestamp}),e.state===Zo.UNREAD&&(0,S.jsx)("div",{className:Mo,children:(0,S.jsx)($o,{})})]})},Jo=({notification:e,markAsRead:t})=>{const{ref:n,inView:a}=(0,vo.Wx)();return(0,m.useEffect)((()=>{a&&e.state===Zo.UNREAD&&t(e.notification_id)}),[a,t,e.notification_id,e.state]),(0,S.jsxs)("div",{className:jo,ref:n,children:[(0,S.jsx)(Uo,{primaryImage:e.primary_image,secondaryImage:e.secondary_image}),(0,S.jsx)(Qo,{title:e.title,timestamp:e.event_timestamp}),e.state===Zo.UNREAD&&(0,S.jsx)("div",{className:Mo,children:(0,S.jsx)($o,{})})]})};var Xo=o(76972),ec=o(55827);const tc=async(e,t)=>{const n=Xo.n.getInstance();await n.build().withHost(ec.dv).withJsonContentType().withoutMarket().withMethod("POST").withBody({notification_ids:e,state:t}).withPath("/UpdateNotificationState").send()};var nc=o(15069);const ac=()=>{const{data:e,isLoading:t,fetchNextPage:n,hasNextPage:a}=(0,nc.q)({queryKey:["notifications"],queryFn:async({pageParam:e})=>await(async e=>{const t=Xo.n.getInstance();return(await t.build().withHost(ec.dv).withJsonContentType().withoutMarket().withMethod("POST").withBody({check_further_unread:!0,cursor:e,limit:20}).withPath("/GetNotifications").send()).body})(e),initialPageParam:void 0,getPreviousPageParam:e=>e.reverse_cursor,getNextPageParam:e=>e.forward_cursor,gcTime:18e5,staleTime:6e5});return{notifications:e?.pages.map((e=>e.notifications)).flat()??[],isLoading:t,hasNextPage:a,fetchNextPage:n}};var rc=o(19684),sc=o(29407);const ic=({notifications:e,fetchNextPage:t,hasNextPage:n})=>{const a=(0,Wt.g)(),r=(0,d.Oj)(),{ref:i,inView:o}=(0,vo.Wx)();(0,m.useEffect)((()=>{o&&t()}),[t,o]);const c=(0,m.useCallback)((async e=>{tc([e],Zo.READ)}),[]),l=(0,m.useCallback)((async e=>{tc([e],Zo.CLICKED)}),[]),u=(0,m.useCallback)((e=>{const t="COMMENT_REACT"===e.single_notification?.event_type||"COMMENT_REPLY"===e.single_notification?.event_type?(e=>{const t=(0,J.o_h)(e,{parseUnknown:!0});return"unknown"===t?.type&&t.args?(0,J.iMK)(t.args.at(3)??"").toURI():""})(e.single_notification?.action?.uri??""):e.single_notification?.action?.uri??e.double_notification?.action?.uri;if(t){const e=(0,J.o_h)(t).toURLPath(!0);a(e),r({type:"close"})}}),[r,a]),h=(0,m.useCallback)((()=>e.map(((e,t)=>{const n=e.single_notification?.notification_id??e.double_notification?.notification_id;return(0,S.jsx)(sc.u,{children:(0,S.jsx)(rc.H,{role:"menuitem",className:Yt()(wo,Eo),onClick:()=>{l(n),u(e)},children:(a=e,Object.prototype.hasOwnProperty.call(a,"single_notification")?(0,S.jsx)(Yo,{notification:e.single_notification,markAsRead:c}):(0,S.jsx)(Jo,{notification:e.double_notification,markAsRead:c}))})},t);var a}))),[l,c,u,e]);return(0,S.jsxs)("div",{className:bo,children:[(0,S.jsx)(Ur.E,{variant:"bodyMediumBold",semanticColor:"textBase",className:xo,children:s.Ru.get("web-player.notification-center.button-label")}),e.length>0?(0,S.jsxs)("div",{className:yo,children:[h(),n&&(0,S.jsx)(zo,{lastItemRef:i})]}):(0,S.jsx)(Oo,{})]})},oc=()=>{const{notifications:e,isLoading:t,hasNextPage:n,fetchNextPage:a}=ac();return t?(0,S.jsx)("div",{className:bo,children:(0,S.jsx)(zo,{})}):(0,S.jsx)(ic,{notifications:e,hasNextPage:n,fetchNextPage:a})};var cc=o(52113);const lc=()=>{const{setIsGlobalNavDraggable:e}=(0,m.useContext)(kr),{isDesktop:n}=(0,Qt.V)(),{spec:a,logger:r}=(0,js.r)(gi,{});(0,m.useEffect)((()=>{r.logImpression(a.impression())}),[r,a]),(0,m.useEffect)((()=>(e?.(!1),()=>{e?.(!0)})),[e]);const s=(0,cc.k)(),i=Ui(s.data),o=(0,t.NC)(xe.y2l);return(0,S.jsx)("div",{"":"user-widget-menu",className:Ri,children:(0,S.jsxs)(bi.W,{children:[(0,S.jsx)(Gi,{ubiSpec:a,ubiLogger:r}),i&&(0,S.jsx)(eo,{planAttributes:i,ubiSpec:a,ubiLogger:r}),(0,S.jsx)(go,{ubiSpec:a,ubiLogger:r}),(0,S.jsx)(po,{ubiSpec:a,ubiLogger:r}),(0,S.jsx)(ho,{ubiSpec:a,ubiLogger:r}),(0,S.jsx)(Ii,{visible:!0}),(0,S.jsx)(ji,{visible:!n}),(0,S.jsx)(to,{visible:n,ubiSpec:a,ubiLogger:r}),(0,S.jsx)(ao,{divider:"after",ubiSpec:a,ubiLogger:r}),s?.data?.["client-deprecated"]&&(0,S.jsx)(co,{}),(0,S.jsx)(oo,{ubiSpec:a,ubiLogger:r})," ",(0,S.jsx)(Zi,{}),(0,S.jsx)(Ji,{ubiSpec:a,ubiLogger:r,divider:o?"after":void 0}),o&&(0,S.jsx)(oc,{})]})})},uc=({displayAvatar:e,label:t,className:n,semanticColor:a})=>(0,S.jsx)("div",{className:zi,children:(0,S.jsx)(Xi.Z,{title:t,className:Yt()(n,{[Di]:!e},Oi),size:"small",semanticColor:a})}),dc=({displayAvatar:e})=>(0,S.jsx)(uc,{displayAvatar:e,label:s.Ru.get("user.update-available"),className:Mi}),hc="Mfd_Z1fq10XbJnN0Fz6C",pc="bLHetMTwwHHeDXIUjSYi",mc="mbYYWaWS05FffVjDSqQP",fc=({percentage:e,label:t})=>(0,S.jsx)("div",{className:hc,style:{"--onboarding-circle-percentage":`${e}%`},children:(0,S.jsx)("div",{className:pc,children:(0,S.jsx)(Ur.E,{as:"span",variant:"titleSmall",semanticColor:"textSubdued",className:mc,children:t})})});var gc=o(10700);const vc="music",bc="3.0.0",yc="default",xc="16.2.6";function wc(e){return new Ac(e)}class Ac{constructor(e){this._path=[{name:"desktop-onboarding-checklist-menu"}],e?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=e.parentAbsoluteLocation)}tasksFactory(){return new Ac.TasksEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}snackbarFactory(e){return new Ac.SnackbarEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:e})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[yc,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[bc,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}impression(){return{app:vc,generatorVersion:xc,specificationVersion:bc,specificationMode:yc,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}!function(e){e.TasksEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"tasks"}),t&&(this._parentAbsoluteLocation=t)}taskItemFactory(t){return new e.TasksEventFactory.TaskItemEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:t})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[yc,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[bc,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}}(Ac||(Ac={})),function(e){e.SnackbarEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({...n,name:"snackbar"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[yc,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[bc,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:vc,generatorVersion:xc,interactionType:"hit",specificationMode:yc,specificationVersion:bc,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitUiHide(){return{actionName:"ui_hide",actionVersion:1,app:vc,generatorVersion:xc,interactionType:"hit",specificationMode:yc,specificationVersion:bc,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}impression(){return{app:vc,generatorVersion:xc,specificationVersion:bc,specificationMode:yc,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(Ac||(Ac={})),function(e){!function(e){e.TaskItemEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({...n,name:"task_item"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[yc,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[bc,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitFocusInputField(){return{actionName:"focus_input_field",actionVersion:1,app:vc,generatorVersion:xc,interactionType:"hit",specificationMode:yc,specificationVersion:bc,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:vc,generatorVersion:xc,interactionType:"hit",specificationMode:yc,specificationVersion:bc,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:vc,generatorVersion:xc,interactionType:"hit",specificationMode:yc,specificationVersion:bc,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitCreatePlaylist(){return{actionName:"create_playlist",actionVersion:1,app:vc,generatorVersion:xc,interactionType:"hit",specificationMode:yc,specificationVersion:bc,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.TasksEventFactory||(e.TasksEventFactory={}))}(Ac||(Ac={}));var _c=o(96174);const Ec="kRu_9FQvlKWWUwxVan3v",Sc="OsPgVNwb3Fo6F1g2_hh0",jc="OImI6hJyJdsS02FJ98YU",Cc="jGlYiZsdrAJfB3k6icct",Lc="vlZ81rdxwEATJEumDZxh",Ic="vAQqVvJRN5rwYjjHlxOT",Nc="ijX3uYDojJHVt3RI6c8t",kc=()=>{const{tasks:e,performTask:t}=(0,_c.V)(),n=(0,d.Oj)(),{spec:a,logger:r}=(0,js.r)(wc,{});(0,m.useEffect)((()=>{r.logImpression(a.impression())}),[]);const s=e=>{t(e,(()=>{(e=>{const t=a.tasksFactory().taskItemFactory({identifier:e});switch(e){case"start-playing":r.logInteraction(t.hitFocusInputField());break;case"save-playlist":case"watch-a-video":r.logInteraction(t.hitUiNavigate({destination:"/search"}));break;case"create-playlist":r.logInteraction(t.hitCreatePlaylist());break;default:r.logInteraction(t.hitUiReveal())}})(e),n({type:"close"})}))};return(0,S.jsx)(m.Fragment,{children:e.map((e=>{const t=e.completed?gc.k:e.icon;return(0,S.jsx)(sc.u,{onKeyDown:t=>{if("Enter"===t.key){if(t.preventDefault(),e.completed)return;s(e.id)}},children:(0,S.jsxs)("div",{role:"button","aria-disabled":e.completed,className:Yt()(Ec,{[Sc]:e.completed}),children:[(0,S.jsx)("div",{className:jc,children:(0,S.jsx)(t,{size:"large"})}),(0,S.jsxs)("div",{className:Lc,children:[(0,S.jsxs)("div",{className:Ic,children:[(0,S.jsx)(Ur.E,{as:"h3",variant:"bodyMediumBold",semanticColor:"textBase",className:Nc,children:e.title}),(0,S.jsx)("div",{className:Cc,children:e.action&&(0,S.jsx)(Pr.$,{size:"small",disabled:e.completed,onClick:()=>s(e.id),children:e.action})})]}),(0,S.jsx)(Ur.E,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",children:e.description})]})]})},e.id)}))})};var Tc=o(62619);const Rc="R1LAYqlvoHyvSWVzo0lh",Pc="WnBTuOeFRF5dfvTx4eJV",Mc="hrs25CWx5fvA930Z7m3M",Dc="rwRzCTrfDh28F0JEWJ9U",Oc=()=>{const{completed:e,count:t,percentage:n}=(0,Tc.o)(),a=e===t;return(0,S.jsxs)(bi.W,{className:Rc,children:[(0,S.jsx)("li",{children:(0,S.jsxs)("header",{className:Pc,children:[(0,S.jsxs)("div",{className:Mc,children:[(0,S.jsx)(Ur.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",children:a?s.Ru.get("web-player.onboarding-checklist.menu.title.complete"):s.Ru.get("web-player.onboarding-checklist.menu.title")}),(0,S.jsx)(Ur.E,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",children:a?s.Ru.get("web-player.onboarding-checklist.menu.text.complete"):s.Ru.get("web-player.onboarding-checklist.menu.text")})]}),(0,S.jsx)("div",{className:Dc,children:(0,S.jsx)(fc,{percentage:n,label:s.Ru.get("web-player.onboarding-checklist.progress",{completed:e,count:t})})})]})}),(0,S.jsx)(kc,{})]})};var Vc=o(27357),zc=o(68705),Hc=o(94943);const Bc=({taskId:e,onShowChecklist:t})=>{const{spec:n,logger:a}=(0,js.r)(wc,{});return(0,m.useEffect)((()=>{a.logImpression(n.snackbarFactory({identifier:e}).impression())}),[]),(0,S.jsx)(Vc.O,{children:(0,S.jsx)(Hc.P,{center:(0,S.jsx)(zc.z,{children:s.Ru.get("web-player.onboarding-checklist.snackbar.message")}),trailing:(0,S.jsx)(Rr.H,{semanticColor:"textBrightAccent",onClick:t,condensedAll:!0,"aria-hidden":"true",children:s.Ru.get("web-player.onboarding-checklist.snackbar.action")})})})};var Fc=o(44879),Uc=o(4409),qc=o(49831),Wc=o(36849),Gc=o(34731),Kc=o(58856);var Qc=o(96058);const $c="oA573BNFb8S9eT2dC_11",Zc="ZLmgOlSW3zMXC4WLEFQ_",Yc="cHDUBxSE2gSd9dYJbMMB",Jc="NCv0D4jsAJZQqnwZafDJ",Xc="XPCpAdXbyFFm77bvi0Yg",el="By9LfOps_25hkeyFZcyQ",tl="RziMgLvhmVlp7IVq7xvN",nl="W6hUg4cqx063fqJBsujV",al=({userDisplayName:e,avatarContent:t,showUpdateNotification:n,displayAvatar:a,onAvatarClick:r})=>{const[i,o]=(0,m.useState)(null),{completed:c,count:l,percentage:d}=(0,Tc.o)(),h=(0,m.useRef)(null);return(()=>{const{completeTask:e,isTaskCompleted:t}=(0,_c.V)(),{enqueueCustomSnackbar:n}=(0,Uc.i)(),a=(0,Fc.S)(),r=(0,m.useCallback)((()=>{a("openChecklist",{})}),[a]),s=(0,m.useCallback)((t=>{e(t),n((0,S.jsx)(Bc,{taskId:t,onShowChecklist:r}),{identifier:"onboarding-checklist"})}),[e,n,r]);(0,z.p)(V.gd.QUEUE_ACTION,(e=>{t("queue-it-up")||"add"===e.data.action&&s("queue-it-up")}));const i=t("watch-a-video"),o=(0,ur.o)((e=>("video"===e?.item?.mediaType||"video"===e?.item?.metadata?.track_player)&&(0,Wc.uW)(e)===qc.i.PLAYING));(0,m.useEffect)((()=>{o&&!i&&s("watch-a-video")}),[s,i,o]);const c=t("start-playing"),l=(0,ur.o)((e=>"audio"===e?.item?.mediaType&&(0,Wc.uW)(e)===qc.i.PLAYING));(0,m.useEffect)((()=>{l&&!c&&s("start-playing")}),[s,c,l]);const d=t("save-playlist");(0,Gc.b)(Kc.tD.OPERATION_COMPLETE,(e=>{d||"add"===e.data.operation&&e.data.uris.some(J.tbX)&&s("save-playlist")}));const h=t("create-playlist");(0,Gc.b)(Kc.tD.OPERATION_COMPLETE,(e=>{h||"create_playlist"===e.data.operation&&s("create-playlist")}));const p=t("become-a-pro"),f=(0,u.d4)((e=>e.ui.keyboardShortcutsHelpModal.isOpen));(0,m.useEffect)((()=>{f&&!p&&s("become-a-pro")}),[s,p,f]);const{isOpen:g}=(0,Ka.H)(),v=t("try-mini-player");(0,m.useEffect)((()=>{g&&!v&&s("try-mini-player")}),[s,v,g])})(),((e,t)=>{const n=(0,Qc.R)(),a=(0,m.useRef)(t);(0,m.useEffect)((()=>{a.current=t}),[t]),(0,m.useEffect)((()=>n.addListener(e,(e=>{a.current&&a.current(e)}))),[e,n])})("openChecklist",(()=>{const e=h.current;if(!e)return;const t=e.querySelector("button");t?.click()})),(0,S.jsxs)("div",{className:Yt()($c,{[Zc]:"onboarding"===i,[Yc]:"user"===i}),children:[(0,S.jsx)("div",{className:el,ref:h,children:(0,S.jsx)(di.b,{onHide:()=>o(null),onShow:()=>o("onboarding"),offset:[0,8],placement:"bottom-end",menu:(0,S.jsx)(Oc,{}),children:(e,t,n)=>(0,S.jsx)(Us.Zp,{label:s.Ru.get("web-player.onboarding-checklist.widget.tooltip"),children:(0,S.jsx)(Rr.H,{ref:n,className:nl,condensedAll:!0,"aria-label":s.Ru.get("web-player.onboarding-checklist.widget.tooltip"),style:{"--onboarding-circle-percentage":`${d}%`},onClick:e=>{t(e)},"aria-expanded":e,children:(0,S.jsx)("span",{className:Jc,children:s.Ru.get("web-player.onboarding-checklist.progress",{completed:c,count:l})})})})})}),(0,S.jsx)("div",{className:Xc,children:(0,S.jsx)(di.b,{onShow:()=>o("user"),onHide:()=>o(null),offset:[0,8],placement:"bottom-end",menu:(0,S.jsx)(lc,{}),children:(s,i,o)=>(0,S.jsx)(Us.Zp,{label:e,children:(0,S.jsxs)(Rr.H,{ref:o,className:tl,onClick:e=>{r?.(e),i(e)},condensedAll:!0,"aria-label":e,"":"user-widget-link",semanticColor:"textBase","aria-expanded":s,children:[t,n&&(0,S.jsx)(dc,{displayAvatar:a})]})})})})]})};var rl=o(30831);const sl=({displayAvatar:e})=>(0,S.jsx)(uc,{displayAvatar:e,label:(0,rl.v)("Age verification required"),semanticColor:"textWarning"});var il=o(19507);const ol=()=>{const e=(0,t.NC)(xe.y2l),{data:n}=(0,il.I)({queryKey:["notification-unread-status"],queryFn:async()=>await(async()=>{const e=Xo.n.getInstance();return(await e.build().withHost(ec.dv).withJsonContentType().withoutMarket().withMethod("POST").withPath("/GetUserHasUnreadNotification").send()).body})(),enabled:e,staleTime:6e5,refetchInterval:e=>!e.state.data?.userHasUnreadNotification&&108e5});return n?.userHasUnreadNotification??!1};var cl=o(32695),ll=o(91464),ul=o(20531);const dl=e=>{const n=(0,u.d4)((e=>e.session.user)),a=(0,so.k)(),r=Ui((0,cc.k)().data),s=!!r&&r.currentSize<=1,i=(0,t.NC)(xe.y2l),o=ol(),c=i&&o,l=(0,fo.r)(),d=(0,cl.q)(),h=(0,ll.w)(),p=!d&&h.variant!==xe.Vt9.Control;if(!n)return(0,S.jsx)(di.b,{offset:[0,parseInt(Ni,10)],placement:"bottom-end",menu:(0,S.jsx)(Fi,{}),children:(e,t,n)=>(0,S.jsx)("button",{className:Yt()(ki),type:"button",onClick:t,ref:n,"":"unauth-user-widget-link",children:e?(0,S.jsx)(oi.M,{size:"small","aria-hidden":"true"}):(0,S.jsx)(ci.d,{size:"small","aria-hidden":"true"})})});const m=n.display_name||n.id,f=n.display_name?.charAt(0).toUpperCase(),g=!!n?.images.length||!n.display_name,v=(0,ul.nj)(n?.avatarBackgroundColor||0),b="var(--background-elevated-base)",y={backgroundColor:g?b:`#${v}`,color:li.Ql9,lineHeight:"32px"},x=g?(0,S.jsx)(ui.e,{label:m,width:n?.images.length?32:24,images:n?.images,userIconSize:"small",testID:"user-widget-avatar",transparent:!0,className:Yt()({[Bi]:n?.images.length})}):(0,S.jsx)(Ur.E,{variant:"bodySmallBold","":"username-first-letter",style:y,className:Pi,children:f}),w=a?.state===io.D.UPDATE_READY||s||c,A=l&&!w;return p?(0,S.jsx)(al,{avatarContent:x,userDisplayName:m,showUpdateNotification:w,displayAvatar:g,onAvatarClick:t=>{e.onClick?.(t)}}):(0,S.jsx)(di.b,{offset:[0,parseInt(Ni,10)],placement:"bottom-end",menu:(0,S.jsx)(lc,{}),children:(t,n,a)=>(0,S.jsx)(Us.Zp,{label:m,children:(0,S.jsxs)(Rr.H,{className:Ti,onClick:t=>{e.onClick?.(t),n(t)},style:{backgroundColor:b},ref:a,condensedAll:!0,"aria-label":m,"":"user-widget-link",semanticColor:"textBase","aria-expanded":t,children:[x,w&&(0,S.jsx)(dc,{displayAvatar:g}),A&&(0,S.jsx)(sl,{displayAvatar:g})]})})})};var hl=o(28487);function pl(e){var t,n,a,r,s,i=e.size?hl.$Z[e.size]:e.iconSize,o=(0,hl._C)([{size:16,svgContent:"<path d='M4.538 7.513c.16-.482.42-.925.761-1.3.072-.079.159-.139.237-.21l-.2-.113a.667.667 0 0 1-.179-1l.232-.278a2.84 2.84 0 0 0 .714-1.677 2.8 2.8 0 0 0-.106-.937A2.07 2.07 0 0 0 4.853.74a2.12 2.12 0 0 0-2.415.508 2.1 2.1 0 0 0-.435.75 2.8 2.8 0 0 0-.106.937c.047.622.298 1.212.714 1.677l.232.278a.666.666 0 0 1-.179 1l-1.331.768A2.67 2.67 0 0 0 0 8.968v.034h4.347a4.3 4.3 0 0 1 .191-1.489m10.134-.856-1.331-.768a.666.666 0 0 1-.179-1l.232-.278a2.84 2.84 0 0 0 .714-1.677 2.8 2.8 0 0 0-.106-.937A2.07 2.07 0 0 0 12.858.739a2.12 2.12 0 0 0-2.415.508 2.1 2.1 0 0 0-.435.75 2.8 2.8 0 0 0-.106.937c.047.622.298 1.212.714 1.677l.232.278a.665.665 0 0 1-.179 1l-.2.113c.078.071.165.131.237.21.342.375.6.818.76 1.3.15.48.214.984.186 1.487H16v-.034a2.67 2.67 0 0 0-1.328-2.308m-4 6-1.331-.769a.665.665 0 0 1-.179-1l.232-.278a2.72 2.72 0 0 0 .608-2.614 2.1 2.1 0 0 0-.435-.75 2.117 2.117 0 0 0-3.124 0 2.1 2.1 0 0 0-.435.75 2.8 2.8 0 0 0-.106.937c.047.622.298 1.212.714 1.677l.232.278a.666.666 0 0 1-.179 1l-1.331.769a2.67 2.67 0 0 0-1.333 2.309V15h8v-.034a2.67 2.67 0 0 0-1.333-2.305z'/>"},{size:24,svgContent:"<path d='m16.004 19.153-2-1.153a1 1 0 0 1-.268-1.506l.347-.417c.624-.697 1-1.581 1.071-2.515a4.2 4.2 0 0 0-.159-1.406 3.1 3.1 0 0 0-.651-1.125 3.177 3.177 0 0 0-4.687 0 3.15 3.15 0 0 0-.652 1.125 4.2 4.2 0 0 0-.159 1.406c.07.934.447 1.818 1.071 2.515l.348.417A1 1 0 0 1 9.996 18l-2 1.153a4 4 0 0 0-2 3.464v.051h12v-.05a4 4 0 0 0-1.992-3.465m-9.151-5.472a6.2 6.2 0 0 1 .262-2.168 5.2 5.2 0 0 1 .845-1.557.992.992 0 0 1-.22-1.462l.347-.417c.624-.697 1-1.581 1.071-2.515a4.2 4.2 0 0 0-.159-1.406 3.1 3.1 0 0 0-.651-1.125 3.18 3.18 0 0 0-4.687 0 3.15 3.15 0 0 0-.652 1.125 4.2 4.2 0 0 0-.159 1.406c.07.934.447 1.818 1.071 2.515l.348.417A1 1 0 0 1 4 10l-2 1.153a4 4 0 0 0-2 3.464v.051h6.993a6 6 0 0 1-.14-.987m15.151-2.528-2-1.153a1 1 0 0 1-.268-1.506l.347-.417c.624-.697 1-1.581 1.071-2.515a4.2 4.2 0 0 0-.159-1.406 3.1 3.1 0 0 0-.651-1.125 3.18 3.18 0 0 0-4.687 0 3.15 3.15 0 0 0-.652 1.125 4.2 4.2 0 0 0-.159 1.406c.07.934.447 1.818 1.071 2.515l.348.417a.993.993 0 0 1-.221 1.462c.368.468.654.994.845 1.557.217.701.305 1.435.262 2.168q-.03.5-.143.987H24v-.05a4 4 0 0 0-1.996-3.465'/>"}],i||24),c=null!==(t=e.autoMirror)&&void 0!==t&&t;return m.createElement(hl.In,Object.assign({},e,{autoMirror:c,viewBox:"0 0 ".concat(o.size," ").concat(o.size),dangerouslySetInnerHTML:{__html:"".concat((r=e.title,s=e.titleId,r?"<title ".concat(s?'id="'.concat(s,'"'):"",">").concat(r,"</title>"):"")).concat((n=e.desc,a=e.descId,n?"<desc ".concat(a?'id="'.concat(a,'"'):"",">").concat(n,"</desc>"):"")).concat(o.svgContent)}}))}var ml=o(1453),fl=o(39896);const gl="main-topBar-buddyFeed",vl=({onClick:e,tooltipLabel:t,ariaLabel:n,className:a,testId:r,children:s,restoreFocusKey:i,disabled:o})=>(0,S.jsx)(Us.Zp,{label:t,children:(0,S.jsx)(Rr.H,{"aria-label":n,onClick:e,size:"small",condensedAll:!0,"":r,className:Yt()(gl,a),"data-restore-focus-key":i,disabled:o,children:s})});var bl=o(13384),yl=o(86582),xl=o(6268),wl=o(76791);const Al=ke.$S.BUDDY_FEED_BUTTON_CLICK,_l=({spec:e})=>{const{isActive:t,panelSend:n}=(0,Fn.AI)(Un.Z.BuddyFeed,Un.Z.BuddyFeedOverlay),{isSupported:a}=(0,Le.C)().getCapabilities(),r=(0,ls.n)(),i=(0,xl.K)(),o=(0,Nt.s)(),c=(0,m.useCallback)((()=>{if(!a)return void(i&&o.logInteraction(e.hitUiReveal()));const r=t;n(Al),r||(0,fl.I)("BUDDY-FEED")}),[a,t,n,i,o,e]),l=(0,wl.S)((0,Qt.V)()),u=(0,S.jsx)(vl,{tooltipLabel:r?s.Ru.get("buddy-feed.friend-activity"):s.Ru.get("offline.feedback-text"),ariaLabel:s.Ru.get("buddy-feed.friend-activity"),onClick:c,testId:"friend-activity-button",restoreFocusKey:Un.Z.BuddyFeed,disabled:!r,children:t?(0,S.jsx)(pl,{size:"small",semanticColor:"textBase"}):(0,S.jsx)(ml.B,{size:"small"})});return a?u:i&&l?(0,S.jsx)(yl.$,{type:"buddy-feed",children:u}):null},El=e=>(0,bl.T)()?null:(0,S.jsx)(_l,{...e});function Sl(e){var t,n,a,r,s,i=e.size?hl.$Z[e.size]:e.iconSize,o=(0,hl._C)([{size:16,svgContent:"<path d='M8 0a5.5 5.5 0 0 0-5.5 5.5v3.069L.307 12.376A.75.75 0 0 0 .25 13h15.5a.75.75 0 0 0-.057-.624L13.5 8.567V5.5A5.5 5.5 0 0 0 8 0m1.937 14.5H6.063a2 2 0 0 0 3.874 0'/>"},{size:24,svgContent:"<path d='M9.261 21a2.75 2.75 0 1 0 5.478 0zM12 1a7.5 7.5 0 0 0-7.5 7.5v5.344L1.53 19h20.94l-2.97-5.158V8.5A7.5 7.5 0 0 0 12 1'/>"}],i||24),c=null!==(t=e.autoMirror)&&void 0!==t&&t;return m.createElement(hl.In,Object.assign({},e,{autoMirror:c,viewBox:"0 0 ".concat(o.size," ").concat(o.size),dangerouslySetInnerHTML:{__html:"".concat((r=e.title,s=e.titleId,r?"<title ".concat(s?'id="'.concat(s,'"'):"",">").concat(r,"</title>"):"")).concat((n=e.desc,a=e.descId,n?"<desc ".concat(a?'id="'.concat(a,'"'):"",">").concat(n,"</desc>"):"")).concat(o.svgContent)}}))}function jl(e){var t,n,a,r,s,i=e.size?hl.$Z[e.size]:e.iconSize,o=(0,hl._C)([{size:16,svgContent:"<path d='M8 1.5a4 4 0 0 0-4 4v3.27a.75.75 0 0 1-.1.373L2.255 12h11.49L12.1 9.142a.75.75 0 0 1-.1-.374V5.5a4 4 0 0 0-4-4m-5.5 4a5.5 5.5 0 0 1 11 0v3.067l2.193 3.809a.75.75 0 0 1-.65 1.124H10.5a2.5 2.5 0 0 1-5 0H.957a.75.75 0 0 1-.65-1.124L2.5 8.569zm4.5 8a1 1 0 1 0 2 0z'/>"},{size:24,svgContent:"<path d='M12 3a5.5 5.5 0 0 0-5.5 5.5v5.878L4.414 18h15.173L17.5 14.377V8.5A5.5 5.5 0 0 0 12 3M4.5 8.5a7.5 7.5 0 1 1 15 0v5.342L23.046 20h-7.582a3.5 3.5 0 1 1-6.929 0H.955L4.5 13.844zM10.585 20a1.5 1.5 0 1 0 2.83 0z'/>"}],i||24),c=null!==(t=e.autoMirror)&&void 0!==t&&t;return m.createElement(hl.In,Object.assign({},e,{autoMirror:c,viewBox:"0 0 ".concat(o.size," ").concat(o.size),dangerouslySetInnerHTML:{__html:"".concat((r=e.title,s=e.titleId,r?"<title ".concat(s?'id="'.concat(s,'"'):"",">").concat(r,"</title>"):"")).concat((n=e.desc,a=e.descId,n?"<desc ".concat(a?'id="'.concat(a,'"'):"",">").concat(n,"</desc>"):"")).concat(o.svgContent)}}))}var Cl=o(29876),Ll=o(91462),Il=o(72908),Nl=o(76146),kl=o(74351);const Tl="agh_IHo91VhyFTnp5BzM",Rl="XVC0Gr8G4SXM0a98jbqC",Pl="K8ygfuFNcx2tNcNv09JH";function Ml(){const{name:e}=Ll.lo;return[e]}const Dl=()=>{const e=(0,Wt.g)(),t=(0,Il.J)(),n=(0,ls.n)(),a=(0,Nl._)((e=>"/content-feed"===e.pathname)),r=a,[i,o]=(0,m.useState)(!1),{request:c}=(0,m.useContext)(jt.j),l=(0,nt.jE)(),{spec:u,logger:d}=(0,js.r)(Cl.q,{});(0,m.useEffect)((()=>{let e=!1;const t=setInterval((async()=>{let t;try{t=await(0,kl.c)(c,Ll.jF,{})}catch{return}if(t?.errors)return;const n=t?.data?.whatsNewFeedHasNewItems||!1;if(n&&!e){const e=u.notificationsBellToggleFactory().notificationsIndicatorFactory().impression();d.logImpression(e),o(!0),l.invalidateQueries({queryKey:Ml()})}e=n}),144e5);return()=>{clearInterval(t)}}),[d,l,c,u]);const h=()=>(0,S.jsxs)("div",{className:Tl,"":"notification-dot",children:[(0,S.jsx)("span",{className:Rl,children:s.Ru.get("new_releases")}),(0,S.jsx)(Xi.Z,{className:Pl})]}),p=(0,m.useCallback)((()=>{a?(d.logInteraction(u.notificationsBellToggleFactory().hitUiNavigateBack()),t.length>1?t.goBack():e("/")):(o(!1),d.logInteraction(u.notificationsBellToggleFactory().hitUiNavigate({destination:"spotify:app:content-feed"})),e("/content-feed"))}),[a,d,u,t,e]);return(0,S.jsxs)(vl,{tooltipLabel:s.Ru.get("web-player.whats-new-feed.button-label"),ariaLabel:s.Ru.get("web-player.whats-new-feed.button-label"),testId:"whats-new-feed-button",onClick:p,disabled:!n,children:[r?(0,S.jsx)(Sl,{size:"small",semanticColor:"textBase"}):(0,S.jsx)(jl,{size:"small"}),i&&(0,S.jsx)(h,{})]})};var Ol=o(33088),Vl=o(11627);const zl=(0,m.forwardRef)((({className:e},t)=>{const n=(0,u.wA)(),a=(0,Ks.V)(),{spec:r,logger:i}=(0,ri.D)(Mr.x,{}),o=(0,zs.U)("(max-width: 849px)"),c=a&&o,l=(0,m.useCallback)((()=>{n((0,Dr.Ai)())}),[n]),d=(0,m.useCallback)((()=>{n((0,Dr.zL)())}),[n]),h=(0,m.useCallback)((()=>{n((0,Dr.NM)())}),[n]),{openURLWithSessionTransfer:p}=(0,qi.L)(),f=(0,Wt.g)(),g=(e,t)=>{t?p(e):f(e)},v=(0,m.useMemo)((()=>r.upgradeButtonFactory()),[r]),b=(0,m.useMemo)((()=>r.friendFeedButtonFactory()),[r]),{shouldShowUpgradeButton:y,onUpgradeClick:x}=(0,Ol.i)(v,i),w=(0,zs.U)("(min-width: 1024px)"),A=(0,m.useCallback)((()=>{i.logInteraction(r.profileButtonFactory().hitUiReveal())}),[i,r]);return(0,S.jsxs)("div",{className:Yt()(e,Vl.A.topbarContentRight),ref:t,children:[(0,S.jsx)(Hs,{spec:r}),a&&!o?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Rr.H,{condensed:!0,onClick:()=>{h()},children:s.Ru.get("navbar.premium")}),(0,S.jsx)(Rr.H,{condensed:!0,onClick:()=>g(Ei.nw,!0),children:s.Ru.get("user.support")}),(0,S.jsx)(Rr.H,{condensed:!0,onClick:()=>g(Ei.Kw,!0),children:s.Ru.get("download.download")}),(0,S.jsx)("div",{className:Vl.A.topNavBarSeparator})]}):(0,S.jsx)(S.Fragment,{}),(0,S.jsx)(Fr,{}),y&&w&&(0,S.jsx)(ii,{onClick:x,className:Vl.A.UpgradeButton}),(0,S.jsx)(Zs,{logger:i,spec:r}),a&&(0,S.jsxs)("div",{className:Vl.A.loginButtons,children:[(0,S.jsx)(Rr.H,{className:Vl.A.signupButton,onClick:l,"":"signup-button",size:"small",children:s.Ru.get("sign_up")}),(0,S.jsx)(ai,{children:(0,S.jsx)(Pr.$,{colorSet:"invertedLight",onClick:d,"":"login-button",children:s.Ru.get("login")})})]}),!a&&(0,S.jsxs)("div",{className:Yt()(Vl.A.globalNavBar,Vl.A.topBarRightButtonContainer),children:[(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(Dl,{})}),(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(El,{spec:b})})]}),(!a||c)&&(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(dl,{onClick:A})})]})}));var Hl=o(27498),Bl=o(21903),Fl=o(67988);const Ul=({className:e})=>{const{spec:t,logger:n}=(0,ri.D)(Mr.x,{}),a=(0,Wt.g)(),[r,i]=(0,Fl.l)(),o=(0,m.useCallback)((()=>{n.logInteraction(t.backButtonFactory().hitUiNavigateBack()),a(-1)}),[n,a,t]),c=(0,m.useCallback)((()=>{n.logInteraction(t.forwardButtonFactory().hitUiNavigateForwardInHistory()),a(1)}),[n,a,t]);return(0,S.jsxs)("div",{className:Yt()(e,Vl.A.globalNavBarHistoryButtonsContainer),children:[(0,S.jsx)(Us.Zp,{label:s.Ru.get("navbar.go-back"),children:(0,S.jsx)(Rr.H,{size:"medium",iconOnly:Hl.g,condensed:!0,"":"top-bar-back-button","aria-label":s.Ru.get("navbar.go-back"),disabled:!r,onClick:o})}),(0,S.jsx)(Us.Zp,{label:s.Ru.get("navbar.go-forward"),children:(0,S.jsx)(Rr.H,{size:"medium",iconOnly:Bl.V,condensed:!0,"":"top-bar-forward-button","aria-label":s.Ru.get("navbar.go-forward"),disabled:!i,onClick:c})})]})};var ql=o(70870),Wl=o(10686),Gl=o(79410);const Kl="fiHe04F7JrFVxwTtQKNC",Ql="OOmw6k8Nm2wxqdp3iMEi",$l="VdaiGBErbfEB8WKT1_xB",Zl="MvkNePnKvq7odsvqZGGp",Yl="c1SbOcr3tYRrykXHia_i",Jl="G_BZRxrcmBjLCMT7rM7w",Xl="blk4J9F0PVHYjLGdgxIB",eu="fJA65AgTmNpHAUxb_CIl",tu="QUV8gJ5njNR0opnIViHW",nu="Root__globalNav",au="VWGwIHKvvfu0ry5ZqbxU",ru="main-globalNav-navLink",su="main-globalNav-navLinkActive",iu="Dp3xccI7c2f_JSJ8OHYu",ou="main-globalNav-historyButtonsContainer",cu="nmAHq8nfXRtoQmKU1gaF",lu="main-globalNav-searchSection",uu="main-globalNav-searchContainer",du="axu7kRtHOzwIb8b14FT6",hu="link-subtle",pu="pKJyyZ_7ei9TgOxrTFHX",mu="BsOjYbxeNtBwDGjKRYG3",fu=({containerRef:e,contentRightRef:t,isSearchInputCollapsed:n,forceExpandSearchInput:a})=>{const{logOpenCreateMenu:r}=(0,Gl.q)(),i=(0,m.useRef)(null),o=(0,m.useRef)(null),[c,l]=(0,m.useState)(!1),u=(0,hn.W)(),d=(0,m.useCallback)((()=>{if(i.current&&o.current&&t.current){const e=i.current.offsetWidth+o.current.offsetWidth,{left:n,right:a}=t.current.getBoundingClientRect(),{left:r,right:s}=i.current.getBoundingClientRect();let c=r+e>n;if(u){c=s-e<a}l(c)}}),[t,u]);(0,qs.w)({refOrElement:e,onResize:d,observeOnMount:!0});const h=!c&&!(n&&a)||c&&n&&!a;return(0,S.jsx)(di.b,{menu:(0,S.jsx)(Wl.r,{}),onShow:()=>{r()},children:(e,t,n)=>(0,S.jsx)(Us.Zp,{label:s.Ru.get("web-player.global-nav-bar.create-button.tooltip"),children:(0,S.jsx)("div",{className:Kl,ref:i,children:(0,S.jsxs)("button",{type:"button",ref:n,onClick:t,className:Yt()(hu,Ql,e&&Xl,$l),children:[(0,S.jsx)(ql.u,{className:eu}),(0,S.jsx)("span",{className:Yt()(Yl,{[Jl]:!h}),children:(0,S.jsx)("span",{className:tu,children:(0,S.jsx)(Ur.E,{ref:o,variant:"bodyMediumBold",semanticColor:"textBase",className:Zl,children:s.Ru.get("web-player.global-nav-bar.create-button.label")})})})]})})})})};function gu(e){var t,n,a,r,s,i=e.size?hl.$Z[e.size]:e.iconSize,o=(0,hl._C)([{size:16,svgContent:"<path d='M9.375.988a2.75 2.75 0 0 0-2.75 0l-5.25 3.03A1.75 1.75 0 0 0 .5 5.535v9.724c0 .415.336.75.75.75h4a.75.75 0 0 0 .75-.75V10h4v5.258c0 .415.336.75.75.75h4a.75.75 0 0 0 .75-.75V5.534a1.75 1.75 0 0 0-.875-1.515z'/>"},{size:24,svgContent:"<path d='M13.5 1.515a3 3 0 0 0-3 0L3 5.845a2 2 0 0 0-1 1.732V21a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6h4v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V7.577a2 2 0 0 0-1-1.732z'/>"}],i||24),c=null!==(t=e.autoMirror)&&void 0!==t&&t;return m.createElement(hl.In,Object.assign({},e,{autoMirror:c,viewBox:"0 0 ".concat(o.size," ").concat(o.size),dangerouslySetInnerHTML:{__html:"".concat((r=e.title,s=e.titleId,r?"<title ".concat(s?'id="'.concat(s,'"'):"",">").concat(r,"</title>"):"")).concat((n=e.desc,a=e.descId,n?"<desc ".concat(a?'id="'.concat(a,'"'):"",">").concat(n,"</desc>"):"")).concat(o.svgContent)}}))}var vu=o(8859),bu=o(90153);const yu=({className:e})=>{const{spec:n,logger:a}=(0,ri.D)(Mr.x,{}),r=(0,Wt.g)(),i=(0,bu.l)(),o=(0,t.NC)(xe.gQu),c=(0,Nl._)((e=>"/"===e.pathname||"/home"===e.pathname));return(0,S.jsx)(Us.Zp,{label:s.Ru.get("view.web-player-home"),children:(0,S.jsx)(Rr.H,{iconOnly:c?gu:vu.H,className:Yt()(e,ru,hu,{[su]:c}),"aria-label":s.Ru.get("view.web-player-home"),"":"home-button",onClick:()=>{const e=n.homeButtonFactory().hitUiNavigate({destination:"spotify:app:home"});a.logInteraction(e),o&&!c||i(gn.z.CLOSED),r("/")}})})},xu="Kgjmt7IX5samBYUpbkBu",wu="B9lb86gGqGGFcSZZ95bA",Au="CCIGxtpAreSdwWRo14FE",_u="TTB3lAVAhCK9Apl8quWw",Eu="N9r2VuXMBlhRSVF5dCek",Su=({children:e})=>(0,S.jsx)("div",{className:_u,children:e}),ju=()=>(0,S.jsx)("div",{className:xu}),Cu=({children:e})=>(0,S.jsx)("div",{className:Eu,children:e}),Lu=()=>(0,S.jsx)("div",{className:wu}),Iu=()=>(0,S.jsx)("div",{className:Au});var Nu=o(52427),ku=o(60071),Tu=o(94378);function Ru(e){var t,n,a,r,s,i=e.size?hl.$Z[e.size]:e.iconSize,o=(0,hl._C)([{size:16,svgContent:"<path d='M2 1.2a.7.7 0 0 1 .7-.7h10.6a.7.7 0 0 1 .7.7V4H2zM.987 6a.75.75 0 0 0-.734.906l1.81 8.5a.75.75 0 0 0 .733.594h10.38a.75.75 0 0 0 .734-.594l1.81-8.5A.75.75 0 0 0 14.987 6zM8 13c-1.657 0-3-.895-3-2s1.343-2 3-2 3 .895 3 2-1.343 2-3 2'/>"},{size:24,svgContent:"<path d='M4 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v4H4zM1.513 9.37A1 1 0 0 1 2.291 9H21.71a1 1 0 0 1 .978 1.208l-2.17 10.208A2 2 0 0 1 18.562 22H5.438a2 2 0 0 1-1.956-1.584l-2.17-10.208a1 1 0 0 1 .201-.837zM12 17.834c1.933 0 3.5-1.044 3.5-2.333s-1.567-2.333-3.5-2.333S8.5 14.21 8.5 15.5s1.567 2.333 3.5 2.333z'/>"}],i||24),c=null!==(t=e.autoMirror)&&void 0!==t&&t;return m.createElement(hl.In,Object.assign({},e,{autoMirror:c,viewBox:"0 0 ".concat(o.size," ").concat(o.size),dangerouslySetInnerHTML:{__html:"".concat((r=e.title,s=e.titleId,r?"<title ".concat(s?'id="'.concat(s,'"'):"",">").concat(r,"</title>"):"")).concat((n=e.desc,a=e.descId,n?"<desc ".concat(a?'id="'.concat(a,'"'):"",">").concat(n,"</desc>"):"")).concat(o.svgContent)}}))}function Pu(e){var t,n,a,r,s,i=e.size?hl.$Z[e.size]:e.iconSize,o=(0,hl._C)([{size:16,svgContent:"<path d='M.404 6.278A.75.75 0 0 1 .987 6h14a.75.75 0 0 1 .733.906l-1.81 8.5a.75.75 0 0 1-.733.594H2.797a.75.75 0 0 1-.734-.594l-1.81-8.5a.75.75 0 0 1 .15-.628zM1.914 7.5l1.49 7h9.166l1.49-7z'/><path d='M9.987 11c0 .736-.896 1.333-2 1.333s-2-.597-2-1.333.895-1.333 2-1.333 2 .597 2 1.333M2 1.25A.75.75 0 0 1 2.75.5h10.5a.75.75 0 0 1 .75.75V4h-1.5V2h-9v2H2z'/>"},{size:24,svgContent:"<path d='M15 15.5c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2'/><path d='M1.513 9.37A1 1 0 0 1 2.291 9h19.418a1 1 0 0 1 .979 1.208l-2.339 11a1 1 0 0 1-.978.792H4.63a1 1 0 0 1-.978-.792l-2.339-11a1 1 0 0 1 .201-.837zM3.525 11l1.913 9h13.123l1.913-9zM4 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v4h-2V3H6v3H4z'/>"}],i||24),c=null!==(t=e.autoMirror)&&void 0!==t&&t;return m.createElement(hl.In,Object.assign({},e,{autoMirror:c,viewBox:"0 0 ".concat(o.size," ").concat(o.size),dangerouslySetInnerHTML:{__html:"".concat((r=e.title,s=e.titleId,r?"<title ".concat(s?'id="'.concat(s,'"'):"",">").concat(r,"</title>"):"")).concat((n=e.desc,a=e.descId,n?"<desc ".concat(a?'id="'.concat(a,'"'):"",">").concat(n,"</desc>"):"")).concat(o.svgContent)}}))}var Mu=o(36544);const Du="music",Ou="2.1.0",Vu="default",zu="12.2.0";function Hu(e){return new Bu(e)}class Bu{constructor(e){this._path=[{name:"desktop-search-input"}],e?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=e.parentAbsoluteLocation)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Vu,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[Ou,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}keyStrokeChangeSearchQuery({searchQueryString:e}){return{actionParameterNames:["search_query_string"],actionParameterValues:[e.toString()],actionName:"change_search_query",actionVersion:1,app:Du,generatorVersion:zu,interactionType:"key_stroke",specificationMode:Vu,specificationVersion:Ou,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}keyStrokeSearch(){return{actionName:"search",actionVersion:1,app:Du,generatorVersion:zu,interactionType:"key_stroke",specificationMode:Vu,specificationVersion:Ou,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitTextClear(){return{actionName:"text_clear",actionVersion:1,app:Du,generatorVersion:zu,interactionType:"hit",specificationMode:Vu,specificationVersion:Ou,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}var Fu=o(4219),Uu=o(1207),qu=o(62960),Wu=o(14507),Gu=o(26045);const Ku=["play-button","title","save-button"],Qu=["play-button","title","remove-item-button"],$u=["title","save-button"],Zu=["title","remove-item-button"],Yu=["title"];function Ju(e){const t="recent-searches"===e?Qu:Ku,n="recent-searches"===e?Zu:$u,a="recent-searches"===e?Zu:Yu;return{[Vt.c.ALBUM]:t,[Vt.c.ARTIST]:t,[Vt.c.EPISODE]:t,[Vt.c.PLAYLIST]:t,[Vt.c.TRACK]:t,[Vt.c.AUTHOR]:t,[Vt.c.SHOW]:t,[Vt.c.AUDIOBOOK]:t,[Vt.c.PRE_RELEASE_ALBUM]:n,[Vt.c.PRE_RELEASE_BOOK]:n,[Vt.c.USER]:n,[Vt.c.GENRE]:a,[Vt.c.AUTOCOMPLETE]:a,[Vt.c.LIKED_SONGS]:a}}var Xu=o(492),ed=o(49145);const td="main-globalNav-searchInputSection",nd="j4xi27AJ3oy5qZ8CGhhQ",ad="dM_TEJo05MxBvrLzfNrW",rd="ODl7TwNawIfBwiZv1Czg",sd="main-topBar-searchBar",id="upGmCR5y3yDImbt6sHOl",od="IYex0sXu8fnCz1FqFbRe",cd="xlLQHgpip3xYOwRYpwun",ld="nBGzYhSIK1A7qANmTnpk",ud="GimJ6fo6WOYPyWNVpSr1",dd="YxfuYxT7HHkLxLlty5O0",hd="sxCQ4toOdQ6hMN2rU8Kn",pd="unGnfkskZNKV23zFj7_i",md="main-globalNav-searchInputContainer",fd="M9l40ptEBXPm03dU3X1k",gd="EJttP30F1zYHeAw7ISHb",vd="R69APjfNV0o9tAbfrWZf",bd="MdMAXXFPalD99eigsBug",yd="BV0jjn_h5TtMMl8YKuZ0",xd=({children:e,shouldShowDropdown:t,id:n,testId:a,scrollNodeRef:r})=>(0,S.jsx)("div",{className:Yt()(ld,{[pd]:t}),id:n,role:"listbox","":a,children:!!m.Children.count(e)&&(0,S.jsx)(ed.a,{className:ud,scrollNodeRef:r,children:e})});var wd=o(70796),Ad=o(43258),_d=o(77424),Ed=o(10622),Sd=o(79898),jd=o(72983),Cd=o(96579);const Ld=({entity:e})=>{const{name:t,searchTerm:n}=e;if(!n||!t.startsWith(n))return(0,S.jsx)(Ur.E,{semanticColor:"textBase",children:t});const a=n?t.replace(n,""):t;return(0,S.jsxs)(Ur.E,{semanticColor:"textBase",children:[(0,S.jsx)(Ur.E,{as:"span",semanticColor:"textSubdued",children:n}),a]})};var Id=o(38042),Nd=o(64224),kd=o(19906);const Td=({uri:e,isActive:t,onToggleSave:n})=>{const[a,r]=(0,kd.A)(e),i=(0,J.o_h)(e),o=i?.type===J.NQG.EPISODE,c=i?.type===J.NQG.ARTIST||i?.type===J.NQG.AUTHOR||i?.type===J.NQG.PROFILE,l=m.useCallback((async()=>{try{await r(!a),n?.(e,c,!a)}catch(e){}}),[a,r,n,e,c]);return c?(0,S.jsx)(Nd.W,{isFollowing:a,onClick:l,buttonText:a?s.Ru.get("unfollow"):s.Ru.get("follow"),hover:t}):(0,S.jsx)(Id.M,{size:"small",onClick:l,isAdded:!!a,isEpisode:o,condensed:!0,preventBlur:!0,hover:t})};var Rd=o(58028),Pd=o(28054),Md=o(88375),Dd=o(69091);const Od="sor3u4785q6WT3mvvlaq",Vd="fxPtZEsmBIwzWqp8r0gO",zd="gzRLtLTlRB2Duy9szGKB",Hd="doQ6b7VYJT8Jr3RZdWUC",Bd="eGfxEu6lqDKUaSYThs10",Fd="pOosJvoMxYMuiCdA5dMj",Ud="PHR8XrtRedtGgFKon0ei",qd="HTEepZXf0c35fwszRxgT",Wd="UbeSh8BKCXdzBvZa3hcK",Gd="ocXCeYyfliwMSxPCl5BQ",Kd=(0,m.memo)((({entity:e,index:t,focusedElement:n,isPlaying:a,isSaveButtonVisible:r,onClearItemClick:i,onClick:o,onPlayClick:c,onToggleSave:l,setSelectedSearchItemId:u})=>{const d=(0,Dd._)(),h=(0,m.useRef)(null),p=(0,m.useId)(),f=`${p}-title`,g=`${p}-play`,v=`${p}-save`,b=`${p}-remove`,y=(0,jd.j3)(e.type),{draggable:x,onDragStart:w}=(0,Pd.P)({itemUris:y?[e.uri]:[],itemMimeTypes:y?[y]:[],dragLabelText:e.name});(0,Md.g)(h),(0,m.useEffect)((()=>{n&&h.current?.scrollIntoView({behavior:"auto",block:"nearest"})}),[n]);const A=e.type===Vt.c.ARTIST||e.type===Vt.c.USER||e.type===Vt.c.AUTHOR||e.type===Vt.c.AUTOCOMPLETE?Ho.u.CIRCLE:Ho.u.ROUNDED_CORNERS,_=(0,Rd.ji)(e),E=(0,Rd.I)(e),j=r&&(0,Rd.R6)(e),C=void 0!==n;(0,m.useEffect)((()=>{switch(n){case"play-button":u(g);break;case"remove-item-button":u(b);break;case"save-button":u(v);break;case"title":u(f);break;case void 0:break;default:(0,U.k)(n)}}),[n,g,b,v,u,f]);const L=(0,Rd.bA)(e),I=(0,Rd.$F)(e);return(0,S.jsx)(wd.v,{ref:h,variant:"naked",hoverAnimationDuration:"0ms",hoverBackgroundColor:"backgroundTintedHighlight",activeBackgroundColor:"backgroundTintedHighlight",size:"sm",onClick:o,isRedundantOnClick:!0,role:"row","aria-rowindex":t,"aria-selected":C,className:Yt()(Hd,{[Fd]:C,[qd]:"title"===n}),id:p,draggable:x,onDragStart:w,media:(0,S.jsxs)("div",{className:Yt()({[Od]:E}),children:[(0,S.jsx)(Ho.b,{className:Bd,fadeIn:!0,images:d(_??[],48),shape:A,size:Bo.Qe.SIZE_48,iconSize:"medium",type:e.type,title:e.name,loadingMode:"eager"}),E&&(0,S.jsx)("div",{role:"gridcell",id:g,children:(0,S.jsx)(Rr.H,{iconOnly:a?Ad._:_d.A,className:Yt()(Vd,{[zd]:A===Ho.u.CIRCLE,[qd]:"play-button"===n}),onClick:c,"aria-label":a?s.Ru.get("playlist.a11y.pause",e.name):s.Ru.get("playlist.a11y.play",e.name),size:"medium"})})]}),subtitle:!!I&&(0,S.jsxs)(Ed.j,{lineClamp:1,"aria-hidden":!0,children:[L&&(0,S.jsx)("span",{className:Gd,children:L}),I&&(0,S.jsx)("span",{className:Wd,children:I})]}),title:(0,S.jsx)("div",{role:"gridcell",id:f,children:(0,S.jsx)(Cd.N,{to:e.uri,children:(0,S.jsx)(Sd.d,{lineClamp:1,children:e.type===Vt.c.AUTOCOMPLETE?(0,S.jsx)(Ld,{entity:e}):e.name})})}),trailing:(0,S.jsxs)(S.Fragment,{children:[j&&(0,S.jsx)("div",{role:"gridcell",id:v,className:Yt()({[qd]:"save-button"===n}),children:(0,S.jsx)(Td,{uri:e.uri,"data-subelement-type":"save-button",isActive:"save-button"===n,onToggleSave:l})}),i&&(0,S.jsx)("div",{role:"gridcell",id:b,className:Yt()({[qd]:"remove-item-button"===n}),children:(0,S.jsx)(Rr.H,{className:Ud,"aria-label":s.Ru.get("remove"),iconOnly:oi.M,size:"small",onClick:()=>i(e.uri),"data-subelement-type":"remove-item-button",id:b,hover:"remove-item-button"===n})})]})},e.uri)}));var Qd=o(93441);const $d="search-dropdown",Zd=(0,m.memo)((({items:e,footer:t,header:n,inputRef:a,onClearItemClick:r,setSelectedSearchItemId:s,shouldShowDropdown:i,trackNavigateToItem:o,trackPause:c,trackPlay:l,trackToggleSave:u,isSaveButtonVisible:d,id:h,testId:p,defaultSelectedSubElement:f,subElementsForType:g})=>{const v=(0,m.useRef)(null),{mainLandmarkRef:b}=(0,on.JT)(),y=(0,Wt.g)(),x=(0,m.useRef)(null),{isPlaying:w,currentlyPlayingContextUri:A}=(0,ur.o)((e=>({isPlaying:(0,Wc.uW)(e)===qc.i.PLAYING,currentlyPlayingContextUri:e?.context.uri??null})),dr.a),_=(0,T.z)(),E=(0,m.useCallback)((e=>{const t=(0,J.o_h)(e);(0,Rd.MB)(t?.type)&&(w&&A===e?(_.pause({featureIdentifier:"search"}),c(e)):w||A!==e?(_.play({uri:e},{featureIdentifier:"search",referrerIdentifier:"search"}),l(e)):(_.resume({featureIdentifier:"search"}),l(e)))}),[_,w,A,c,l]),j=(0,m.useCallback)((e=>{const t=(0,J.o_h)(e.uri);null!==t&&(o(e),y(t.toURLPath(!0)),requestAnimationFrame((()=>{b.current&&b.current.focus()})))}),[b,y,o]),{selectedIndex:C,selectedSubElement:L}=(({defaultSelectedSubElement:e,inputRef:t,items:n,setSelectedSearchItemId:a,shouldTrackFocus:r,subElementsForType:s,triggerPlayUri:i})=>{const[o,c]=(0,m.useState)(-1),[l,u]=(0,m.useState)(e),d=(0,m.useCallback)(((e,t)=>!!e&&!!s[e.type]?.includes(t)),[s]),h=(0,m.useMemo)((()=>n.at(o)),[n,o]),p=(0,m.useCallback)((()=>{if(void 0===l)return;const e=h?.type;return(e?s[e]:[]).indexOf(l)}),[h,l,s]),f=(0,m.useCallback)((t=>{c(t),d(n.at(t),l)||u(e)}),[d,n,l,e]),g=(0,m.useCallback)((e=>{e.preventDefault();const t=Math.max(o-1,0);f(t)}),[o,f]),v=(0,m.useCallback)((e=>{e.preventDefault();const t=Math.min(o+1,n.length-1);f(t)}),[o,n.length,f]),b=(0,m.useCallback)((e=>{e.preventDefault();const t=p(),n=h?.type,a=(n?s[n]:[]).at(t&&t>0?Math.max(t-1,0):0);void 0!==a&&u(a)}),[p,h,s]),y=(0,m.useCallback)((e=>{e.preventDefault();const t=p(),n=h?.type,a=(n?s[n]:[]).at(t?t+1:1);void 0!==a&&u(a)}),[p,h,s]),x=(0,m.useCallback)((e=>{if(e.preventDefault(),!h)return;if(e.shiftKey)return i(h.uri),void e.stopPropagation();const n=t.current?.getAttribute("aria-activedescendant");if(!n)return;const a=(0,Qd.Zo)(`[id="${n}"]`),r=document.querySelector(a);r&&(r.click(),"title"!==l&&e.stopPropagation())}),[h,t,i,l]),w=(0,m.useCallback)((n=>{o>=0&&(n.preventDefault(),n.stopPropagation(),c(-1),u(e),t.current?.focus())}),[o,e,t]);return(0,m.useEffect)((()=>{const n=t.current,s=e=>{switch(e.key){case"ArrowUp":g(e);break;case"ArrowDown":v(e);break;case"ArrowLeft":b(e);break;case"ArrowRight":y(e);break;case"Enter":x(e);break;case"Escape":w(e)}},i=()=>{c(-1),u(e),a(void 0)},o=()=>{c(-1),u(e),a(void 0)};return r&&(n?.addEventListener("keydown",s),n?.addEventListener("focus",i),n?.addEventListener("blur",o)),()=>{n?.removeEventListener("keydown",s),n?.removeEventListener("focus",i),n?.removeEventListener("blur",o)}}),[r,t,g,v,b,y,x,w,e,a]),{selectedIndex:o,selectedSubElement:l}})({defaultSelectedSubElement:f,inputRef:a,items:e,setSelectedSearchItemId:s,shouldTrackFocus:i,subElementsForType:g,triggerPlayUri:E});return(0,m.useEffect)((()=>{-1===C&&x.current?.scrollIntoView()}),[C]),(0,S.jsxs)(xd,{shouldShowDropdown:i,id:h??$d,testId:p??$d,scrollNodeRef:v,children:[n,(0,S.jsx)(Xu.b,{condensedAll:!0,role:"grid",children:e.map(((e,t)=>(0,S.jsx)(Kd,{focusedElement:C===t?L??f:void 0,entity:e,index:t,isPlaying:w&&A===e.uri,onClick:()=>j(e),onPlayClick:()=>E(e.uri),onClearItemClick:r,onToggleSave:u,isSaveButtonVisible:d,setSelectedSearchItemId:s},e.uri)))}),t]})}));var Yd=o(15879);const Jd=(0,m.memo)((({inputRef:e,setSelectedSearchItemId:t,hasQuery:n})=>{const{searchHistory:a,clearSearchHistory:r}=(0,Yd.k)(),i=(0,m.useRef)(null),[o,c]=(0,m.useState)(!1),{spec:l,logger:u}=(0,js.r)(Wu.a,{data:{uri:"spotify:app:recent-searches"}}),d=(0,m.useCallback)((e=>{const t=l.recentSearchesItemFactory({uri:e}).removeRecentSearchesItemButtonFactory().hitRemoveRecentSearchesItem();u.logInteraction(t),r(e)}),[r,l,u]),h=(0,m.useCallback)((e=>{const t=l.recentSearchesItemFactory({uri:e.uri}).hitUiNavigate({destination:e.uri});u.logInteraction(t)}),[l,u]),p=(0,m.useCallback)((e=>{const t=l.recentSearchesItemFactory({uri:e}).pauseRecentSearchesItemButtonFactory().hitPause({itemToBePaused:e});u.logInteraction(t)}),[l,u]),f=(0,m.useCallback)((e=>{const t=l.recentSearchesItemFactory({uri:e}).playRecentSearchesItemButtonFactory().hitPlay({itemToBePlayed:e});u.logInteraction(t)}),[l,u]),g=(0,m.useMemo)((()=>Ju("recent-searches")),[]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Zd,{items:a,shouldShowDropdown:!n,inputRef:e,setSelectedSearchItemId:t,onClearItemClick:d,trackNavigateToItem:h,trackPause:p,trackPlay:f,defaultSelectedSubElement:"title",subElementsForType:g,header:(0,S.jsx)(Ur.E,{as:"p",ref:i,variant:"bodyMediumBold",semanticColor:"textBase",className:dd,children:s.Ru.get("search.title.recent-searches")}),footer:(0,S.jsx)(qu.n,{onClick:()=>{c(!0)},size:"small",className:Yt()(hd),children:s.Ru.get("search.clear-recent-searches")})}),(0,S.jsx)(Gu.T,{onClose:()=>{c(!1)},isOpen:o,onConfirm:()=>{(()=>{const e=l.clearButtonFactory().hitClearRecentSearches();u.logInteraction(e),r()})(),c(!1)},"aria-label":s.Ru.get("search.clear-recent-searches-dialog.title"),titleText:s.Ru.get("search.clear-recent-searches-dialog.title"),descriptionText:s.Ru.get("search.clear-recent-searches-dialog.description"),confirmText:s.Ru.get("search.clear-recent-searches-dialog.confirm-button"),cancelText:s.Ru.get("search.clear-recent-searches-dialog.cancel-button")})]})})),Xd="music",eh="1.0.0",th="default",nh="16.2.7";function ah(e){return new rh(e)}class rh{constructor(e){this._path=[{name:"desktop-search-suggestions"}],e?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=e.parentAbsoluteLocation)}searchSuggestionsCardsFactory(){return new rh.SearchSuggestionsCardsEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[th,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[eh,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}!function(e){e.SearchSuggestionsCardsEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"search_suggestions_cards"}),t&&(this._parentAbsoluteLocation=t)}searchSuggestionItemFactory(t){return new e.SearchSuggestionsCardsEventFactory.SearchSuggestionItemEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:t})}viewAllResultsButtonFactory(){return new e.SearchSuggestionsCardsEventFactory.ViewAllResultsButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[th,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[eh,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}}(rh||(rh={})),function(e){!function(t){t.SearchSuggestionItemEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({...n,name:"search_suggestion_item"}),t&&(this._parentAbsoluteLocation=t)}playPauseButtonFactory(){return new e.SearchSuggestionsCardsEventFactory.SearchSuggestionItemEventFactory.PlayPauseButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}saveButtonFactory(){return new e.SearchSuggestionsCardsEventFactory.SearchSuggestionItemEventFactory.SaveButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}contextMenuButtonFactory(){return new e.SearchSuggestionsCardsEventFactory.SearchSuggestionItemEventFactory.ContextMenuButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[th,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[eh,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:Xd,generatorVersion:nh,interactionType:"hit",specificationMode:th,specificationVersion:eh,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.SearchSuggestionsCardsEventFactory||(e.SearchSuggestionsCardsEventFactory={}))}(rh||(rh={})),function(e){!function(e){e.ViewAllResultsButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"view_all_results_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[th,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[eh,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:Xd,generatorVersion:nh,interactionType:"hit",specificationMode:th,specificationVersion:eh,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.SearchSuggestionsCardsEventFactory||(e.SearchSuggestionsCardsEventFactory={}))}(rh||(rh={})),function(e){!function(e){!function(e){e.PlayPauseButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"play_pause_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[th,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[eh,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitPlay({itemToBePlayed:e}){return{actionParameterNames:["item_to_be_played"],actionParameterValues:[e.toString()],actionName:"play",actionVersion:1,app:Xd,generatorVersion:nh,interactionType:"hit",specificationMode:th,specificationVersion:eh,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitPause({itemToBePaused:e}){return{actionParameterNames:["item_to_be_paused"],actionParameterValues:[e.toString()],actionName:"pause",actionVersion:1,app:Xd,generatorVersion:nh,interactionType:"hit",specificationMode:th,specificationVersion:eh,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitResume({itemToBeResumed:e}){return{actionParameterNames:["item_to_be_resumed"],actionParameterValues:[e.toString()],actionName:"resume",actionVersion:1,app:Xd,generatorVersion:nh,interactionType:"hit",specificationMode:th,specificationVersion:eh,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.SearchSuggestionItemEventFactory||(e.SearchSuggestionItemEventFactory={}))}(e.SearchSuggestionsCardsEventFactory||(e.SearchSuggestionsCardsEventFactory={}))}(rh||(rh={})),function(e){!function(e){!function(e){e.SaveButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"save_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[th,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[eh,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitLike({itemToBeLiked:e}){return{actionParameterNames:["item_to_be_liked"],actionParameterValues:[e.toString()],actionName:"like",actionVersion:1,app:Xd,generatorVersion:nh,interactionType:"hit",specificationMode:th,specificationVersion:eh,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitRemoveLike({itemNoLongerLiked:e}){return{actionParameterNames:["item_no_longer_liked"],actionParameterValues:[e.toString()],actionName:"remove_like",actionVersion:1,app:Xd,generatorVersion:nh,interactionType:"hit",specificationMode:th,specificationVersion:eh,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitFollow({itemToBeFollowed:e}){return{actionParameterNames:["item_to_be_followed"],actionParameterValues:[e.toString()],actionName:"follow",actionVersion:1,app:Xd,generatorVersion:nh,interactionType:"hit",specificationMode:th,specificationVersion:eh,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitUnfollow({itemToBeUnfollowed:e}){return{actionParameterNames:["item_to_be_unfollowed"],actionParameterValues:[e.toString()],actionName:"unfollow",actionVersion:1,app:Xd,generatorVersion:nh,interactionType:"hit",specificationMode:th,specificationVersion:eh,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.SearchSuggestionItemEventFactory||(e.SearchSuggestionItemEventFactory={}))}(e.SearchSuggestionsCardsEventFactory||(e.SearchSuggestionsCardsEventFactory={}))}(rh||(rh={})),function(e){!function(e){!function(e){e.ContextMenuButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"context_menu_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[th,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[eh,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:Xd,generatorVersion:nh,interactionType:"hit",specificationMode:th,specificationVersion:eh,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.SearchSuggestionItemEventFactory||(e.SearchSuggestionItemEventFactory={}))}(e.SearchSuggestionsCardsEventFactory||(e.SearchSuggestionsCardsEventFactory={}))}(rh||(rh={}));var sh=o(18572),ih=o(18055);const oh={header:"jOVdh1F2kfz4llfReTPR",arrowsContainer:"bA4s6yZyHCgNo4LbC3Eb",arrow:"CP3kwAqn9NyErAieUYsr",enterKey:"kwRYmCAq5IsX7fEWdWPq",enterKeyText:"qUaPlv7aeAqw4pW9Dn9z",enterKeyContainer:"bJSPgS67ASrphKp06zMZ"},ch=()=>(0,S.jsxs)("div",{className:oh.header,"aria-label":s.Ru.get("web-player.search.suggestions.header.label"),children:[(0,S.jsxs)("div",{className:oh.arrowsContainer,children:[(0,S.jsx)(sh.U,{"aria-label":s.Ru.get("web-player.search.suggestions.header.up"),className:oh.arrow,size:"xsmall",semanticColor:"essentialSubdued"}),(0,S.jsx)(ih.R,{"aria-label":s.Ru.get("web-player.search.suggestions.header.down"),className:oh.arrow,size:"xsmall",semanticColor:"essentialSubdued"}),(0,S.jsx)(Ur.E,{as:"span",variant:"marginal",semanticColor:"textSubdued",children:s.Ru.get("web-player.search.suggestions.header.navigate")})]}),(0,S.jsxs)("div",{className:oh.enterKeyContainer,children:[(0,S.jsx)("div",{className:oh.enterKey,children:(0,S.jsx)(Ur.E,{className:oh.enterKeyText,as:"span",variant:"marginal",semanticColor:"textSubdued",children:s.Ru.get("web-player.search.suggestions.header.enter")})}),(0,S.jsx)(Ur.E,{as:"span",variant:"marginal",semanticColor:"textSubdued",className:oh.instructionText,children:s.Ru.get("web-player.search.suggestions.header.search")})]})]}),lh="YW94VCzh8qRmKe_EjCKi",uh=({query:e})=>(0,S.jsx)(xd,{shouldShowDropdown:!0,id:"search-suggestions-offline-dropdown",children:(0,S.jsxs)("div",{className:lh,children:[(0,S.jsx)(Ur.E,{variant:"bodyMediumBold",as:"p",semanticColor:"textBase",children:s.Ru.get("web-player.search.suggestions.offline.title",{query:e})}),(0,S.jsx)(Ur.E,{variant:"bodySmall",as:"p",semanticColor:"textSubdued",children:s.Ru.get("web-player.search.suggestions.offline.description")})]})});var dh=o(79824),hh=o(63388),ph=o(39463);const mh=Spicetify.GraphQL.Definitions["searchSuggestions"]=new hh.l("searchSuggestions","query","f6daa8661cf71770b6289081d3481e1aa87aaad8a0ba7a5f6f5629d253c3dc37",null);var fh=o(79051),gh=o(31321),vh=o(41995),bh=o(45433),yh=o(35141),xh=o(57799),wh=o(41994),Ah=o(92282),_h=o(69397),Eh=o(7467),Sh=o(43597),jh=o(95509),Ch=o(40794),Lh=o(56859);const Ih=(e,t)=>{const n=(0,dh.H)(),{data:a,loading:r,error:s}=((e,t)=>(0,ph.I)(mh,e,t))({query:e,limit:30,numberOfTopResults:30,offset:0,includeAuthors:n},{enabled:t&&!!e,gcTime:9e5,staleTime:3e5});return{items:(0,m.useMemo)((()=>a?function(e,t){const n=(e?.searchV2?.topResultsV2?.itemsV2??[]).map((e=>function(e,t){switch(e.__typename){case"AlbumResponseWrapper":return(0,fh.l)(e,void 0);case"ArtistResponseWrapper":return(0,gh.f)(e,void 0);case"EpisodeResponseWrapper":return(0,yh.t)(e,void 0);case"GenreResponseWrapper":return(0,xh.z)(e,void 0);case"PlaylistResponseWrapper":return(0,wh.G)(e,void 0);case"TrackResponseWrapper":return(0,Eh.g)(e,[],void 0);case"UserResponseWrapper":return(0,Sh.n)(e,void 0);case"PreReleaseResponseWrapper":return(0,_h.M)(e,void 0);case"AuthorResponseWrapper":return(0,bh.j)(e,void 0);case"UnknownTypeWrapper":if((0,Ch.h)(e._uri)){const{name:t,images:n}=(0,jh.zK)();return{uri:e._uri,type:Vt.c.LIKED_SONGS,name:t,images:n,color:void 0}}return null;case"PodcastResponseWrapper":return(0,Ah.yY)(e,void 0);case"AudiobookResponseWrapper":return(0,vh.V)(e,void 0);case"SearchAutoCompleteEntity":return function(e,t){return{uri:e.data.uri,type:Vt.c.AUTOCOMPLETE,name:e.data.text,searchTerm:t}}(e,t);case"SearchSection":return null;default:return(0,U.k)(e),null}}(e.item,t))).filter(Lh.P);return n}(a,e):[]),[a,e]),loading:r,error:!!s}};const Nh="jebkZ0ZXRP8ywvZPlChW",kh=(0,m.memo)((({inputRef:e,setSelectedSearchItemId:t,query:n,onNavigateToAllResults:a})=>{const{spec:r,logger:i}=(0,js.r)(ah,{}),{currentlyPlayingContextUri:o}=(0,ur.o)((e=>({currentlyPlayingContextUri:e?.context.uri??null})),dr.a),c=(0,m.useCallback)((e=>{const t=e.uri,n=r.searchSuggestionsCardsFactory().searchSuggestionItemFactory({uri:t}).hitUiNavigate({destination:t});i.logInteraction(n)}),[r,i]),l=(0,m.useCallback)((e=>{const t=r.searchSuggestionsCardsFactory().searchSuggestionItemFactory({uri:e}).playPauseButtonFactory().hitPause({itemToBePaused:e});i.logInteraction(t)}),[r,i]),u=(0,m.useCallback)((e=>{const t=r.searchSuggestionsCardsFactory().searchSuggestionItemFactory({uri:e}).playPauseButtonFactory();if(o===e){const n=t.hitResume({itemToBeResumed:e});i.logInteraction(n)}else{const n=t.hitPlay({itemToBePlayed:e});i.logInteraction(n)}}),[r,i,o]),d=(0,m.useCallback)(((e,t,n)=>{const a=r.searchSuggestionsCardsFactory().searchSuggestionItemFactory({uri:e}).saveButtonFactory();if(t&&n){const t=a.hitFollow({itemToBeFollowed:e});i.logInteraction(t)}else if(t&&!n){const t=a.hitUnfollow({itemToBeUnfollowed:e});i.logInteraction(t)}else if(!t&&n){const t=a.hitLike({itemToBeLiked:e});i.logInteraction(t)}else if(!t&&!n){const t=a.hitRemoveLike({itemNoLongerLiked:e});i.logInteraction(t)}}),[r,i]),h=(0,m.useCallback)((()=>{a();const e=r.searchSuggestionsCardsFactory().viewAllResultsButtonFactory().hitUiNavigate({destination:`spotify:search:${n}`});i.logInteraction(e)}),[r,i,a,n]),p=(0,m.useMemo)((()=>Ju("search-results")),[]),{items:f}=Ih(n??"",!0);return!(0,ls.n)()?(0,S.jsx)(uh,{query:n}):(0,S.jsx)(Zd,{inputRef:e,setSelectedSearchItemId:t,items:f,isSaveButtonVisible:!0,shouldShowDropdown:!!f.length,trackNavigateToItem:c,trackPause:l,trackPlay:u,trackToggleSave:d,header:(0,S.jsx)(ch,{}),defaultSelectedSubElement:"title",subElementsForType:p,footer:(0,S.jsx)(qu.n,{size:"small",className:Nh,onClick:h,children:s.Ru.get("web-player.search.suggestions.view-all-results",{query:n??""})})})}));var Th=o(76355),Rh=o(23931),Ph=o(87998);const Mh=(0,m.memo)((function({onFocus:e,onLeadingIconClick:n,inputRef:a}){const r=(0,ne.zy)(),i="/search"===r.pathname,o=(0,Wt.g)(),{setIsGlobalNavDraggable:c}=(0,m.useContext)(kr),l=(0,m.useRef)(null),d=a||l,h=(0,m.useRef)(null),p=(0,Sn.SF)(),{mainLandmarkRef:f}=(0,on.JT)(),g=(0,u.wA)(),v=(0,t.NC)(xe.dX2),b=(0,Ks.V)(),[{category:y,query:x},w]=(0,Th.o)(),[A,_]=(0,m.useState)(x),E=v?A:x,j=(0,m.useCallback)((()=>d.current?.value||""),[d]),C=(0,m.useCallback)((e=>{d.current&&(d.current.value=e)}),[d]);(0,m.useEffect)((()=>{v&&(_(x),C(x))}),[v,x,C]);const[L,I]=(0,m.useState)(void 0),{spec:N}=(0,ri.D)(Mr.x,{}),{spec:k,logger:T}=(0,js.r)(Hu,{}),[R,P]=(()=>{const[e,t]=(0,m.useState)(!1);return[e,e=>{"compositionstart"===e.type&&t(!0),"compositionend"===e.type&&t(!1)}]})(),M=(0,Nu.YQ)((e=>{const t=k.keyStrokeChangeSearchQuery({searchQueryString:e}),{interactionId:n}=T.logInteraction(t);w(e,y,!E,n),p.current&&(p.current.scrollTop=0)}),200,{trailing:!0}),D=(0,m.useCallback)(((e=!1)=>{d.current!==document.activeElement&&(h.current=document.activeElement,d.current&&d.current.focus()),e&&d.current?.select()}),[d]);(0,Ph.x)(Rh.W.SHOW_SEARCH,(()=>D(!0))),(({location:e,searchQuery:t,setValue:n,isEnabled:a})=>{const r=(0,m.useRef)(e.key),s=e.key;(0,m.useEffect)((()=>{r.current!==s&&a&&(n(t),r.current=s)}),[s,t,n,a])})({location:r,searchQuery:E,setValue:C,isEnabled:!M.isPending()&&!v});const O=()=>{d.current&&d.current.focus();const e=k.hitTextClear();e&&T.logInteraction(e),c?.(!1),C(""),_("")},V=e=>{e.preventDefault();const t=j();t&&T.logInteraction(k.keyStrokeSearch());const n=(0,J.o_h)(t,{parseUnknown:!0});if(n?.type===J.NQG.AD){const e=(0,J.cEw)(n.id);if(n.id===e)return;g((0,Fu.gt)(n.id))}else n?(M.cancel(),o(`${n.toURLPath(!0)}${(e=>{try{return new URL(e).search}catch(e){return""}})(t)}`,{state:{preventMoveFocus:!0,redirectToHome:(0,J.crr)(n)}})):t?v||M(t):o("/search",{state:{preventMoveFocus:!0}});t&&f.current&&f.current.focus()},z=(0,In.Nf)();(0,m.useEffect)((()=>{const e=d.current,t=(0,bn.p)(yn.r.OPEN_SEARCH_MODAL);return e&&un()(e).bind(t,(()=>{z({type:"OPEN"})})),()=>{un()(e).unbind(t)}}),[d,z]);const H=s.Ru.get("search.search-for-label");return(0,S.jsx)("div",{className:td,children:(0,S.jsx)(ku.E,{as:"form",onSubmit:V,role:"search",className:md,onClick:n,iconLeading:(0,S.jsx)(Us.Zp,{label:s.Ru.get("navbar.search"),children:(0,S.jsxs)("div",{children:[(0,S.jsx)(Rr.H,{className:gd,condensed:!0,iconOnly:Tu.C,"aria-label":s.Ru.get("navbar.search"),onClick:n}),(0,S.jsx)(Tu.C,{"":"search-icon",className:fd,"aria-hidden":!0,size:"xlarge"})]})}),iconTrailing:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Us.Zp,{label:s.Ru.get("search.a11y.clear-input"),children:(0,S.jsx)(Rr.H,{condensedAll:!0,className:bd,"":"clear-button",iconOnly:oi.M,"aria-label":s.Ru.get("search.a11y.clear-input"),onClick:O})}),(0,S.jsx)(Us.Zp,{label:s.Ru.get("browse"),children:(0,S.jsx)("div",{className:yd,children:(0,S.jsx)(Rr.H,{condensedAll:!0,"":"browse-button",iconOnly:i?Ru:Pu,"aria-label":s.Ru.get("browse"),onClick:e=>{const t=N.browseButtonFactory().hitUiNavigate({destination:"spotify:app:search"});T.logInteraction(t),e.preventDefault(),e.stopPropagation(),o("/search",{state:{fromBrowse:!0}})},className:i?nd:""})})})]}),children:(0,S.jsxs)("div",{className:rd,children:[(0,S.jsx)(Mu.Z,{role:"combobox","aria-owns":$d,"aria-controls":$d,"aria-expanded":!0,"aria-activedescendant":L,"":"search-input","aria-label":H,"data-top-bar-search":!0,className:Yt()(sd,vd),type:"search",spellCheck:!1,placeholder:H,ref:d,onKeyDown:e=>{const t=j();if("Escape"===e.key&&(e.stopPropagation(),t&&O()),"Enter"===e.key&&""!==t){if(R)return;V(e)}},onFocus:()=>{const t=j();c?.(""!==t),e?.()},onBlur:()=>c?.(!0),onChange:e=>{if(!e.currentTarget)return;const t=e.currentTarget.value;c?.(""!==t),v?_(t):M(t)},onCompositionStart:P,onCompositionEnd:P}),(0,S.jsxs)("div",{className:Yt()(ad),"aria-hidden":"true",children:[(0,S.jsx)("span",{className:id,children:H}),(0,S.jsx)("span",{className:od,children:(0,bn.p)(yn.r.OPEN_SEARCH_MODAL).at(0)?.split("+").map((e=>(0,S.jsx)(Ur.E,{as:"kbd",variant:"bodyMedium",className:cd,children:(0,Uu.O)(e)},e)))})]}),v&&E?(0,S.jsx)(kh,{query:E,inputRef:d,setSelectedSearchItemId:I,onNavigateToAllResults:()=>{M(E),requestAnimationFrame((()=>{f.current&&f.current.focus()}))}}):!b&&(0,S.jsx)(Jd,{hasQuery:!!j(),inputRef:d,setSelectedSearchItemId:I})]})})})})),Dh=(0,m.createContext)({isBannerVisible:!1,setIsBannerVisible:()=>{}}),Oh=({children:e})=>{const[t,n]=(0,m.useState)(!1),a=(0,m.useMemo)((()=>({isBannerVisible:t,setIsBannerVisible:n})),[t,n]);return(0,S.jsx)(Dh.Provider,{value:a,children:e})};var Vh=o(90833);const zh=e=>{if(!e.current)return!1;return e.current.offsetWidth>400},Hh=e=>!!e.current&&(e.current===document.activeElement||""!==e.current.value),Bh=(e,t)=>!!e.current&&(e.current.offsetLeft<=t&&t<=e.current.offsetLeft+e.current.offsetWidth),Fh=({topBarRef:e,className:n})=>{const a=(0,fe.mv)().operatingSystem===Vh.f.Windows,{isWeb:r,isPWA:i,isDesktop:o}=(0,Qt.V)(),c=r||i,{isGlobalNavDraggable:l}=(0,m.useContext)(kr),u=(0,t.NC)(xe.s_6,{loadingValue:xe.G2o.NONE})===xe.G2o.GLOBAL_NAV,[d,h]=(0,m.useState)(!1),[p,f]=(0,m.useState)(!1),[g,v]=(0,m.useState)(!1),b=(0,m.useRef)(null),y=(0,m.useRef)(null),x=(0,m.useRef)(null),w=(0,m.useRef)(null),A=(0,m.useRef)(null),_=(0,fa.h)(),E=(0,m.useRef)(!1);(0,m.useEffect)((()=>{y.current&&(y.current.tabIndex=p&&!g?-1:0)}),[p,g]);const j=(0,m.useCallback)((({width:t})=>{t&&(A?.current&&t!==A.current&&(E.current=t>A.current),A.current=t),((e,t,n,a,r,s)=>{if(!n.current||!t.current||!e.current)return;const i=n.current,o=Math.max(350,Math.min(s?604:546,.5*i.offsetWidth)),c=Bh(e,i.offsetWidth/2-o/2)||Bh(e,i.offsetWidth/2+o/2)||Bh(t,i.offsetWidth/2-o/2)||Bh(t,i.offsetWidth/2+o/2);a!==c&&r(c)})(x,w,e,d,h,u),((e,t,n,a)=>{e.current&&(zh(e)&&!0===t&&n?a(!1):zh(e)||!1!==t||n||a(!0))})(b,E.current,p,f),((e,t,n)=>{e.current&&Hh(e)&&(t||n(!0))})(y,g,v)}),[g,u,e,p,d]);var C,L,I;(0,qs.w)({refOrElement:e,onResize:j}),C=w,L=()=>{e.current&&j({width:null})},I={subtree:!0,childList:!0},(0,m.useEffect)((()=>{if(C.current){const e=new MutationObserver(L);return e.observe(C.current,I),()=>e.disconnect()}return()=>{}}),[C,L,I]);const N=(0,m.useCallback)((e=>{e?.preventDefault(),e?.stopPropagation(),Hh(y)||v(!g);(!p||p&&!g)&&y.current?.focus()}),[g,p]),{isBannerVisible:k}=(0,m.useContext)(Dh);return(0,S.jsxs)("div",{className:Yt()(nu,n,pu,{[hu]:!l,[du]:d||p,searchInputCollapsed:p,forceExpandSearchInput:g,[mu]:_,[au]:!k}),ref:e,id:"global-nav-bar","":"global-nav-bar",children:[(0,S.jsx)(Ir,{href:"#main-view",children:s.Ru.get("navbar.a11y.skip-navigation")}),(0,S.jsxs)("div",{className:ou,ref:x,children:[c&&(0,S.jsx)(fr.N_,{to:"/",className:cu,children:(0,S.jsx)(Nr.G,{height:32,condensed:!0})}),i&&(0,S.jsx)(Ul,{className:hu}),o&&(0,S.jsxs)(Su,{children:[a?(0,S.jsx)(Lu,{}):(0,S.jsx)(ju,{}),(0,S.jsx)(Ul,{className:hu})]})]}),(0,S.jsx)("div",{className:lu,children:(0,S.jsxs)("div",{className:uu,ref:b,children:[(0,S.jsx)(yu,{className:iu}),(0,S.jsx)(Mh,{inputRef:y,onLeadingIconClick:N,onFocus:()=>v(!0)}),u&&(0,S.jsx)(fu,{containerRef:e,contentRightRef:w,isSearchInputCollapsed:p,forceExpandSearchInput:g})]})}),(0,S.jsxs)(Cu,{children:[(0,S.jsx)(zl,{className:hu,ref:w}),a&&!r?(0,S.jsx)(Iu,{}):(0,S.jsx)(S.Fragment,{})]})]})};var Uh=o(35119);const qh=({elementRef:e})=>{const{item:t}=(0,ur.o)((e=>({item:e?.item})),((e,t)=>e.item?.uri===t.item?.uri)),{spec:n,logger:a}=(0,_n.$)(Uh.t,{data:{uri:t?.uri??""}}),{min:r,max:i,size:o,setSize:c}=Jn(),l=(0,m.useMemo)((()=>[[r,i]]),[r,i]),u=(0,Fn.XB)(),d=(0,hn.W)(),h=(0,m.useCallback)(((e,t)=>{e!==t&&a.logInteraction(n.npvUiResizeFactory().dragUiResize({startSizePx:e,endSizePx:t}))}),[a,n]);return u===Un.Z.Disabled?null:(0,S.jsx)(fn,{elementRef:e,placement:"inline-start",label:s.Ru.get("resize.sidebar"),onResize:c,size:o,ranges:l,decreaseSizeKeyboardCombination:d?(0,bn.p)(yn.r.LEFT_SIDEBAR_DECREASE_WIDTH):(0,bn.p)(yn.r.NPV_SIDEBAR_DECREASE_WIDTH),increaseSizeKeyboardCombination:d?(0,bn.p)(yn.r.LEFT_SIDEBAR_INCREASE_WIDTH):(0,bn.p)(yn.r.NPV_SIDEBAR_INCREASE_WIDTH),afterResizing:h})},Wh=(0,m.createContext)(null);var Gh=o(17198),Kh=o(70986);const Qh=({children:e})=>{const[t,n]=(0,m.useState)(!1),[a,r]=(0,m.useState)(""),s=(0,m.useRef)(null),i=(0,Kh.O)(),o=(0,Gh.C)(),l=(0,u.wA)(),d=(0,m.useCallback)((e=>{t?(o(a),r(""),n(!1),l((0,c.np)())):(e&&r(e),i.startActiveDiscovery(),n(!0),l((0,c.ae)()))}),[t,o,a,l,i]),h=(0,m.useMemo)((()=>({triggerRef:s,toggleDevicePicker:d,isPickerOpen:t})),[d,t]);return(0,S.jsx)(Wh.Provider,{value:h,children:e})};var $h=o(32931);const Zh=()=>((0,$h.q)(),null),Yh=()=>(0,N.S)().isOpen?null:(0,S.jsx)(Zh,{}),Jh=m.lazy((async()=>await Promise.all([o.e(3960),o.e(8001),o.e(4293),o.e(893),o.e(1206)]).then(o.bind(o,12512)).then((e=>({default:e.RootDialogs}))))),Xh=e=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(Jh,{...e})}),ep=({children:e,debugLabel:t})=>(0,S.jsx)(Qn,{gridRow:"global-nav / now-playing-bar",gridColumn:"left-sidebar / right-sidebar",zIndex:"var(--above-everything-grid-area-z-index)",debugLabel:t,children:e});var tp=o(16325);const np=()=>(0,S.jsx)("div",{id:tp.K,style:{zIndex:"1"}}),ap=m.lazy((async()=>{const{NowPlayingBar:e}=await Promise.all([o.e(7202),o.e(8322),o.e(9046),o.e(9834),o.e(5660),o.e(742),o.e(7749),o.e(6091),o.e(4063),o.e(3322)]).then(o.bind(o,75558));return{default:e}})),rp=()=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(ap,{})});var sp=o(8397);const ip=m.lazy((async()=>{const{WatchFeedViewContainer:e}=await Promise.all([o.e(7167),o.e(777)]).then(o.bind(o,99511));return{default:e}})),op=()=>{const{close:e}=(0,sp.P)();return(0,S.jsx)(p.s,{onError:t=>{e({resumePlayback:!0}),(0,Nn.Jy)(t,"WatchFeedView")},children:(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(ip,{})})})},cp=m.lazy((async()=>{const{SnackbarProvider:e}=await Promise.resolve().then(o.bind(o,6512));return{default:e}})),lp=e=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(cp,{...e})}),up=m.lazy((async()=>{const{FeedbackBar:e}=await o.e(8552).then(o.bind(o,38853));return{default:e}})),dp=e=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(up,{...e})}),hp=m.lazy((async()=>{const{PageErrorTemplate:e}=await o.e(352).then(o.bind(o,65199));return{default:e}})),pp=()=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(hp,{})}),mp=m.lazy((async()=>{const{TopBar:e}=await o.e(5094).then(o.bind(o,94553));return{default:e}})),fp=()=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(mp,{})}),gp=m.lazy((async()=>{const{Billboard:e}=await o.e(8588).then(o.bind(o,72572));return{default:e}})),vp=()=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(gp,{})}),bp=m.lazy((async()=>{const{LeaderboardComponent:e}=await o.e(9500).then(o.bind(o,21975));return{default:e}})),yp=()=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(bp,{})}),xp=m.lazy((async()=>{const{VideoPlayer:e}=await Promise.all([o.e(7202),o.e(5660),o.e(742),o.e(7988)]).then(o.bind(o,48386));return{default:e}})),wp=e=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(xp,{...e})});var Ap=o(79558);const _p=m.memo((()=>{const e=(0,ne.zy)(),t=(0,Tn.m)();return(0,m.useEffect)((()=>{t.notifyViewLoaded(e.pathname)}),[t,e.pathname]),null}));var Ep=o(34825),Sp=o(6092),jp=o(53232);const Cp="music",Lp="1.2.0",Ip="default",Np="16.1.6";function kp(e){return new Tp(e)}class Tp{constructor(e){this._path=[{name:"desktop-cinema-mode-npv"}],e?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=e.parentAbsoluteLocation)}peekButtonFactory(){return new Tp.PeekButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}toggleAudioVideoButtonFactory(e){return new Tp.ToggleAudioVideoButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:e})}fullscreenButtonFactory(){return new Tp.FullscreenButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}subtitlesButtonFactory(){return new Tp.SubtitlesButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}closeButtonFactory(){return new Tp.CloseButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}switchVariantFactory(e){return new Tp.SwitchVariantEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:e})}ambientModeFactory(){return new Tp.AmbientModeEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}contextTitleFactory(e){return new Tp.ContextTitleEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:e})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Ip,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[Lp,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}impression(){return{app:Cp,generatorVersion:Np,specificationVersion:Lp,specificationMode:Ip,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}!function(e){e.PeekButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"peek_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Ip,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[Lp,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:Cp,generatorVersion:Np,interactionType:"hit",specificationMode:Ip,specificationVersion:Lp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(Tp||(Tp={})),function(e){class t{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({...n,name:"toggle_audio_video_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Ip,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[Lp,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitPlay({itemToBePlayed:e}){return{actionParameterNames:["item_to_be_played"],actionParameterValues:[e.toString()],actionName:"play",actionVersion:1,app:Cp,generatorVersion:Np,interactionType:"hit",specificationMode:Ip,specificationVersion:Lp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}t.Identifier={SWITCH_TO_AUDIO:"switch_to_audio",SWITCH_TO_VIDEO:"switch_to_video"},e.ToggleAudioVideoButtonEventFactory=t}(Tp||(Tp={})),function(e){e.FullscreenButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"fullscreen_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Ip,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[Lp,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:Cp,generatorVersion:Np,interactionType:"hit",specificationMode:Ip,specificationVersion:Lp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitUiHide(){return{actionName:"ui_hide",actionVersion:1,app:Cp,generatorVersion:Np,interactionType:"hit",specificationMode:Ip,specificationVersion:Lp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(Tp||(Tp={})),function(e){e.SubtitlesButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"subtitles_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Ip,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[Lp,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiHide(){return{actionName:"ui_hide",actionVersion:1,app:Cp,generatorVersion:Np,interactionType:"hit",specificationMode:Ip,specificationVersion:Lp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:Cp,generatorVersion:Np,interactionType:"hit",specificationMode:Ip,specificationVersion:Lp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(Tp||(Tp={})),function(e){e.CloseButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"close_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Ip,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[Lp,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiHide(){return{actionName:"ui_hide",actionVersion:1,app:Cp,generatorVersion:Np,interactionType:"hit",specificationMode:Ip,specificationVersion:Lp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(Tp||(Tp={})),function(e){class t{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({...n,name:"switch_variant"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Ip,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[Lp,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:Cp,generatorVersion:Np,interactionType:"hit",specificationMode:Ip,specificationVersion:Lp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}t.Identifier={ARTWORK:"artwork",CANVAS:"canvas",HERO:"hero",VIDEO:"video"},e.SwitchVariantEventFactory=t}(Tp||(Tp={})),function(e){e.AmbientModeEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({name:"ambient_mode"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Ip,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[Lp,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}autoUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:Cp,generatorVersion:Np,interactionType:"auto",specificationMode:Ip,specificationVersion:Lp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}autoUiHide(){return{actionName:"ui_hide",actionVersion:1,app:Cp,generatorVersion:Np,interactionType:"auto",specificationMode:Ip,specificationVersion:Lp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(Tp||(Tp={})),function(e){e.ContextTitleEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({...n,name:"context_title"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[Ip,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[Lp,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:Cp,generatorVersion:Np,interactionType:"hit",specificationMode:Ip,specificationVersion:Lp,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(Tp||(Tp={}));const Rp=()=>{const{spec:e,logger:t}=(0,js.r)(kp,{}),n=(0,m.useCallback)(((n,a="")=>{t.logInteraction(e.toggleAudioVideoButtonFactory({identifier:n}).hitPlay({itemToBePlayed:a}))}),[t,e]),a=(0,m.useCallback)((n=>{t.logInteraction(e.fullscreenButtonFactory()[n?"hitUiReveal":"hitUiHide"]())}),[t,e]),r=(0,m.useCallback)((n=>{t.logInteraction(e.subtitlesButtonFactory()[n?"hitUiReveal":"hitUiHide"]())}),[t,e]),s=(0,m.useCallback)((()=>{t.logInteraction(e.peekButtonFactory().hitUiReveal())}),[t,e]),i=(0,m.useCallback)((()=>{t.logInteraction(e.closeButtonFactory().hitUiHide())}),[t,e]),o=(0,m.useCallback)((n=>{t.logInteraction(e.switchVariantFactory({identifier:n}).hitUiReveal())}),[t,e]),c=(0,m.useCallback)((n=>{t.logInteraction(e.ambientModeFactory()[n?"autoUiReveal":"autoUiHide"]())}),[t,e]),l=(0,m.useCallback)((n=>{t.logInteraction(e.contextTitleFactory({uri:n}).hitUiNavigate({destination:n}))}),[t,e]);return(0,m.useMemo)((()=>({logAudioVideoToggleClick:n,logFullscreenButtonClick:a,logSubtitlesButtonClick:r,logShowNPVButtonClick:s,logCloseButtonClick:i,logSwitchVariantClick:o,logContextTitleClick:l,logAmbientModeTransition:c})),[c,n,i,l,a,s,r,o])};var Pp=o(76173);const Mp=(e,t)=>{t?document.documentElement.setAttribute(e,t):document.documentElement.removeAttribute(e)},Dp=(e,t)=>{for(const n of e)Mp(`data-transition-type-${n}`,t)};function Op({transitionKey:e,transition:t,types:n=[],onTransitionFinished:a,onTransitionFinishedRejection:r}){if(!window.matchMedia("(prefers-reduced-motion: reduce)").matches&&"startViewTransition"in document){Mp("data-transition",e),Dp(n,"before-snapshot");document.startViewTransition((()=>{(0,Ia.flushSync)((()=>{Dp(n,"after-snapshot"),t()}))})).finished.finally((()=>{Mp("data-transition",null),Dp(n,null)})).then(a,r)}else t(),a?.()}var Vp=o(86541),zp=o(93182);var Hp=o(92713),Bp=o(87666);const Fp="QgD5n5t4yCMPYSrZ9Ecl",Up="KoFMRthETtDdYW3pCObX",qp="kl0_TyO1NHFm45Umh87i";function Wp({children:e}){const{leftSidebarRef:n,mainContentRef:a,rightSidebarRef:r}=(0,on.JT)(),s=(0,Nl._)((e=>e.state?.cinemaState??Pp.z.CLOSED)),i=(0,Wt.g)(),o=(0,Nl.M)(),[c,l]=(0,m.useState)(Pp.z.CLOSED),u=(0,m.useRef)(c),[d,h]=(0,Hp.x)("cinema-media-preference","artwork"),p=(0,m.useRef)(null),[f,g]=(0,m.useState)(!1),{logAmbientModeTransition:v}=Rp(),b=(0,Ms.N)(zp.Z),y=ea(),x=(0,m.useRef)(y);(0,m.useLayoutEffect)((()=>{x.current=y}),[y]);const{setVideoPlayerUIFlag:w}=(0,Vp.d)(),A=(0,m.useRef)(!1),_=(0,t.NC)(xe.gQu),E=(0,m.useCallback)((e=>{if(A.current!==e){e&&b.setWindowButtonsVisibility(!1),g(e),v(e);const t=null!==document.fullscreenElement;e||t||b.setWindowButtonsVisibility(!0)}A.current=e}),[v,b]),j=(0,m.useCallback)((e=>{if(e===c)return;n.current?.classList.add(qp),n.current?.removeAttribute("inert"),r.current?.removeAttribute("inert"),a.current?.removeAttribute("inert");const{property:t,value:s}=x.current;n.current?.style.setProperty(t,`${s}`),a.current?.style.setProperty(t,`${s}`);const i=()=>{e===Pp.z.NOW_PLAYING_VIEW?(n.current?.setAttribute("inert",""),a.current?.setAttribute("inert","")):e===Pp.z.LIBRARY&&a.current?.setAttribute("inert",""),n.current?.classList.remove(qp);null!==document.fullscreenElement||b.setWindowButtonsVisibility(!0),u.current=e},o=function(e,t){if(e===Pp.z.NOW_PLAYING_VIEW&&t===Pp.z.LIBRARY||e===Pp.z.LIBRARY&&t===Pp.z.NOW_PLAYING_VIEW)return"cinema-library-npv";switch(e===Pp.z.CLOSED?t:e){case Pp.z.LIBRARY:return"cinema-library";case Pp.z.NOW_PLAYING_VIEW:default:return"cinema-npv"}}(e,u.current);let d=[];e===Pp.z.NOW_PLAYING_VIEW?d=["open"]:e===Pp.z.CLOSED&&(d=["close"]),Op({transitionKey:o,types:d,transition:()=>{switch(e){case Pp.z.NOW_PLAYING_VIEW:a.current?.classList.toggle(Fp,!0);break;case Pp.z.CLOSED:r.current?.classList.toggle(Up,!1),a.current?.classList.toggle(Fp,!1),a.current?.classList.toggle(Up,!1),w(O.nP.cinema,!1),g(!1)}l(e)},onTransitionFinished:i,onTransitionFinishedRejection:i})}),[c,n,a,b,r,w]),C=(0,m.useCallback)((e=>{if(_||j(e),s===e)return;const t=o();i({...t,search:"?viewMode=1"}),i(t,{state:{cinemaState:e},replace:!0})}),[j,o,_,s,i]);(0,m.useEffect)((()=>{if(!_)return;(0,Bp.g)(Pp.z)(s)&&s!==c&&j(s)}),[s,j,c,_]);const L=(0,m.useCallback)((e=>{_?C(e):j(e)}),[j,_,C]),I=(0,m.useCallback)((e=>{e!==d&&(p.current=d,h(e))}),[d,h]),N=(0,m.useMemo)((()=>({currentVariant:d,previousVariant:p.current})),[d]);return(0,S.jsx)(Sp.y.Provider,{value:L,children:(0,S.jsx)(Sp.s.Provider,{value:c,children:(0,S.jsx)(Ep.y.Provider,{value:E,children:(0,S.jsx)(Ep.g.Provider,{value:f,children:(0,S.jsx)(jp.N.Provider,{value:I,children:(0,S.jsx)(jp.P.Provider,{value:N,children:e})})})})})})}var Gp=o(35054),Kp=o(24818);const Qp="UP5xr3mJlsVHSQSt3MNi",$p="UGUzQdLr0FOyK2iF4N99",Zp="f29Q3Tbod66t9VOxx__5",Yp="zd0ix0IBIqFTP6B95VIN",Jp="UlZinSHPFkvRP0oFWGRZ",Xp="DJcMUKFwkFECf5ksmSfU",em="ENxGKtCpYhxr2iXP7IXH",tm="EofCPtVE6SQxRFEovVtX";function nm({children:e}){const t=(0,ur.o)((e=>e?.item?.uri)),n={appear:tm,appearActive:em,appearDone:Xp,enter:Jp,enterActive:Yp,enterDone:Zp,exit:$p,exitActive:Qp},a=m.createRef();return(0,S.jsx)("div",{children:(0,S.jsx)(Kp.A,{mode:"out-in",children:(0,S.jsx)(Wr.A,{classNames:n,nodeRef:a,appear:!0,addEndListener:e=>{a.current?.addEventListener("transitionend",e,!1)},children:(0,S.jsx)("div",{ref:a,children:e})},t)})})}var am=o(41205);const rm="nDASs8PnkRghxOlOdT4q",sm="ZPBvrYZDkJvwrRfK_r5i",im="vYn7fv3RB7DSzS3yofOR";function om(){return(0,S.jsxs)("div",{className:rm,children:[(0,S.jsx)("div",{className:sm}),(0,S.jsx)("div",{className:im})]})}const cm="vcM9TMyqu0KxTFltxnJw";function lm({children:e,className:t}){return(0,S.jsx)("div",{className:Yt()(cm,t),children:e})}const um="H9xGogGpXHZx7IssSDnI",dm=({children:e})=>(0,S.jsx)(lm,{className:um,children:e});function hm({children:e}){const t=(0,m.useRef)(null),n=(0,m.useRef)(null);return(0,qs.w)({refOrElement:n,onResize:({height:e})=>{0===e?t.current?.style.setProperty("position","absolute"):(t.current?.style.removeProperty("position"),t.current?.style.setProperty("grid-row-end",`span ${e+16}`))},observeOnly:"height"}),(0,S.jsx)("div",{ref:t,children:(0,S.jsx)("div",{ref:n,children:e})})}var pm=o(72410),mm=o(98338),fm=o(87471),gm=o(31053),vm=o(30544),bm=o(38011),ym=o(13702),xm=o(47478),wm=o(59275),Am=o(11021),_m=o(98463),Em=o(56308),Sm=o(70012);const jm=({item:e})=>{const n={uri:e.uri,numberOfChapters:vm.Kp},{data:a,isLoading:r,error:s}=(0,xm.X)({queryKey:["queryNpvEpisode",n],staleTime:vm.Ff,gcTime:vm.CD,variables:n}),i=(0,Em.d)(),o=(0,t.NC)(xe.xEc),c=(0,Sm.d)(e.uri)?.episodeOrChapter,l=(0,wm.SB)(a?.episodeUnionV2),u=(0,wm.lz)(a?.episodeUnionV2);if(!e.uri||!l||r||s)return null;const d=c&&c.type===Vt.c.EPISODE&&c.transcript&&c.transcript.length>0;return(0,S.jsxs)(dm,{children:[i&&(0,S.jsx)(hm,{children:(0,S.jsx)(_m.GatedTopCommentsCard,{uri:l.uri})}),(0,S.jsx)(hm,{children:(0,S.jsx)(fm.N,{episode:l})}),!l.originalEpisode&&(0,S.jsx)(hm,{children:(0,S.jsx)(pm.c,{episode:l})}),(0,S.jsx)(hm,{children:(0,S.jsx)(bm.F,{episode:l})}),(0,S.jsx)(hm,{children:(0,S.jsx)(mm.I,{episode:l})}),o&&u&&(0,S.jsx)(hm,{children:(0,S.jsx)(ym.m,{coverArt:u.coverArt||void 0,description:u.htmlDescription||"",name:u.name,publisher:u.publisher?.name,uri:u.uri})}),d&&(0,S.jsx)(hm,{children:(0,S.jsx)(Am.n,{episode:e})}),(0,S.jsx)(hm,{children:(0,S.jsx)(gm.A,{sectionGap:16})})]})},Cm=({item:e})=>(0,ls.n)()?(0,S.jsx)(jm,{item:e}):(0,S.jsx)(S.Fragment,{});var Lm=o(99972),Im=o(44049),Nm=o(96428),km=o(28617),Tm=o(62409);var Rm=o(60751);const Pm="pFdYR3vuy4sSAW9Al1PK",Mm=({item:e,variant:n})=>{const a=(0,t.NC)(xe.LX5),{loading:r,error:s,data:i}=(0,Rm.i)(e);if(!e.uri||!(e=>"Artist"===e?.__typename)(i?.artistUnion)||!(e=>"Track"===e?.__typename)(i?.trackUnion)||r||s)return null;const{profile:o,stats:c,visuals:l,profile:{externalLinks:u}}=i.artistUnion,{credits:d,relatedVideos:h}=i.trackUnion,p=a&&(e=>"RelatedVideoPage"===e?.__typename)(h)&&h.totalCount>0,m=i.artistUnion.goods.concerts.totalCount>0,f=i.trackUnion.merch.totalCount>0;return(0,S.jsxs)(S.Fragment,{children:[p&&(0,S.jsx)("div",{className:Pm,style:{"--section-background-base":"transparent","--section-padding":0},children:(0,S.jsx)(Tm.a,{data:i,item:e,withRelatedVideosHeadingShadow:"video"===n,withRelatedVideosHeadingSpacingBottom:!0,fullBleedGap:48,carouselCardWidth:292})}),(0,S.jsxs)(dm,{children:[(0,S.jsx)(hm,{children:(0,S.jsx)(Lm.F,{artistUri:i.artistUnion.uri,artist:o,stats:c,visuals:l,externalLinks:u.items,preferFullBleed:!0})}),d&&(0,S.jsx)(hm,{children:(0,S.jsx)(Im.V,{data:d,trackUri:e.uri})}),m&&(0,S.jsx)(hm,{children:(0,S.jsx)(km.I,{artistId:i.artistUnion.id,data:i.artistUnion.goods.concerts})}),f&&(0,S.jsx)(hm,{children:(0,S.jsx)(Nm.J,{artistId:i.artistUnion.id,artistUri:i.artistUnion.uri,merch:i.trackUnion.merch.items})}),(0,S.jsx)(hm,{children:(0,S.jsx)(gm.A,{sectionGap:16})})]})]})},Dm=(0,m.createContext)({masonryItemRefs:{},addMasonryItemRef:()=>{},removeMasonryItemRef:()=>{}}),Om=({children:e})=>{const[t,n]=(0,m.useState)({}),a=(0,m.useCallback)(((e,t)=>{t&&n((n=>({...n,[e]:t})))}),[]),r=(0,m.useCallback)((e=>{n((t=>{const{[e]:n,...a}=t;return a}))}),[]),s=(0,m.useMemo)((()=>({masonryItemRefs:t,addMasonryItemRef:a,removeMasonryItemRef:r})),[t,a,r]);return(0,S.jsx)(Dm.Provider,{value:s,children:e})};var Vm=o(36105);const zm="XEQXyBqaaficCzDJ5AKf",Hm="eIcGlWiPFlMFzz6B2c8s",Bm="PSfSqBJX7klfij762bUE",Fm={cssStyles:{"--section-background-base":"var(--background-elevated-base)","--section-padding":am.spacer24,"--section-border-radius":am.spacer16},headerVariant:"titleSmall"};function Um({item:e,variant:t}){const{cssStyles:n}=(0,Vm.Y)(),a=(0,fa.h)();let r=null;return(0,B.v)(e)&&!e.isLocal?r=(0,S.jsx)(Mm,{item:e,variant:t}):(0,P.p)(e)&&(r=(0,S.jsx)(Cm,{item:e})),r?(0,S.jsxs)("div",{className:Yt()(zm,{[Bm]:a}),style:n,children:[(0,S.jsx)(om,{}),(0,S.jsx)("div",{className:Hm,children:r})]}):null}function qm({item:e,variant:n}){return(0,t.NC)(xe.k8v)?(0,S.jsx)(Om,{children:(0,S.jsx)(Vm.T,{...Fm,children:(0,S.jsx)(Um,{item:e,variant:n})})}):null}var Wm=o(98302);const Gm=({title:e,link:t,onClick:n,className:a})=>e?t?(0,S.jsx)(fr.N_,{to:t,onClick:n,children:(0,S.jsx)(Km,{title:e,className:a})}):(0,S.jsx)(Km,{title:e,className:a}):null;function Km({className:e,title:t}){return(0,S.jsx)(Ur.E,{variant:"bodyMediumBold",className:e,semanticColor:"textBase",children:t})}var Qm=o(55550),$m=o(77309),Zm=o(52243);function Ym({item:e}){const n=(0,t.NC)(xe.lDj);return(0,S.jsxs)("div",{className:Zm.A.adHeader,children:[(0,S.jsx)($m.A,{item:e,variant:"bodyMediumBold",semanticColor:"textBase",surface:"CINEMA_MODE"}),n&&(0,S.jsx)(Qm.U,{item:e})]})}var Jm=o(83498),Xm=o(89145);const ef="jGjBLNxG_YEiLQ03xZ92",tf=({children:e,keyboardShortcut:t})=>(0,S.jsxs)("div",{children:[(0,S.jsx)("span",{children:e}),(0,S.jsx)(Ur.E,{variant:"marginal",as:"kbd",className:ef,children:t})]});var nf=o(68408),af=o(23690),rf=o(97648),sf=o(39327),of=o(66921),cf=o(41771);const lf="_puuZ57esN_9Y2SCNbwo",uf="oANNzxABv28l2I8YF5pg",df="JVkIVMehzaPb8PLfQP6s",hf="AKCWrvmtzq3kz_PI9CNe",pf="ML1_jx7SW0xHtTBfw1tZ",mf="hlDzKEohazBhJodv4mhe",ff="QGXc_hHBwRUrhNYouZGq",gf="xdja48XruI6VfcoS9tui",vf="BVAIl9qXiMPGdPlcsIUS",bf="YAAoKkR7K4K9j_dfXQn_",yf="Xk12RsFFZaxRGx3omay8",xf="htN0luSrJSq50lNucspA",wf="GtsjxQjzWHlFnDKgZlA7";function Af(e){return(0,B.v)(e)||(0,F.v)(e)||(0,P.p)(e)||(0,R.d)(e)?e.name:(0,H.N)(e)?"":(0,U.d)(e)}const _f=({item:e,context:t,UBICallbacks:n})=>{const{logFullscreenButtonClick:a,logCloseButtonClick:r}=n,i=(0,bu.l)(),o=(0,nf.h)(),{isInFullScreen:c,isFullScreenSupported:l,toggleFullScreen:u}=(0,of.H)({refOrElement:document.body,shouldWakeLockScreen:!0}),d=(0,ur.o)((e=>(0,H.N)(e?.item??void 0))),h=(0,m.useRef)(null);(0,cf.i)({ref:h,preventScroll:!0});const p=(0,m.useCallback)((()=>{a(!c),u()}),[c,a,u]);return(0,S.jsxs)("div",{className:xf,children:[!d&&(0,S.jsx)(di.b,{menu:(0,S.jsx)(sf.W,{context:t,item:e}),children:(0,S.jsx)(Xm.e,{className:bf,size:"small",condensed:!1,label:s.Ru.get("more.label.context",e?Af(e):"")})}),l&&!d&&(0,S.jsx)(Us.Zp,{label:c?(0,S.jsx)(tf,{keyboardShortcut:"Esc",children:s.Ru.get("web-player.cinema-mode.fullscreen.exit")}):s.Ru.get("web-player.cinema-mode.fullscreen.enter"),children:(0,S.jsx)(Rr.H,{className:bf,iconOnly:c?af.z:rf.T,size:"small",onClick:p,"aria-label":c?s.Ru.get("web-player.cinema-mode.fullscreen.exit"):s.Ru.get("web-player.cinema-mode.fullscreen.enter")})}),!c&&(0,S.jsx)(Us.Zp,{label:(0,S.jsx)(tf,{keyboardShortcut:"Esc",children:s.Ru.get("web-player.cinema-mode.minimize")}),children:(0,S.jsx)(Rr.H,{ref:h,className:Yt()(bf,{[pf]:o&&d}),iconOnly:Jm.b,size:"small",onClick:()=>{r(),(0,fl.I)("NPV_OPEN_CINEMA_MODE_BUTTON"),i(Pp.z.CLOSED)},"aria-label":s.Ru.get("web-player.cinema-mode.minimize")})})]})};function Ef(e){var t,n,a,r,s,i=e.size?hl.$Z[e.size]:e.iconSize,o=(0,hl._C)([{size:16,svgContent:"<path d='M9.5 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0'/><path d='M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0m3 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0'/>"},{size:24,svgContent:"<path d='M12 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4'/><path d='M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12m8.159-2.816A4 4 0 0 0 8 12a4 4 0 0 0 1.184 2.841A4 4 0 0 0 12 16a4 4 0 0 0 2.816-1.159l.012-.013.013-.012A4 4 0 0 0 16 12a4 4 0 0 0-1.184-2.841A4 4 0 0 0 12 8a4 4 0 0 0-2.841 1.184'/>"}],i||24),c=null!==(t=e.autoMirror)&&void 0!==t&&t;return m.createElement(hl.In,Object.assign({},e,{autoMirror:c,viewBox:"0 0 ".concat(o.size," ").concat(o.size),dangerouslySetInnerHTML:{__html:"".concat((r=e.title,s=e.titleId,r?"<title ".concat(s?'id="'.concat(s,'"'):"",">").concat(r,"</title>"):"")).concat((n=e.desc,a=e.descId,n?"<desc ".concat(a?'id="'.concat(a,'"'):"",">").concat(n,"</desc>"):"")).concat(o.svgContent)}}))}var Sf=o(8413),jf=o(2705),Cf=o(61719);function Lf(e){var t,n,a,r,s,i=e.size?hl.$Z[e.size]:e.iconSize,o=(0,hl._C)([{size:16,svgContent:"<path d='M0 16v-.672a4 4 0 0 1 2-3.463l3.112-1.8a1.2 1.2 0 0 0 .322-1.807l-.487-.585a5.37 5.37 0 0 1-1.353-3.175 5.3 5.3 0 0 1 .2-1.776c.172-.525.453-1.01.823-1.42a4.016 4.016 0 0 1 5.92 0c.37.41.65.895.823 1.42a5.3 5.3 0 0 1 .2 1.776 5.37 5.37 0 0 1-1.353 3.175l-.487.585A1.2 1.2 0 0 0 9.6 9.62l-.008.007A5.49 5.49 0 0 0 8.607 16zm14.72-9.029a.75.75 0 0 1 1.28.53v6a2.499 2.499 0 1 1-2.5-2.5h1V7.5a.75.75 0 0 1 .22-.53z'/>"},{size:24,svgContent:"<path d='M14.3 14.28a5.97 5.97 0 0 0 .237 7.717H1v-1.6a4 4 0 0 1 2-3.465l4.8-2.763a1.5 1.5 0 0 0 .4-2.26l-.7-.835a7.05 7.05 0 0 1-1.775-4.17 6.9 6.9 0 0 1 .264-2.33 5.2 5.2 0 0 1 1.08-1.865 5.27 5.27 0 0 1 7.77 0c.486.54.854 1.175 1.08 1.865.22.756.308 1.544.263 2.33a7.05 7.05 0 0 1-1.775 4.17l-.7.835a1.498 1.498 0 0 0 .4 2.26zm5.993-4.686a1 1 0 0 1 1.707.707v7.666a3 3 0 1 1-3-3h1v-4.666a1 1 0 0 1 .293-.707'/>"}],i||24),c=null!==(t=e.autoMirror)&&void 0!==t&&t;return m.createElement(hl.In,Object.assign({},e,{autoMirror:c,viewBox:"0 0 ".concat(o.size," ").concat(o.size),dangerouslySetInnerHTML:{__html:"".concat((r=e.title,s=e.titleId,r?"<title ".concat(s?'id="'.concat(s,'"'):"",">").concat(r,"</title>"):"")).concat((n=e.desc,a=e.descId,n?"<desc ".concat(a?'id="'.concat(a,'"'):"",">").concat(n,"</desc>"):"")).concat(o.svgContent)}}))}var If=o(76855);function Nf(e){var t,n,a,r,s,i=e.size?hl.$Z[e.size]:e.iconSize,o=(0,hl._C)([{size:16,svgContent:"<path d='M9.44.891a4.261 4.261 0 1 1 3.171 7.895l-5.4-5.4A4.26 4.26 0 0 1 9.44.891M6.489 5.492l-5.412 6.157A2.318 2.318 0 0 0 4.35 14.92l6.156-5.412L6.49 5.492z'/>"},{size:24,svgContent:"<path d='m16.537 13.114-5.65-5.65-4.759 5.414L2 17.577A3.134 3.134 0 0 0 6.423 22l4.708-4.136zM11.87 5.62a5.511 5.511 0 1 1 6.51 6.51z'/>"}],i||24),c=null!==(t=e.autoMirror)&&void 0!==t&&t;return m.createElement(hl.In,Object.assign({},e,{autoMirror:c,viewBox:"0 0 ".concat(o.size," ").concat(o.size),dangerouslySetInnerHTML:{__html:"".concat((r=e.title,s=e.titleId,r?"<title ".concat(s?'id="'.concat(s,'"'):"",">").concat(r,"</title>"):"")).concat((n=e.desc,a=e.descId,n?"<desc ".concat(a?'id="'.concat(a,'"'):"",">").concat(n,"</desc>"):"")).concat(o.svgContent)}}))}var kf=o(95614),Tf=o(81231);const Rf=({item:e,variant:n,hasHeroImage:a,hasCanvas:r,hasLyrics:i,UBICallbacks:o,setPreferredVariant:c})=>{const{logSwitchVariantClick:l}=o,u=(0,t.NC)(xe.L$q),d=(0,m.useCallback)((e=>{const t=e.currentTarget.value;c(t),l(t)}),[c,l]),h=(0,B.v)(e),{isSongVideoPlayingVideo:p}=(0,Tf.k)();return p||!h?null:(0,S.jsx)("div",{role:"radiogroup","aria-label":s.Ru.get("web-player.cinema-mode.fullscreen.media-control-options"),className:xf,children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Us.Zp,{label:s.Ru.get("web-player.cinema-mode.artwork-mode"),children:(0,S.jsx)(Rr.H,{role:"radio",value:"artwork","aria-checked":"artwork"===n,className:Yt()(bf,{[yf]:"artwork"===n}),iconOnly:"artwork"===n?Ef:Sf.I,size:"small","aria-label":s.Ru.get("web-player.cinema-mode.artwork-mode"),onClick:d})}),(0,S.jsx)(Us.Zp,{label:s.Ru.get("web-player.cinema-mode.canvas-mode"),children:(0,S.jsx)(Rr.H,{role:"radio",value:"canvas","aria-checked":"canvas"===n,className:Yt()(bf,{[yf]:"canvas"===n}),iconOnly:"canvas"===n?jf.C:Cf.d,size:"small","aria-label":s.Ru.get("web-player.cinema-mode.canvas-mode"),onClick:d,disabled:!r})}),(0,S.jsx)(Us.Zp,{label:s.Ru.get("web-player.cinema-mode.hero-mode"),children:(0,S.jsx)(Rr.H,{role:"radio",value:"hero","aria-checked":"hero"===n,className:Yt()(bf,{[yf]:"hero"===n}),iconOnly:"hero"===n?Lf:If.r,size:"small","aria-label":s.Ru.get("web-player.cinema-mode.hero-mode"),onClick:d,disabled:!a})}),u!==xe.vkU.CONTROL&&(0,S.jsx)(Us.Zp,{label:s.Ru.get("web-player.now-playing-view.show.lyrics"),children:(0,S.jsx)(Rr.H,{role:"radio",value:"lyrics","aria-checked":"lyrics"===n,className:Yt()(bf,{[yf]:"lyrics"===n}),iconOnly:"lyrics"===n?Nf:kf.q,size:"small","aria-label":s.Ru.get("web-player.now-playing-view.show.lyrics"),onClick:d,disabled:!i})})]})})},Pf=(e,t=!0)=>{(0,m.useEffect)((()=>{e&&t&&(e=>{(new Image).src=e})(e)}),[e,t])};var Mf=o(60804);const Df=e=>{const{data:t}=(0,Rm.i)(e),n={artist:null,track:null};return"Artist"===t?.artistUnion.__typename&&(n.artist=t.artistUnion),"Track"===t?.trackUnion.__typename&&(n.track=t.trackUnion),n};function Of(e){const t=e?.headerImage?.data;if("ImageV2"===t?.__typename)return(0,Mf.g)(t.sources.map(Mf.R))}const Vf=e=>{const t=(0,m.useRef)(!1),{uri:n,isSongVideo:a}=(0,Tf.k)();return e===n&&(t.current=a),t.current};var zf=o(7789),Hf=o(63596),Bf=o(83133),Ff=o(28478),Uf=o(76609),qf=o(1210);const Wf="800",Gf="cinema-mode-container-animation",Kf="cinema-mode-container-animation-reverse",Qf="M8he015HRnzLwz3JDRfC",$f="gIKzFuG_3N1rV0eFUi2h",Zf="rYBVq3cPQnPx3qkqOL05",Yf="x9dJ3u2hhW9QgMGfdXtA",Jf="IsRjGOZx7PxUfbBZO8RA",Xf=({context:e,item:n,variant:a,ambientMode:r,setPreferredVariant:s,className:i})=>{const{title:o,link:c}=(0,Ff.g)(n,e),l=(0,t.NC)(xe.mZP),{artist:u,track:d}=Df(n),h=ta(),p=(0,Wm.H)(e.uri),f=Rp(),g=(0,B.v)(n),v=(0,P.p)(n),{hasLyrics:b}=(0,zf.f)(n?.uri),{isSupported:y,availableLanguages:x}=(0,Uf.K)(),w=y&&0!==x.length,A=d?.canvas,_=l&&!!A?.fileId,E=!!(0,m.useMemo)((()=>Of(u)),[u]),{isAdPlaying:j,isPlayingVideoAd:C}=(0,ur.o)((e=>{const t=e?.item??void 0,n=(0,H.N)(t);return{isAdPlaying:n,isPlayingVideoAd:(0,Wc.A3)(e)&&n}}),dr.a),{logContextTitleClick:L,logAudioVideoToggleClick:I,logSubtitlesButtonClick:N}=f,k=Vf(n.uri),T=g&&!k||w,R=(0,qf.w)({contrast:"highContrast"}),M="artwork"===a||"canvas"===a?{"--header-text-color":R?.["--text-subdued"],"--header-buttons-hover-bg":"var(--background-tinted-base)",...R}:{"--header-text-color":R?.["--text-base"],"--header-buttons-hover-bg":"var(--background-base)"};return(0,S.jsx)(S.Fragment,{children:!C&&(0,S.jsx)(Gp.h,{menu:(0,S.jsx)(sf.W,{context:e,item:n}),children:(0,S.jsxs)("div",{className:Yt()(lf,Zf,i,{[df]:"hero"===a||"video"===a,[uf]:r&&!j,[Yf]:r}),style:{...h,...M},children:[(0,S.jsx)(Gp.h,{menu:p,children:(0,S.jsx)("div",{className:ff,children:(0,H.N)(n)?(0,S.jsx)(Ym,{item:n}):(0,S.jsx)(Gm,{title:o,link:c,onClick:()=>{L(e.uri)}})})}),(0,S.jsxs)("div",{className:mf,children:[(0,S.jsx)(Rf,{variant:a,setPreferredVariant:s,item:n,hasHeroImage:E,hasCanvas:_,UBICallbacks:f,hasLyrics:b}),v&&w&&(0,S.jsx)(Bf.C,{iconSize:"small",renderInline:!0,noBackground:!0,className:Yt()("encore-over-media-set",wf),onToggle:N}),T&&(0,S.jsx)("div",{className:gf,children:(0,S.jsx)("div",{className:hf})}),k&&(0,S.jsx)(Hf.L,{className:vf,onClick:I}),(0,S.jsx)(_f,{item:n,context:e,UBICallbacks:f})]})]})})})};var eg=o(95079);const tg="GapdiNsdBIazVbcdXmNP";function ng({children:e}){const t=(0,ur.o)((e=>e?.item?.uri)),n=parseInt(Wf,10),a=(()=>{const{currentContextUri:e,currentItemUri:t,nextItemUri:n,previousItemUri:a}=(0,ur.o)((e=>({currentContextUri:e?.context.uri,currentItemUri:e?.item?.uri,nextItemUri:e?.nextItems.at(0)?.uri,previousItemUri:e?.previousItems.at(0)?.uri})),((e,t)=>e.currentContextUri===t.currentContextUri&&e.currentItemUri===t.currentItemUri&&e.nextItemUri===t.nextItemUri&&e.previousItemUri===t.previousItemUri)),r=(0,m.useRef)(e),s=(0,m.useRef)(n),i=(0,m.useRef)(a),o=(0,m.useMemo)((()=>{if(t){if(t===s.current)return"next";if(t===i.current)return"previous"}}),[t]);if(t&&e&&e===r.current)return s.current=n,i.current=a,r.current=e,o})();let r;return"next"===a?r=Gf:"previous"===a&&(r=Kf),t?(0,S.jsx)(eg.A,{childFactory:e=>(0,m.cloneElement)(e,{classNames:r,timeout:n}),component:null,children:(()=>{const a=m.createRef();return(0,S.jsx)(Wr.A,{in:!0,appear:!1,timeout:n,classNames:r,nodeRef:a,children:(0,S.jsx)("div",{className:tg,ref:a,children:e})},t)})()}):(0,S.jsx)(S.Fragment,{children:e})}var ag=o(86749),rg=o(84925),sg=o(40185);const ig="a7Ka5yznvrbSDPk1G36o",og="vfrdRkOiUHFQZ8YxDEyK",cg="JVoVebPNAPKBLKSlIBXw",lg="fdPgA4PPp3NyCe5sMQzv",ug="NLugTTXj517p1xOAgsur",dg="pd3cZQBgtgOFLAp9ns7Q",hg=({ambientMode:e,mediaVariant:n,children:a,style:r,onContextMenu:s})=>{const i=(0,t.NC)(xe.k8v),o=(0,qf.w)({contrast:"highContrast"}),c=(0,qf.w)({contrast:"higherContrast"});let l={"--cinema-mode-bg-color-from":o?.["--background-base"],"--cinema-mode-bg-color-to":c?.["--background-base"],...r};return"artwork"!==n&&"canvas"!==n||(l={...l,...o}),(0,S.jsxs)("div",{className:Yt()(ig,{[dg]:e,[ug]:"video"===n,[lg]:"hero"===n,[cg]:i,"encore-over-media-set":"video"===n||"hero"===n}),style:l,onContextMenu:s,children:[(0,S.jsx)("div",{className:og}),a]})},pg=({imageUrl:e,...t})=>{const{data:n}=(0,sg.g)(e?[e]:[]);return(0,S.jsx)(rg.d,{dynamicColors:n,children:(0,S.jsx)(hg,{...t})})};var mg=o(58239);const fg="xT6oSRia2sXC94ckOTnF",gg="xTq_kta5CuULVPQZSRUN",vg=({canvas:e,onError:t})=>{const[n,a]=(0,m.useState)(!0);return(0,S.jsx)(mg.Gg,{fileId:e.fileId,canvasUrl:e.url,canvasType:e.type,canvasUri:e.uri,playerContainerClass:fg,playbackType:mg.RT.LoopOnPlayback,allowAspectRatioFix:!0,onLoaded:()=>a(!1),onError:t,children:n&&(0,S.jsx)("div",{className:gg})})},bg="WRGTOibB8qNEkgPNtMxq",yg="DMm03qTsAQRiHan4x2_X",xg="_IXmXud48LNNHZoG_tUL",wg="pHKCWYLEfXteboHZwjIH",Ag="fOA8mVyHaHw2T808ZLpL",_g="evwKdhFvMDEaa9_x_PmY",Eg="BlefThKb7viY6qEBS_vT",Sg="dFz3mTMCEntyqsdPM0FF",jg="Fcj8mAN1eZK2tUKIgSB3",Cg="CNxUJDLHdeb0t0Mckrca",Lg="kflPy_mvGLyJR3mkh04x",Ig="ELSmDYJtrr7_ktB1jf97",Ng=m.memo((({variant:e})=>"hero"!==e?null:(0,S.jsx)("div",{className:Yt()(Ag,$f)})));var kg=o(63181);var Tg=o(38904),Rg=o(65614);const Pg="gbmk2WQ9l8znVQyvUFBY",Mg="Gi_KZDd1DK3BeebKNKI2",Dg=m.memo((()=>{const e=(()=>{const e=(0,ga.l)(),{videoPlayerMode:t}=(0,Vp.d)();return!!(0,kg.L)()&&(t===O.Kz.documentPip||t===O.Kz.pip?"pip":!!e&&"connect")})(),t=m.useMemo((()=>{switch(e){case"pip":return(0,S.jsx)(Tg.k,{});case"connect":return(0,S.jsx)(Rg.V,{});case!1:return null;default:return(0,U.k)(e),null}}),[e]);return t?(0,S.jsx)("div",{className:Mg,children:t}):null})),Og=m.memo((({variant:e})=>{const t="video"===e;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{hidden:!t,id:"VideoPlayerCinema_ReactPortal",className:Pg}),t&&(0,S.jsx)(Dg,{})]})}));var Vg=o(47129);var zg=o(48572),Hg=o(34633),Bg=o(64027),Fg=o(56863),Ug=o(69390),qg=o(65758);var Wg=o(87346);const Gg="xlarge",Kg=m.memo((({context:e,item:n,variant:a,ambientMode:r,onContextMenu:s,setPreferredVariant:i})=>{const o=(0,t.NC)(xe.mZP),{setVideoPlayerUIFlag:c}=(0,Vp.d)(),l=Vf(n.uri),u=(0,ar.bJ)(e,n),d=ta(),h=(0,Sn.SF)(),p=(0,Xa.h)(n.images??void 0,{desiredSize:640,desiredLabel:Gg});(0,m.useLayoutEffect)((()=>{c(O.nP.cinema,!0)}),[c]),(0,Wg.M)({desiredSize:640,desiredLabel:Gg}),(e=>{const t=(0,ur.o)((e=>e?.nextItems?.[0]),((e,t)=>e?.uri===t?.uri)),n=(0,m.useMemo)((()=>(0,Xa.h)(t?.images??void 0,{desiredLabel:e?.desiredLabel,desiredSize:e?.desiredSize})),[t?.images,e?.desiredLabel,e?.desiredSize]);Pf(n)})({desiredSize:640,desiredLabel:Gg}),(0,m.useEffect)((()=>{h.current&&(h.current.scrollTop=0)}),[n.uri,h]);const{artist:f,track:g}=Df(n);(({prefetchHeroImage:e})=>{const t=(0,ur.o)((e=>e?.nextItems?.[0]),((e,t)=>e?.uri===t?.uri)),{artist:n}=Df(t),a=Of(n);Pf(a?.url,e)})({prefetchHeroImage:"hero"===a});const v=(0,vn.S)();(()=>{const e=(0,T.z)(),t=(0,m.useRef)(!1),n=(0,m.useCallback)((n=>{t.current?t.current=!1:e[n](15e3)}),[e]),a=(0,m.useCallback)(((n,a)=>{n.repeat&&(e[a](5e3),t.current=!0)}),[e]),r=(0,m.useCallback)((()=>{n("seekForward")}),[n]),s=(0,m.useCallback)((()=>{n("seekBackward")}),[n]),i=(0,Nu.dh)((e=>{a(e,"seekForward")}),100),o=(0,Nu.dh)((e=>{a(e,"seekBackward")}),100);(0,Vg.N)(["right"],r,{eventType:"keyup"}),(0,Vg.N)(["right"],i,{allowRepeat:!0}),(0,Vg.N)(["left"],s,{eventType:"keyup"}),(0,Vg.N)(["left"],o,{allowRepeat:!0})})();const b=g?.canvas,y=o&&!!b?.fileId,x=(0,m.useMemo)((()=>Of(f)),[f]),w={};"hero"===a&&!!x&&(w["--cinema-mode-bg-image"]=`url(${x.url})`);const{isAdPlaying:A,isPlayingVideoAd:_}=(0,ur.o)((e=>{const t=e?.item??void 0,n=(0,H.N)(t);return{isAdPlaying:n,isPlayingVideoAd:(0,Wc.A3)(e)&&n}}),dr.a),E=v===Pp.z.NOW_PLAYING_VIEW&&A&&!_,j=(0,H.N)(n),C=j?n.url??void 0:void 0,L=(0,m.useCallback)((()=>{j&&(window.location.href=C??"")}),[C,j]),I=(0,m.useCallback)((()=>{i("artwork")}),[i]),{images:N,isSecondary:k}=(0,qg.u)(n);return(0,S.jsx)("div",{className:Yt()(bg,{[wg]:r}),children:(0,S.jsxs)(pg,{ambientMode:r,mediaVariant:a,imageUrl:p,style:w,onContextMenu:s,children:["lyrics"===a&&(0,S.jsx)(Hg.A,{format:"cinema",item:n}),(0,S.jsxs)("div",{className:Yt()(xg,{[wg]:r}),children:[(0,S.jsx)(Ng,{variant:a}),"artwork"===a&&(u?(0,S.jsx)("div",{className:Yt()(Eg,Qf),children:(0,S.jsx)(Ug.aU,{})}):(0,S.jsx)(ag.N,{className:Yt()(Eg,Sg,Qf,{[jg]:j}),placeholderClassName:_g,imgSrc:p,loading:"eager",onClick:L})),y&&"canvas"===a&&(0,S.jsx)(vg,{canvas:b,onError:I}),(0,S.jsx)(Og,{variant:a})]}),r&&!["video","lyrics"].includes(a)&&!A&&(0,S.jsx)("div",{className:Yt()(Cg,Jf),style:d,children:(0,S.jsxs)("div",{className:Lg,children:[("hero"===a||"canvas"===a||k)&&(0,S.jsx)(Bg.b,{className:Ig,desiredLabel:"small",size:92,images:N,type:n.type}),(0,S.jsx)(Fg.d,{context:e,item:n,enableVideoButton:l,titleTypeVariant:"titleSmall",subtitleTypeVariant:"bodyMedium",subtitleSignifier:!0})]})}),E&&j&&(0,S.jsx)(zg.h,{item:n,className:yg})]})})})),Qg=e=>(0,S.jsx)(Kg,{...e});const $g="YMsGXPVKmUe0oQtcmynz",Zg="bJpCYqcWl8OpWl0MZ2aq",Yg="cxJRf5Rtrz506OnriHVw",Jg="t1zLmOYnTuqrLT7AR9d6",Xg="tdYP_Qnbyd45t0Kaxet1",ev="cUYRc1no80RQpWyGEkfk",tv="suv_oBAUk3moPxcKSi0z",nv=({children:e,scrollNodeRef:t,afterTheScrollNodeRef:n,variant:a})=>{const r=(0,m.useMemo)((()=>({scrollNodeRef:t,afterTheScrollNodeRef:n})),[t,n]);return(0,m.useEffect)((()=>{"lyrics"!==a&&t.current?.scrollTo({top:0})}),[a,t]),(0,S.jsx)(Sn.bi.Provider,{value:r,children:(0,S.jsx)(ed.a,{className:Zg,scrollNodeRef:t,children:e})})};var av=o(42214),rv=o(97020),sv=o(42099);const iv=(e,t,n,a)=>!!n||(!t||(!!(e=>{if(null===e)return!1;const t=document.elementFromPoint(e.x,e.y),n=t?.closest(Qd.nu);return n instanceof HTMLElement&&"false"!==n.dataset.preventsAmbientMode})(e)||(null!==document.activeElement?.closest(Qd.oj)||(!!document.querySelector("#context-menu")||(!!(()=>{const e=document.querySelectorAll(`[aria-modal="true"]:not([hidden]):not([aria-label="${s.Ru.get("ad-formats.advertisement")}"])`);if(0===e.length)return!1;for(const t of e){if(!("checkVisibility"in t)||"function"!=typeof t.checkVisibility)return!1;if(t.checkVisibility())return!0}return!1})()||!!a))))),ov=()=>{const e=(()=>{const e=(0,m.useContext)(Ep.y);if(!e)throw new Error("useAmbientDispatch must be used within a CinemaProvider");return e})(),n=(0,rv.j)(),a=(0,m.useRef)(null),r=(0,t.NC)(xe.ikI),s=(0,m.useRef)(null),{isPlaying:i}=(0,sv.GK)(),o=(0,m.useRef)(!1),c=(0,Sn.SF)(),l=(0,av.y)(c),u=(0,m.useCallback)((()=>!iv(s.current,i,o.current,l)),[i,l]),d=(0,m.useCallback)((()=>{e(!0)}),[e]),h=(0,m.useCallback)((()=>{const e=1e3*r;function t(t){a.current&&clearTimeout(a.current),a.current=setTimeout(t,e)}const n=()=>{t(u()?()=>{u()?d():n()}:n)};n()}),[r,d,u]),p=(0,m.useCallback)((()=>{e(!1),h()}),[h,e]),f=(0,Nu.YQ)(p,100,{leading:!0,trailing:!1,maxWait:1e3*(r-1)});(0,z.p)(V.gd.ERROR,p),(0,m.useEffect)((()=>{if(!n)return()=>{};const e=e=>{s.current={x:e.clientX,y:e.clientY},f()},t=e=>{"Tab"===e.key&&f()};return document.addEventListener("pointermove",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("pointermove",e),document.removeEventListener("keydown",t),a.current&&clearTimeout(a.current)}}),[f,n,e]),(0,m.useEffect)((()=>{const e=()=>{o.current=!0},t=()=>{o.current=!1};return document.addEventListener("pointerdown",e),document.addEventListener("pointerup",t),()=>{document.removeEventListener("pointerdown",e),document.removeEventListener("pointerup",t)}}),[]),(0,m.useEffect)((()=>{const e=()=>{s.current=null};return document.addEventListener("pointerleave",e),()=>{document.removeEventListener("pointerleave",e)}}),[]),(0,m.useEffect)((()=>{l||n||!u()?p():d()}),[d,p,n,u,l])};var cv=o(11126),lv=o(70146);var uv=o(29032),dv=o(90340),hv=o(74810);const pv=m.memo((({nowPlayingState:e,variant:t,ambientMode:n,setPreferredVariant:a,hasScrolledOnce:r})=>{const s=(0,hv.j)(),{isPlayingVideo:i}=(0,ur.o)((e=>({isPlayingVideo:(0,Wc.A3)(e)})),dr.a);(0,lv.w)(),(0,cv.x)((()=>{(0,fl.I)("NPV_OPEN_CINEMA_MODE_BUTTON")}));const{spec:o}=(0,js.r)(kp,{});ov();const{areCardsVisible:c}=(({hasScrolledOnce:e=!1}={})=>{const[t,n]=(0,m.useState)(!1),[a,r]=(0,m.useState)(!0),s=(0,rv.j)(),i=(0,m.useCallback)((()=>{a||t||n(!0)}),[a,t]);return(0,m.useEffect)((()=>{e&&!t&&n(!0)}),[e,t]),(0,m.useEffect)((()=>{const e=setTimeout((()=>{r(!1)}),2e3);return()=>{clearTimeout(e)}}),[]),(0,m.useEffect)((()=>{if(!s||t)return()=>{};const e=()=>{i()},n=()=>{i()};return document.addEventListener("pointermove",e),document.addEventListener("keydown",n),()=>{document.removeEventListener("pointermove",e),document.removeEventListener("keydown",n)}}),[i,s,t]),{areCardsVisible:t}})({hasScrolledOnce:r}),l=(0,S.jsx)(Gp.h,{menu:(0,S.jsx)(sf.W,{context:e.context,item:e.item}),children:(0,S.jsx)(Qg,{context:e.context,item:e.item,ambientMode:n,variant:t,setPreferredVariant:a})});return(0,S.jsxs)(Ss.r,{spec:o,children:[(0,S.jsx)("div",{className:Yt()($g,{[Yg]:["hero","video"].includes(t),_globalTranslateSubtitlesForBelowFoldCards:!n}),children:i||s?l:(0,S.jsx)(ng,{children:l})}),(0,S.jsx)("div",{className:Yt()(ev,{[tv]:c}),children:(0,S.jsx)(nm,{children:"lyrics"!==t&&(0,S.jsx)(qm,{item:e.item,variant:t})})})]})})),mv=()=>{const e=function(){const e=(0,ur.o)((e=>e),kg.F),t=(0,m.useRef)(e?.item);if(null===e)return null;e.item&&(t.current=e.item);const{context:n,index:a}=e;return null===t.current||void 0===t.current?null:{context:n,item:t.current,index:a}}(),t=(0,bu.l)(),n=(0,dv.F)(),{currentVariant:a}=(0,uv.r)(),r=function(e,t){const{isPlayingVideo:n}=(0,ur.o)((e=>({isPlayingVideo:(0,Wc.A3)(e)})),dr.a),{track:a,artist:r}=Df(t),s=!!(0,m.useMemo)((()=>Of(r)),[r]),i=!!a?.canvas,{hasLyrics:o}=(0,zf.f)(t?.uri);return"lyrics"===e&&o?"lyrics":n?"video":"hero"===e&&s?"hero":"canvas"===e&&i?"canvas":"artwork"}(a,e?.item),s=(0,m.useRef)(null),i=(0,m.useRef)(null),o=(0,av.y)(s),c=(0,nf.h)();(0,m.useEffect)((()=>{e||t(Pp.z.CLOSED)}),[e,t]);const{data:l}=(0,sg.g)(e?.item.images?.[0]?.url?[e.item.images[0].url]:[]);if(!e)return null;const u=o||"hero"===r||"video"===r;return(0,S.jsxs)(Sn.ql.Provider,{value:"now_playing_panel",children:[(0,S.jsx)(rg.d,{dynamicColors:l,children:(0,S.jsx)(Xf,{context:e.context,item:e.item,variant:r,ambientMode:c,setPreferredVariant:n,className:Yt()(Jg,{[Xg]:u})})}),(0,S.jsx)(nv,{afterTheScrollNodeRef:i,scrollNodeRef:s,variant:r,children:(0,S.jsx)(pv,{nowPlayingState:e,variant:r,ambientMode:c,setPreferredVariant:n,hasScrolledOnce:o})}),(0,S.jsx)("div",{ref:i,className:"over-cinema-scroll"})]})};var fv=o(57734),gv=o(40602);var vv=o(6512);const bv="QdB2YtfEq0ks5O4QbtwX",yv="PZX553lOrpQetFlWCrWO",xv="FWlHsHhD0hSw1ldIXnOF",wv="poe3QmyrczMfT4aZNIok",Av="FKsek3qI2lalTOUrGVqP",_v="_6dEq1ZVxeUsyP_cwJlgR",Ev=()=>{const e=(0,fv.S)(),t=(()=>{const e=(0,fv.S)(),t=(0,gv.l)(),n=(0,Fn.XB)(),a=(0,m.useRef)(n),[r,s]=(0,m.useState)(n!==Un.Z.Disabled&&n!==Un.Z.NowPlayingView);return(0,m.useEffect)((()=>{e===Pp.z.NOW_PLAYING_VIEW&&a.current!==n?Op({transitionKey:"right-sidebar-open",transition:()=>{s(n!==Un.Z.Disabled&&n!==Un.Z.NowPlayingView)}}):s(n!==Un.Z.Disabled&&n!==Un.Z.NowPlayingView),a.current=n}),[n,e,t]),r})(),n=(0,nf.h)(),a=(0,u.d4)((e=>e.ui.fullscreenMode.isOpen)),r=ya(),s=(0,vv.B)();return null===e||e===Pp.z.CLOSED||e===Pp.z.LIBRARY?null:(0,S.jsx)("div",{className:Yt()(bv,{[yv]:t,[xv]:n,[wv]:a,[Av]:r,[_v]:e===Pp.z.NOW_PLAYING_VIEW}),ref:s,children:e===Pp.z.NOW_PLAYING_VIEW&&(0,S.jsx)(mv,{})})},Sv="UQRh5VQzvqcMfTje1JUe",jv="vZEejECt3WMlIXNA9fj2",Cv="xY0iJHKcHDzoJjeBKSdO",Lv="ioc3t503ae97t5CDdGbB",Iv="qxrH_qn4r4_azzuyVxbj",Nv="EwLgE5CNgEGirtNknjHp";function kv({className:e}){return(0,S.jsxs)("div",{className:Yt()(Sv,e),children:[(0,S.jsx)("div",{className:jv}),(0,S.jsx)("div",{className:Cv}),(0,S.jsx)("div",{className:Nv}),(0,S.jsx)("div",{className:Lv}),(0,S.jsx)("div",{className:Iv})]})}var Tv=o(95251),Rv=o(14423);function Pv({children:e,UBICallbacks:n}){const{isExpanded:a}=(0,Tv._)(),r=(0,t.NC)(xe.ZDY),i=(0,m.useDeferredValue)(a),{logShowNPVButtonClick:o}=n,l=(0,Fn._Y)(),d=(0,u.wA)(),h=(0,m.useCallback)((()=>{o(),l(ke.$S.NPV_BUTTON_CLICK),d((0,c.Ym)())}),[d,o,l]);return r?(0,S.jsx)("div",{className:Yt()(Rv.A.peek,{[Rv.A.expanded]:a,[Rv.A.collapsed]:!a,[Rv.A.deferredCollapsed]:!i}),children:(0,S.jsxs)("div",{className:Rv.A.overlayWrapper,children:[(0,S.jsx)(kv,{className:Rv.A.fauxMainViewEnd}),(0,S.jsx)("div",{className:Rv.A.peekContent,"aria-hidden":!a,inert:a?void 0:"",children:e}),(0,S.jsx)("div",{className:Rv.A.overlay,onClick:h,children:(0,S.jsx)(Us.Zp,{label:s.Ru.get("web-player.cinema-mode.peek.show.now-playing-view"),children:(0,S.jsx)(Rr.H,{"aria-label":s.Ru.get("web-player.cinema-mode.peek.show.now-playing-view"),iconOnly:Hl.g,size:"small",className:Rv.A.overlayButton})})})]})}):(0,S.jsx)(S.Fragment,{children:e})}const Mv=m.lazy((async()=>{const{PanelSection:e}=await Promise.all([o.e(8001),o.e(9046),o.e(3916),o.e(4063),o.e(319)]).then(o.bind(o,21277));return{default:e}})),Dv=()=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(Mv,{})});var Ov=o(56813);const Vv="XOawmCGZcQx4cesyNfVO";function zv({children:e}){const n=(0,Ov.X)(),{size:a}=(0,Fn.Zf)();let r=a;return(0,t.NC)(xe.ZDY)||n!==Un.Z.Disabled||(r=0),(0,S.jsx)("div",{style:{width:`${r}px`},className:Vv,children:e})}const Hv=()=>{const e=Rp();return(0,S.jsx)(Pv,{UBICallbacks:e,children:(0,S.jsx)(zv,{children:(0,S.jsx)(Dv,{})})})};var Bv=o(84217);const Fv="cKAAyrqpVEsxnhtvNHou",Uv="HRQp773shLo1JL0Df_og",qv="zQW9tqtrDIkVB6G8W3OO",Wv="n0OfVH5OdDa9YY7NXzN1",Gv=({item:e})=>{const t=(0,u.wA)(),n=(0,bu.l)(),a=(0,fa.h)(),{setVideoPlayerUIFlag:r}=(0,Vp.d)(),i=(0,m.useCallback)((()=>{(0,fl.I)("NPV_OPEN_CINEMA_MODE_BUTTON"),n(gn.z.CLOSED),t((0,Bv.Oc)()),r(O.nP.cinema,!1)}),[t,n,r]);return(0,S.jsxs)("div",{className:Fv,children:[(0,S.jsx)(Ym,{item:e}),(0,S.jsx)("div",{className:Uv,children:(0,S.jsx)(Rr.H,{className:Yt()(qv,{[Wv]:a}),iconOnly:Jm.b,size:"small",onClick:i,"aria-label":s.Ru.get("web-player.cinema-mode.minimize")})})]})},Kv=()=>{const e=(0,vn.S)(),t=(0,fa.h)(),{isPlayingVideoAd:n,item:a}=(0,ur.o)((e=>{const t=e?.item??void 0;return{isPlayingVideoAd:(0,Wc.A3)(e)&&(0,H.N)(t),item:t}}),((e,t)=>e.isPlayingVideoAd===t.isPlayingVideoAd&&e.item?.uid===t.item?.uid)),r=e===gn.z.NOW_PLAYING_VIEW&&n;let s="main-view",i="left-sidebar / main-view",o="var(--above-main-and-now-playing-view-grid-area-z-index)";return r&&(i="left-sidebar / right-sidebar"),t&&(s="global-nav / now-playing-bar",i="left-sidebar / right-sidebar",o="var(--above-everything-grid-area-z-index)"),(0,S.jsxs)(Qn,{gridRow:s,gridColumn:i,zIndex:o,debugLabel:r?"VTO cinema mode ad":"VTO modal ad",children:[r&&a&&(0,H.N)(a)?(0,S.jsx)(Gv,{item:a}):null,(0,S.jsx)("div",{className:"VTO__modal-slot"})]})};var Qv=o(5248),$v=o(69466),Zv=o(63061),Yv=o(3072),Jv=o(78475),Xv=o(91988),eb=o(46024),tb=o(54520),nb=o(90926);const ab=()=>{const{id:e}=(0,ne.g)(),t=(0,u.wA)(),n=(0,tb.M)(),a=(0,Jv.C)();return(0,m.useEffect)((()=>{if(!e)return;const r=ib(n,a,e);r&&t(r)}),[t,e,n,a]),(0,S.jsx)(Xv.$,{to:"/"})},rb=()=>{const e=(0,tb.M)(),t=(0,Jv.C)(),n=(0,Yv.Y)(),a=(0,ne.zy)();return(0,m.useEffect)((()=>{if(t===nb.lz.PREMIUM&&e===nb._H.ENABLED){const e=(0,J.o_h)(a.pathname);n(e&&(0,J.p3P)(e)?e:void 0)}}),[n,t,a.pathname,e]),(0,S.jsx)(Xv.$,{to:"/"})},sb=()=>{const{openQueue:e}=(0,$v.R)();return(0,m.useEffect)((()=>{e(Qv.p.PARTICIPANT_LIST)}),[e]),(0,S.jsx)(Xv.$,{to:"/"})};function ib(e,t,n){return t===nb.lz.NONE?(0,c.A9)(eb.EL.ERROR):e===nb._H.RESTRICTED?(0,c.A9)(eb.EL.REDIRECT,n):e===nb._H.ENABLED?(0,c.A9)(eb.EL.JOIN,n):null}const ob=new Map,cb=(e,t=[])=>{(0,m.useEffect)((()=>(ob.set(e,!0),()=>{ob.delete(e)})),[...t,e])},lb=e=>Object.values(Zv.S).includes(e),ub=()=>{const e=(0,u.wA)(),t=(0,tb.M)(),n=(0,Wt.g)(),a=(0,Jv.C)(),r=(0,Yv.Y)(),{openQueue:s}=(0,$v.R)();return cb((i=>{const o=(0,J.o_h)(i.pathname??""),c=o&&(0,J.crr)(o)&&!lb(i.pathname),l=o&&(0,J.p3P)(o);if(lb(i.pathname))return s(Qv.p.PARTICIPANT_LIST),!0;if(l)return r(o),!0;if(c){const r=ib(t,a,o.id);return!!r&&(e(r),i.state?.redirectToHome&&n("/"),!0)}return!1}),[t,a]),null},db=()=>{const{openQueue:e}=(0,$v.R)();return cb((t=>"/queue"===t.pathname?(e(Qv.p.QUEUE),!0):"/history"===t.pathname&&(e(Qv.p.HISTORY),!0))),null};var hb=o(73279);const pb=()=>{const e=(0,fv.S)(),t=(0,bu.l)();return cb((n=>"/launch-cinema-mode"===n.pathname&&(e!==Pp.z.NOW_PLAYING_VIEW&&t(Pp.z.NOW_PLAYING_VIEW),!0))),null};var mb=o(15562);class fb extends Za.V{}const gb=({children:e})=>{const t=(0,m.useMemo)((()=>new fb),[]);return(0,S.jsx)(mb.m.Provider,{value:t,children:e})};var vb=o(90996),bb=o(13333),yb=o(56727),xb=o(34624);const wb=1248,Ab=(0,Bp.g)(Un.Z),_b=(0,Bp.g)(yb.ZS),Eb=()=>(function(){const{size:e,setSize:n,minWidth:a,maxWidth:r,leftSidebarCollapsedStateNavbarWidth:s,leftSidebarDefaultStateNavbarWidth:i,leftSidebarExpandedStateNavbarWidth:o}=(0,Yn.y)(),{leftSidebarState:c,setLeftSidebarState:l,canCollapse:u}=(0,yb.ae)(),d=(0,Fn.XB)(),h=(0,Fn._Y)(),{min:p,max:f,size:g,setSize:v}=Jn(),b=(0,xb.H)(),y=(0,t.NC)(xe.VEQ),x=(0,m.useRef)(null),w=(0,m.useRef)(null),A=(0,m.useRef)(null),_=(0,t.NC)(xe.ZDY)?vb.j:0;(0,m.useLayoutEffect)((()=>{const t=b-e-3*La.KV-(d!==Un.Z.Disabled?g+La.KV:_),m={leftSidebarWidth:e,leftSidebarMinWidth:a,leftSidebarMaxWidth:r,leftSidebarState:c,leftSidebarStateRestoreTarget:x.current,rightSidebarWidth:g,rightSidebarMinWidth:p,rightSidebarMaxWidth:f,rightSidebarPanel:d,rightSidebarPanelRestoreTarget:w.current,storedCollapsedLeftSidebarWidth:s,storedDefaultLeftSidebarWidth:i,storedExpandedLeftSidebarWidth:o,clientWidth:b,mainContentWidth:t,canCollapse:u},E=A.current;if((0,Q.j)(m,E))return;const S=function(e,t,n=!1){let{leftSidebarWidth:a=0,rightSidebarWidth:r=0}=t;const{mainContentWidth:s=0,leftSidebarMinWidth:i=0,leftSidebarMaxWidth:o=0,leftSidebarState:c,leftSidebarStateRestoreTarget:l,rightSidebarMinWidth:u=0,rightSidebarMaxWidth:d=0,rightSidebarPanel:h,rightSidebarPanelRestoreTarget:p,storedCollapsedLeftSidebarWidth:m=0,storedDefaultLeftSidebarWidth:f=0,storedExpandedLeftSidebarWidth:g=0,clientWidth:v=0,canCollapse:b=!0}=t,y={},x=h!==Un.Z.Disabled,w=void 0!==e?.leftSidebarWidth&&a>e.leftSidebarWidth,A=void 0!==e?.rightSidebarWidth&&r>e.rightSidebarWidth,_=void 0===e?.clientWidth?0:v-e.clientWidth,E=_<0,S=v>0,j=s<La.ev?La.ev-s:0;let C=E?-1*_:0;s>wb?C=Math.max(0,C-(s-wb)):j&&(C=j);const L=c===yb.ZS.EXPANDED&&e?.leftSidebarState!==yb.ZS.EXPANDED,I=c===yb.ZS.DEFAULT&&e?.leftSidebarState!==yb.ZS.DEFAULT;let N=a-i;w&&(N=L?a-bb.Z.EXPANDED_MIN:I?a-bb.Z.DEFAULT_MIN:0);let k=A?0:r-u;const T=C<=N+k;if(s<La.ev&&!T)x&&(w||E&&(c===yb.ZS.COLLAPSED||!b))?(y.rightSidebarPanel=Un.Z.Disabled,y.rightSidebarPanelRestoreTarget=t.rightSidebarPanel,C-=r,k=0):(c===yb.ZS.EXPANDED&&s+(a-bb.Z.DEFAULT_MIN)>La.ev?(y.leftSidebarState=yb.ZS.DEFAULT,C-=a-f,N=f-bb.Z.DEFAULT_MIN):(y.leftSidebarState=yb.ZS.COLLAPSED,C-=a-m,N=0),y.leftSidebarStateRestoreTarget=t.leftSidebarState);else if(h===Un.Z.Disabled&&p!==Un.Z.Disabled&&Ab(p)&&h!==e?.rightSidebarPanelRestoreTarget&&s-r-La.KV>=La.ev)y.rightSidebarPanel=p,y.rightSidebarPanelRestoreTarget=null;else if(c===yb.ZS.DEFAULT&&l===yb.ZS.EXPANDED&&s-(g-a)>=La.ev)y.leftSidebarState=yb.ZS.EXPANDED,y.leftSidebarStateRestoreTarget=null;else if(c===yb.ZS.COLLAPSED&&l===yb.ZS.DEFAULT&&s-(f-a)>=La.ev)y.leftSidebarState=yb.ZS.DEFAULT,y.leftSidebarStateRestoreTarget=null;else if(S&&s>=800&&!n){let e=o-a,t=d-r;const n=Math.min(_,e+t);for(let s=0;s<n;s++)a<r&&a<o&&e>0?(a++,e--):r<d&&t>0&&(r++,t--)}c!==e?.leftSidebarState&&_b(l)&&l===e?.leftSidebarStateRestoreTarget&&(y.leftSidebarStateRestoreTarget=null);h!==e?.rightSidebarPanel&&Ab(p)&&p===e?.rightSidebarPanelRestoreTarget&&(y.rightSidebarPanelRestoreTarget=null);if(C>0&&C<=N+k)for(let e=0;e<C;e++)a>r&&a>i&&N>0?(a--,N--):r>u&&k>0&&(r--,k--);a&&a!==t.leftSidebarWidth&&(y.leftSidebarWidth=a);r&&r!==t.rightSidebarWidth&&(y.rightSidebarWidth=r);return y}(E,m,y);void 0!==S.leftSidebarWidth&&n(S.leftSidebarWidth),_b(S.leftSidebarState)&&l(S.leftSidebarState),void 0!==S.leftSidebarStateRestoreTarget&&(x.current=S.leftSidebarStateRestoreTarget),void 0!==S.rightSidebarWidth&&0!==E?.rightSidebarWidth&&v(S.rightSidebarWidth),void 0!==S.rightSidebarPanel&&h((0,ke.MQ)(S.rightSidebarPanel)),void 0!==S.rightSidebarPanelRestoreTarget&&(w.current=S.rightSidebarPanelRestoreTarget),A.current=m}),[e,a,r,n,g,p,f,v,d,s,i,o,l,h,b,u,_,c,y])}(),null);var Sb=o(13074),jb=o(91107),Cb=o(59133);let Lb=new class{get(){return Cb.t5}};let Ib=new class{get(){return Cb.wi}};var Nb=o(37293),kb=o(57940);const Tb=()=>{const[e,t]=(0,m.useState)(!1),{pathname:n}=location,a=(0,u.d4)(jb.JJ),r=(0,Ks.V)(),[i,o]=(0,m.useState)(null),c=s.Ru.getLocaleForURLPath(),l=(0,kb.p)({urlLocale:c,type:"locale"}),d=Lb.get(),h=Ib.get();return(0,m.useEffect)((()=>{o((0,Nb.w2)(window.navigator.userAgent))}),[]),(0,m.useEffect)((()=>{const e=setTimeout((()=>{t(!0)}),1100);return()=>{t(!1),clearTimeout(e)}}),[n]),e&&null!==i?(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(d,{language:s.Ru.getLocaleForSmartling(),market:a.toLowerCase(),excludePlanLinks:i,countryHub:!0,openUrlLocale:l?c:void 0,children:(0,S.jsx)("div",{children:(0,S.jsx)(h,{hideWebPlayerLink:!0,hideLegalLinks:r})})})}):(0,S.jsx)(S.Fragment,{})},Rb=m.memo((()=>{const e=(0,Nl._)((e=>"/lyrics"===e.pathname)),{showMastheadFooter:t}=(0,Qt.V)();return!t||e?null:(0,S.jsxs)("div",{className:"main-view-container__mh-footer-container",children:[(0,S.jsx)(Sb.d,{className:"main-view-container__mh-footer-container__separator"}),(0,S.jsx)(Tb,{})]})}));var Pb=o(26334);const Mb={"-200":.694444418,"-150":.7607257962,"-100":.8333333135,"-50":.9128709435,0:1,50:1.095445156,100:1.200000048,150:1.314534187,200:1.440000057,250:1.577440977,300:1.728000045,350:1.892929196,400:2.073600054};var Db=o(16028),Ob=o(81236);function Vb(e){return{name:"AutoPlayOnLoad",environments:["browser"],data:e}}var zb=o(33621);const Hb="auto_play_on_load_attempted";function Bb(){const e=(0,t.NC)(zb.mR),n=(0,ne.zy)(),a=(0,T.z)(),r=(0,m.useRef)(!1),[s,i]=(0,fr.ok)(),o=(0,fe.vh)();(0,z.p)(V.gd.READY,(async()=>{if(!e)return;if(r.current)return;const t=new URLSearchParams(n.search);if(t.has(Hb))return;const s=t.get("utm_medium"),c=t.has("autoplay");if(!("gemini"===s||c))return;const l=(0,J.o_h)(n.pathname);if(!l)return void console.error("Attempted autoplay but URI is not parsable");const u=l.toString();i((e=>(e.set(Hb,"1"),e))),r.current=!0;let d=null;function h(){d&&(o.send(d),d=null,a.getEvents().removeListener(V.gd.UPDATE,g),a.getEvents().removeListener(V.gd.ERROR,f))}setTimeout((()=>{h()}),2500);const p=()=>{d||(console.log("Autoplay maybe successful",l),d=Vb({entity_uri:u,page_url:n.pathname+n.search,success:!0}))},m=e=>{console.log("Autoplay failed",l,e),d=Vb({entity_uri:u,page_url:n.pathname+n.search,success:!1,error_message:e}),h()};function f(e){m(e?.data?.cause?.message??"Failure with unknown error message")}function g(e){e.data?.item?.uri!==u&&e.data?.context?.uri!==u||e.data?.isPaused||p()}a.getEvents().addListener(V.gd.UPDATE,g),a.getEvents().addListener(V.gd.ERROR,f),console.log("Triggering autoplay",l),a.play({uri:u},{featureIdentifier:"auto_play_on_load",referrerIdentifier:"auto_play_on_load"})}))}var Fb=o(5225);const Ub=()=>{const e=(0,Ms.N)(Fb.L),t=e.getCapabilities(),n=t.canZoomIn&&t.canZoomOut;(0,m.useEffect)((()=>{if(!n)return()=>{};const t=t=>{if(t.ctrlKey){t.preventDefault();const n=t.deltaY;if(0===n)return;n>0?e.zoomOut():e.zoomIn()}},a=e=>{"Control"===e.key&&window.addEventListener("wheel",t,{passive:!1})};window.addEventListener("keydown",a);const r=e=>{"Control"===e.key&&window.removeEventListener("wheel",t)};return window.addEventListener("keyup",r),()=>{window.removeEventListener("wheel",t),window.removeEventListener("keydown",a),window.removeEventListener("keyup",r)}}),[e,n])},qb=m.memo((({isDeveloperMode:e,onBrowserNotSupported:n,onReachUsableState:a})=>((e=>{const t=(0,Wt.g)();(0,m.useEffect)((()=>{const n=n=>{e&&(3===n.button?(t(-1),n.preventDefault()):4===n.button&&t(1))};return document.addEventListener("mouseup",n),()=>{document.removeEventListener("mouseup",n)}}),[e,t])})(!0),Ta(!e),(({onBrowserNotSupported:e,onReachUsableState:t})=>{(0,m.useEffect)((()=>{const n=ir().getParser(window.navigator.userAgent);n.satisfies({chrome:"<62"})||n.satisfies({edge:"<16"})?e(s.Ru.get("browser_upgrade_notice",n.getBrowserName())):t("home")}),[e,t])})({onBrowserNotSupported:n,onReachUsableState:a}),function(){const e=(0,Vr.t)(),[{data:t}]=(0,zr.K)(e.viewportZoom),n=(0,Tn.m)();(0,m.useEffect)((()=>{const e=Math.round(t??0).toString(),a=Pb.b*Mb[e];n.setTitlebarHeight(a)}),[t,n])}(),Ub(),(()=>{const e=(0,Tn.m)(),n=(0,t.NC)(xe.QxH),a=(0,t.NC)(xe.fzW),r=(0,t.NC)(xe.v2);(0,m.useEffect)((()=>{e.setPLEPorts(n,a,r)}),[e,n,a,r])})(),(()=>{const e=(0,nt.jE)();(0,Gc.L)((()=>{e.invalidateQueries({queryKey:["useAddToPlaylistListData"]})}))})(),function(){const e=(0,m.useRef)(!0),t=(0,_s.p)(),n=(0,nt.jE)();(0,m.useEffect)((()=>{e.current?e.current=!1:function(e){e.invalidateQueries(),e.removeQueries({type:"inactive"})}(n)}),[t,n])}(),(()=>{const e=(0,nt.jE)(),t=(0,Ob.R)();(0,m.useEffect)((()=>t.getEvents().addListener(Db.S.AVAILABILITY_UPDATE,(t=>{e.invalidateQueries({queryKey:["use-shuffle",...t.data.contextURI?[t.data.contextURI]:[]]})}))),[e,t])})(),Bb(),null)));var Wb=o(41774),Gb=o(41350);var Kb=o(69953);var Qb=o(32121);var $b=o(1223);const Zb=e=>{const{accessTokenIsSet:n,onClose:a,onBrowserNotSupported:r,onReachUsableState:s,isDesktop:i,billboardMinimized:o,isDeveloperMode:c,adsEnabled:l,children:d}=e,h=(0,Tn.m)(),f=(0,m.useRef)(null),g=(0,m.useRef)(null),v=(0,m.useRef)(null),b=(0,m.useRef)(null),y=(0,m.useRef)(null),x=(0,m.useRef)(null),w=(0,m.useRef)(null),A=(0,m.useRef)(null),_=(0,m.useRef)(null),E=(0,m.useRef)(null),j=(0,m.useRef)(null),C=(0,m.useRef)(null),L=(0,m.useRef)(null),I=(0,m.useRef)(null),N=(0,m.useRef)(null),k=(()=>{const e=(0,t.NC)(xe.Tb_),[n]=(0,m.useState)((()=>(0,lr.U)()?new cr:or.isSupported()&&e?new or(!0):nr.isSupported()?new nr:new cr));return n})(),T=(0,Vr.t)(),[{data:R}]=(0,zr.K)(T.viewportZoom),{handleDrop:P,handleDragStart:M,handleDragEnd:D,handleDragOver:O}=(()=>{const e=(0,m.useCallback)((e=>{e.preventDefault(),document.body.removeAttribute("data-dragging-type")}),[]),t=(0,m.useCallback)((e=>{document.body.removeAttribute("data-dragging-type")}),[]),n=(0,m.useCallback)((e=>{e.preventDefault()}),[]);return{handleDrop:e,handleDragStart:(0,m.useCallback)((e=>{e.target instanceof Element&&"true"!==e.target.getAttribute("draggable")&&(e.preventDefault(),e.stopPropagation())}),[]),handleDragEnd:t,handleDragOver:n}})();(0,Fn.bF)(),(0,m.useEffect)((()=>{window&&window.history&&window.history.scrollRestoration&&(window.history.scrollRestoration="manual")}),[]),(0,m.useEffect)((()=>{h.notifyReadyStateReached()}),[h]);const{sendMessage:V}=((e={})=>{const{allowedOrigin:t,onMessage:n,onPortEstablished:a}=e,r=(0,m.useRef)(null),s=(0,m.useRef)(!1),i=(0,m.useCallback)((e=>{r.current&&s.current&&r.current.postMessage(e)}),[]);return(0,m.useEffect)((()=>{const e=e=>{if(t&&e.origin!==t)return;const i=e.ports[0];void 0!==i&&(r.current=i,s.current=!0,a?.(i),i.onmessage=e=>{n?.(e.data)})};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e),r.current&&(r.current.close(),r.current=null,s.current=!1)}}),[t,n,a]),{sendMessage:i,isPortEstablished:s.current}})({onMessage:e=>{(0,$b.S)()&&V({type:"message",message:e})}}),z=(0,m.useMemo)((()=>[(0,S.jsx)(Ln,{scrollNodeRef:C,scrollNodeChildRef:L,beforeTheScrollNodeRef:I,afterTheScrollNodeRef:N}),(0,S.jsx)(Hn.X,{}),(0,S.jsx)(on.ZC,{mainLandmarkRef:g,lyricsCinemaRef:w,leftSidebarRef:E,rightSidebarRef:j,nowPlayingBarRef:b,mainContentRef:y,topBarRef:v}),(0,S.jsx)(sn,{}),(0,S.jsx)(Qh,{}),(0,S.jsx)(an,{}),(0,S.jsx)(In.$y,{}),(0,S.jsx)(kn.JI,{}),(0,S.jsx)(Wb.NT,{}),(0,S.jsx)(Bn.Ad,{}),(0,S.jsx)($a.n,{instance:k}),(0,S.jsx)(lp,{domRootRef:_}),(0,S.jsx)(ba.F,{}),(0,S.jsx)(Tr,{}),(0,S.jsx)(Oh,{}),(0,S.jsx)(Ap.f,{}),(0,S.jsx)(Wp,{}),(0,S.jsx)(gb,{})]),[k]),H=(0,u.d4)((e=>e.ui.unsupportedBrowser));return(0,S.jsxs)(xt,{providers:z,children:[(0,S.jsxs)("div",{"":"root",className:Yt()("Root","global-nav","centered-layout"),style:{"--panel-gap":`${La.KV}px`,"--zoom-level":(0,hb.I)(R??0)},onDrop:P,onDragOver:O,onDragStart:M,onDragEnd:D,ref:f,children:[(0,S.jsx)(dp,{message:H.isOpen?H.message:null,allowHTML:!0,onClose:a,isNotSupported:!0}),(0,S.jsxs)(Gn,{children:[(0,S.jsx)(Eb,{}),!1,(0,S.jsx)(Fh,{topBarRef:v}),(0,S.jsxs)(ia,{children:[(0,S.jsx)(ha,{}),(0,S.jsx)(En,{elementRef:E})]}),(0,S.jsx)(Ca,{children:(0,S.jsx)(rp,{})}),(0,S.jsxs)(ma,{children:[(0,S.jsx)(fp,{}),(0,S.jsxs)("div",{className:"main-view-container",children:[(0,S.jsx)("div",{ref:I,className:"before-scroll-node"}),(0,S.jsx)(ed.a,{className:"main-view-container__scroll-node",scrollNodeRef:C,children:(0,S.jsx)("div",{ref:L,className:Yt()("main-view-container__scroll-node-child"),style:{minHeight:`calc(100vh - ${La.uC}px - ${La.fO}px - 519px)`},children:(0,S.jsx)(zn,{ref:g,children:(0,S.jsxs)(p.s,{Fallback:()=>(0,S.jsx)(pp,{}),onError:e=>(0,Nn.Jy)(e,"Root"),children:[d,(0,S.jsx)(Rb,{})]})})})}),(0,S.jsx)("div",{ref:N,className:"after-scroll-node"}),(0,S.jsx)(wp,{fullscreenModeRef:A,cinemaModeRef:x})]}),n&&l&&(0,S.jsx)(yp,{}),i&&(0,S.jsx)("div",{className:Yt()("",{"Root__ads-container-desktop--is-hidden":!o}),children:(0,S.jsx)(vp,{})})]}),(0,S.jsxs)(Sa,{children:[(0,S.jsx)(Hv,{}),(0,S.jsx)(qh,{elementRef:j})]}),(0,S.jsx)(Ev,{}),(0,S.jsx)("div",{id:"lyrics-cinema",className:"Root__lyrics-cinema",ref:w}),(0,S.jsx)(Zn,{ref:x,debugLabel:"Video player cinema mode"}),(0,S.jsx)(Zn,{debugLabel:"Snackbar container",ref:_}),(0,S.jsx)(Kv,{}),(0,S.jsx)(ep,{debugLabel:"Popover layer",children:(0,S.jsx)(np,{})})]}),(0,S.jsx)(Xh,{isDesktop:i}),(0,S.jsx)(op,{}),(0,S.jsx)(Qa,{}),(0,S.jsx)(mr,{pipInstance:k})]}),(0,S.jsx)(tn,{}),(0,S.jsx)(Yh,{}),(0,S.jsx)(ub,{}),(0,S.jsx)(db,{}),(0,S.jsx)(pb,{}),(0,S.jsx)(_p,{}),(0,S.jsx)(qb,{isDeveloperMode:c,onBrowserNotSupported:r,onReachUsableState:s})]})};const Yb=o(23285).ErrorPage;var Jb=o(13559);const Xb=function({children:e}){(()=>{const e=(0,t._r)();(0,m.useEffect)((()=>{const t=(0,Nn.sV)(),n=[...(0,Jb.v6)()].reduce(((t,n)=>{const a=e.getValue(n.name);return t[`rc.${n.name}`]=a,t}),{});t.setTags(n)}),[e])})();const n=(0,u.wA)(),a=(0,u.d4)((e=>e.session.accessToken)),r=(0,u.d4)((e=>e.ui.errorPage)),s=(0,Tn.m)(),{isDesktop:i,isDeveloperMode:o}=(0,Qt.V)(),l=(0,u.d4)((e=>i?e.ads.root.adsEnabled:!!e.session.productState?.ads&&1===parseInt(e.session.productState.ads,10))),d=(0,u.d4)((e=>!!e.ads.billboard&&e.ads.billboard.isMinimized)),h=r.isError,p=r.name,f=!!a,g=(0,m.useCallback)((e=>{s.notifyUsableStateReached(e)}),[s]),v=(0,m.useCallback)((()=>{n(c.BZ())}),[n]),b=(0,m.useCallback)((e=>{n(c.Gz(e))}),[n]);return h?(0,S.jsx)(Yb,{errorName:p}):(0,S.jsx)(Zb,{billboardMinimized:d,onReachUsableState:g,accessTokenIsSet:f,onClose:v,onBrowserNotSupported:b,isDesktop:i,isDeveloperMode:o,adsEnabled:l,children:e})};var ey=o(76358),ty=o(76541);const ny=({action:e,context:t,country:n,variant:a})=>({action:e,context:t,country:n,category:"brotli-exp-metrics",label:"dwp",sp_t:(0,dt.v8)("sp_t"),os:(0,Si.f)(),variant:a});var ay=o(22246),ry=(o(98273),o(17774));const sy="open-local.spotify.com:8085",iy=["open-exp.spotifycdn.com","open-exp-review.spotifycdn.com"],oy=[sy,...iy,"open.spotifycdn.com","open-review.spotifycdn.com"],cy=[...Object.values(ry.h).map((e=>`generated-locales/web-player/${e}`)),"/cdn/js/retargeting-pixels.js","/cdn/js/gtm.js","/cdn/images/"],ly=(e,t=!1)=>e.reduce(((e,n)=>{if(n.name.includes("node_modules"))return e;const a=(r=n.name,cy.some((e=>r.includes(e))));var r;if(!(oy.some((e=>n.name.includes(e)))||n.name.includes("/cdn/")))return e;if(t&&!(e=>[sy,...iy].some((t=>e.includes(t))))(n.name)&&!a)return e;const s=(e=>{let t=null;for(const n of oy)if(e.includes(n)){const a=e.split(n);if(a.length>1){t=a[1].startsWith("/")?a[1].substring(1):a[1];break}}if(!t&&e.includes("/cdn/")){const n=e.split("/cdn/");n.length>1&&(t=n[1])}if(!t)return null;const n=t.split("/").pop();if(!n)return null;if(n.length>50){const e=n.split(".").pop()||"",t=n.split("_");return t.length>1?t[t.length-2]:`chunk.${e}`}return n.replace(/\.[a-f0-9]{8,}\.(js|css|woff2?|ttf|svg|png|jpe?g|gif|webp)$/,".$1")})(n.name);if(!s)return e;const i={b:n.transferSize,l:Number((n.responseEnd-n.responseStart).toFixed(1))};return 0===n.transferSize&&(i.c=1),e[s]=i,e}),{});var uy=o(11120);const dy=m.lazy((async()=>{const{SeeAllPlaylistLeavebehinds:e}=await o.e(5040).then(o.bind(o,67756));return{default:e}})),hy=()=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(dy,{})}),py=m.lazy((async()=>{const{UpcomingReleasesErrorPage:e}=await o.e(2579).then(o.bind(o,16859));return{default:e}})),my=({errorName:e})=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(py,{errorName:e})}),fy=()=>(0,S.jsx)(ne.qh,{path:"/upcoming-releases",element:(0,S.jsx)(my,{errorName:"upcoming_releases_not_supported"})},"upcoming-releases"),gy=m.lazy((async()=>{const{ErrorPage:e}=await o.e(2579).then(o.bind(o,23285));return{default:e}})),vy=({errorName:e})=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(gy,{errorName:e})}),by=()=>[(0,S.jsx)(ne.qh,{path:"/artist-videos",element:(0,S.jsx)(vy,{errorName:"artist_videos_not_supported"})},"artist-videos")],yy=(0,m.lazy)((()=>Promise.all([o.e(6693),o.e(976),o.e(7315),o.e(7661)]).then(o.bind(o,80974))));function xy(e){return`spotify:section:${e.replace(/^section/,"")}`}const wy=(0,m.lazy)((()=>Promise.all([o.e(5130),o.e(9985),o.e(6266)]).then(o.bind(o,34130)).then((e=>({default:e.BrowsePage}))))),Ay=(0,m.lazy)((()=>Promise.all([o.e(5130),o.e(9985),o.e(6266)]).then(o.bind(o,83956)).then((e=>({default:e.BrowseSection}))))),_y=({id:e})=>{if(e.startsWith("section"))return(0,S.jsx)(Ay,{uri:xy(e)});const t=function(e){return/^(section)?[0-9A-Za-z_-]{22}$/.test(e)}(e)?function(e){return`spotify:page:${e}`}(e):function(e){return`spotify:genre:${e}`}(e);return(0,S.jsx)(wy,{uri:t})},Ey=m.lazy((async()=>{const{CountryHub:e}=await Promise.all([o.e(893),o.e(2543)]).then(o.bind(o,77283));return{default:e}})),Sy=()=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(Ey,{})}),jy=m.lazy((async()=>{const{CountryHubSection:e}=await Promise.all([o.e(893),o.e(749)]).then(o.bind(o,41286));return{default:e}})),Cy=()=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(jy,{})});var Ly=o(51995);const Iy=e=>`spotify:cultural-moment:hub:${e}`,Ny=m.lazy((()=>o.e(3838).then(o.bind(o,80835)))),ky=()=>{const{id:e=""}=(0,ne.g)();return(0,S.jsx)(Ny,{uri:Iy(e),id:e})},Ty=m.lazy((async()=>{const{EpisodeMoreLikeThis:e}=await Promise.all([o.e(4070),o.e(6051),o.e(399)]).then(o.bind(o,27592));return{default:e}})),Ry=()=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(Ty,{})});var Py=o(76667),My=o(10959);const Dy=m.lazy((async()=>{const{HomeChipsRowWithEmptyStates:e}=await Promise.all([o.e(3960),o.e(6936),o.e(9985),o.e(8348),o.e(9845),o.e(4258),o.e(5226),o.e(2233)]).then(o.bind(o,56841));return{default:e}})),Oy=()=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(Dy,{})}),Vy=m.lazy((async()=>{const{HomeHeader:e}=await o.e(1602).then(o.bind(o,54646));return{default:e}})),zy=()=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(Vy,{})});var Hy=o(71607);const By=m.lazy((async()=>{const{OfflineEmptyState:e}=await o.e(2630).then(o.bind(o,79086));return{default:e}})),Fy=({showDownloadInformation:e})=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(By,{showDownloadInformation:e})});var Uy=o(35052),qy=o(69878),Wy=o(96586);const Gy=(0,m.lazy)((()=>Promise.all([o.e(1577),o.e(390),o.e(4312)]).then(o.bind(o,3909)))),Ky=(0,m.lazy)((()=>o.e(5885).then(o.bind(o,87220)))),Qy=(0,m.lazy)((()=>o.e(3569).then(o.bind(o,93868)))),$y=(0,m.lazy)((()=>Promise.all([o.e(3960),o.e(6936),o.e(9985),o.e(8348),o.e(9845),o.e(4258),o.e(5226),o.e(9319)]).then(o.bind(o,29324)))),Zy=(0,m.lazy)((()=>Promise.all([o.e(5130),o.e(8348),o.e(1621)]).then(o.bind(o,53778)))),Yy=(0,m.lazy)((()=>o.e(3569).then(o.bind(o,82585)))),Jy=(0,m.lazy)((async()=>{const{HomeSubfeedWithRedirect:e}=await Promise.all([o.e(3960),o.e(6936),o.e(4404),o.e(9985),o.e(976),o.e(8348),o.e(9845),o.e(7805),o.e(4258),o.e(5226),o.e(9667),o.e(347)]).then(o.bind(o,87400));return{default:e}})),Xy=()=>{const{sectionId:e}=(0,ne.g)();return(0,S.jsx)(Zy,{uri:`spotify:section:${e}`})},ex=({isDesktop:e,isPremium:t,isOffline:n})=>n?e&&t?(0,S.jsx)(Qy,{}):(0,S.jsx)(Fy,{showDownloadInformation:!1}):(0,S.jsx)($y,{}),tx=({isDesktop:e,isOffline:t})=>{const n=(0,Hy.f)()!==Py.e,{allowSwitchingBetweenHomeAdsAndHpto:a}=we();return(0,S.jsxs)(My.X,{children:[(0,S.jsx)(zy,{}),e&&n&&(a?(0,S.jsx)(Ky,{}):(0,S.jsx)(Gy,{})),!t&&(0,S.jsx)(Oy,{}),(0,S.jsx)(ne.sv,{})]})},nx="/launch-miniplayer",ax=()=>{const e=(()=>{const{open:e,isOpen:t,canOpen:n}=(0,Ka.H)();return(0,m.useCallback)((()=>{n&&!t&&e()}),[n,t,e])})();return(0,m.useEffect)((()=>{e()}),[e]),cb((t=>t.pathname===nx&&(e(),!0)),[e]),(0,S.jsx)(Xv.$,{to:"/"})},rx=m.lazy((async()=>{const{PlaylistFormatRedirectWithParams:e}=await o.e(2205).then(o.bind(o,76878));return{default:e}})),sx=e=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(rx,{...e})});var ix=o(81897),ox=o(4015);const cx=m.lazy((()=>Promise.all([o.e(125),o.e(7909),o.e(6488)]).then(o.bind(o,17909)))),lx=()=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(cx,{})}),ux=()=>(0,ix.X)()?(0,S.jsx)(Ly.e,{navigationalRoot:Uy.g.EXPLORE_PREMIUM,pageId:uy.$h.PREMIUM,entityUri:"spotify:app:premium",children:(0,S.jsx)(lx,{})}):(0,S.jsx)(Xv.$,{to:"/"}),dx=m.lazy((()=>o.e(5518).then(o.bind(o,57710)))),hx=()=>(0,ix.X)()?(0,S.jsx)(Ly.e,{navigationalRoot:Uy.g.EXPLORE_PREMIUM,pageId:uy.$h.PREMIUM,entityUri:"spotify:app:premium",children:(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(dx,{})})}):(0,S.jsx)(Xv.$,{to:"/"});var px=o(86973);const mx=({queueView:e})=>{const{openQueue:t}=(0,$v.R)();return(0,m.useLayoutEffect)((()=>{t(e)}),[]),null},fx=()=>(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(ne.qh,{path:"/queue",element:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(mx,{queueView:px.p.QUEUE}),(0,S.jsx)(Xv.$,{to:"/"})]})},"/queue"),(0,S.jsx)(ne.qh,{path:"/history",element:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(mx,{queueView:px.p.HISTORY}),(0,S.jsx)(Xv.$,{to:"/"})]})},"/history")]});var gx=o(63533);const vx=m.lazy((async()=>{const{ShowMoreLikeThisPage:e}=await o.e(9033).then(o.bind(o,42525));return{default:e}})),bx=()=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(vx,{})}),yx=()=>[(0,S.jsx)(ne.qh,{path:"/the-drop-weekly",element:(0,S.jsx)(vy,{errorName:"the_drop_weekly_not_supported"})},"the-drop-weekly")];var xx=o(19399),wx=o(78428),Ax=o(27862),_x=o(37493);var Ex=o(70952);const Sx=()=>{const{trackId:e=""}=(0,ne.g)(),t=(0,Ax.n)(),n=(a=t)===xe.ssn.AboveFansAlsoLike||a===xe.ssn.AbovePopularReleases||a===xe.ssn.AboveRecommendedBasedOnThisSong;var a;const r=(0,J.Mce)(e).toString(),i=(0,wx.D)({entityType:Vt.c.TRACK,componentType:"fullPage",uri:r});return(0,Ex.L)({uri:r}),n?(0,S.jsx)(p.s,{onError:i,children:(0,S.jsxs)("div",{className:"contentSpacing",children:[(0,S.jsx)(xx.Q,{children:s.Ru.get("track-page.playlists-with-this-song")}),(0,S.jsx)(_x.N$,{isFullPage:!0,limit:50,renderInVariant:t,uri:r})]})}):(0,S.jsx)(ne.C5,{to:"/",replace:!0})};var jx=o(84559);const Cx=m.memo((function(){const{trackId:e=""}=(0,ne.g)(),t=(e=>`spotify:track:${e}`)(e);return(0,S.jsxs)("div",{className:"contentSpacing",children:[(0,S.jsx)(xx.Q,{children:s.Ru.get("internal-link-recommender.more-recommended-releases")}),(0,S.jsx)(jx.b,{uri:t,isFullPage:!0,title:s.Ru.get("internal-link-recommender.more-recommended-releases")})]})})),Lx=m.lazy((async()=>{const{WhatsNewFeed:e}=await o.e(4084).then(o.bind(o,9949));return{default:e}})),Ix=()=>(0,S.jsx)(m.Suspense,{fallback:null,children:(0,S.jsx)(Lx,{})}),Nx=()=>(0,Ks.V)()?(0,S.jsx)(Xv.$,{to:"/"}):(0,S.jsx)(Ix,{});var kx=o(15594),Tx=o(51227);const Rx=`/playlist/${kx.wn}`,Px=()=>{const{metadata:e,error:t,context:n}=(0,Tx._)(),{triggerPlay:a,isPlaying:r}=n,s=(0,u.wA)();return{isLoading:!e&&!t,callback:(0,m.useCallback)((()=>{e?r||a():s((0,c.eN)())}),[r,a,s,e])}},Mx=()=>{const{isLoading:e,callback:t}=Px();return(0,m.useEffect)((()=>{e||t()}),[e,t]),e?null:(0,S.jsx)(Xv.$,{to:"/"})};var Dx=o(68734),Ox=o(57642),Vx=o(15797),zx=o(32250);const Hx=(0,m.lazy)((()=>o.e(1845).then(o.bind(o,99173))));var Bx=o(15005);const Fx=(0,m.lazy)((()=>o.e(1845).then(o.bind(o,99173))));function Ux(){const e=(0,ne.zy)(),t=`/${(0,ne.g)()["*"]??""}${e.search}`,n=e.pathname+e.search;return(0,S.jsx)(ne.C5,{to:t===n?`/${e.search}`:t,replace:!0})}var qx=o(15523),Wx=o(85448),Gx=o(99047);const Kx=m.lazy((()=>Promise.all([o.e(1508),o.e(5962)]).then(o.bind(o,7035)))),Qx=m.lazy((()=>Promise.all([o.e(1508),o.e(5962)]).then(o.bind(o,55598)))),$x=m.lazy((()=>Promise.resolve().then(o.bind(o,62892)))),Zx=m.lazy((()=>o.e(3890).then(o.bind(o,10815)))),Yx=m.lazy((()=>o.e(6863).then(o.bind(o,46044)))),Jx=m.lazy((()=>o.e(9480).then(o.bind(o,34343)))),Xx=m.lazy((()=>Promise.all([o.e(6824),o.e(5964),o.e(9209)]).then(o.bind(o,23191)))),ew=!1,tw=m.lazy((()=>Promise.all([o.e(5109),o.e(7805),o.e(6589),o.e(8828)]).then(o.bind(o,2670)))),nw=m.lazy((()=>Promise.all([o.e(4404),o.e(976),o.e(7805),o.e(9667),o.e(6080)]).then(o.bind(o,85)))),aw=m.lazy((()=>o.e(4389).then(o.bind(o,26311)))),rw=m.lazy((()=>Promise.all([o.e(8722),o.e(5783)]).then(o.bind(o,81198)))),sw=m.lazy((()=>o.e(5853).then(o.bind(o,81630)))),iw=m.lazy((()=>Promise.all([o.e(1714),o.e(9985),o.e(4070),o.e(3923),o.e(7125)]).then(o.bind(o,8068)))),ow=m.lazy((()=>Promise.all([o.e(9985),o.e(3923),o.e(2889)]).then(o.bind(o,17340)))),cw=m.lazy((()=>Promise.all([o.e(6693),o.e(5109),o.e(124),o.e(976),o.e(7805),o.e(6589),o.e(7315),o.e(2355)]).then(o.bind(o,51162)))),lw=m.lazy((()=>o.e(4496).then(o.bind(o,24156)))),uw=m.lazy((()=>Promise.all([o.e(4258),o.e(5663)]).then(o.bind(o,94258)))),dw=m.lazy((()=>Promise.all([o.e(7140),o.e(596),o.e(976),o.e(4070),o.e(6738),o.e(8606)]).then(o.bind(o,66563)))),hw=m.lazy((()=>Promise.all([o.e(7140),o.e(3523),o.e(4070),o.e(6051),o.e(6738),o.e(9528)]).then(o.bind(o,33372)))),pw=m.lazy((()=>o.e(1785).then(o.bind(o,30361)))),mw=m.lazy((()=>o.e(6505).then(o.bind(o,39916)))),fw=m.lazy((()=>o.e(42).then(o.bind(o,87325)))),gw=m.lazy((()=>o.e(42).then(o.bind(o,74248)))),vw=m.lazy((()=>o.e(8212).then(o.bind(o,44172)))),bw=m.lazy((()=>Promise.all([o.e(125),o.e(7909),o.e(1396)]).then(o.bind(o,57485)))),yw=m.lazy((()=>o.e(7241).then(o.bind(o,20194)))),xw=m.lazy((()=>o.e(5523).then(o.bind(o,61469)))),ww=m.lazy((()=>Promise.all([o.e(311),o.e(6541)]).then(o.bind(o,84983)))),Aw=m.lazy((()=>Promise.all([o.e(311),o.e(6541)]).then(o.bind(o,99196)))),_w=m.lazy((()=>Promise.all([o.e(311),o.e(6426)]).then(o.bind(o,95363)))),Ew=e=>{const{viewId:t=""}=(0,ne.g)();return t===gx.r?(0,S.jsx)(uw,{...e}):(0,S.jsx)(_y,{id:t})},Sw=({RoutesComponent:e=ne.BV})=>{const t=(0,Gx.o)();return(0,S.jsxs)(e,{children:[(0,S.jsx)(ne.qh,{path:"tracks",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.COLLECTION_SONGS,children:(0,S.jsx)(tw,{})})}),(0,S.jsx)(ne.qh,{path:"episodes",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.COLLECTION_PODCASTS_EPISODES,children:(0,S.jsx)(nw,{})})}),(0,S.jsx)(ne.qh,{path:"your-episodes",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.COLLECTION_PODCASTS_EPISODES,children:(0,S.jsx)(nw,{})})}),t.canFetchAllTracks&&(0,S.jsx)(ne.qh,{path:"local-files",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.LOCALFILES,children:(0,S.jsx)(aw,{})})}),(0,S.jsx)(ne.qh,{path:"/*",element:(0,S.jsx)(Xv.$,{to:"/collection/tracks"})})]})},jw=e=>{const{playlistId:t}=(0,ne.g)();return(0,m.createElement)(cw,{...e,key:t})},Cw=e=>{const{artistId:t}=(0,ne.g)();return(0,m.createElement)($x,{...e,key:t})},Lw=e=>{const{albumId:t}=(0,ne.g)();return(0,m.createElement)(Kx,{...e,key:t,albumUri:`spotify:album:${t}`})},Iw=e=>{const{albumId:t}=(0,ne.g)();return(0,m.createElement)(Qx,{...e,key:t,id:t})},Nw=e=>{const{showId:t}=(0,ne.g)();return(0,m.createElement)(dw,{...e,key:t})},kw=({RoutesComponent:e=ne.BV})=>{const n=(0,ne.zy)();(()=>{const e=(0,Il.J)(),t=(0,m.useRef)("");(0,m.useEffect)((()=>e.block(((e,n)=>{let a=!1;for(const[t]of ob)t(e,n)&&(a=!0);const r=e.pathname+e.search+e.hash;if("PUSH"===n&&t.current===r&&(a=!0),a)return!1;t.current=r}))),[e])})();const a=(0,u.d4)((e=>e.features.enableShows)),{isAnonymous:r,productState:i}=(0,u.d4)(uo.Ht),{isWeb:o,isDesktop:l,inAppPurchasesPolicy:d}=(0,Qt.V)(),h="premium"===i?.product,p=!(0,ls.n)();(0,Dx.K)(),(()=>{const e=(0,t.NC)(xe.fLU),n=(0,ne.zy)(),a=(0,u.wA)(),r=(0,m.useRef)(n.pathname),s=(0,m.useCallback)((()=>{a((0,c.H2)())}),[a]);(0,m.useEffect)((()=>{if(r.current===n.pathname){if(e===xe.KwA.AllPagesSoftWall){const e=setTimeout(s,200);return()=>clearTimeout(e)}if((e===xe.KwA.EntityPagesSoftWall||e===xe.KwA.EntityPagesSoftWallDelayed)&&"/"!==r.current.replace(/^\/intl-[A-Za-z]{2}/i,"")){const t=e===xe.KwA.EntityPagesSoftWall?200:5e3,n=setTimeout(s,t);return()=>clearTimeout(n)}}return r.current=n.pathname,()=>{}}),[e,n.pathname,a,s])})();const{allEpisodeAdsRoute:f}={allEpisodeAdsRoute:(0,S.jsx)(ne.qh,{path:(0,Vx.c)(zx.ob),element:(0,S.jsx)(Hx,{surface:Ox.ui.PODCAST_SEE_ALL})},"all-episode-ads")},{allShowAdsRoute:g}={allShowAdsRoute:(0,S.jsx)(ne.qh,{path:(0,Bx.q)(zx.yA),element:(0,S.jsx)(Fx,{surface:Ox.ui.PODCAST_SEE_ALL})},"all-show-ads")},v=(({isDesktop:e,isPremium:t,isOffline:n})=>{const a=(0,qy.W)({type:"locale",uri:"home"});return[(0,S.jsxs)(ne.qh,{path:"/",element:(0,S.jsx)(Ly.e,{navigationalRoot:Uy.g.HOME,pageId:uy.$h.HOME,entityUri:"spotify:app:home",children:(0,S.jsx)(tx,{isDesktop:e,isPremium:t,isOffline:n})}),children:[(0,S.jsx)(ne.qh,{path:"/home",element:(0,S.jsx)(Jy,{})},"home-subfeed"),e&&t&&(0,S.jsx)(ne.qh,{path:"/music-downloads",element:(0,S.jsx)(Yy,{})},"music-downloads"),(0,S.jsx)(ne.qh,{index:!0,element:(0,S.jsx)(ex,{isDesktop:e,isPremium:t,isOffline:n})})]},"home"),a?Wy.NW.map((a=>(0,S.jsxs)(ne.qh,{path:`/${Wy.CT}${a}`,element:(0,S.jsx)(Ly.e,{navigationalRoot:Uy.g.HOME,pageId:uy.$h.HOME,entityUri:"spotify:app:home",children:(0,S.jsx)(tx,{isDesktop:e,isPremium:t,isOffline:n})}),children:[(0,S.jsx)(ne.qh,{path:`/${Wy.CT}${a}/home`,element:(0,S.jsx)(Jy,{})},"home-subfeed"),(0,S.jsx)(ne.qh,{index:!0,element:(0,S.jsx)(ex,{isDesktop:e,isPremium:t,isOffline:n})})]},"home-i18n"))):null,(0,S.jsx)(ne.qh,{path:"/section/:sectionId",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.HOME_DRILLDOWN,children:(0,S.jsx)(Xy,{})})},"home-section")]})({isDesktop:l,isPremium:h,isOffline:p}),b=(()=>{const{isLoading:e,callback:t}=Px();return cb((n=>n.pathname===Rx&&(e||t(),!0)),[e,t]),(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(ne.qh,{path:Rx,element:(0,S.jsx)(Mx,{})},Rx)})})(),y=(0,S.jsx)(ne.qh,{path:nx,element:(0,S.jsx)(ax,{})},nx),x=[(0,S.jsx)(ne.qh,{path:"/cultural-moment/hub/:id",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.CULTURALMOMENTSHUB,children:(0,S.jsx)(ky,{})})},"cultural-moment-hub")],w=fx(),A=(0,S.jsx)(ne.qh,{path:"/content-feed",element:(0,S.jsx)(Nx,{})}),_=(()=>{const e=s.Ru.getLocaleForURLPath(),t=(0,kb.p)({entityFeatureFlag:!1,urlLocale:e,entity:Vt.c.PREMIUM,type:"link"})?(0,ox.hF)("/premium"):"/premium";return(0,S.jsx)(ne.qh,{path:t,element:(0,S.jsx)(ux,{})})})(),E=(()=>{const e=s.Ru.getLocaleForURLPath(),t=(0,kb.p)({entityFeatureFlag:!1,urlLocale:e,entity:Vt.c.PREMIUM,type:"link"})?(0,ox.hF)("/premium"):"/premium";return(0,S.jsx)(ne.qh,{path:t,element:(0,S.jsx)(hx,{})})})(),j=[(0,S.jsx)(ne.qh,{path:Zv.S.PARTICIPANTS_PAGE,Component:sb},"social-session-participant-page"),(0,S.jsx)(ne.qh,{path:"/socialsession/:id",Component:ab},"social-session-invitation-fallback"),(0,S.jsx)(ne.qh,{path:"/jam/:contextType?/:id?/:play?",Component:rb},"jam-creation-fallback")],C=by(),L=yx(),I=(0,t.NC)(xe.DKh),{preferredAppToInstall:N}=(0,Qt.V)(),k=fy(),T=(0,dh.H)(),R=(0,t.NC)(xe.jEr);return(0,S.jsxs)(e,{children:[(0,S.jsx)(ne.qh,{path:"/user/:userId/collection/your-episodes",element:(0,S.jsx)(Xv.$,{to:"/collection/episodes"})}),(0,S.jsx)(ne.qh,{path:"/user/:userId/collection/album/:albumId",element:(0,S.jsx)(Xv.$,{to:"/album/:albumId"})}),(0,S.jsx)(ne.qh,{path:"/user/:userId/collection/artist/:artistId",element:(0,S.jsx)(Xv.$,{to:"/artist/:artistId/saved"})}),(0,S.jsx)(ne.qh,{path:"/user/:userId/playlist/:playlistId",element:(0,S.jsx)(Xv.$,{to:"/playlist/:playlistId"})}),(0,S.jsx)(ne.qh,{path:"/browse/genres",element:(0,S.jsx)(Xv.$,{to:"/genre/hub-browse-grid"})}),(0,S.jsx)(ne.qh,{path:"/browse/newreleases",element:(0,S.jsx)(Xv.$,{to:"/genre/new-releases-page"})}),(0,S.jsx)(ne.qh,{path:"/browse/discover",element:(0,S.jsx)(Xv.$,{to:"/genre/discover-page"})}),(0,S.jsx)(ne.qh,{path:"/browse/charts",element:(0,S.jsx)(Xv.$,{to:"/genre/browse-charts-tab"})}),(0,S.jsx)(ne.qh,{path:"/browse/featured",element:(0,S.jsx)(Xv.$,{to:"/"})}),(0,S.jsx)(ne.qh,{path:"/browse",element:(0,S.jsx)(Xv.$,{to:"/"})}),(0,S.jsx)(ne.qh,{path:`/playlist/${Wx.iU}`,element:(0,S.jsx)(Xv.$,{to:"/collection/episodes"})}),(0,S.jsx)(ne.qh,{path:`/playlist/${Wx._J}`,element:(0,S.jsx)(Xv.$,{to:"/collection/tracks"})}),qx.BG.map((e=>(0,S.jsx)(ne.qh,{path:e,element:(0,S.jsx)(Xv.$,{to:qx.yf})},e))),(0,S.jsx)(ne.qh,{path:"/internal/recs/playlist/:playlistId",element:(0,S.jsx)(Xv.$,{to:"/playlist/:playlistId"})}),(0,S.jsx)(ne.qh,{path:"/settings",element:(0,S.jsx)(Xv.$,{to:"/"})}),r?[(0,S.jsx)(ne.qh,{path:"/collection/*",element:(0,S.jsx)(Xv.$,{to:"/"})},"collection-redirect")]:[(0,S.jsx)(ne.qh,{path:"/collection",element:(0,S.jsx)(Xv.$,{to:"/collection/tracks"})},"collection-redirect")],v,b,y,x,C,L,k,w,A,"notAllowed"===d?E:_,j,(0,S.jsx)(ne.qh,{path:"/user/:userId/collection",element:(0,S.jsx)(Xv.$,{to:{search:n.search,pathname:"/collection/tracks"}})}),(0,S.jsx)(ne.qh,{path:"/search/*",element:(0,S.jsx)(Ly.e,{navigationalRoot:Uy.g.SEARCH,children:(0,S.jsx)(iw,{})})}),(0,S.jsx)(ne.qh,{path:"/recent-searches",element:(0,S.jsx)(Ly.e,{navigationalRoot:Uy.g.SEARCH,pageId:uy.$h.SEARCH_RECENT,children:(0,S.jsx)(ow,{})})}),(0,S.jsx)(ne.qh,{path:"/collection/*",element:(0,S.jsx)(Ly.e,{children:(0,S.jsx)(Sw,{RoutesComponent:e})})}),(0,S.jsx)(ne.qh,{path:"/artist/:artistId/*",element:(0,S.jsx)(Ly.e,{children:(0,S.jsx)(Cw,{})})}),(0,S.jsx)(ne.qh,{path:"/album/:albumId/*",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.ALBUM,children:(0,S.jsx)(Lw,{})})}),(0,S.jsx)(ne.qh,{path:"/prerelease/:albumId/*",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.PRERELEASE,children:(0,S.jsx)(Iw,{})})}),(0,S.jsx)(ne.qh,{path:"/playlist-format/:title",element:(0,S.jsx)(Ly.e,{children:(0,S.jsx)(sx,{isAnonymous:r})})}),(0,S.jsx)(ne.qh,{path:"/playlist-format/:title/:category",element:(0,S.jsx)(Ly.e,{children:(0,S.jsx)(sx,{isAnonymous:r})})}),(0,S.jsx)(ne.qh,{path:"/track/:trackId/*",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.TRACK,children:o?(0,S.jsx)(Yx,{}):(0,S.jsx)(Zx,{})})}),(0,S.jsx)(ne.qh,{path:"/track/:trackId/more-like-this",element:(0,S.jsx)(Cx,{})},"more-like-this-track"),(0,S.jsx)(ne.qh,{path:"/track/:trackId/playlists-with-this-song",element:(0,S.jsx)(Sx,{})},"playlists-with-this-song"),(0,S.jsx)(ne.qh,{path:"/playlist/:playlistId/see-all-ads",element:(0,S.jsx)(hy,{})}),(0,S.jsx)(ne.qh,{path:"/playlist/:playlistId/*",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.PLAYLIST,children:(0,S.jsx)(jw,{})})}),!1,(0,S.jsx)(ne.qh,{path:"/user/:username/folder/:folderId",element:(0,S.jsx)(Xv.$,{to:"/"})}),(0,S.jsx)(ne.qh,{path:"/folder/:folderId/*",element:(0,S.jsx)(Xv.$,{to:"/"})}),(0,S.jsx)(ne.qh,{path:"/user/:userId/*",element:(0,S.jsx)(Ly.e,{children:(0,S.jsx)(Jx,{})})}),(0,S.jsx)(ne.qh,{path:"/genre/corona_news_podcasts",element:(0,S.jsx)(Xv.$,{to:"/genre/corona_news_podcasts-page"})}),(0,S.jsx)(ne.qh,{path:"/genre/:viewId",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.GENRE,children:(0,S.jsx)(Ew,{})})}),(0,S.jsx)(ne.qh,{path:"/view/:viewId",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.HOME_DRILLDOWN,children:(0,S.jsx)(Ew,{})})}),(0,S.jsx)(ne.qh,{path:"/concerts-page",element:(0,S.jsx)(Xv.$,{to:"/concerts"})}),(0,S.jsx)(ne.qh,{path:"/concerts/location/:location",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.CONCERTS,children:(0,S.jsx)(rw,{})})}),(0,S.jsx)(ne.qh,{path:"/concerts/location/:location/genre/:id",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.CONCERTS,children:(0,S.jsx)(rw,{})})}),(0,S.jsx)(ne.qh,{path:"/concerts/genre/:id",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.CONCERTS,children:(0,S.jsx)(rw,{})})}),(0,S.jsx)(ne.qh,{path:"/concerts/:slug",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.CONCERTS,children:(0,S.jsx)(sw,{})})}),(0,S.jsx)(ne.qh,{path:"/concerts",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.CONCERTS,children:(0,S.jsx)(rw,{})})}),(0,S.jsx)(ne.qh,{path:"/concert/:concertId",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.CONCERTS_CONCERT,children:(0,S.jsx)(Xx,{})})}),I&&(0,S.jsx)(ne.qh,{path:"/venue/:venueId",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.VENUE,children:(0,S.jsx)(yw,{})})}),"desktop"===N&&ew,(0,S.jsx)(ne.qh,{path:"/lyrics",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.LYRICS,entityUri:"spotify:app:lyrics",children:(0,S.jsx)(mw,{})})}),(0,S.jsx)(ne.qh,{path:"/preferences",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.SETTINGS,navigationalRoot:Uy.g.SETTINGS,children:(0,S.jsx)(pw,{})})}),(0,S.jsx)(ne.qh,{path:"/premium",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.PREMIUM,entityUri:"spotify:app:premium",children:(0,S.jsx)(bw,{})})}),(0,S.jsx)(ne.qh,{path:"/radio/:entity/:id",element:(0,S.jsx)(Xv.$,{to:"/:entity/:id"})}),(0,S.jsx)(ne.qh,{path:"/station/:entity/:id",element:(0,S.jsx)(Xv.$,{to:"/:entity/:id"})}),(0,S.jsx)(ne.qh,{path:"/new/playlist",element:(0,S.jsx)(Ly.e,{children:(0,S.jsx)(lw,{})})}),(0,S.jsx)(ne.qh,{path:"/blend/taste-match/:invitationId",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.BLEND_TASTE_MATCH,children:(0,S.jsx)(fw,{})})}),(0,S.jsx)(ne.qh,{path:"/blend/invitation",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.BLEND_INVITATION,children:(0,S.jsx)(gw,{})})}),(0,S.jsx)(ne.qh,{path:"/_pong",element:(0,S.jsx)(vw,{})}),(0,S.jsx)(ne.qh,{path:"/blend/invitation-page",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.BLEND_INVITATION,children:(0,S.jsx)(gw,{})})}),(0,S.jsx)(ne.qh,{path:"/blend/ci/:playlistId",element:(0,S.jsx)(Xv.$,{to:"/playlist/:playlistId"})}),(0,S.jsx)(ne.qh,{path:"/__noul__",element:(0,S.jsx)(Ux,{})}),(0,S.jsx)(ne.qh,{path:"/__noul__/*",element:(0,S.jsx)(Ux,{})}),a?[(0,S.jsx)(ne.qh,{path:"/browse/podcasts",element:(0,S.jsx)(Xv.$,{to:"/genre/podcasts-web"})},"podcasts"),g,(0,S.jsx)(ne.qh,{path:zx.e2,element:(0,S.jsx)(Nw,{})},zx.e2),(0,S.jsx)(ne.qh,{path:"/show/:showId/more-like-this",element:o?(0,S.jsx)(bx,{}):(0,S.jsx)(Xv.$,{to:"/"})},"more-like-this-shows"),(0,S.jsx)(ne.qh,{path:"/episode/:episodeId/more-like-this",element:o?(0,S.jsx)(Ry,{}):(0,S.jsx)(Xv.$,{to:"/"})},"more-like-this-episodes"),f,(0,S.jsx)(ne.qh,{path:zx.Ch,element:(0,S.jsx)(hw,{})},"episode")]:[(0,S.jsx)(ne.qh,{path:"/browse/podcasts",element:(0,S.jsx)(Xv.$,{to:"/"})},"podcasts"),(0,S.jsx)(ne.qh,{path:"/show/*",element:(0,S.jsx)(Xv.$,{to:"/"})},"show"),(0,S.jsx)(ne.qh,{path:"/episode/*",element:(0,S.jsx)(Xv.$,{to:"/"})},"episode")],(0,S.jsx)(ne.qh,{path:"/site/:lookupToken",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.THESTAGE,children:(0,S.jsx)(xw,{})})}),(0,S.jsx)(ne.qh,{path:"/presents/:lookupToken",element:(0,S.jsx)(Ly.e,{pageId:uy.$h.THESTAGE,children:(0,S.jsx)(xw,{})})}),(0,S.jsx)(ne.qh,{path:"/popular-in/:country",element:(0,S.jsx)(Sy,{})}),(0,S.jsx)(ne.qh,{path:"/popular-all/:contentId/:country",element:(0,S.jsx)(Cy,{})}),(0,S.jsx)(ne.qh,{path:"/label/:labelId",element:R?(0,S.jsx)(ww,{}):(0,S.jsx)(Xv.$,{to:"/"})}),(0,S.jsx)(ne.qh,{path:"/label/:labelId/albums/top",element:R?(0,S.jsx)(Aw,{}):(0,S.jsx)(Xv.$,{to:"/"})}),(0,S.jsx)(ne.qh,{path:"/label/:labelId/albums/latest",element:R?(0,S.jsx)(Aw,{}):(0,S.jsx)(Xv.$,{to:"/"})}),(0,S.jsx)(ne.qh,{path:"/label/:labelId/artists",element:R?(0,S.jsx)(_w,{}):(0,S.jsx)(Xv.$,{to:"/"})}),Wy.NW.map((e=>((e,t)=>[(0,S.jsx)(ne.qh,{path:`/${Wy.CT}${t}/track/:trackId`,element:(0,S.jsx)(Ly.e,{pageId:uy.$h.TRACK,children:e?(0,S.jsx)(Yx,{}):(0,S.jsx)(Zx,{})})},"locale_track"),(0,S.jsx)(ne.qh,{path:`/${Wy.CT}${t}/track/:trackId/more-like-this`,element:(0,S.jsx)(Ly.e,{pageId:uy.$h.TRACK,children:(0,S.jsx)(Cx,{})})},"locale_track_more_like_this"),(0,S.jsx)(ne.qh,{path:`/${Wy.CT}${t}/artist/:artistId/*`,element:(0,S.jsx)(Ly.e,{children:(0,S.jsx)(Cw,{})})},"locale_artist"),(0,S.jsx)(ne.qh,{path:`/${Wy.CT}${t}/album/:albumId`,element:(0,S.jsx)(Ly.e,{pageId:uy.$h.ALBUM,children:(0,S.jsx)(Lw,{})})},"locale_album"),(0,S.jsx)(ne.qh,{path:`/${Wy.CT}${t}/premium`,element:(0,S.jsx)(Ly.e,{pageId:uy.$h.PREMIUM,entityUri:"spotify:app:premium",children:(0,S.jsx)(bw,{})})},"locale_premium"),(0,S.jsx)(ne.qh,{path:`/${Wy.CT}${t}/popular-in/:country`,element:(0,S.jsx)(Sy,{})},"locale_country_hub"),(0,S.jsx)(ne.qh,{path:`/${Wy.CT}${t}/popular-all/:contentId/:country`,element:(0,S.jsx)(Cy,{})},"locale_country_hub_section")])(o,e))),null,!1,T?(0,S.jsx)(ne.qh,{path:"/author/:authorId/*",element:(0,S.jsx)(yy,{})}):null]})},Tw=(0,m.memo)((function(){return(()=>{const[e,n]=(0,m.useState)(),a=(0,fe.vh)(),r=(0,u.d4)(jb.JJ),s=(0,Ks.V)(),i=(0,t.NC)(xe.HI4),o=(0,m.useCallback)((()=>{const e=performance.mark("pageEnd");n(e.startTime/1e3)}),[n]);(0,m.useEffect)((()=>(window.addEventListener("load",o),()=>{window.removeEventListener("load",o)})),[o]),(0,m.useEffect)((()=>{if(e){const t=ny({action:"load-time",context:JSON.stringify({loadTime:`${e.toFixed(2)}s`}),country:r,variant:i});s?a.send((0,ty.r)(t)):a.send((0,ey._)(t))}}),[r,a,s,e,i])})(),(()=>{const e=(0,fe.vh)(),n=(0,u.d4)(jb.JJ),a=(0,Ks.V)(),r=(0,t.NC)(xe.HI4),s=(0,ay.d)();(0,m.useEffect)((()=>{const t=setTimeout((()=>{const t=ly(performance.getEntriesByType("resource"),s);if(Object.keys(t).length>0){const s=ny({action:"bytes-transferred-latency-per-resource",context:JSON.stringify(t),country:n,variant:r});a?e.send((0,ty.r)(s)):e.send((0,ey._)(s))}}),1e4);return()=>clearTimeout(t)}),[n,e,a,s,r])})(),(0,S.jsx)(Xb,{children:(0,S.jsx)(m.Suspense,{fallback:(0,S.jsx)($t.LoadingPage,{hasError:!1,errorMessage:"",loadOffline:!0}),children:(0,S.jsx)(kw,{})})})}));var Rw=o(94392),Pw=o(45072);const Mw=({registry:e,children:t})=>{const n=(0,m.useContext)(Rw.N);return null!==n&&(e=(0,Pw.I)([e,n])),(0,S.jsx)(Rw.N.Provider,{value:e,children:t})};var Dw=o(38260);const Ow=({store:e,platform:t})=>{const n=[(0,S.jsx)(ka.IF,{}),(0,S.jsx)(Qt.j,{}),(0,S.jsx)(Dt.GM,{}),(0,S.jsx)(l.vd,{}),(0,S.jsx)(Kt.xy,{}),(0,S.jsx)(I.wI,{}),(0,S.jsx)(ce.Pj,{}),(0,S.jsx)(Mt.nI,{}),(0,S.jsx)(d.SF,{}),(0,S.jsx)(h.id,{}),(0,S.jsx)(Dw.k7,{}),(0,S.jsx)(qt.o,{}),(0,S.jsx)(Dd.yd,{}),(0,S.jsx)(Ot.d,{eventSender:t.getEventSender()}),(0,S.jsx)(Bt,{}),(0,S.jsx)(Ut,{})];return(0,S.jsx)(Gt,{history:t.getHistory(),children:(0,S.jsx)(p.s,{onError:e=>(0,Nn.Jy)(e,"App"),Fallback:L,children:(0,S.jsx)(u.Kq,{store:e,children:(0,S.jsx)(Mw,{registry:t.getRegistry(),children:(0,S.jsxs)(Pt,{platform:t,children:[(0,S.jsx)(se,{eventSender:t.getEventSender()}),(0,S.jsxs)(xt,{providers:n,children:[(0,S.jsx)(K,{}),(0,S.jsx)(M,{}),(0,S.jsx)(Tw,{})]})]})})})})})},Vw="POP",zw="PUSH",Hw="REPLACE";function Bw(e,t){return{canGoBack:e>0,canGoForward:e<t.length-1}}var Fw=o(57811);o(27264),o(94539);const Uw=!1;function qw(e){Uw}var Ww=o(93016),Gw=o(80857);const Kw=e=>{window?.performance?.mark&&e&&window.performance.mark(e)},Qw=(e,t,n)=>window?.performance?.measure&&window?.performance?.getEntriesByName&&e&&t&&n?(window.performance.measure(n,e,t),window.performance.getEntriesByName(n)):[];var $w=o(8985);function Zw(e){return e.container===Oa.m.Desktop}var Yw=o(12322),Jw=o(88335);const Xw=(0,Yw._C)((()=>{const e=1e3*(0,Jw.zf)();return{name:"SessionTiming",processEvent(t){const n=1e3*(0,Jw.zf)();return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}}}}}));var eA=o(1587),tA=o(88283),nA=o(10928),aA=o(92397),rA=o(8141),sA=o(60603),iA=o(66664),oA=o(43642),cA=o(18305),lA=o(58252),uA=o(98935);const dA=(e,t,n,a)=>{let r,s;return i=>{t.value>=0&&(i||a)&&(s=t.value-(r||0),(s||void 0===r)&&(r=t.value,t.delta=s,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,n),e(t)))}},hA=(e=!0)=>{const t=sA.j.performance&&sA.j.performance.getEntriesByType&&sA.j.performance.getEntriesByType("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},pA=()=>{const e=hA();return e&&e.activationStart||0},mA=(e,t)=>{const n=hA();let a="navigate";n&&(sA.j.document&&sA.j.document.prerendering||pA()>0?a="prerender":sA.j.document&&sA.j.document.wasDiscarded?a="restore":n.type&&(a=n.type.replace(/_/g,"-")));return{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v4-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:a}},fA=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const a=new PerformanceObserver((e=>{Promise.resolve().then((()=>{t(e.getEntries())}))}));return a.observe(Object.assign({type:e,buffered:!0},n||{})),a}}catch(e){}},gA=e=>{const t=t=>{("pagehide"===t.type||sA.j.document&&"hidden"===sA.j.document.visibilityState)&&e(t)};sA.j.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},vA=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let bA=-1;const yA=e=>{"hidden"===sA.j.document.visibilityState&&bA>-1&&(bA="visibilitychange"===e.type?e.timeStamp:0,xA())},xA=()=>{removeEventListener("visibilitychange",yA,!0),removeEventListener("prerenderingchange",yA,!0)},wA=()=>(sA.j.document&&bA<0&&(bA="hidden"!==sA.j.document.visibilityState||sA.j.document.prerendering?1/0:0,addEventListener("visibilitychange",yA,!0),addEventListener("prerenderingchange",yA,!0)),{get firstHiddenTime(){return bA}}),AA=e=>{sA.j.document&&sA.j.document.prerendering?addEventListener("prerenderingchange",(()=>e()),!0):e()},_A=[1800,3e3],EA=[.1,.25],SA=(e,t={})=>{((e,t={})=>{AA((()=>{const n=wA(),a=mA("FCP");let r;const s=fA("paint",(e=>{e.forEach((e=>{"first-contentful-paint"===e.name&&(s.disconnect(),e.startTime<n.firstHiddenTime&&(a.value=Math.max(e.startTime-pA(),0),a.entries.push(e),r(!0)))}))}));s&&(r=dA(e,a,_A,t.reportAllChanges))}))})(vA((()=>{const n=mA("CLS",0);let a,r=0,s=[];const i=e=>{e.forEach((e=>{if(!e.hadRecentInput){const t=s[0],n=s[s.length-1];r&&t&&n&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(r+=e.value,s.push(e)):(r=e.value,s=[e])}})),r>n.value&&(n.value=r,n.entries=s,a())},o=fA("layout-shift",i);o&&(a=dA(e,n,EA,t.reportAllChanges),gA((()=>{i(o.takeRecords()),a(!0)})),setTimeout(a,0))})))},jA=[100,300];let CA=0,LA=1/0,IA=0;const NA=e=>{e.forEach((e=>{e.interactionId&&(LA=Math.min(LA,e.interactionId),IA=Math.max(IA,e.interactionId),CA=IA?(IA-LA)/7+1:0)}))};let kA;const TA=()=>{"interactionCount"in performance||kA||(kA=fA("event",NA,{type:"event",buffered:!0,durationThreshold:0}))},RA=[],PA=new Map;const MA=()=>(kA?CA:performance.interactionCount||0)-0,DA=[],OA=e=>{if(DA.forEach((t=>t(e))),!e.interactionId&&"first-input"!==e.entryType)return;const t=RA[RA.length-1],n=PA.get(e.interactionId);if(n||RA.length<10||t&&e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===(n.entries[0]&&n.entries[0].startTime)&&n.entries.push(e);else{const t={id:e.interactionId,latency:e.duration,entries:[e]};PA.set(t.id,t),RA.push(t)}RA.sort(((e,t)=>t.latency-e.latency)),RA.length>10&&RA.splice(10).forEach((e=>PA.delete(e.id)))}},VA=e=>{const t=sA.j.requestIdleCallback||sA.j.setTimeout;let n=-1;return e=vA(e),sA.j.document&&"hidden"===sA.j.document.visibilityState?e():(n=t(e),gA(e)),n},zA=[200,500],HA=(e,t={})=>{"PerformanceEventTiming"in sA.j&&"interactionId"in PerformanceEventTiming.prototype&&AA((()=>{TA();const n=mA("INP");let a;const r=e=>{VA((()=>{e.forEach(OA);const t=(()=>{const e=Math.min(RA.length-1,Math.floor(MA()/50));return RA[e]})();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,a())}))},s=fA("event",r,{durationThreshold:null!=t.durationThreshold?t.durationThreshold:40});a=dA(e,n,zA,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),gA((()=>{r(s.takeRecords()),a(!0)})))}))},BA=[2500,4e3],FA={},UA=[800,1800],qA=e=>{sA.j.document&&sA.j.document.prerendering?AA((()=>qA(e))):sA.j.document&&"complete"!==sA.j.document.readyState?addEventListener("load",(()=>qA(e)),!0):setTimeout(e,0)},WA={},GA={};let KA,QA,$A,ZA,YA;function JA(e,t=!1){return i_("cls",e,t_,KA,t)}function XA(e,t){return o_(e,t),GA[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);fA(e,(t=>{e_(e,{entries:t})}),t)}(e),GA[e]=!0),c_(e,t)}function e_(e,t){const n=WA[e];if(n&&n.length)for(const a of n)try{a(t)}catch(t){lA.T&&oA.vF.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${(0,uA.qQ)(a)}\nError:`,t)}}function t_(){return SA((e=>{e_("cls",{metric:e}),KA=e}),{reportAllChanges:!0})}function n_(){return((e,t={})=>{AA((()=>{const n=wA(),a=mA("FID");let r;const s=e=>{e.startTime<n.firstHiddenTime&&(a.value=e.processingStart-e.startTime,a.entries.push(e),r(!0))},i=e=>{e.forEach(s)},o=fA("first-input",i);r=dA(e,a,jA,t.reportAllChanges),o&&gA(vA((()=>{i(o.takeRecords()),o.disconnect()})))}))})((e=>{e_("fid",{metric:e}),QA=e}))}function a_(){return((e,t={})=>{AA((()=>{const n=wA(),a=mA("LCP");let r;const s=e=>{t.reportAllChanges||(e=e.slice(-1)),e.forEach((e=>{e.startTime<n.firstHiddenTime&&(a.value=Math.max(e.startTime-pA(),0),a.entries=[e],r())}))},i=fA("largest-contentful-paint",s);if(i){r=dA(e,a,BA,t.reportAllChanges);const n=vA((()=>{FA[a.id]||(s(i.takeRecords()),i.disconnect(),FA[a.id]=!0,r(!0))}));["keydown","click"].forEach((e=>{sA.j.document&&addEventListener(e,(()=>VA(n)),{once:!0,capture:!0})})),gA(n)}}))})((e=>{e_("lcp",{metric:e}),$A=e}),{reportAllChanges:!0})}function r_(){return((e,t={})=>{const n=mA("TTFB"),a=dA(e,n,UA,t.reportAllChanges);qA((()=>{const e=hA();e&&(n.value=Math.max(e.responseStart-pA(),0),n.entries=[e],a(!0))}))})((e=>{e_("ttfb",{metric:e}),ZA=e}))}function s_(){return HA((e=>{e_("inp",{metric:e}),YA=e}))}function i_(e,t,n,a,r=!1){let s;return o_(e,t),GA[e]||(s=n(),GA[e]=!0),a&&t({metric:a}),c_(e,t,r?s:void 0)}function o_(e,t){WA[e]=WA[e]||[],WA[e].push(t)}function c_(e,t,n){return()=>{n&&n();const a=WA[e];if(!a)return;const r=a.indexOf(t);-1!==r&&a.splice(r,1)}}var l_=o(68676);function u_(e){return"number"==typeof e&&isFinite(e)}function d_(e,t,n,{...a}){const r=(0,eA.et)(e).start_timestamp;return r&&r>t&&"function"==typeof e.updateStartTime&&e.updateStartTime(t),(0,l_.hb)(e,(()=>{const e=(0,l_.Uk)({startTime:t,...a});return e&&e.end(n),e}))}function h_(e){const t=(0,iA.KU)();if(!t)return;const{name:n,transaction:a,attributes:r,startTime:s}=e,{release:i,environment:o}=t.getOptions(),c=t.getIntegrationByName("Replay"),l=c&&c.getReplayId(),u=(0,iA.o5)(),d=u.getUser(),h=void 0!==d?d.email||d.id||d.ip_address:void 0;let p;try{p=u.getScopeData().contexts.profile.profile_id}catch(e){}const m={release:i,environment:o,user:h||void 0,profile_id:p||void 0,replay_id:l||void 0,transaction:a,"user_agent.original":sA.j.navigator&&sA.j.navigator.userAgent,...r};return(0,l_.Uk)({name:n,attributes:m,startTime:s,experimental:{standalone:!0}})}function p_(){return sA.j&&sA.j.addEventListener&&sA.j.performance}function m_(e){return e/1e3}function f_(){let e,t,n=0;if(!function(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch(e){return!1}}())return;let a=!1;function r(){a||(a=!0,t&&function(e,t,n){lA.T&&oA.vF.log(`Sending CLS span (${e})`);const a=m_((Jw.k3||0)+(t&&t.startTime||0)),r=(0,iA.o5)().getScopeData().transactionName,s=t?(0,nA.Hd)(t.sources[0]&&t.sources[0].node):"Layout shift",i=(0,cA.Ce)({[tA.JD]:"auto.http.browser.cls",[tA.uT]:"ui.webvital.cls",[tA.jG]:t&&t.duration||0,"sentry.pageload.span_id":n}),o=h_({name:s,transaction:r,attributes:i,startTime:a});o&&(o.addEvent("cls",{[tA.Sn]:"",[tA.xc]:e}),o.end(a))}(n,e,t),s())}const s=JA((({metric:t})=>{const a=t.entries[t.entries.length-1];a&&(n=t.value,e=a)}),!0);gA((()=>{r()})),setTimeout((()=>{const e=(0,iA.KU)();if(!e)return;const n=e.on("startNavigationSpan",(()=>{r(),n&&n()})),a=(0,eA.Bk)(),s=a&&(0,eA.zU)(a),i=s&&(0,eA.et)(s);i&&"pageload"===i.op&&(t=s.spanContext().spanId)}),0)}let g_,v_,b_=0,y_={};function x_({recordClsStandaloneSpans:e}){const t=p_();if(t&&Jw.k3){t.mark&&sA.j.performance.mark("sentry-tracing-init");const n=i_("fid",(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=m_(Jw.k3),a=m_(t.startTime);y_.fid={value:e.value,unit:"millisecond"},y_["mark.fid"]={value:n+a,unit:"second"}}),n_,QA),a=function(e,t=!1){return i_("lcp",e,a_,$A,t)}((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(y_.lcp={value:e.value,unit:"millisecond"},g_=t)}),!0),r=function(e){return i_("ttfb",e,r_,ZA)}((({metric:e})=>{e.entries[e.entries.length-1]&&(y_.ttfb={value:e.value,unit:"millisecond"})})),s=e?f_():JA((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(y_.cls={value:e.value,unit:""},v_=t)}),!0);return()=>{n(),a(),r(),s&&s()}}return()=>{}}function w_(e,t){const n=p_();if(!n||!n.getEntries||!Jw.k3)return;const a=m_(Jw.k3),r=n.getEntries(),{op:s,start_timestamp:i}=(0,eA.et)(e);if(r.slice(b_).forEach((t=>{const n=m_(t.startTime),r=m_(Math.max(0,t.duration));if(!("navigation"===s&&i&&a+n<i))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((a=>{A_(e,t,a,n)})),A_(e,t,"secureConnection",n,"TLS/SSL"),A_(e,t,"fetch",n,"cache"),A_(e,t,"domainLookup",n,"DNS"),function(e,t,n){const a=n+m_(t.requestStart),r=n+m_(t.responseEnd),s=n+m_(t.responseStart);t.responseEnd&&(d_(e,a,r,{op:"browser.request",name:t.name,attributes:{[tA.JD]:"auto.ui.browser.metrics"}}),d_(e,s,r,{op:"browser.response",name:t.name,attributes:{[tA.JD]:"auto.ui.browser.metrics"}}))}(e,t,n)}(e,t,a);break;case"mark":case"paint":case"measure":{!function(e,t,n,a,r){const s=hA(!1),i=m_(s?s.requestStart:0),o=r+Math.max(n,i),c=r+n,l=c+a,u={[tA.JD]:"auto.resource.browser.metrics"};o!==c&&(u["sentry.browser.measure_happened_before_request"]=!0,u["sentry.browser.measure_start_time"]=o);d_(e,o,l,{name:t.name,op:t.entryType,attributes:u})}(e,t,n,r,a);const s=wA(),i=t.startTime<s.firstHiddenTime;"first-paint"===t.name&&i&&(y_.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&i&&(y_.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,a,r,s){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const i=(0,rA.Dl)(n),o={[tA.JD]:"auto.resource.browser.metrics"};__(o,t,"transferSize","http.response_transfer_size"),__(o,t,"encodedBodySize","http.response_content_length"),__(o,t,"decodedBodySize","http.decoded_response_content_length");const c=t.deliveryType;null!=c&&(o["http.response_delivery_type"]=c);const l=t.renderBlockingStatus;l&&(o["resource.render_blocking_status"]=l);i.protocol&&(o["url.scheme"]=i.protocol.split(":").pop());i.host&&(o["server.address"]=i.host);o["url.same_origin"]=n.includes(sA.j.location.origin);const u=s+a,d=u+r;d_(e,u,d,{name:n.replace(sA.j.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:o})}(e,t,t.name,n,r,a)}})),b_=Math.max(r.length-1,0),function(e){const t=sA.j.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),u_(n.rtt)&&(y_["connection.rtt"]={value:n.rtt,unit:"millisecond"}));u_(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`);u_(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===s){!function(e){const t=hA(!1);if(!t)return;const{responseStart:n,requestStart:a}=t;a<=n&&(e["ttfb.requestTime"]={value:n-a,unit:"millisecond"})}(y_);const n=y_["mark.fid"];n&&y_.fid&&(d_(e,n.value,n.value+m_(y_.fid.value),{name:"first input delay",op:"ui.action",attributes:{[tA.JD]:"auto.ui.browser.metrics"}}),delete y_["mark.fid"]),"fcp"in y_&&t.recordClsOnPageloadSpan||delete y_.cls,Object.entries(y_).forEach((([e,t])=>{(0,aA.X)(e,t.value,t.unit)})),e.setAttribute("performance.timeOrigin",a),e.setAttribute("performance.activationStart",pA()),function(e){g_&&(g_.element&&e.setAttribute("lcp.element",(0,nA.Hd)(g_.element)),g_.id&&e.setAttribute("lcp.id",g_.id),g_.url&&e.setAttribute("lcp.url",g_.url.trim().slice(0,200)),null!=g_.loadTime&&e.setAttribute("lcp.loadTime",g_.loadTime),null!=g_.renderTime&&e.setAttribute("lcp.renderTime",g_.renderTime),e.setAttribute("lcp.size",g_.size));v_&&v_.sources&&v_.sources.forEach(((t,n)=>e.setAttribute(`cls.source.${n+1}`,(0,nA.Hd)(t.node))))}(e)}g_=void 0,v_=void 0,y_={}}function A_(e,t,n,a,r=n){const s=function(e){if("secureConnection"===e)return"connectEnd";if("fetch"===e)return"domainLookupStart";return`${e}End`}(n),i=t[s],o=t[`${n}Start`];o&&i&&d_(e,a+m_(o),a+m_(i),{op:`browser.${r}`,name:t.name,attributes:{[tA.JD]:"auto.ui.browser.metrics"}})}function __(e,t,n,a){const r=t[n];null!=r&&r<2147483647&&(e[a]=r)}const E_=[],S_=new Map;function j_(){if(p_()&&Jw.k3){const e=i_("inp",(({metric:e})=>{if(null==e.value)return;const t=e.entries.find((t=>t.duration===e.value&&C_[t.name]));if(!t)return;const{interactionId:n}=t,a=C_[t.name],r=m_(Jw.k3+t.startTime),s=m_(e.value),i=(0,eA.Bk)(),o=i?(0,eA.zU)(i):void 0,c=(null!=n?S_.get(n):void 0)||o,l=c?(0,eA.et)(c).description:(0,iA.o5)().getScopeData().transactionName,u=h_({name:(0,nA.Hd)(t.target),transaction:l,attributes:(0,cA.Ce)({[tA.JD]:"auto.http.browser.inp",[tA.uT]:`ui.interaction.${a}`,[tA.jG]:t.duration}),startTime:r});u&&(u.addEvent("inp",{[tA.Sn]:"millisecond",[tA.xc]:e.value}),u.end(r+s))}),s_,YA);return()=>{e()}}return()=>{}}const C_={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};var L_=o(4004),I_=o(85402),N_=o(44165),k_=o(5285),T_=o(48276),R_=o(39399);const P_={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function M_(e,t={}){const n=new Map;let a,r=!1,s="externalFinish",i=!t.disableAutoFinish;const o=[],{idleTimeout:c=P_.idleTimeout,finalTimeout:l=P_.finalTimeout,childSpanTimeout:u=P_.childSpanTimeout,beforeSpanEnd:d}=t,h=(0,iA.KU)();if(!h||!(0,N_.w)())return new T_.w;const p=(0,iA.o5)(),m=(0,eA.Bk)(),f=function(e){const t=(0,l_.Uk)(e);return(0,k_.r)((0,iA.o5)(),t),I_.T&&oA.vF.log("[Tracing] Started span is an idle span"),t}(e);function g(){a&&(clearTimeout(a),a=void 0)}function v(e){g(),a=setTimeout((()=>{!r&&0===n.size&&i&&(s="idleTimeout",f.end(e))}),c)}function b(e){a=setTimeout((()=>{!r&&i&&(s="heartbeatFailed",f.end(e))}),u)}function y(e){r=!0,n.clear(),o.forEach((e=>e())),(0,k_.r)(p,m);const t=(0,eA.et)(f),{start_timestamp:a}=t;if(!a)return;(t.data||{})[tA.fs]||f.setAttribute(tA.fs,s),oA.vF.log(`[Tracing] Idle span "${t.op}" finished`);const i=(0,eA.xO)(f).filter((e=>e!==f));let u=0;i.forEach((t=>{t.isRecording()&&(t.setStatus({code:R_.TJ,message:"cancelled"}),t.end(e),I_.T&&oA.vF.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));const n=(0,eA.et)(t),{timestamp:a=0,start_timestamp:r=0}=n,s=r<=e,i=a-r<=(l+c)/1e3;if(I_.T){const e=JSON.stringify(t,void 0,2);s?i||oA.vF.log("[Tracing] Discarding span since it finished after idle span final timeout",e):oA.vF.log("[Tracing] Discarding span since it happened after idle span was finished",e)}i&&s||((0,eA.VS)(f,t),u++)})),u>0&&f.setAttribute("sentry.idle_span_discarded_spans",u)}return f.end=new Proxy(f.end,{apply(e,t,n){d&&d(f);const[a,...r]=n,s=a||(0,Jw.zf)(),i=(0,eA.cI)(s),o=(0,eA.xO)(f).filter((e=>e!==f));if(!o.length)return y(i),Reflect.apply(e,t,[i,...r]);const c=o.map((e=>(0,eA.et)(e).timestamp)).filter((e=>!!e)),u=c.length?Math.max(...c):void 0,h=(0,eA.et)(f).start_timestamp,p=Math.min(h?h+l/1e3:1/0,Math.max(h||-1/0,Math.min(i,u||1/0)));return y(p),Reflect.apply(e,t,[p,...r])}}),o.push(h.on("spanStart",(e=>{if(r||e===f||(0,eA.et)(e).timestamp)return;var t;(0,eA.xO)(f).includes(e)&&(t=e.spanContext().spanId,g(),n.set(t,!0),b((0,Jw.zf)()+u/1e3))}))),o.push(h.on("spanEnd",(e=>{var t;r||(t=e.spanContext().spanId,n.has(t)&&n.delete(t),0===n.size&&v((0,Jw.zf)()+c/1e3))}))),o.push(h.on("idleSpanEnableAutoFinish",(e=>{e===f&&(i=!0,v(),n.size&&b())}))),t.disableAutoFinish||v(),setTimeout((()=>{r||(f.setStatus({code:R_.TJ,message:"deadline_exceeded"}),s="finalTimeout",f.end())}),l),f}var D_=o(7347),O_=o(41115);let V_=!1;function z_(){const e=(0,eA.Bk)(),t=e&&(0,eA.zU)(e);if(t){const e="internal_error";I_.T&&oA.vF.log(`[Tracing] Root span: ${e} -> Global error occurred`),t.setStatus({code:R_.TJ,message:e})}}z_.tag="sentry_tracingErrorCallback";var H_=o(26327),B_=o(33414),F_=o(97470),U_=o(62571),q_=o(54536),W_=o(78027);var G_=o(74772),K_=o(27972),Q_=o(82186),$_=o(7330),Z_=o(86928),Y_=o(63560),J_=o(18611);function X_(e={}){const t=(0,iA.KU)();if(!(0,J_.Ol)()||!t)return{};const n=(0,Y_.E)(),a=(0,Z_.h)(n);if(a.getTraceData)return a.getTraceData(e);const r=(0,iA.o5)(),s=e.span||(0,eA.Bk)(),i=s?(0,eA.Qh)(s):function(e){const{traceId:t,sampled:n,spanId:a}=e.getPropagationContext();return(0,B_.TC)(t,a,n)}(r),o=s?(0,F_.k1)(s):(0,F_.ao)(t,r),c=(0,$_.De)(o);return B_.MI.test(i)?{"sentry-trace":i,baggage:c}:(oA.vF.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function eE(e,t,n,a,r="auto.http.browser"){if(!e.fetchData)return;const s=(0,N_.w)()&&t(e.fetchData.url);if(e.endTimestamp&&s){const t=e.fetchData.__span;if(!t)return;const n=a[t];return void(n&&(!function(e,t){if(t.response){(0,R_.N8)(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus({code:R_.TJ,message:"internal_error"});e.end()}(n,e),delete a[t]))}const{method:i,url:o}=e.fetchData,c=function(e){try{return new URL(e).href}catch(e){return}}(o),l=c?(0,rA.Dl)(c).host:void 0,u=!!(0,eA.Bk)(),d=s&&u?(0,l_.Uk)({name:`${i} ${o}`,attributes:{url:o,type:"fetch","http.method":i,"http.url":c,"server.address":l,[tA.JD]:r,[tA.uT]:"http.client"}}):new T_.w;if(e.fetchData.__span=d.spanContext().spanId,a[d.spanContext().spanId]=d,n(e.fetchData.url)){const t=e.args[0],n=e.args[1]||{},a=tE(t,n,(0,N_.w)()&&u?d:void 0);a&&(e.args[1]=n,n.headers=a)}return d}function tE(e,t,n){const a=X_({span:n}),r=a["sentry-trace"],s=a.baggage;if(!r)return;const i=t.headers||(function(e){return"undefined"!=typeof Request&&(0,Q_.tH)(e,Request)}(e)?e.headers:void 0);if(i){if(function(e){return"undefined"!=typeof Headers&&(0,Q_.tH)(e,Headers)}(i)){const e=new Headers(i);if(e.set("sentry-trace",r),s){const t=e.get("baggage");if(t){const n=nE(t);e.set("baggage",n?`${n},${s}`:s)}else e.set("baggage",s)}return e}if(Array.isArray(i)){const e=[...i.filter((e=>!(Array.isArray(e)&&"sentry-trace"===e[0]))).map((e=>{if(Array.isArray(e)&&"baggage"===e[0]&&"string"==typeof e[1]){const[t,n,...a]=e;return[t,nE(n),...a]}return e})),["sentry-trace",r]];return s&&e.push(["baggage",s]),e}{const e="baggage"in i?i.baggage:void 0;let t=[];return Array.isArray(e)?t=e.map((e=>"string"==typeof e?nE(e):e)).filter((e=>""===e)):e&&t.push(nE(e)),s&&t.push(s),{...i,"sentry-trace":r,baggage:t.length>0?t.join(","):void 0}}}return{...a}}function nE(e){return e.split(",").filter((e=>!e.split("=")[0].startsWith($_.sv))).join(",")}var aE=o(95627);const rE=new WeakMap,sE=new Map,iE={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function oE(e,t){const{traceFetch:n,traceXHR:a,trackFetchStreamPerformance:r,shouldCreateSpanForRequest:s,enableHTTPTimings:i,tracePropagationTargets:o}={traceFetch:iE.traceFetch,traceXHR:iE.traceXHR,trackFetchStreamPerformance:iE.trackFetchStreamPerformance,...t},c="function"==typeof s?s:e=>!0,l=e=>function(e,t){const n=W_.jf.location&&W_.jf.location.href;if(n){let a,r;try{a=new URL(e,n),r=new URL(n).origin}catch(e){return!1}const s=a.origin===r;return t?(0,aE.Xr)(a.toString(),t)||s&&(0,aE.Xr)(a.pathname,t):s}{const n=!!e.match(/^\/(?!\/)/);return t?(0,aE.Xr)(e,t):n}}(e,o),u={};n&&(e.addEventProcessor((e=>("transaction"===e.type&&e.spans&&e.spans.forEach((e=>{if("http.client"===e.op){const t=sE.get(e.span_id);t&&(e.timestamp=t/1e3,sE.delete(e.span_id))}})),e))),r&&(0,K_.B$)((e=>{if(e.response){const t=rE.get(e.response);t&&e.endTimestamp&&sE.set(t,e.endTimestamp)}})),(0,K_.ur)((e=>{const t=eE(e,c,l,u);if(e.response&&e.fetchData.__span&&rE.set(e.response,e.fetchData.__span),t){const n=uE(e.fetchData.url),a=n?(0,rA.Dl)(n).host:void 0;t.setAttributes({"http.url":n,"server.address":a})}i&&t&&cE(t)}))),a&&(0,G_.Mn)((e=>{const t=function(e,t,n,a){const r=e.xhr,s=r&&r[G_.Er];if(!r||r.__sentry_own_request__||!s)return;const i=(0,N_.w)()&&t(s.url);if(e.endTimestamp&&i){const e=r.__sentry_xhr_span_id__;if(!e)return;const t=a[e];return void(t&&void 0!==s.status_code&&((0,R_.N8)(t,s.status_code),t.end(),delete a[e]))}const o=uE(s.url),c=o?(0,rA.Dl)(o).host:void 0,l=!!(0,eA.Bk)(),u=i&&l?(0,l_.Uk)({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":o,url:s.url,"server.address":c,[tA.JD]:"auto.http.browser",[tA.uT]:"http.client"}}):new T_.w;r.__sentry_xhr_span_id__=u.spanContext().spanId,a[r.__sentry_xhr_span_id__]=u,n(s.url)&&function(e,t){const{"sentry-trace":n,baggage:a}=X_({span:t});n&&function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader("baggage",n)}catch(e){}}(e,n,a)}(r,(0,N_.w)()&&l?u:void 0);return u}(e,c,l,u);i&&t&&cE(t)}))}function cE(e){const{url:t}=(0,eA.et)(e).data||{};if(!t||"string"!=typeof t)return;const n=XA("resource",(({entries:a})=>{a.forEach((a=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(a)&&a.name.endsWith(t)){const t=function(e){const{name:t,version:n}=function(e){let t="unknown",n="unknown",a="";for(const r of e){if("/"===r){[t,n]=e.split("/");break}if(!isNaN(Number(r))){t="h"===a?"http":a,n=e.split(a)[1];break}a+=r}a===e&&(t=a);return{name:t,version:n}}(e.nextHopProtocol),a=[];if(a.push(["network.protocol.version",n],["network.protocol.name",t]),!Jw.k3)return a;return[...a,["http.request.redirect_start",lE(e.redirectStart)],["http.request.fetch_start",lE(e.fetchStart)],["http.request.domain_lookup_start",lE(e.domainLookupStart)],["http.request.domain_lookup_end",lE(e.domainLookupEnd)],["http.request.connect_start",lE(e.connectStart)],["http.request.secure_connection_start",lE(e.secureConnectionStart)],["http.request.connection_end",lE(e.connectEnd)],["http.request.request_start",lE(e.requestStart)],["http.request.response_start",lE(e.responseStart)],["http.request.response_end",lE(e.responseEnd)]]}(a);t.forEach((t=>e.setAttribute(...t))),setTimeout(n)}}))}))}function lE(e=0){return((Jw.k3||performance.timeOrigin)+e)/1e3}function uE(e){try{return new URL(e,W_.jf.location.origin).href}catch(e){return}}const dE={...P_,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...iE},hE=(e={})=>{V_||(V_=!0,(0,D_.L)(z_),(0,O_.r)(z_));const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:a,_experiments:{enableInteractions:r,enableStandaloneClsSpans:s},beforeStartSpan:i,idleTimeout:o,finalTimeout:c,childSpanTimeout:l,markBackgroundSpan:u,traceFetch:d,traceXHR:h,trackFetchStreamPerformance:p,shouldCreateSpanForRequest:m,enableHTTPTimings:f,instrumentPageLoad:g,instrumentNavigation:v}={...dE,...e},b=x_({recordClsStandaloneSpans:s||!1});t&&j_(),a&&H_.O.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?new PerformanceObserver((e=>{const t=(0,eA.Bk)();if(t)for(const n of e.getEntries()){if(!n.scripts[0])continue;const e=m_(Jw.k3+n.startTime),{start_timestamp:a,op:r}=(0,eA.et)(t);if("navigation"===r&&a&&e<a)continue;const s=m_(n.duration),i={[tA.JD]:"auto.ui.browser.metrics"},o=n.scripts[0],{invoker:c,invokerType:l,sourceURL:u,sourceFunctionName:d,sourceCharPosition:h}=o;i["browser.script.invoker"]=c,i["browser.script.invoker_type"]=l,u&&(i["code.filepath"]=u),d&&(i["code.function"]=d),-1!==h&&(i["browser.script.source_char_position"]=h),d_(t,e,e+s,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:i})}})).observe({type:"long-animation-frame",buffered:!0}):n&&XA("longtask",(({entries:e})=>{const t=(0,eA.Bk)();if(!t)return;const{op:n,start_timestamp:a}=(0,eA.et)(t);for(const r of e){const e=m_(Jw.k3+r.startTime),s=m_(r.duration);"navigation"===n&&a&&e<a||d_(t,e,e+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[tA.JD]:"auto.ui.browser.metrics"}})}})),r&&XA("event",(({entries:e})=>{const t=(0,eA.Bk)();if(t)for(const n of e)if("click"===n.name){const e=m_(Jw.k3+n.startTime),a=m_(n.duration),r={name:(0,nA.Hd)(n.target),op:`ui.interaction.${n.name}`,startTime:e,attributes:{[tA.JD]:"auto.ui.browser.metrics"}},s=(0,nA.xE)(n.target);s&&(r.attributes["ui.component_name"]=s),d_(t,e,e+a,r)}}));const y={name:void 0,source:void 0};function x(e,t){const n="pageload"===t.op,a=i?i(t):t,r=a.attributes||{};t.name!==a.name&&(r[tA.i_]="custom",a.attributes=r),y.name=a.name,y.source=r[tA.i_];const u=M_(a,{idleTimeout:o,finalTimeout:c,childSpanTimeout:l,disableAutoFinish:n,beforeSpanEnd:e=>{b(),w_(e,{recordClsOnPageloadSpan:!s})}});function d(){["interactive","complete"].includes(W_.jf.document.readyState)&&e.emit("idleSpanEnableAutoFinish",u)}return n&&W_.jf.document&&(W_.jf.document.addEventListener("readystatechange",(()=>{d()})),d()),u}return{name:"BrowserTracing",afterAllSetup(e){let n,a=W_.jf.location&&W_.jf.location.href;function s(){n&&!(0,eA.et)(n).timestamp&&(q_.T&&oA.vF.log(`[Tracing] Finishing current active span with op: ${(0,eA.et)(n).op}`),n.end())}e.on("startNavigationSpan",(t=>{(0,iA.KU)()===e&&(s(),n=x(e,{op:"navigation",...t}))})),e.on("startPageLoadSpan",((t,a={})=>{if((0,iA.KU)()!==e)return;s();const r=a.sentryTrace||mE("sentry-trace"),i=a.baggage||mE("baggage"),o=(0,B_.kM)(r,i);(0,iA.o5)().setPropagationContext(o),n=x(e,{op:"pageload",...t})})),e.on("spanEnd",(e=>{const t=(0,eA.et)(e).op;if(e!==(0,eA.zU)(e)||"navigation"!==t&&"pageload"!==t)return;const n=(0,iA.o5)(),a=n.getPropagationContext();n.setPropagationContext({...a,sampled:void 0!==a.sampled?a.sampled:(0,eA.pK)(e),dsc:a.dsc||(0,F_.k1)(e)})})),W_.jf.location&&(g&&pE(e,{name:W_.jf.location.pathname,startTime:Jw.k3?Jw.k3/1e3:void 0,attributes:{[tA.i_]:"url",[tA.JD]:"auto.pageload.browser"}}),v&&(0,L_._)((({to:t,from:n})=>{void 0===n&&a&&-1!==a.indexOf(t)?a=void 0:n!==t&&(a=void 0,function(e,t){(0,iA.rm)().setPropagationContext({traceId:(0,U_.el)()}),(0,iA.o5)().setPropagationContext({traceId:(0,U_.el)()}),e.emit("startNavigationSpan",t),(0,iA.o5)().setTransactionName(t.name);const n=(0,eA.Bk)();n&&(0,eA.et)(n).op}(e,{name:W_.jf.location.pathname,attributes:{[tA.i_]:"url",[tA.JD]:"auto.navigation.browser"}}))}))),u&&(W_.jf&&W_.jf.document?W_.jf.document.addEventListener("visibilitychange",(()=>{const e=(0,eA.Bk)();if(!e)return;const t=(0,eA.zU)(e);if(W_.jf.document.hidden&&t){const e="cancelled",{op:n,status:a}=(0,eA.et)(t);q_.T&&oA.vF.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${n}`),a||t.setStatus({code:R_.TJ,message:e}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}})):q_.T&&oA.vF.warn("[Tracing] Could not set up background tab detection due to lack of global document")),r&&function(e,t,n,a){let r;const s=()=>{const s="ui.action.click",i=(0,eA.Bk)(),o=i&&(0,eA.zU)(i);if(o){const e=(0,eA.et)(o).op;if(["navigation","pageload"].includes(e))return void(q_.T&&oA.vF.warn(`[Tracing] Did not create ${s} span because a pageload or navigation span is in progress.`))}r&&(r.setAttribute(tA.fs,"interactionInterrupted"),r.end(),r=void 0),a.name?r=M_({name:a.name,op:s,attributes:{[tA.i_]:a.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n}):q_.T&&oA.vF.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`)};W_.jf.document&&addEventListener("click",s,{once:!1,capture:!0})}(o,c,l,y),t&&function(){const e=({entries:e})=>{const t=(0,eA.Bk)(),n=t&&(0,eA.zU)(t);e.forEach((e=>{if(!function(e){return"duration"in e}(e)||!n)return;const t=e.interactionId;if(null!=t&&!S_.has(t)){if(E_.length>10){const e=E_.shift();S_.delete(e)}E_.push(t),S_.set(t,n)}}))};XA("event",e),XA("first-input",e)}(),oE(e,{traceFetch:d,traceXHR:h,trackFetchStreamPerformance:p,tracePropagationTargets:e.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:m,enableHTTPTimings:f})}}};function pE(e,t,n){e.emit("startPageLoadSpan",t,n),(0,iA.o5)().setTransactionName(t.name);const a=(0,eA.Bk)();return"pageload"===(a&&(0,eA.et)(a).op)?a:void 0}function mE(e){const t=(0,nA.NX)(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}o(31035);let fE,gE,vE,bE,yE,xE=!1;const wE=new WeakSet;function AE(e){return function(e,t){const n=hE({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{useEffect:a,useLocation:r,useNavigationType:s,createRoutesFromChildren:i,matchRoutes:o,stripBasename:c,instrumentPageLoad:l=!0,instrumentNavigation:u=!0}=e;return{...n,setup(){fE=a,gE=r,vE=s,yE=o,bE=i,xE=c||!1},afterAllSetup(e){n.afterAllSetup(e);const a=W_.jf&&W_.jf.location&&W_.jf.location.pathname;l&&a&&pE(e,{name:a,attributes:{[tA.i_]:"url",[tA.uT]:"pageload",[tA.JD]:`auto.pageload.react.reactrouter_v${t}`}}),u&&wE.add(e)}}}(e,"6")}const _E={version:"1.1.64.510",date:new Date(2021,6,20)};function EE(){if((0,$w.My)()!==Oa.m.Desktop)return!0;const e=function(){const e=window.navigator.userAgent.match($w.aS);return e?.groups?.version??null}();if(!e)return!0;const t=function(e){const t=_E.version.split(".")[2]??"",[,n="",a=""]=e.split(".");if("1"!==n)return new Date;const r=parseInt(t,10),s=parseInt(a,10);if(isNaN(s))return new Date;const i=s-r,o=new Date(_E.date.getTime());return o.setDate(o.getDate()+14*i),o}(e);return n=t,((new Date).getTime()-n.getTime())<0;var n}const SE=e=>{const t=(e.transaction||"").replace(/^\/intl-[A-Za-z]{2}/i,"/");return e.transaction=t,e};var jE=o(17795),CE=o(85171),LE=o(21965);var IE=o(53091),NE=o(56507),kE=o(37813),TE=o(3074),RE=o.n(TE);function PE(){return RE().create().hex.replace(/-/g,"").substr(0,16)}const ME=(e,t)=>{const n=e.url.searchParams.get("dlsi")??PE(),a=navigator.userAgent,r={link:e.url.toString(),entity_uri:e.uri.toURI(),source:a,deeplink_session_id:n};t.send((0,kE.N)(r))},DE=e=>e.searchParams.has("si")||"1"===e.searchParams.get("go")||"1"===e.searchParams.get("wta_deep_link"),OE=e=>DE(e)&&!(e=>e.searchParams.has("_branch_match_id")||e.searchParams.has("_branch_referrer")||e.searchParams.has("link_click_id"))(e);function VE(e){const t=function(e){const t="https://open.spotify.com/",n="spotify://";return e.startsWith(n)?e.replace(n,t):e.startsWith("spotify:")?(e.replaceAll(":","/"),e.replace("spotify/",t)):e}(e),n=(0,J.o_h)(t,{parseUnknown:!0});if(!n)return null;const a=function(e){try{return new URL(e).search}catch{return""}}(t),r=new URLSearchParams(a),s=new URL(n.toURL());return r.forEach(((e,t)=>{s.searchParams.set(t,e)})),{url:s,uri:n}}async function zE(e,t){const{uri:n,url:a}=t,r=a.searchParams.get("pt"),s=a.searchParams.get("prid"),i=n.toString();if(r){const t=e.resolve(IE.Ki);e.resolve(NE.O).claimPermissions(i,r),await t.resync(i)}s&&await async function(e,t,n){await e.build().withHost(ec.p1).withMethod("POST").withPath(`/shared?playlistId=${t}&sharedEntityUri=${n}`).withEndpointIdentifier("/shared").withoutMarket().withResponseType("text").send()}(Xo.n.getInstance(),i,s)}var HE=o(333);function BE(e){return function(t){var n=t.dispatch,a=t.getState;return function(t){return function(r){return"function"==typeof r?r(n,a,e):t(r)}}}}var FE=BE();FE.withExtraArgument=BE;const UE=FE;var qE=o(23844),WE=o(33200),GE=o(52793),KE=o(36991);const QE=(e,t,n)=>a=>r=>async s=>{const i=r(s);switch(s.type){case Fu.QN.ADS_ENABLED:{const r={create:e=>{a.dispatch((0,WE.PS)(e))},canShow:()=>{const e=t.location.pathname,r=n.getState(),s="/"===e,i=(0,J.o_h)(e)?.type===J.NQG.PLAYLIST_V2,o=!s&&!(0,Wc.A3)(r)&&!(0,KE.Qv)(r);if(i){const t=a.getState().ads;return!(0,GE.$P)(t.sponsoredPlaylist.sponsoredPlaylist.get("allSponsorships")??[],e)&&o}return o},isActive:()=>Boolean(a.getState().ads.billboard?.isOpen),minimize:()=>{a.dispatch((0,WE.lb)())},destroy:()=>(a.dispatch((0,WE.c3)()),Promise.resolve())};await e.enable(r);break}case Fu.QN.ADS_DISABLED:await e.disable();break;case WE.QN.MINIMIZE_BILLBOARD_AD_VIEW:if(a.getState().ads.sponsoredPlaylist.isVisible)return a.dispatch((0,WE.c3)()),Promise.resolve();e.minimize();break;case WE.QN.CLICK_BILLBOARD_AD_VIEW:e.adClick();break;case WE.QN.IMAGE_LOADED_BILLBOARD_AD_VIEW:e.onRender();break;case WE.QN.ERROR_BILLBOARD_AD_VIEW:e.onError();break;case WE.QN.FINISH_BILLBOARD_AD_VIEW:e.onFinish()}return i};var $E=o(15947);const ZE=e=>e instanceof Error?e:"string"==typeof e?new Error(e):new Error("An unknown error occurred"),YE=e=>t=>n=>async a=>{const{embeddedAdManager:r,adEventLogger:s,embeddedAdErrorLogger:i}=e,o=n(a),{canShowAd:c,ad:l,isOpen:u}=t.getState()?.ads.embeddedAd??{},d=!!l;switch(a.type){case Fu.QN.ADS_ENABLED:await r.enable((e=>t.dispatch((0,$E.SL)(e))),(e=>(e=>{s.log("errored",l,{event_reason:`Error enabling slot ${e.message}`}),i.log("error",l,{error_message:`Error enabling slot ${e.message}`})})(ZE(e))));break;case Fu.QN.ADS_DISABLED:r.disable();break;case $E.bp.TRY_FETCH:if(!d&&c)try{await r.fetchSlot()}catch(e){t.dispatch((0,$E.T)(`Failed to fetch: ${ZE(e).message}`))}break;case $E.bp.FETCH_SUCCESS:c&&t.dispatch((0,$E.Nz)());break;case $E.bp.CAN_SHOW_EMBEDDED_AD_VIEW:!0!==a.payload||u||t.dispatch((0,$E.Nz)());break;case $E.bp.TRIGGER_SLOT:if(d&&c)try{await r.triggerSlot()}catch(e){t.dispatch((0,$E.T)(`Failed to trigger slot: ${ZE(e).message}`))}break;case $E.bp.SLOT_INTERACTION_ERROR:s.log("errored",l,{event_reason:a.payload.errorMessage}),i.log("error",l,{error_message:a.payload.errorMessage})}return o};var JE=o(15836);function XE(e){return t=>t=>async n=>{const a=t(n);switch(n.type){case Fu.QN.ADS_ENABLED:break;case Fu.QN.ADS_DISABLED:case JE.Ws:e.disableLeaderboard();break;case JE.KK:e.setLeaderboardElement(n.element),e.enableLeaderboard();break;case JE.a4:e.onNavigationChanged()}return a}}const eS="SET_AUDIO_AD_INFO";var tS=o(73636),nS=o(45028);function aS(e,t){return t?{enableAudioIfNotAlreadyEnabled(){if(!t.getEnabled())return t.enable((t=>e.dispatch({type:eS,info:t})))},disableAudioIfNotAlreadyDisabled(){if(t.getEnabled())return t.disable()}}:{}}function rS(e,t,n){return t.getEvents().addListener(nS._.VOLUME,(({data:{volume:e,isLocal:t}})=>{t&&tS.adsCoreConnector.logAudioVolume(e)})),t=>{const{enableAudioIfNotAlreadyEnabled:a,disableAudioIfNotAlreadyDisabled:r}=aS(t,e);return t=>async s=>{const i=t(s);switch(s.type){case Fu.QN.ADS_ENABLED:a?.();break;case Fu.QN.ADS_DISABLED:r?.();break;case Fu.QN.LOG_NOW_PLAYING_AD_CLICK:(0,KE.qc)(n.getState())&&e.logClick(s.eventReason,s.eventSource)}return i}}}var sS=o(14456),iS=o(74219),oS=o(64508);const cS=e=>t=>n=>async a=>{const r=n(a),s=t.getState();switch(a.type){case iS.QN.HPTO_CONTAINER_LOAD:e.subscribeToPreview((e=>{t.dispatch((0,iS.DZ)(e)),t.dispatch((0,iS.zi)())})),e.onRefresh((async()=>{const n=await e.fetchTemplate();t.dispatch((0,iS.bK)(n)),t.dispatch((0,iS.Yg)())}));break;case sS.R:t.dispatch((0,iS.bK)(a.template)),t.dispatch((0,iS.Yg)());break;case iS.QN.HPTO_CONTAINER_MOUNTED:{const n=await e.fetchTemplate();t.dispatch((0,iS.bK)(n)),t.dispatch((0,iS.Yg)());break}case iS.QN.FETCH_CREATIVE:if(s.ads.hpto.preview)break;if(s.ads.hpto.creativeFetchingState===oS.C7.FETCHING)break;if(!s.ads.hpto.template)break;if(!s.ads.hpto.hptoContainerMounted)break;if(s.ads.root.isPremium&&s.ads.root.isHptoHidden)break;try{t.dispatch((0,iS.QL)()),await e.fetchCreative(s.ads.hpto.template).then((e=>{t.dispatch((0,iS.Q5)(e))}))}catch(e){console.error(e),t.dispatch((0,iS.Fi)())}break;case iS.t3:e.viewRendered(a.element);break;case iS.QN.HPTO_COMPONENT_NEW_AD_RENDERED:e.logViewed();break;case iS.QN.HPTO_COMPONENT_UNMOUNTED:e.viewDestroyed();break;case Fu.QN.ADS_POST_HIDE_HPTO:e.logEvent("event_collapsed");break;case iS.Q6:e.logEvent(a.event,a.context);break;case iS.$4:e.logErrorEvent({errorMessage:a.error});break;case iS.QN.DEBUG_FORCE_REFRESH_HPTO:{const n=await e.fetchTemplate();t.dispatch((0,iS.bK)(n)),t.dispatch((0,iS.Yg)());break}}return r};var lS=o(83921);function uS(e){return t=>n=>async a=>{const r=n(a);switch(a.type){case Fu.QN.ADS_ENABLED:e.enable((e=>{t.dispatch((0,lS.Lc)(e))}));break;case Fu.QN.ADS_DISABLED:e.disable();break;case lS.Uy:try{const n=await e.requestSponsoredPlaylists();t.dispatch((0,lS.lj)(n))}catch(e){t.dispatch((0,lS.Ei)(e instanceof Error?e:new Error("Unknown error object")))}break;case lS.nk:try{const n=a.playlistUri,r=await e.requestSponsoredPlaylistAd(n);t.dispatch((0,lS.DD)(n,r))}catch(e){t.dispatch((0,lS.wz)(e instanceof Error?e:new Error("Unknown error object")))}break;case lS.zB:e.logEvent(a.message);break;case lS.zc:t.dispatch((0,lS.Lc)(null))}return r}}function dS(e){if(!e)return;const t=e.getElementsByTagName("video"),n=function(e,t){for(const n of e)if(t(n))return n}(t,(e=>"none"!==getComputedStyle(e).display));if(n)return n;const a=t?.[0];return a?(r=a,"none"===getComputedStyle(r).display&&(r.style.display="inline"),a):void 0;var r}const hS=(e,t)=>{if(!t)return;if(!(null===e?.ads?.vto?.info||t.isPaused)){const e=document.getElementsByClassName("VideoPlayer__container")[0];dS(e)?.play()}};var pS=o(10742),mS=o(1189);const fS=(e,t)=>{e.getState().ads.vto.isMinimized||(e.dispatch((0,Bv.Oc)()),t.logEvent(pS.ee.COLLAPSED))};function gS(e,t,n){return n?{enableVideoTakeoverIfNotAlreadyEnabled(){if(n.getEnabled())return;const a={onCreated(){e.dispatch((0,Bv.Pu)())},onInfo(t){e.dispatch((0,Bv.gW)(t))},onFirstReady(){hS(e.getState(),t.getState())},onStarted(){},onEnded:()=>{e.dispatch((0,Bv.gW)(null)),e.dispatch((0,Bv.W_)()),e.dispatch((0,mS.R)(O.Kz.none))}};return n.enable(a)},disableVideoTakeoverIfNotAlreadyDisabled(){if(n.getEnabled())return n.disable()}}:{}}const vS=(e,t)=>n=>{const{enableVideoTakeoverIfNotAlreadyEnabled:a,disableVideoTakeoverIfNotAlreadyDisabled:r}=gS(n,t,e);return s=>async i=>{const o=s(i);switch(i.type){case Fu.QN.ADS_ENABLED:await(a?.());break;case Fu.QN.ADS_DISABLED:await(r?.());break;case Bv.QN.VTO_LOG_EVENT:e.logEvent(i.event,i.eventReason,i.eventSource),i.event===pS.ee.CLICKED&&fS(n,e);break;case Fu.QN.LOG_NOW_PLAYING_AD_CLICK:(0,KE.Tv)(t.getState())&&(e.logEvent(pS.ee.CLICKED,i.eventReason,i.eventSource),fS(n,e));break;case Bv.QN.VTO_NAVIGATION_CHANGE:fS(n,e);break;case Bv.QN.MAXIMIZE_VIDEO_AD_VIEW:case Bv.QN.MINIMIZE_VIDEO_AD_VIEW:hS(n.getState(),t.getState())}return o}},bS=["/","/premium","/site/:id/:path?","/presents/:id/:path?"],yS=e=>0===e.length?e=>!1:t=>e.some((e=>(0,$.B6)(e,t))),xS="ui.hide_hpto";class wS{constructor(e,t){this.adsCoreConnector=e,this.prefs=t}requestPreviewAd(e){return this.adsCoreConnector.getPreviewAd(e)}subscribeToAdsProductState(e){return this.adsCoreConnector.subscribeToProductState("ads",e)}subscribeToPremiumState(e){return this.adsCoreConnector.subscribeToProductState("catalogue",e)}fakeSubscribe(){}subscribeToHpto(e){const t=xS;return this.prefs.sub({key:t},(({entries:n})=>e({[t]:!!n[t]?.bool})))}async hideHpto(){const e=xS;await this.prefs.set({entries:{[e]:{bool:!0}}})}}class AS{requestPreviewAd(){return Promise.resolve({})}subscribeToAdsProductState(){return{cancel:()=>{}}}subscribeToPremiumState(){return{cancel:()=>{}}}subscribeToHpto(){return{cancel:()=>{}}}async hideHpto(){}fakeSubscribe(e,t){e(t)}}const _S={subscription:void 0};function ES(e){const t=e?.item??void 0;return(0,P.p)(t)?"audio"===t.mediaType||"mixed"===t.mediaType:!!(0,H.N)(t)&&t.isPodcastAd}const SS=({store:e,adManagers:t,isDesktop:n,playerAPI:a})=>({adsEnabled:r=e.getState().ads.root.adsEnabled,playerState:s=a.getState(),isPodcastContent:i=ES(s)}={})=>{r!==e.getState().ads.root.adsEnabled&&e.dispatch((r?Fu.s3:Fu.Nb)());const{enableVideoTakeoverIfNotAlreadyEnabled:o,disableVideoTakeoverIfNotAlreadyDisabled:c}=gS(e,a,t?.vto.manager),{enableAudioIfNotAlreadyEnabled:l,disableAudioIfNotAlreadyDisabled:u}=aS(e,t?.audio);return Promise.all(n&&(i||r)?[o?.(),l?.()]:[c?.(),u?.()])};function jS({rootApi:e,store:t,adManagers:n,isDesktop:a,playerAPI:r,toggleAdManagers:s=SS({store:t,adManagers:n,isDesktop:a,playerAPI:r})}){async function i({playerState:e=r.getState(),isPodcastContent:t=ES(e)}={}){return await s({playerState:e,isPodcastContent:t}),function(...[{ads:n}]){return s({adsEnabled:"1"===n,playerState:e,isPodcastContent:t})}}let o=ES(r.getState());return{handleAdsProductState:i,activateAdsProductStateSubscription:async function(t){const n=ES(t);return null===t||o!==n?(o=n,_S.subscription?.cancel(),_S.subscription=e.subscribeToAdsProductState(await i({playerState:t,isPodcastContent:n}))):_S.subscription}}}function CS(e,t){e&&t.dispatch((0,$E.Xo)())}var LS=o(25611),IS=o(66874);const NS=({history:e,isBlockedPath:t,rootApi:n,adManagers:a,isDesktop:r,playerAPI:s})=>i=>{const{handleAdsProductState:o,activateAdsProductStateSubscription:c}=jS({rootApi:n,store:i,adManagers:a,isDesktop:r,playerAPI:s});return s.getEvents().addListener(V.gd.UPDATE,(async({data:e})=>{await c(e)})),a=>async l=>{switch(l.type){case IS.xM:await c(null);break;case LS.O:n.fakeSubscribe(await o(),l.data)}const u=a(l),d=i.getState();if(!d.ads.root.adsEnabled)return u;const h=function(e,t){return{isDesktop:t,billboardShowing:t&&Boolean(e.ads.billboard?.isOpen),sponsoredPlaylistVisible:Boolean(e.ads.sponsoredPlaylist.isVisible),embeddedAdIsVisible:Boolean(e.ads.embeddedAd?.isOpen),leaderboardEnabled:Boolean(e.ads.leaderboard.isEnabled),isCinemaMode:(0,D.c)(e)===O.Kz.cinema,npvModeActive:Boolean(e.ui.videoPlayer.uiFlags.npv),isOnDemandTrial:"1"===e?.session?.productState?.["on-demand-trial-in-progress"]}}(d,r);switch(function(e,t,n,a){(n||a)&&(t.billboardShowing&&e.dispatch((0,WE.ZQ)()),t.leaderboardEnabled&&e.dispatch((0,JE.Vp)()))}(i,h,t(e.location.pathname),(0,KE.Qv)(s.getState())),function(e,t,n,a){!n&&!a&&t.isDesktop&&!t.leaderboardEnabled&&!t.billboardShowing&&!t.sponsoredPlaylistVisible&&!t.isCinemaMode&&!t.embeddedAdIsVisible&&!t.isOnDemandTrial&&e.dispatch((0,JE.yU)())}(i,h,t(e.location.pathname),(0,KE.Qv)(s.getState())),function(e,t,n){t.isDesktop&&!t.billboardShowing&&!t.sponsoredPlaylistVisible&&!n.ads.sponsoredPlaylist.isListening&&!t.isCinemaMode&&!n.ads.embeddedAd?.canShowAd&&t.npvModeActive&&e.dispatch((0,$E.qx)(!0)),t.npvModeActive||CS(Boolean(n.ads.embeddedAd?.isOpen),e)}(i,h,d),l.type){case O.kX.SET_VIDEO_UI_FLAG:!function(e,t,n,a){n===O.nP.cinema&&a&&e.dispatch((0,JE.Vp)()),n===O.nP.cinema&&(a&&t.ads.embeddedAd?.canShowAd?e.dispatch((0,$E.qx)(!1)):a||t.ads.embeddedAd?.canShowAd||e.dispatch((0,$E.qx)(!0))),n===O.nP.npv&&(a&&!t.ads.embeddedAd?.canShowAd?e.dispatch((0,$E.qx)(!0)):!a&&t.ads.embeddedAd?.canShowAd&&e.dispatch((0,$E.qx)(!1)))}(i,d,l.key,l.value);break;case WE.QN.SHOW_BILLBOARD_AD_VIEW:case WE.QN.FINISH_BILLBOARD_AD_VIEW:!function(e,t,n,a){n===WE.QN.SHOW_BILLBOARD_AD_VIEW?(e.dispatch((0,JE.Vp)()),e.dispatch((0,$E.qx)(!1)),CS(Boolean(t.ads.embeddedAd?.isOpen),e)):n!==WE.QN.FINISH_BILLBOARD_AD_VIEW||a||t.ads.embeddedAd?.canShowAd||e.dispatch((0,$E.qx)(!0))}(i,d,l.type,h.sponsoredPlaylistVisible);break;case lS.Xv:!function(e,t){e.dispatch((0,JE.Vp)()),e.dispatch((0,WE.ZQ)()),t.ads.embeddedAd?.canShowAd&&(e.dispatch((0,$E.qx)(!1)),CS(Boolean(t.ads.embeddedAd?.isOpen),e))}(i,d);break;case lS.MY:!function(e,t){t.ads.sponsoredPlaylist?.isListening?t.ads.embeddedAd?.canShowAd&&(e.dispatch((0,$E.qx)(!1)),CS(Boolean(t.ads.embeddedAd?.isOpen),e)):t.ads.embeddedAd?.canShowAd||e.dispatch((0,$E.qx)(!0))}(i,d);break;case $E.bp.SHOW_EMBEDDED_AD_VIEW:!function(e){e.dispatch((0,JE.Vp)())}(i);break;case iS.QN.HPTO_PREVIEW_HOME_NAVIGATION:!function(e){"/"===e.location.pathname||e.push("/")}(e)}return u}},kS=({newOrchestratorMiddlewareEnabled:e,history:t,isBlockedPath:n,rootApi:a,adManagers:r,isDesktop:s,playerAPI:i})=>e?NS({newOrchestratorMiddlewareEnabled:e,history:t,isBlockedPath:n,rootApi:a,adManagers:r,isDesktop:s,playerAPI:i}):e=>{const{handleAdsProductState:o,activateAdsProductStateSubscription:c}=jS({rootApi:a,store:e,adManagers:r,isDesktop:s,playerAPI:i});return i.getEvents().addListener(V.gd.UPDATE,(async({data:e})=>{await c(e)})),r=>async l=>{switch(l.type){case IS.xM:await c(null);break;case LS.O:a.fakeSubscribe(await o(),l.data)}const u=r(l),d=e.getState();let h=!1;if(d?.session?.productState&&(h="1"===d?.session?.productState["on-demand-trial-in-progress"]),!d.ads.root.adsEnabled)return u;const p=s&&d.ads.billboard?.isOpen,m=d.ads.sponsoredPlaylist.isVisible,f=d.ads.sponsoredPlaylist.isListening,g=d.ads.embeddedAd?.isOpen,v=d.ads.leaderboard.isEnabled,b=(0,D.c)(d)===O.Kz.cinema,y=d.ui.videoPlayer.uiFlags.npv;switch(n(t.location.pathname)||(0,KE.Qv)(i.getState())?(p&&e.dispatch((0,WE.ZQ)()),v&&e.dispatch((0,JE.Vp)())):!s||v||p||m||b||g||h||e.dispatch((0,JE.yU)()),!s||p||m||f||b||d.ads.embeddedAd?.canShowAd||!y||e.dispatch((0,$E.qx)(!0)),y||CS(Boolean(d.ads.embeddedAd?.isOpen),e),l.type){case O.kX.SET_VIDEO_UI_FLAG:{const{key:t,value:n}=l;t===O.nP.cinema&&n&&e.dispatch((0,JE.Vp)()),t===O.nP.cinema&&(n&&d.ads.embeddedAd?.canShowAd?e.dispatch((0,$E.qx)(!1)):n||d.ads.embeddedAd?.canShowAd||e.dispatch((0,$E.qx)(!0))),t===O.nP.npv&&(n&&!d.ads.embeddedAd?.canShowAd?e.dispatch((0,$E.qx)(!0)):!n&&d.ads.embeddedAd?.canShowAd&&e.dispatch((0,$E.qx)(!1)));break}case WE.QN.SHOW_BILLBOARD_AD_VIEW:e.dispatch((0,JE.Vp)()),e.dispatch((0,$E.qx)(!1)),CS(Boolean(d.ads.embeddedAd?.isOpen),e);break;case WE.QN.FINISH_BILLBOARD_AD_VIEW:m||d.ads.embeddedAd?.canShowAd||e.dispatch((0,$E.qx)(!0));break;case lS.Xv:e.dispatch((0,JE.Vp)()),e.dispatch((0,WE.ZQ)()),d.ads.embeddedAd?.canShowAd&&(e.dispatch((0,$E.qx)(!1)),CS(Boolean(d.ads.embeddedAd?.isOpen),e));break;case lS.MY:d.ads.sponsoredPlaylist.isListening?d.ads.embeddedAd?.canShowAd&&e.dispatch((0,$E.qx)(!1)):d.ads.sponsoredPlaylist.isListening||d.ads.embeddedAd?.canShowAd||e.dispatch((0,$E.qx)(!0));break;case $E.bp.SHOW_EMBEDDED_AD_VIEW:e.dispatch((0,JE.Vp)());break;case iS.QN.HPTO_PREVIEW_HOME_NAVIGATION:"/"===t.location.pathname||t.push("/");break}return u}};var TS=o(94096);let RS,PS;const MS=({rootApi:e})=>t=>n=>async a=>{const r=n(a);switch(a.type){case IS.xM:(0,$w.My)()===Oa.m.Desktop&&(0,TS.z)({_debugForceRefreshHpto:()=>t.dispatch((0,iS.BH)())}),RS||(RS=e.subscribeToPremiumState((({catalogue:e})=>{const n="premium"===e;t.dispatch((0,Fu.CW)(n))}))),PS||(PS=e.subscribeToHpto((e=>t.dispatch((0,Fu.yx)(e["ui.hide_hpto"])))));break;case Fu.QN.ADS_POST_HIDE_HPTO:e.hideHpto();break;case LS.O:e.fakeSubscribe((async({catalogue:e})=>{const n="premium"===e;t.dispatch((0,Fu.CW)(n)),t.dispatch((0,Fu.yx)(!1))}),a.data);break;case Fu.QN.TRIGGER_PREVIEW_AD:e.requestPreviewAd(a.adUriHexId)}return r};var DS=o(25085);const OS=(e,t,n,a,r,s,i)=>{const o=t?new wS(tS.adsCoreConnector,(0,qE.dn)((0,DS.X)())):new AS,c=t?bS:[],{root:l=MS,sponsoredPlaylist:u=uS,orchestrator:d=kS,leaderboard:h=XE,billboard:p=QE,hpto:m=cS,audio:f=rS,videoTakeover:g=vS,embeddedAd:v=YE}=i??{},b=e.getRemoteConfigurationWithLocalOverrides().getValue(xe.krn);return[l({rootApi:o}),u(a.sponsoredPlaylist),d({newOrchestratorMiddlewareEnabled:b,history:n,isBlockedPath:yS(c),rootApi:o,adManagers:a,isDesktop:t,playerAPI:s}),...t?[h(a.leaderboard),p(a.billboard,n,s),m(a.hpto),f(a.audio,r,s),g(a.vto.manager,s),...a.embeddedAd?[v(a.embeddedAd)]:[]]:[]]},VS={isOpen:!1,imageLoaded:!1,isMinimized:!1,data:{}},zS=(e=VS,t)=>{switch(t.type){case WE.QN.SHOW_BILLBOARD_AD_VIEW:return{...e,isOpen:!0,data:t?.data};case WE.QN.HIDE_BILLBOARD_AD_VIEW:return{...e,isOpen:!1,isMinimized:!1,imageLoaded:!1};case WE.QN.IMAGE_LOADED_BILLBOARD_AD_VIEW:return{...e,imageLoaded:!0};case WE.QN.MANAGER_MINIMIZE_BILLBOARD_AD_VIEW:case WE.QN.MINIMIZE_BILLBOARD_AD_VIEW:return{...e,isMinimized:!0};default:return e}},HS={isOpen:!1,ad:void 0,errorMessage:void 0,canShowAd:!1,lastTimeInView:void 0},BS=(e=HS,t)=>{switch(t.type){case $E.bp.CAN_SHOW_EMBEDDED_AD_VIEW:return{...e,canShowAd:t?.payload.canShowAd};case $E.bp.SHOW_EMBEDDED_AD_VIEW:return{...e,isOpen:!0};case $E.bp.DISCARD_EMBEDDED_AD_VIEW:return{...e,isOpen:!1,ad:void 0,lastTimeInView:Date.now()};case $E.bp.FETCH_SUCCESS:return{...e,ad:t?.payload.ad};case $E.bp.CLEAR_STORE:return HS;case $E.bp.SLOT_INTERACTION_ERROR:return{...e,errorMessage:t?.payload.errorMessage,ad:void 0};default:return e}},FS={isEnabled:!1};function US(e=FS,t){switch(t.type){case JE.TN:return{...e,isEnabled:!0};case JE.Ws:return{...e,isEnabled:!1};default:return e}}const qS={info:null},WS=(e=qS,t)=>t.type===eS?{...e,info:t.info}:e,GS={hptoEnabled:!1,template:null,creative:null,preview:null,creativeFetchingState:oS.C7.NOT_FETCHING,hptoContainerMounted:!1,hptoIsStable:!0},KS=(e=GS,t)=>{switch(t.type){case Fu.QN.ADS_ENABLED:return{...e,hptoEnabled:!0};case sS.R:case iS.QN.HPTO_CONTAINER_MOUNTED:return{...e,hptoContainerMounted:!0};case iS.QN.HPTO_COMPONENT_UNMOUNTED:return{...e,preview:null,creativeFetchingState:oS.C7.NOT_FETCHING,creative:t.data.clearCreative?null:e.creative};case iS.QN.HPTO_CONTAINER_UNMOUNTED:return{...e,hptoContainerMounted:!1};case iS.QN.GOT_TEMPLATE:return{...e,template:t.data};case iS.QN.SET_HPTO_PREVIEW:return{...e,hptoIsStable:!0,preview:t.data};case iS.QN.GOT_CREATIVE:return{...e,creative:t.data,creativeFetchingState:oS.C7.FETCHED,hptoIsStable:!0};case iS.QN.FETCHING_CREATIVE:return{...e,creativeFetchingState:oS.C7.FETCHING,creative:null};case iS.QN.CREATIVE_FETCH_FAILED:return{...e,creativeFetchingState:oS.C7.FAILED,hptoIsStable:!1};default:return e}},QS={sponsoredPlaylist:new Map,isVisible:!1,previewAd:null,isListening:!1};function $S(e=QS,t){switch(t.type){case lS.Um:return function(e,t){const n=e.sponsoredPlaylist.get("allSponsorships");if(n===t.sponsorships)return e;return{...e,sponsoredPlaylist:e.sponsoredPlaylist.set("allSponsorships",t.sponsorships)}}(e,t);case lS.Rl:return function(e,t){return{...e,sponsoredPlaylist:e.sponsoredPlaylist.set(t.playlistUri,t.ad)}}(e,t);case lS.Xv:return{...e,isVisible:!0};case lS.zc:return{...e,isVisible:!1};case lS.MY:return{...e,isListening:t.isListening};case lS.Uh:return{...e,previewAd:t.previewAd};default:return e}}const ZS={isMinimized:!1,isHidden:!0,info:null},YS=(e=ZS,t)=>{switch(t.type){case Bv.QN.MINIMIZE_VIDEO_AD_VIEW:return{...e,isMinimized:!0};case Bv.QN.MAXIMIZE_VIDEO_AD_VIEW:return{...e,isMinimized:!1};case Bv.QN.HIDE_VIDEO_AD_VIEW:return{...e,isHidden:!0};case Bv.QN.SHOW_VIDEO_AD_VIEW:return{...e,isHidden:!1};case Bv.QN.VTO_SET_INFO:return{...e,info:t.info};default:return e}};var JS=o(5545),XS=o(41854);const ej=(0,JS.vy)({adId:null,liked:!1,disliked:!1,feedback:null},(e=>{e.addCase(XS.CJ.LIKE_AD,((e,t)=>{XS.F$.match(t)&&(e.adId=t.payload.adId,e.liked=!0,e.disliked=!1,t.payload.reason&&(e.feedback=t.payload.reason))})).addCase(XS.CJ.DISLIKE_AD,((e,t)=>{XS.NI.match(t)&&(e.adId=t.payload.adId,e.disliked=!0,e.liked=!1,t.payload.reason&&(e.feedback=t.payload.reason))})).addCase(XS.CJ.CANCEL_LIKE_AD,((e,t)=>{XS.D$.match(t)&&(e.liked=!1,e.feedback=null)})).addCase(XS.CJ.CANCEL_DISLIKE_AD,((e,t)=>{XS.vA.match(t)&&(e.disliked=!1,e.feedback=null)}))})),tj={adsEnabled:!1,isPremium:!1,isHptoHidden:!0},nj=(e=tj,t)=>{switch(t.type){case Fu.QN.ADS_ENABLED:return{...e,adsEnabled:!0};case Fu.QN.ADS_DISABLED:return{...e,adsEnabled:!1};case Fu.QN.ADS_PREMIUM:return{...e,isPremium:!!t.isPremium};case Fu.QN.ADS_HPTO_HIDDEN:return{...e,isHptoHidden:!!t.isHptoHidden};default:return e}};var aj=o(74653);const rj={isOpen:!1},sj=(e=rj,t)=>{switch(t.type){case aj.QN.SHOW_REPORT_ISSUE_MODAL:return{...e,isOpen:!0};case aj.QN.HIDE_REPORT_ISSUE_MODAL:return{...e,isOpen:!1};default:return e}};var ij=o(99610);const oj={env:ij.x,message:null,showPreviewTool:!1},cj=(e=oj,t)=>{switch(t.type){case ij.Q.SHOW_IN_APP_MESSAGE:return{...e,message:t.message};case ij.Q.DISMISS_IN_APP_MESSAGE:return{...e,message:null};case ij.Q.SET_IN_APP_MESSAGING_ENV:return{...e,env:t.env};case ij.Q.SHOW_PREVIEW_TOOL:return{...e,showPreviewTool:t.show};default:return e}};var lj=o(26405);const uj=e=>t=>n=>async a=>{const r=n(a);if(a.type===lj.QN.GET_AGE_RESTRICTION_MODAL)try{const n=await e.getDialog(a.uri);t.dispatch((0,lj.eK)(n))}catch{}return r};function dj(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function hj(e,...t){if(!((n=e)instanceof Uint8Array||ArrayBuffer.isView(n)&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function pj(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function mj(e,t){hj(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function fj(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function gj(e,t){return e<<32-t|e>>>t}function vj(e,t){return e<<t|e>>>32-t>>>0}const bj=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function yj(e){for(let n=0;n<e.length;n++)e[n]=(t=e[n])<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;var t}function xj(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),hj(e),e}class wj{clone(){return this._cloneInto()}}function Aj(e){const t=t=>e().update(xj(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class _j extends wj{update(e){return pj(this),this.iHash.update(e),this}digestInto(e){pj(this),hj(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:a,destroyed:r,blockLen:s,outputLen:i}=this;return e.finished=a,e.destroyed=r,e.blockLen=s,e.outputLen=i,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");dj(e.outputLen),dj(e.blockLen)}(e);const n=xj(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,r=new Uint8Array(a);r.set(n.length>a?e.create().update(n).digest():n);for(let e=0;e<r.length;e++)r[e]^=54;this.iHash.update(r),this.oHash=e.create();for(let e=0;e<r.length;e++)r[e]^=106;this.oHash.update(r),r.fill(0)}}const Ej=(e,t,n)=>new _j(e,t).update(n).digest();function Sj(e,t,n){return e&t^~e&n}function jj(e,t,n){return e&t^e&n^t&n}Ej.create=(e,t)=>new _j(e,t);class Cj extends wj{update(e){pj(this);const{view:t,buffer:n,blockLen:a}=this,r=(e=xj(e)).length;for(let s=0;s<r;){const i=Math.min(a-this.pos,r-s);if(i!==a)n.set(e.subarray(s,s+i),this.pos),this.pos+=i,s+=i,this.pos===a&&(this.process(t,0),this.pos=0);else{const t=fj(e);for(;a<=r-s;s+=a)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){pj(this),mj(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:a,isLE:r}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>a-s&&(this.process(n,0),s=0);for(let e=s;e<a;e++)t[e]=0;!function(e,t,n,a){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,a);const r=BigInt(32),s=BigInt(4294967295),i=Number(n>>r&s),o=Number(n&s),c=a?4:0,l=a?0:4;e.setUint32(t+c,i,a),e.setUint32(t+l,o,a)}(n,a-8,BigInt(8*this.length),r),this.process(n,0);const i=fj(e),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=o/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)i.setUint32(4*e,l[e],r)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:a,finished:r,destroyed:s,pos:i}=this;return e.length=a,e.pos=i,e.finished=r,e.destroyed=s,a%t&&e.buffer.set(n),e}constructor(e,t,n,a){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=fj(this.buffer)}}const Lj=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),Ij=new Uint32Array(80);class Nj extends Cj{get(){const{A:e,B:t,C:n,D:a,E:r}=this;return[e,t,n,a,r]}set(e,t,n,a,r){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|a,this.E=0|r}process(e,t){for(let n=0;n<16;n++,t+=4)Ij[n]=e.getUint32(t,!1);for(let e=16;e<80;e++)Ij[e]=vj(Ij[e-3]^Ij[e-8]^Ij[e-14]^Ij[e-16],1);let{A:n,B:a,C:r,D:s,E:i}=this;for(let e=0;e<80;e++){let t,o;e<20?(t=Sj(a,r,s),o=1518500249):e<40?(t=a^r^s,o=1859775393):e<60?(t=jj(a,r,s),o=2400959708):(t=a^r^s,o=3395469782);const c=vj(n,5)+t+i+o+Ij[e]|0;i=s,s=r,r=vj(a,30),a=n,n=c}n=n+this.A|0,a=a+this.B|0,r=r+this.C|0,s=s+this.D|0,i=i+this.E|0,this.set(n,a,r,s,i)}roundClean(){Ij.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}constructor(){super(64,20,8,!1),this.A=0|Lj[0],this.B=0|Lj[1],this.C=0|Lj[2],this.D=0|Lj[3],this.E=0|Lj[4]}}const kj=Aj((()=>new Nj)),Tj=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Rj=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Pj=new Uint32Array(64);class Mj extends Cj{get(){const{A:e,B:t,C:n,D:a,E:r,F:s,G:i,H:o}=this;return[e,t,n,a,r,s,i,o]}set(e,t,n,a,r,s,i,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|a,this.E=0|r,this.F=0|s,this.G=0|i,this.H=0|o}process(e,t){for(let n=0;n<16;n++,t+=4)Pj[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Pj[e-15],n=Pj[e-2],a=gj(t,7)^gj(t,18)^t>>>3,r=gj(n,17)^gj(n,19)^n>>>10;Pj[e]=r+Pj[e-7]+a+Pj[e-16]|0}let{A:n,B:a,C:r,D:s,E:i,F:o,G:c,H:l}=this;for(let e=0;e<64;e++){const t=l+(gj(i,6)^gj(i,11)^gj(i,25))+Sj(i,o,c)+Tj[e]+Pj[e]|0,u=(gj(n,2)^gj(n,13)^gj(n,22))+jj(n,a,r)|0;l=c,c=o,o=i,i=s+t|0,s=r,r=a,a=n,n=t+u|0}n=n+this.A|0,a=a+this.B|0,r=r+this.C|0,s=s+this.D|0,i=i+this.E|0,o=o+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(n,a,r,s,i,o,c,l)}roundClean(){Pj.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}constructor(){super(64,32,8,!1),this.A=0|Rj[0],this.B=0|Rj[1],this.C=0|Rj[2],this.D=0|Rj[3],this.E=0|Rj[4],this.F=0|Rj[5],this.G=0|Rj[6],this.H=0|Rj[7]}}class Dj extends Mj{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Oj=Aj((()=>new Mj)),Vj=Aj((()=>new Dj)),zj=BigInt(2**32-1),Hj=BigInt(32);function Bj(e,t=!1){return t?{h:Number(e&zj),l:Number(e>>Hj&zj)}:{h:0|Number(e>>Hj&zj),l:0|Number(e&zj)}}function Fj(e,t=!1){let n=new Uint32Array(e.length),a=new Uint32Array(e.length);for(let r=0;r<e.length;r++){const{h:s,l:i}=Bj(e[r],t);[n[r],a[r]]=[s,i]}return[n,a]}const Uj=(e,t,n)=>e<<n|t>>>32-n,qj=(e,t,n)=>t<<n|e>>>32-n,Wj=(e,t,n)=>t<<n-32|e>>>64-n,Gj=(e,t,n)=>e<<n-32|t>>>64-n;const Kj={fromBig:Bj,split:Fj,toBig:(e,t)=>BigInt(e>>>0)<<Hj|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:Uj,rotlSL:qj,rotlBH:Wj,rotlBL:Gj,add:function(e,t,n,a){const r=(t>>>0)+(a>>>0);return{h:e+n+(r/2**32|0)|0,l:0|r}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,a)=>t+n+a+(e/2**32|0)|0,add4L:(e,t,n,a)=>(e>>>0)+(t>>>0)+(n>>>0)+(a>>>0),add4H:(e,t,n,a,r)=>t+n+a+r+(e/2**32|0)|0,add5H:(e,t,n,a,r,s)=>t+n+a+r+s+(e/2**32|0)|0,add5L:(e,t,n,a,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(a>>>0)+(r>>>0)},[Qj,$j]=(()=>Kj.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),Zj=new Uint32Array(80),Yj=new Uint32Array(80);class Jj extends Cj{get(){const{Ah:e,Al:t,Bh:n,Bl:a,Ch:r,Cl:s,Dh:i,Dl:o,Eh:c,El:l,Fh:u,Fl:d,Gh:h,Gl:p,Hh:m,Hl:f}=this;return[e,t,n,a,r,s,i,o,c,l,u,d,h,p,m,f]}set(e,t,n,a,r,s,i,o,c,l,u,d,h,p,m,f){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|a,this.Ch=0|r,this.Cl=0|s,this.Dh=0|i,this.Dl=0|o,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|p,this.Hh=0|m,this.Hl=0|f}process(e,t){for(let n=0;n<16;n++,t+=4)Zj[n]=e.getUint32(t),Yj[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|Zj[e-15],n=0|Yj[e-15],a=Kj.rotrSH(t,n,1)^Kj.rotrSH(t,n,8)^Kj.shrSH(t,n,7),r=Kj.rotrSL(t,n,1)^Kj.rotrSL(t,n,8)^Kj.shrSL(t,n,7),s=0|Zj[e-2],i=0|Yj[e-2],o=Kj.rotrSH(s,i,19)^Kj.rotrBH(s,i,61)^Kj.shrSH(s,i,6),c=Kj.rotrSL(s,i,19)^Kj.rotrBL(s,i,61)^Kj.shrSL(s,i,6),l=Kj.add4L(r,c,Yj[e-7],Yj[e-16]),u=Kj.add4H(l,a,o,Zj[e-7],Zj[e-16]);Zj[e]=0|u,Yj[e]=0|l}let{Ah:n,Al:a,Bh:r,Bl:s,Ch:i,Cl:o,Dh:c,Dl:l,Eh:u,El:d,Fh:h,Fl:p,Gh:m,Gl:f,Hh:g,Hl:v}=this;for(let e=0;e<80;e++){const t=Kj.rotrSH(u,d,14)^Kj.rotrSH(u,d,18)^Kj.rotrBH(u,d,41),b=Kj.rotrSL(u,d,14)^Kj.rotrSL(u,d,18)^Kj.rotrBL(u,d,41),y=u&h^~u&m,x=d&p^~d&f,w=Kj.add5L(v,b,x,$j[e],Yj[e]),A=Kj.add5H(w,g,t,y,Qj[e],Zj[e]),_=0|w,E=Kj.rotrSH(n,a,28)^Kj.rotrBH(n,a,34)^Kj.rotrBH(n,a,39),S=Kj.rotrSL(n,a,28)^Kj.rotrBL(n,a,34)^Kj.rotrBL(n,a,39),j=n&r^n&i^r&i,C=a&s^a&o^s&o;g=0|m,v=0|f,m=0|h,f=0|p,h=0|u,p=0|d,({h:u,l:d}=Kj.add(0|c,0|l,0|A,0|_)),c=0|i,l=0|o,i=0|r,o=0|s,r=0|n,s=0|a;const L=Kj.add3L(_,S,C);n=Kj.add3H(L,A,E,j),a=0|L}({h:n,l:a}=Kj.add(0|this.Ah,0|this.Al,0|n,0|a)),({h:r,l:s}=Kj.add(0|this.Bh,0|this.Bl,0|r,0|s)),({h:i,l:o}=Kj.add(0|this.Ch,0|this.Cl,0|i,0|o)),({h:c,l}=Kj.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:d}=Kj.add(0|this.Eh,0|this.El,0|u,0|d)),({h,l:p}=Kj.add(0|this.Fh,0|this.Fl,0|h,0|p)),({h:m,l:f}=Kj.add(0|this.Gh,0|this.Gl,0|m,0|f)),({h:g,l:v}=Kj.add(0|this.Hh,0|this.Hl,0|g,0|v)),this.set(n,a,r,s,i,o,c,l,u,d,h,p,m,f,g,v)}roundClean(){Zj.fill(0),Yj.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}}class Xj extends Jj{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const eC=Aj((()=>new Jj)),tC=Aj((()=>new Xj)),nC=[],aC=[],rC=[],sC=BigInt(0),iC=BigInt(1),oC=BigInt(2),cC=BigInt(7),lC=BigInt(256),uC=BigInt(113);for(let e=0,t=iC,n=1,a=0;e<24;e++){[n,a]=[a,(2*n+3*a)%5],nC.push(2*(5*a+n)),aC.push((e+1)*(e+2)/2%64);let r=sC;for(let e=0;e<7;e++)t=(t<<iC^(t>>cC)*uC)%lC,t&oC&&(r^=iC<<(iC<<BigInt(e))-iC);rC.push(r)}const[dC,hC]=Fj(rC,!0),pC=(e,t,n)=>n>32?Wj(e,t,n):Uj(e,t,n),mC=(e,t,n)=>n>32?Gj(e,t,n):qj(e,t,n);class fC extends wj{keccak(){bj||yj(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let a=24-t;a<24;a++){for(let t=0;t<10;t++)n[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const a=(t+8)%10,r=(t+2)%10,s=n[r],i=n[r+1],o=pC(s,i,1)^n[a],c=mC(s,i,1)^n[a+1];for(let n=0;n<50;n+=10)e[t+n]^=o,e[t+n+1]^=c}let t=e[2],r=e[3];for(let n=0;n<24;n++){const a=aC[n],s=pC(t,r,a),i=mC(t,r,a),o=nC[n];t=e[o],r=e[o+1],e[o]=s,e[o+1]=i}for(let t=0;t<50;t+=10){for(let a=0;a<10;a++)n[a]=e[t+a];for(let a=0;a<10;a++)e[t+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=dC[a],e[1]^=hC[a]}n.fill(0)}(this.state32,this.rounds),bj||yj(this.state32),this.posOut=0,this.pos=0}update(e){pj(this);const{blockLen:t,state:n}=this,a=(e=xj(e)).length;for(let r=0;r<a;){const s=Math.min(t-this.pos,a-r);for(let t=0;t<s;t++)n[this.pos++]^=e[r++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:a}=this;e[n]^=t,128&t&&n===a-1&&this.keccak(),e[a-1]^=128,this.keccak()}writeInto(e){pj(this,!1),hj(e),this.finish();const t=this.state,{blockLen:n}=this;for(let a=0,r=e.length;a<r;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,r-a);e.set(t.subarray(this.posOut,this.posOut+s),a),this.posOut+=s,a+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return dj(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(mj(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:a,rounds:r,enableXOF:s}=this;return e||(e=new fC(t,n,a,s,r)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=r,e.suffix=n,e.outputLen=a,e.enableXOF=s,e.destroyed=this.destroyed,e}constructor(e,t,n,a=!1,r=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=a,this.rounds=r,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,dj(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}}const gC=(e,t,n)=>Aj((()=>new fC(t,e,n))),vC=gC(6,144,28),bC=gC(6,136,32),yC=gC(6,104,48),xC=gC(6,72,64),wC=(()=>{if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"__GLOBALTHIS__",{get(){return this},configurable:!0});try{if("undefined"!=typeof __GLOBALTHIS__)return __GLOBALTHIS__}finally{delete Object.prototype.__GLOBALTHIS__}return"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0})(),AC={SHA1:kj,SHA224:Vj,SHA256:Oj,SHA384:tC,SHA512:eC,"SHA3-224":vC,"SHA3-256":bC,"SHA3-384":yC,"SHA3-512":xC},_C=e=>{switch(!0){case/^(?:SHA-?1|SSL3-SHA1)$/i.test(e):return"SHA1";case/^SHA(?:2?-)?224$/i.test(e):return"SHA224";case/^SHA(?:2?-)?256$/i.test(e):return"SHA256";case/^SHA(?:2?-)?384$/i.test(e):return"SHA384";case/^SHA(?:2?-)?512$/i.test(e):return"SHA512";case/^SHA3-224$/i.test(e):return"SHA3-224";case/^SHA3-256$/i.test(e):return"SHA3-256";case/^SHA3-384$/i.test(e):return"SHA3-384";case/^SHA3-512$/i.test(e):return"SHA3-512";default:throw new TypeError(`Unknown hash algorithm: ${e}`)}},EC="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",SC=e=>{let t=(e=e.replace(/ /g,"")).length;for(;"="===e[t-1];)--t;e=(t<e.length?e.substring(0,t):e).toUpperCase();const n=new ArrayBuffer(5*e.length/8|0),a=new Uint8Array(n);let r=0,s=0,i=0;for(let t=0;t<e.length;t++){const n=EC.indexOf(e[t]);if(-1===n)throw new TypeError(`Invalid character found: ${e[t]}`);s=s<<5|n,r+=5,r>=8&&(r-=8,a[i++]=s>>>r)}return a},jC=e=>{let t=0,n=0,a="";for(let r=0;r<e.length;r++)for(n=n<<8|e[r],t+=8;t>=5;)a+=EC[n>>>t-5&31],t-=5;return t>0&&(a+=EC[n<<5-t&31]),a},CC=e=>{e=e.replace(/ /g,"");const t=new ArrayBuffer(e.length/2),n=new Uint8Array(t);for(let t=0;t<e.length;t+=2)n[t/2]=parseInt(e.substring(t,t+2),16);return n},LC=e=>{let t="";for(let n=0;n<e.length;n++){const a=e[n].toString(16);1===a.length&&(t+="0"),t+=a}return t.toUpperCase()},IC=e=>{const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;t++)n[t]=255&e.charCodeAt(t);return n},NC=e=>{let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},kC=wC.TextEncoder?new wC.TextEncoder:null,TC=wC.TextDecoder?new wC.TextDecoder:null,RC=e=>{if(!kC)throw new Error("Encoding API not available");return kC.encode(e)},PC=e=>{if(!TC)throw new Error("Encoding API not available");return TC.decode(e)};class MC{static fromLatin1(e){return new MC({buffer:IC(e).buffer})}static fromUTF8(e){return new MC({buffer:RC(e).buffer})}static fromBase32(e){return new MC({buffer:SC(e).buffer})}static fromHex(e){return new MC({buffer:CC(e).buffer})}get buffer(){return this.bytes.buffer}get latin1(){return Object.defineProperty(this,"latin1",{enumerable:!0,writable:!1,configurable:!1,value:NC(this.bytes)}),this.latin1}get utf8(){return Object.defineProperty(this,"utf8",{enumerable:!0,writable:!1,configurable:!1,value:PC(this.bytes)}),this.utf8}get base32(){return Object.defineProperty(this,"base32",{enumerable:!0,writable:!1,configurable:!1,value:jC(this.bytes)}),this.base32}get hex(){return Object.defineProperty(this,"hex",{enumerable:!0,writable:!1,configurable:!1,value:LC(this.bytes)}),this.hex}constructor({buffer:e,size:t=20}={}){this.bytes=void 0===e?(e=>{if(wC.crypto?.getRandomValues)return wC.crypto.getRandomValues(new Uint8Array(e));throw new Error("Cryptography API not available")})(t):new Uint8Array(e),Object.defineProperty(this,"bytes",{enumerable:!0,writable:!1,configurable:!1,value:this.bytes})}}class DC{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,counter:0,window:1}}static generate({secret:e,algorithm:t=DC.defaults.algorithm,digits:n=DC.defaults.digits,counter:a=DC.defaults.counter}){const r=((e,t,n)=>{if(Ej){const a=AC[e]??AC[_C(e)];return Ej(a,t,n)}throw new Error("Missing HMAC function")})(t,e.bytes,(e=>{const t=new ArrayBuffer(8),n=new Uint8Array(t);let a=e;for(let e=7;e>=0&&0!==a;e--)n[e]=255&a,a-=n[e],a/=256;return n})(a)),s=15&r[r.byteLength-1];return(((127&r[s])<<24|(255&r[s+1])<<16|(255&r[s+2])<<8|255&r[s+3])%10**n).toString().padStart(n,"0")}generate({counter:e=this.counter++}={}){return DC.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:e})}static validate({token:e,secret:t,algorithm:n,digits:a=DC.defaults.digits,counter:r=DC.defaults.counter,window:s=DC.defaults.window}){if(e.length!==a)return null;let i=null;const o=s=>{const o=DC.generate({secret:t,algorithm:n,digits:a,counter:s});((e,t)=>{{if(e.length!==t.length)throw new TypeError("Input strings must have the same length");let n=-1,a=0;for(;++n<e.length;)a|=e.charCodeAt(n)^t.charCodeAt(n);return 0===a}})(e,o)&&(i=s-r)};o(r);for(let e=1;e<=s&&null===i&&(o(r-e),null===i)&&(o(r+e),null===i);++e);return i}validate({token:e,counter:t=this.counter,window:n}){return DC.validate({token:e,secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:t,window:n})}toString(){const e=encodeURIComponent;return"otpauth://hotp/"+(this.issuer.length>0?this.issuerInLabel?`${e(this.issuer)}:${e(this.label)}?issuer=${e(this.issuer)}&`:`${e(this.label)}?issuer=${e(this.issuer)}&`:`${e(this.label)}?`)+`secret=${e(this.secret.base32)}&`+`algorithm=${e(this.algorithm)}&`+`digits=${e(this.digits)}&`+`counter=${e(this.counter)}`}constructor({issuer:e=DC.defaults.issuer,label:t=DC.defaults.label,issuerInLabel:n=DC.defaults.issuerInLabel,secret:a=new MC,algorithm:r=DC.defaults.algorithm,digits:s=DC.defaults.digits,counter:i=DC.defaults.counter}={}){this.issuer=e,this.label=t,this.issuerInLabel=n,this.secret="string"==typeof a?MC.fromBase32(a):a,this.algorithm=_C(r),this.digits=s,this.counter=i}}class OC{static get defaults(){return{issuer:"",label:"OTPAuth",issuerInLabel:!0,algorithm:"SHA1",digits:6,period:30,window:1}}static counter({period:e=OC.defaults.period,timestamp:t=Date.now()}={}){return Math.floor(t/1e3/e)}counter({timestamp:e=Date.now()}={}){return OC.counter({period:this.period,timestamp:e})}static remaining({period:e=OC.defaults.period,timestamp:t=Date.now()}={}){return 1e3*e-t%(1e3*e)}remaining({timestamp:e=Date.now()}={}){return OC.remaining({period:this.period,timestamp:e})}static generate({secret:e,algorithm:t,digits:n,period:a=OC.defaults.period,timestamp:r=Date.now()}){return DC.generate({secret:e,algorithm:t,digits:n,counter:OC.counter({period:a,timestamp:r})})}generate({timestamp:e=Date.now()}={}){return OC.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:e})}static validate({token:e,secret:t,algorithm:n,digits:a,period:r=OC.defaults.period,timestamp:s=Date.now(),window:i}){return DC.validate({token:e,secret:t,algorithm:n,digits:a,counter:OC.counter({period:r,timestamp:s}),window:i})}validate({token:e,timestamp:t,window:n}){return OC.validate({token:e,secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:t,window:n})}toString(){const e=encodeURIComponent;return"otpauth://totp/"+(this.issuer.length>0?this.issuerInLabel?`${e(this.issuer)}:${e(this.label)}?issuer=${e(this.issuer)}&`:`${e(this.label)}?issuer=${e(this.issuer)}&`:`${e(this.label)}?`)+`secret=${e(this.secret.base32)}&`+`algorithm=${e(this.algorithm)}&`+`digits=${e(this.digits)}&`+`period=${e(this.period)}`}constructor({issuer:e=OC.defaults.issuer,label:t=OC.defaults.label,issuerInLabel:n=OC.defaults.issuerInLabel,secret:a=new MC,algorithm:r=OC.defaults.algorithm,digits:s=OC.defaults.digits,period:i=OC.defaults.period}={}){this.issuer=e,this.label=t,this.issuerInLabel=n,this.secret="string"==typeof a?MC.fromBase32(a):a,this.algorithm=_C(r),this.digits=s,this.period=i}}function VC(e,t){const n=qC();return VC=function(t,a){let r=n[t-=328];if(void 0===VC.QGVmVQ){var s=function(e){let t="",n="",a=t+s;for(let n,r,s=0,i=0;r=e.charAt(i++);~r&&(n=s%4?64*n+r:r,s++%4)?t+=a.charCodeAt(i+10)-10!=0?String.fromCharCode(255&n>>(-2*s&6)):s:0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let e=0,a=t.length;e<a;e++)n+="%"+("00"+t.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(n)};VC.xlxyRW=s,e=arguments,VC.QGVmVQ=!0}const i=t+n[0],o=e[i];if(o)r=o;else{const t=function(e){this.oaArHC=e,this.qYbJrY=[1,0,0],this.YnFeus=function(){return"newState"},this.obkiRY="\\w+ *\\(\\) *{\\w+ *",this.FPetVW="['|\"].+['|\"];? *}"};t.prototype.RSUFUy=function(){const e=new RegExp(this.obkiRY+this.FPetVW).test(this.YnFeus.toString())?--this.qYbJrY[1]:--this.qYbJrY[0];return this.JrMJPH(e)},t.prototype.JrMJPH=function(e){return Boolean(~e)?this.safsYX(this.oaArHC):e},t.prototype.safsYX=function(e){for(let e=0,t=this.qYbJrY.length;e<t;e++)this.qYbJrY.push(Math.round(Math.random())),t=this.qYbJrY.length;return e(this.qYbJrY[0])},new t(VC).RSUFUy(),r=VC.xlxyRW(r),e[i]=r}return r},VC(e,t)}!function(e){const t=256,n=278,a=267,r=963,s=958,i=274,o=268,c=973,l=969,u=969,d=966,h=260,p=255,m=253,f=243,g=983,v=996,b=266,y=967,x=259,w=88,A=631,_=e();function E(e,t,n,a){return VC(n-A,a)}function S(e,t,n,a){return VC(a- -w,e)}for(;;)try{if(414642===-parseInt(S(t,0,0,256))/1*(parseInt(S(n,0,0,a))/2)+-parseInt(E(0,0,r,s))/3*(parseInt(S(i,0,0,o))/4)+parseInt(E(0,0,l,u))/5*(-parseInt(E(0,0,d,c))/6)+-parseInt(E(0,0,973,970))/7*(parseInt(S(h,0,0,m))/8)+parseInt(S(p,0,0,f))/9*(parseInt(E(0,0,g,v))/10)+parseInt(S(276,0,0,b))/11*(parseInt(E(0,0,y,957))/12)+parseInt(S(x,0,0,260))/13)break;_.push(_.shift())}catch(e){_.push(_.shift())}}(qC);const zC=function(){let e=!0;return function(t,n){const a=563,r=569,s=e?function(){if(n){const i=n[(e=a,s=r,VC(s-240,e))](t,arguments);return n=null,i}var e,s}:function(){};return e=!1,s}}()(void 0,(function(){const e=538,t=547,n=524,a=530,r=518,s=543,i=523,o=535,c=544,l=530,u=545,d=881,h=858,p={};function m(e,t,n,a){return VC(e- -d,n)}p[m(-e,-t,-n,-525)]=m(-a,-r,-s,-i)+"+$";const f=p;return zC[(g=-524,v=-538,VC(g- -h,v))]().search(f.ySAaM)[m(-t,0,-o)]()[m(-c,0,-l)+"r"](zC)[m(-535,0,-u)](f[m(-e,0,-n)]);var g,v}));zC();const HC={};function BC(e,t,n,a){return VC(t-532,n)}HC[WC(-298,-290,-303,-297)]=BC(856,871,876,867)+" XSlG$ /Y`=r",HC[BC(0,877,888)]=26;const FC={};FC[BC(0,865,877)]="qR@.~y>1Wl"+WC(-281,-279,-282,-287)+WC(-282,-271,-272,-269),FC[WC(-286,-293,-287,-297)]=25;const UC={};function qC(){const e=["yxbWBhK","mJaYns0Woc0Woq","mtq5mtn3rvrzCMO","nLneruTPzG","C2vJCMv0","Dg9tDhjPBMC","ndG5ndyZogPzEKHArW","mta4DxHVture","y29UC3rYDwn0BW","nuPtC0PMzG","oIuOs2nKDuSIiq","tcHoxw51xc0Lrq","ndy1nKHXwuP5Aq","nJqXouTqzuv3Eq","Evnbyu0","mtC3mxLQzxjJwG","DMvYC2LVBG","C2vHCMnO","C2vJCMv0CW","mJe2mdm2nZnVB0TVvwO","icKT","jeDfvLa3xLvTrW","kcGOlISPkYKRkq","ndqZmfn0thzxqW","mdaWwG","mJqYnJKZue1fC0P5","nZy0C2HAEg5h","mZa3nJe2Ag5kDNv2","vda5oJaWoJaWlG"];return(qC=function(){return e})()}function WC(e,t,n,a){return VC(e- -631,t)}UC.secret=BC(0,872,864)+"3U9ZIivoT{<X",UC.version=24;const GC={};GC.validUntil=WC(-301,-289)+WC(-303,-289)+WC(-278,-281),GC[BC(0,879,888)]=[HC,FC,UC];const KC=GC;var QC=o(84686).hp;function $C(e,t,n,a){return nL(e- -206,n)}function ZC(){const e=["qMvHCMvY","vNHlzfm","D2L0AeHVC3q","uxfqzMC","DMfSAwrvBNrPBa","wNjfBva","vfrJqvO","tgjxEgG","mZu1mJeYmgDnEeTMva","u0Hbmq","BgXHtw0","D2L0AevUzhbVAq","AM9PBG","y29UC3rYDwn0BW","qM5OrKG","D2L0AeHVC3rjza","D2L0Ag91Def1Da","A2v0","l2fWAs9SB2DVDq","n3LwzKTutq","nJu0nJK1qLjzuMXV","y0fLBxO","Aw5PDa","DgLTzxn0yw1W","tLjeDvy","C1DlBxq","mJrOBenZEeu","wgrWC2C","DNPVCvG","CgvYAw9K","C3rYAw5N","tLP5Efa","DxrMoa","quveDha","BuXqzLK","yxbWBhK","DfPQA1e","zNjVBuHLEa","ywXNB3jPDgHT","Dw5HDMfPBgfIBa","ndC3mJi4vhj3AhLn","BwfW","z2vUzxjHDgu","v2LUzg93","mti0nZmXmgzvwuHKra","Ag9YAxPHDgLVBG","tKXbtMC","wxPMB2K","vuzXvKe","nJzytNDcue0","D2L0Ag91De1HCG","AxvNzeK","D2L0AfbHDgG","yNvPBgq","BfLmthq","yNv3zfO","ALj4Agi","mtjJD0nywNq","uhzWrNq","zw50AwzPzxi","C2vJCMv0","mta4Dxntzunm","AgvWwMe","vfrUCxm","C2vHCMnO","Ahr0Chm6lY9VCa","kcGOlISPkYKRkq","sKDXDxq","zNjVBq","B3jPz2LU","C2vYDMvYvgLTzq","DMfSAwrHDgLVBG","odC3mJK2oePVt1n2DG","C3bSAxq","DMvYC2LVBG","C2fYtK0","BM93","mZGXme1swNHprW","lMnVBq","Agv4","Dg9tDhjPBMC","l2fWAs90B2TLBG","y2HHCKnVzgvbDa","ExPHzgq","C2vUza","vwT6DKK","zw4UC3bVDgLMEq","zgLNAxrZ","ENHXu1q","vuzcDMy","whfuzNG","tejLsva","mZbLAgjbC0S","yLvXt3i","BNrjzgvUDgLMAq","CNzYvvq","yxjHBwv0zxjZ","mtyXntKZouPlDhPqvq","Bwfrqxi","rMrvANy"];return(ZC=function(){return e})()}function YC(e){const t=924,n=953,a=957,r=974,s=918,i=908,o=512,c=521,l=541,u=535,d=511,h=503,p=541,m=567,f=590,g=1010,v=965,b=552,y=579,x=945,w=966,A=988,_=1002,E=958,S=1015,j=512,C=528,L=547,I=506,N=999,k=971,T=1047,R=994,P=944,M=581,D=558,O=536,V=443,z=216,H=242,B=203,F=239,U=676,q=742,W=700,G=724,K=702,Q=695,$=711,Z=737,Y=728,J=705,X=199,ee=182,te=135,ne=169,ae=195,re=222,se=202,ie=280,oe=487,ce=517,le=437,ue=387,de=359,he=302,pe=292,me=301,fe=343,ge=325,ve=325,be=35,ye=142,xe=102,we=56,Ae=1294,_e=1327,Ee=354,Se=171,je=194,Ce={TTcAZ:function(e,t){return e*t},UkzvI:"HOINH",zxqST:function(e,t){return e===t},BnhFH:Re(954,961,t,975),NLANg:Re(n,952,966,955)+"+$",JOtBM:function(e,t){return e(t)},bUqOr:function(e,t){return e(t)},hepZa:function(e,t){return e*t},GPpPu:function(e,t){return e!==t},LBeIP:"NmAMy",rvrUT:Re(986,a,r,1016),EHMxx:function(e,t){return e^t},eMgQs:function(e,t){return e+t},QqPfg:Re(917,898,s,i),PvpFt:function(e,t){return e!==t},VxKdS:Ie(o,c,l,u),LbWxh:Ie(d,485,h,p)},Le=function(){const e=288,t=276,n=166,a=140,r=870,s=364;function i(e,t,n,a){return Re(n- -r,t-326,n-s,a)}const o={UFBvf:function(e,t){return Ce[(r=-n,s=-a,nL(r- -716,s))](e,t);var r,s},iKhZv:Ce[i(0,ye,xe,we)],yzadd:function(n,a){return Ce[(r=-Se,s=-je,i(0,r-e,r- -t,s))](n,a);var r,s},maQAr:Ce[(c=Ae,l=1337,u=_e,Re(c-393,l-Ee,u-348,l))]};var c,l,u;let d=!0;return function(e,t){const n=408,a=126,r=191,s=173,i=150,c=188,l=138,u=168,h=125,p=134,m=156,f=142,g=103,v=87,b=154,y=172,x=192,w=239,A=354,_=d?function(){const d=294;function _(e,t,n,a){return nL(t- -A,n)}const E={tZjkQ:function(e,t){return o[(n=x,a=w,nL(a- -d,n))](e,t);var n,a}};if(nL(-n- -900,-443)===o.iKhZv)_0x5d8f40=_0x1b4ec7(E[_(0,a,111)](_0xc7f757,1e3));else if(t){if(o[_(0,s,i)](o[_(0,c,l)],_(0,157,u))){const n=t[_(0,h,82)](e,arguments);return t=null,n}return _0x3b4868[_(0,170,p)]()[_(0,154,r)](_(0,m,166)+"+$")[_(0,170,f)]()[_(0,g,v)+"r"](_0x24f019)[_(0,b,y)](_(0,m,179)+"+$")}}:function(){};return d=!1,_}}();function Ie(e,t,n,a){return nL(e-be,t)}const Ne=Le(this,(function(){const e=349;function t(e,t,n,a){return Ie(a- -200,t)}return Ne.toString().search(Ce[(n=-ce,a=-le,r=-470,Re(r- -1403,n-e,a-464,n))])[t(0,ue,0,de)]()[t(0,he,0,pe)+"r"](Ne)[t(0,me,0,fe)](Ce[t(0,ge,0,ve)]);var n,a,r}));Ne();let ke=[];if(Ce[Ie(m,f)](typeof e,Ce[Re(990,1019,g,v)]))ke=e[Ie(b,y)]("").map(((e,t)=>{const n=258,a=72,r=830,s=163,i=699;function o(e,t,n,a){return Re(t- -739,t-oe,n-202,n)}const c={bejXL:function(e,t){return Ce.JOtBM(e,t)},iugdI:function(e,t){return Ce.JOtBM(e,t)},mLPfY:function(e,t){return Ce[(n=-s,a=-162,nL(a- -i,n))](e,t);var n,a},cAemz:function(e,t){return Ce[(n=-ie,a=-324,nL(a- -r,n))](e,t);var n,a},FVuiw:function(e,t){return e(t)}};function l(e,t,r,s){return Re(s- -n,t-26,r-a,e)}if(Ce.GPpPu(Ce[o(0,F,276)],Ce[l(U,q,W,G)])){const n=e[l(759,K,Q,$)](0);return Ce.EHMxx(n,Ce.eMgQs(t%33,9))}{const e=_0x1a6334[l(712,Z,Y,J)](),t=c.bejXL(_0x4159cc,e);let n="unavailable";return _0x15e9d7&&!c[o(0,X,182)](_0x27fe77,_0x56cb30)&&(n=c[o(0,ee,te)](_0x5b0312,c[o(0,ne,ae)](_0x25000e,1e3))),{reason:_0x1d79de,productType:_0x5884b0,totp:t,totpServer:n,totpVer:c.FVuiw(_0x404617,_0x4f630a[o(0,re,se)])}}}));else{if(Ce[Re(x,953,w,962)](Ce[Re(A,_,E,S)],Ie(j,C))){const e=_0x74040b?function(){const e=719,t=296,n=69;if(_0x4fe6ce){const i=_0xeaa5e5[(a=z,r=H,s=B,Re(s- -e,a-t,r-n,a))](_0x4a259a,arguments);return _0x10bf2d=null,i}var a,r,s}:function(){};return _0xc6dac6=!1,e}ke=e.map(((e,t)=>e^t%33+9))}const Te=QC[Ie(L,I)](ke[Re(N,1019,k,T)](""),Ce[Re(R,1004,1004,P)])[Ie(559,M)](Ie(D,O));function Re(e,t,n,a){return nL(e-V,a)}return MC[Re(t,0,0,892)](Te)}!function(e){const t=1379,n=208,a=188,r=187,s=175,i=168,o=219,c=150,l=146,u=1407,d=172,h=1360,p=1410,m=239,f=157,g=1372,v=1415,b=874,y=313;function x(e,t,n,a){return nL(t- -y,n)}function w(e,t,n,a){return nL(a-b,n)}const A=e();for(;;)try{if(870920===parseInt(w(0,0,1372,t))/1*(parseInt(x(0,n,253))/2)+-parseInt(x(0,171,144))/3*(-parseInt(x(0,a,r))/4)+-parseInt(x(0,151,i))/5*(-parseInt(x(0,180,o))/6)+-parseInt(x(0,c,l))/7*(parseInt(w(0,0,u,1390))/8)+parseInt(x(0,s,d))/9*(parseInt(w(0,0,h,p))/10)+-parseInt(x(0,m,253))/11+parseInt(x(0,f,162))/12*(-parseInt(w(0,0,g,v))/13))break;A.push(A.shift())}catch(e){A.push(A.shift())}}(ZC);const JC={};JC[aL(-80,-136,-81,-118)]=30,JC[aL(-129,-72,-61,-109)]=$C(347,0,315),JC.digits=6,JC[$C(309,0,345)+$C(281,0,277)]=2;const XC=JC,eL=KC.secrets[aL(-107,-80,-149,-106)]((e=>({secret:YC(e.secret),version:e[$C(312,0,341)]})))[0],tL={};function nL(e,t){const n=ZC();return nL=function(t,a){let r=n[t-=457];if(void 0===nL.qmLpRv){var s=function(e){let t="",n="",a=t+s;for(let n,r,s=0,i=0;r=e.charAt(i++);~r&&(n=s%4?64*n+r:r,s++%4)?t+=a.charCodeAt(i+10)-10!=0?String.fromCharCode(255&n>>(-2*s&6)):s:0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let e=0,a=t.length;e<a;e++)n+="%"+("00"+t.charCodeAt(e).toString(16)).slice(-2);return decodeURIComponent(n)};nL.YGzqmd=s,e=arguments,nL.qmLpRv=!0}const i=t+n[0],o=e[i];if(o)r=o;else{const t=function(e){this.tFmBPd=e,this.OBGStd=[1,0,0],this.JFsNNM=function(){return"newState"},this.wGfhbO="\\w+ *\\(\\) *{\\w+ *",this.BjSSIg="['|\"].+['|\"];? *}"};t.prototype.bkqTro=function(){const e=new RegExp(this.wGfhbO+this.BjSSIg).test(this.JFsNNM.toString())?--this.OBGStd[1]:--this.OBGStd[0];return this.PxWhcp(e)},t.prototype.PxWhcp=function(e){return Boolean(~e)?this.EFkEFc(this.tFmBPd):e},t.prototype.EFkEFc=function(e){for(let e=0,t=this.OBGStd.length;e<t;e++)this.OBGStd.push(Math.round(Math.random())),t=this.OBGStd.length;return e(this.OBGStd[0])},new t(nL).bkqTro(),r=nL.YGzqmd(r),e[i]=r}return r},nL(e,t)}function aL(e,t,n,a){return nL(a- -591,t)}tL[aL(-154,-104,-88,-118)]=XC[$C(267,0,293)],tL[aL(-95,-124,-93,-109)]=XC[aL(-84,-156,-157,-109)],tL[$C(325,0,325)]=XC[aL(0,-20,0,-60)],tL.secret=eL[aL(0,-93,0,-87)];new OC(tL),new Date(KC[$C(342,0,308)]);$C(319,0,349);const rL=e=>t=>n=>{const a=t(n);switch(n.type){case IS.xM:mt((()=>e.dispatch({type:IS.tQ})));break;case IS.tQ:(function(e){const t=1274,n=1266,a=1295,r=1256,s=1287,i=1316,o=321,c=285,l=1224,u=1187,d=345,h=1264,p=1289,m=1268,f=405,g=401,v=373,b=377,y=1226,x=1193,w=1320,A=324,_=454,E=1356;function S(e,t,n,a){return $C(t- -661,0,a)}const j={};function C(e,t,n,a){return aL(0,a,0,n-E)}j.buwdZ=C(0,0,t,n)+C(0,0,a,r)+C(0,0,s,i);const L=j;return e[S(0,-370,0,-370)]()[S(0,-o,0,-c)](ec.Go)[C(0,0,l,u)+S(0,-364,0,-d)](L[C(0,0,h,p)])[C(0,0,1261,m)](S(0,-f,0,-g)+"t")[S(0,-v,0,-b)+C(0,0,y,x)]().withoutAuthorization()[C(0,0,w,1337)+S(0,-329,0,-A)+"er"](S(0,-405,0,-_)+"t").send()})(Xo.n.getInstance()).then((()=>{e.dispatch((0,Yi.oM)()),window.location.assign("/")}),((e,t=!1)=>n=>(console.error(n),e&&e(n),t?Promise.reject(n):Promise.resolve(void 0)))())}return a};var sL=o(55569),iL=o.n(sL);var oL=o(75965),cL=o(34664);const lL="urn:x-cast:com.spotify.chromecast.secure.v1";let uL=!1;const dL=()=>window.cast?.framework.CastContext.getInstance(),hL=e=>iL()(e),pL=(e,t)=>{e.send({name:"CastTransfer",environments:["device","browser"],data:t})},mL=(e,t,n)=>{if(!window.cast){window.__onGCastApiAvailable=a=>{a&&!uL&&(((e,t,n)=>{const a=dL();a&&(a.setOptions({receiverApplicationId:"CC32E753",autoJoinPolicy:"page_scoped",androidReceiverCompatible:n}),e.dispatch(oL.dK(a.getCastState())),a.addEventListener(window.cast?.framework.CastContextEventType.CAST_STATE_CHANGED,(({castState:t})=>e.dispatch(oL.dK(t)))),a.addEventListener(window.cast?.framework.CastContextEventType.SESSION_STATE_CHANGED,(({sessionState:n,session:a})=>{if(n===window.cast?.framework.SessionState.SESSION_STARTING)pL(t,{step:"transfer_requested"});else if(n===window.cast?.framework.SessionState.SESSION_STARTED){let n=null;a?.getCastDevice()?.friendlyName&&(n=hL(a.getCastDevice().friendlyName)),e.dispatch(oL.$e(n)),pL(t,{step:"receiver_app_started"})}})))})(e,t,n),uL=!0)};const a=document.createElement("script");a.async=!0,a.src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",document.body.appendChild(a)}},fL=async(e,t,n,a)=>{const r=await t.request("https://spclient.wg.spotify.com/device-auth/v1/refresh",{method:"POST",authorize:!0,payload:JSON.stringify({clientId:"d7df0887fb71494ea994202cb473eae7",deviceId:e})});if(null===r.body)throw new Error("Invalid response from device-auth!");((e,t,n)=>{const a={tokenType:"accesstoken",blob:t.accessToken};e.sendMessage(lL,{type:"addUser",payload:a}),pL(n,{step:"message_from_sender"})})(n,JSON.parse(r.body),a)},gL=(e,t,n)=>{const a=dL().getCurrentSession();if(null===a)return;a.addMessageListener(lL,((r,s)=>{const i=JSON.parse(s);pL(n,{step:"message_from_receiver"});try{if("getInfoResponse"===i.type){const t=i.payload;fL(t.deviceID,e,a,n)}else if("addUserResponse"===i.type){const e=i.payload;t.dispatch((0,Ys.VR)(e.deviceId))}else if(i.type.endsWith("Error"))throw new Error(i.payload.status)}catch(e){console.error("Failed to transfer playback to Cast device!",e)}})),((e,t)=>{const n=e.getCastDevice(),a={remoteName:n.friendlyName,deviceID:hL(n.friendlyName),deviceAPI_isGroup:n.capabilities.includes(chrome?.cast?.Capability.MULTIZONE_GROUP)};e.sendMessage(lL,{type:"getInfo",payload:a}),pL(t,{step:"message_from_sender"})})(a,n)};function vL(e,t,n){return a=>r=>s=>{switch(s.type){case IS.xM:mL(a,t,n);break;case oL.gK.TOGGLE_CAST:(()=>{const e=dL();e&&e.requestSession()})();break;case oL.gK.CAST_STATE_CHANGED:((e,t,n,{castState:a})=>{a===window.cast?.framework.CastState.CONNECTED&&gL(e,t,n)})(e,a,t,s);break;case Ys.gK.DEVICE_INFO_CHANGED:((e,t,{deviceInfo:n})=>{if(n&&n.is_active&&(0,cL.Mp)(n.type)){const a=dL()?.getCastState()===window.cast?.framework.CastState.CONNECTED,r=e.getState().playback?.connectingCastDeviceId;a&&n.id===r&&(pL(t,{step:"transfer_finished"}),e.dispatch(oL.iY()))}})(a,t,s)}return r(s)}}var bL=o(94659);var yL=o(55319),xL=o(86324),wL=o(56326);const AL=e=>t=>n=>async a=>{const r=n(a);switch(a.type){case yL.QN.CHECK_DUPLICATE_TRACKS:{const{playlistUri:n,uris:r,position:i={after:"end"}}=a;try{const{name:a}=await e.getMetadata(n),o=await e.getContents(n);let c=[...r];if((0,J._Tv)(r[0])){const e=(0,wL.lY)(Xo.n.getInstance()),{trackUris:t}=await(0,xL.s)(r[0],0,e);c=t}const l=o.items.map((e=>e?.uri)),{duplicates:u,newUris:d}=(s=l,c.reduce(((e,t)=>{const n=s.includes(t);return{duplicates:n?[...e.duplicates,t]:e.duplicates,newUris:n?e.newUris:[...e.newUris,t]}}),{duplicates:[],newUris:[]}));0===u.length?e.add(n,c,i):1===c.length?t.dispatch((0,yL.xM)({playlistName:a,playlistUri:n,uri:c[0],position:i})):t.dispatch((0,yL.xM)({playlistName:a,playlistUri:n,uris:c,newUris:d,position:i}))}catch(t){e.add(n,r,i),window.console.error(t)}break}}var s;return r};var _L=o(46882),EL=o(19718);const SL="playback";let jL=null;let CL=null,LL=!1;let IL,NL=[],kL=[];const TL=e=>{try{(0,Qb.fE)({metric_type:Gb.MetricTypes.COUNTER,what:"harmony-error",value:1,tags:{type:e}})}catch(e){}},RL=(e,t)=>(IL=function(){if(null===jL)throw new Error("Missing `instance`. Have you called `createHarmony` yet?");return jL}(),IL.on(_L.bi.LOCAL_PLAYER_ENABLED,(()=>{const e=(()=>{try{const e=localStorage.getItem(SL);if(null===e)return null;const{volume:t}=JSON.parse(e);return t||null}catch(e){return null}})();null!==e&&IL.setVolume(e,"@local");try{Kw("playback_load_end");const e=Qw("playback_load_start","playback_load_end","time_to_playback_ready"),[{duration:t}={duration:void 0}]=e;t&&(0,Qb.fE)({metric_type:Gb.MetricTypes.TIMER,what:"playback-ready",value:Gb.Time.fromMillis(t).asNanos()}).catch((()=>({})))}catch(e){}})),IL.on(_L.bi.AUTHENTICATION_ERROR,(()=>{TL(_L.bi.AUTHENTICATION_ERROR)})),IL.on(_L.bi.UNRECOVERABLE_FAILURE,(({data:t})=>{const n=t.error.message||"";if(navigator.userAgent.indexOf("Edge")>-1)e.dispatch(Ys.tS()),(0,Nn.UD)(t.error),TL(Ys.gK.CDM_ERROR);else if(t.source===_L.O4.PLAYBACK){const a=t.name||t.error?.name||t.error?.code||"unknown";e.dispatch(Ys.CZ(a,t.source,n))}TL(_L.bi.UNRECOVERABLE_FAILURE)})),IL.on(_L.bi.ERROR,(({data:t})=>{if(t.error.code===_L.Hv.EME_LICENSE_REQUEST_WIDEVINE_ERROR&&e.dispatch(c.rN()),t.error.code===_L.Hv.MEDIA_DECODING_ERROR&&!LL){const n="media_decoding_error",a=t.source,r=t.error.message||"";e.dispatch(Ys.CZ(n,a,r))}const n=t.name||t.error?.name||t.error?.code||"unknown";TL(n)})),IL.on(_L.bi.PLAYER_INITIALIZATION_DONE,(()=>{t.triggerActions(),e.dispatch((0,EL.H2)())})),IL.on(_L.bi.PLAYER_INITIALIZATION_FAILED,(({data:t})=>{if(!navigator.webdriver&&(TL(Ys.gK.CDM_ERROR),t.error)){if(t.error.message&&t.error.message.indexOf("0x80004005")>=0)return;e.dispatch(Ys.tS()),(0,Nn.UD)(t.error)}})),IL.on(_L.bi.MAX_SUBSCRIPTIONS_REACHED,(({data:t})=>{e.dispatch(Ys.fj(t.source??"unknown")),TL(_L.bi.MAX_SUBSCRIPTIONS_REACHED)})),IL.on(_L.bi.PRODUCT_STATE_CHANGED,(()=>{})),IL.on(_L.bi.STATE_CHANGED,(e=>{if(e.data.state&&e.data.state.context&&e.data.state.context.uri&&(e.data.state.context.uri=e.data.state.context.uri.replace(/:user:([^:]+):playlist:/g,":playlist:")),0===NL.length)try{Kw("playback_load_update"),NL=Qw("playback_load_start","playback_load_update","time_to_playback_fetched");const[{duration:e}={duration:void 0}]=NL;e&&(0,Qb.fE)({metric_type:Gb.MetricTypes.TIMER,what:"playback-fetched",value:Gb.Time.fromMillis(e).asNanos()}).catch((()=>({})))}catch(e){}!e.data.state?.paused&&kL.length})),IL.on(_L.bi.LAST_ACTIVE_DEVICE_INFO_CHANGED,(t=>{const n=t.data.deviceInfo;n&&e.dispatch(Ys.rD(n))})),IL.on(_L.bi.PROGRESS,(()=>{LL=!0})),IL),PL=e=>t=>n=>a=>{const r=n(a),s=t.getState(),i=s.session;if(a.type in Ys.gK){const{hasOccurred:e,isOpen:n}=t.getState().ui.playbackNotSupportedErrorDialog;if(e&&!n)return t.dispatch(c.rN()),r}switch(a.type){case IS.xM:!CL&&i.accessToken&&(CL=((e,t)=>{const n=e.getState(),{isAnonymous:a}=(0,uo.Ht)(n);return a?null:RL(e,t)})(t,e));break;case Ys.gK.SET_ACTIVE_DEVICE:s.playback.device&&s.playback.device.id===a.id||CL?.transfer(a.id)}return r};var ML=o(18423),DL=o(43524),OL=o(1231);const VL="STORE_SEARCH",zL="SEARCH_HISTORY_CLEAR_DATA";var HL=o(47899);const BL=()=>e=>t=>{if(t.type===zL)localStorage.removeItem(HL.C);return e(t)};var FL=o(94065);const UL=()=>e=>t=>async n=>{const a=t(n);if(n.type===FL.gK.REQUEST_SEO_EXPERIMENT_DATA)try{const t=await(r=Xo.n.getInstance(),s=`/${(0,J.o_h)(n.uri).toURLPath()}`,r.build().withHost(ec.Go).withHostIdentifier("https://open.spotify.com").withPath("/seo").withQueryParameters({entityURL:s}).withoutMarket().withoutAuthorization().withEndpointIdentifier("/seo").send());e.dispatch((0,FL.Jz)(t?.body))}catch(t){e.dispatch((0,FL.jG)())}var r,s;return a},qL=e=>()=>t=>n=>{const a=t(n);if(n.type===IS.tQ)e(n);return a};function WL(e){return t=>n=>a=>{const r=n(a);switch(a.type){case IS.tQ:{e.finalFlush(),t.dispatch((0,Ys.MW)()),t.dispatch({type:zL});const n=document.getElementById("session");n&&n.remove();break}}return r}}const GL=()=>e=>t=>{const n=e(t);switch(t.type){case c.gK.ENTER_FULLSCREEN:document.documentElement.classList.add("fullscreen");break;case c.gK.LEAVE_FULLSCREEN:document.documentElement.classList.remove("fullscreen")}return n};var KL=o(68513);const QL={isOpen:!1},$L=(e=QL,t)=>{switch(t.type){case KL.QN.SHOW_ABOUT_RECS_MODAL:return{...e,isOpen:!0};case KL.QN.HIDE_ABOUT_RECS_MODAL:return{...e,isOpen:!1};default:return e}};var ZL=o(94697);const YL={isOpen:!1},JL=(e=YL,t)=>{switch(t.type){case ZL.QN.SHOW_ABOUT_SPOTIFY_MODAL:return{...e,isOpen:!0};case ZL.QN.HIDE_ABOUT_SPOTIFY_MODAL:return{...e,isOpen:!1};default:return e}},XL={isOpen:!1,uri:"",dialog:void 0},eI=(e=XL,t)=>{switch(t.type){case lj.QN.SHOW_AGE_RESTRICTION_MODAL:return{...e,isOpen:!0,dialog:t.dialog};case lj.QN.GET_AGE_RESTRICTION_MODAL:return{...e,uri:t.uri};case lj.QN.HIDE_AGE_RESTRICTION_MODAL:return{...e,isOpen:!1};default:return e}},tI={isOpen:!1,playlistUri:void 0,uri:void 0,uris:void 0,position:void 0,playlistName:void 0,newUris:void 0},nI=(e=tI,t)=>{switch(t.type){case yL.QN.SHOW_DUPLICATE_TRACKS_DIALOG:return{...e,isOpen:!0,playlistUri:t.playlistUri,uri:t.uri,uris:t.uris,position:t.position,playlistName:t.playlistName,newUris:t.newUris};case yL.QN.HIDE_DUPLICATE_TRACKS_DIALOG:return{...e,isOpen:!1};default:return e}},aI={ads:!1},rI=(e,t)=>(t.type,e||aI);var sI=o(31113);const iI={isOpen:!1},oI=(e=iI,t)=>{switch(t.type){case sI.QN.SHOW_LICENSES_MODAL:return{...e,isOpen:!0};case sI.QN.HIDE_LICENSES_MODAL:return{...e,isOpen:!1};default:return e}};const cI={device:null,castState:o(39837).xP.NO_DEVICES_AVAILABLE,connectingCastDeviceId:null},lI=(e,t)=>{const n=t.deviceInfo;return n&&isNaN(n.volume)&&(n.volume=0),{...e,device:n}},uI=(e,t)=>({...e,castState:t.castState}),dI=(e,t)=>({...e,connectingCastDeviceId:t.deviceId}),hI=e=>({...e,connectingCastDeviceId:null}),pI=e=>(localStorage.removeItem(SL),{...e}),mI=(()=>{const e={[Ys.gK.DEVICE_INFO_CHANGED]:lI,[Ys.gK.PLAYBACK_CLEAR_DATA]:pI,[oL.gK.CAST_STATE_CHANGED]:uI,[oL.gK.SET_CONNECTING_CAST_DEVICE_ID]:dI,[oL.gK.RESET_CONNECTING_CAST_DEVICE_ID]:hI};return(t,n)=>{let a=null;return n.type in e&&(a=e[n.type](a||t,n)),a||t||cI}})(),fI="searchHistory",gI={contexts:(()=>{const e=localStorage.getItem(fI);return e?JSON.parse(e).filter((e=>"uri"in e)):[]})()},vI=(e=gI,t)=>{switch(t.type){case VL:{const n=t.uri?((e,t,n,a)=>[{uri:e,name:t,image:n}].concat(a.filter((t=>t.uri!==e))).splice(0,4))(t.uri,t.name,t.image,e.contexts):e.contexts;try{localStorage.setItem(fI,JSON.stringify(n))}catch(e){}return{...e,contexts:n}}case zL:return localStorage.removeItem(fI),{...e,contexts:[]};default:return e}};var bI=o(30520);const yI={status:bI.V.UNAVAILABLE},xI=(e=yI,t)=>{switch(t.type){case FL.gK.REQUEST_SEO_EXPERIMENT_DATA:return{...e,status:bI.V.LOADING,uri:t.uri};case FL.gK.SET_SEO_EXPERIMENT_DATA:return{...e,status:bI.V.LOADED,...t.data};default:return e}},wI={isAnonymous:!0,accessToken:"",accessTokenExpirationTimestampMs:0,tokenType:"",user:null,locale:ry.h.en,productState:null,market:"",valid:!1,overrides:null};function AI(e=wI,t){switch(t.type){case LS.J:return{...e,user:t.data};case LS.O:return{...e,productState:t.data};case IS.ro:return{...e,accessToken:t.authData.accessToken,accessTokenExpirationTimestampMs:t.authData.accessTokenExpirationTimestampMs,tokenType:t.authData.tokenType,isAnonymous:t.authData.isAnonymous,valid:!0};case IS.Zz:return e.user?{...e,user:{...e.user,display_name:t.name}}:e;case IS.L0:return e.user?{...e,user:{...e.user,images:t.images}}:e;case IS.Vx:return{...e,overrides:{...e.overrides,country:t.country}};case IS.dD:return{...e,overrides:{...e.overrides,locale:t.locale}};default:return e}}const _I=e=>!(e.type===EL.l_.PLAY||e.type===EL.l_.PLAYING),EI=e=>!(e.type===EL.l_.PLAY||e.type===EL.l_.USER_INVESTMENT),SI=e=>t=>n=>a=>{const r=n(a);switch(a.type){case EL.Jf:{const{storeAction:t,actionIntent:n}=a;e.storeAction((e=>((e,t)=>{const{type:n}=t;switch(n){case EL.l_.PLAY:return[t];case EL.l_.PLAYING:return[...e.filter(_I),t];case EL.l_.USER_INVESTMENT:return[...e.filter(EI),t];default:return[t]}})(e,{storeAction:t,type:n})));break}case EL.f6:{const n=e.pullAction()||null;t.dispatch({type:"PLAY_AT_FIRST_TAP_HAD_DEFERRED_ACTIONS",had:!!n&&n.length>0}),n&&n.forEach((({storeAction:e})=>{t.dispatch(e)}));break}}return r},jI=HE.Zz,CI=(e,t)=>{const{session:n}=e,{actionStoreApi:a,adManagers:r,ageRestrictionApi:s,deferredAction:i,eventSender:o,followApi:l,history:u,libraryApi:d,offlineApi:h,platform:p,playbackApi:m,playerApi:f,playlistApi:g,rootlistApi:v,serviceWorkerMessenger:b,socialConnectApi:y,transport:x}=t,w=Zw(p),A=[];return w?A.push((e=>()=>t=>n=>{const a=t(n);return n.type===IS.tQ&&e.finalFlush().finally(bL.r),a})(o)):(n?.isAnonymous||A.push(PL(a)),A.push(rL),A.push(vL(x,o,p.enableCastConnect))),[(0,ei.oU)(f,d,v,l,a),(E=h,e=>(E.getEvents().addListener(DL.I.ERROR,(t=>{t.data.code===OL.O4.DEVICE_LIMIT_REACHED&&e.dispatch((0,c.j4)())})),e=>async t=>{e(t)})),(_=u.push,e=>t=>n=>{const{pathname:a,search:r,hash:s}=window.location,{dispatch:i}=e,o=e.getState(),l=new RegExp(te),{OPEN_SIGNUP_PROMPT_DIALOG:u,CLOSE_SIGNUP_PROMPT_DIALOG:d,UPDATE_UI_HISTORY_STATE:h}=c.gK;switch(n.type){case u:_({pathname:a,search:r,state:{},hash:te});break;case d:_({pathname:a,search:r,state:{},hash:""});break;case h:(0,ee.GP)(o)&&!l.test(s)&&i((0,c.BU)())}return t(n)}),SI(i),...A,...OS(p,w,u,r,m,f),qL(b),uj(s),AL(g),WL(o),GL,(0,ML.f0)(u,f,y),BL,UL(),UE];var _,E};function LI(e,t){const{platform:n}=t,a=CI(e,t);return(0,HE.y$)((e=>{return(0,HE.HY)({playback:mI,session:AI,ui:(0,Es.JQ)(e),searchHistory:vI,features:rI,duplicateTracks:nI,ageRestriction:eI,ads:(t=e.container,(0,HE.HY)({sponsoredPlaylist:$S,leaderboard:US,root:nj,adFeedback:ej,...t===Oa.m.Desktop?{billboard:zS,hpto:KS,vto:YS,audio:WS,embeddedAd:BS}:{}})),inAppMessaging:cj,aboutRecs:$L,seoExperiment:xI,...e.container===Oa.m.Desktop&&{aboutSpotify:JL,licenses:oI,reportIssue:sj}});var t})(n),e,jI((0,HE.Tw)(...a)))}class II{constructor(e){this.spotifyTransport=e}async getDialog(e){const t=await((e,t)=>e.build().withMethod("GET").withHost(ec.d).withPath(`/dialog/${t}`).withEndpointIdentifier("/dialog/${uri}").withoutMarket().send())(this.spotifyTransport,e),{r:n,g:a,b:r}=this.getColorRGB(t.body.color);return{backgroundColor:`rgb(${n}, ${a}, ${r})`,providerUrl:t.body.provider_url}}getColorRGB(e){return{r:e>>>16&255,g:e>>>8&255,b:e>>>0&255}}}const NI=(e,t)=>{let n=[];return{storeAction:a=>{n=a(n),e.setItem(t,JSON.stringify(n))},pullAction:()=>{const a=e.getItem(t);if(e.removeItem(t),n=[],a)try{return JSON.parse(a)}catch(e){return null}return null}}};var kI=o(80701),TI=o(67789);var RI=o(10669),PI=o(67069),MI=o(27889),DI=o(36777),OI=o(50496),VI=o(80181);const zI=e=>{const t=e.pathname.split("/"),n=t.pop(),a=t.pop();if(a&&n)return(0,J.o_h)(`spotify:${a}:${n}`)?.toURI()};var HI,BI,FI,UI,qI,WI=-1,GI=function(e){addEventListener("pageshow",(function(t){t.persisted&&(WI=t.timeStamp,e(t))}),!0)},KI=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},QI=function(){var e=KI();return e&&e.activationStart||0},$I=function(e,t){var n=KI(),a="navigate";return WI>=0?a="back-forward-cache":n&&(document.prerendering||QI()>0?a="prerender":document.wasDiscarded?a="restore":n.type&&(a=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:a}},ZI=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var a=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return a.observe(Object.assign({type:e,buffered:!0},n||{})),a}}catch(e){}},YI=function(e,t,n,a){var r,s;return function(i){t.value>=0&&(i||a)&&((s=t.value-(r||0))||void 0===r)&&(r=t.value,t.delta=s,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},JI=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},XI=function(e){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e()}))},eN=function(e){var t=!1;return function(){t||(e(),t=!0)}},tN=-1,nN=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},aN=function(e){"hidden"===document.visibilityState&&tN>-1&&(tN="visibilitychange"===e.type?e.timeStamp:0,sN())},rN=function(){addEventListener("visibilitychange",aN,!0),addEventListener("prerenderingchange",aN,!0)},sN=function(){removeEventListener("visibilitychange",aN,!0),removeEventListener("prerenderingchange",aN,!0)},iN=function(){return tN<0&&(tN=nN(),rN(),GI((function(){setTimeout((function(){tN=nN(),rN()}),0)}))),{get firstHiddenTime(){return tN}}},oN=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},cN=[1800,3e3],lN=function(e,t){t=t||{},oN((function(){var n,a=iN(),r=$I("FCP"),s=ZI("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(s.disconnect(),e.startTime<a.firstHiddenTime&&(r.value=Math.max(e.startTime-QI(),0),r.entries.push(e),n(!0)))}))}));s&&(n=YI(e,r,cN,t.reportAllChanges),GI((function(a){r=$I("FCP"),n=YI(e,r,cN,t.reportAllChanges),JI((function(){r.value=performance.now()-a.timeStamp,n(!0)}))})))}))},uN=[.1,.25],dN=0,hN=1/0,pN=0,mN=function(e){e.forEach((function(e){e.interactionId&&(hN=Math.min(hN,e.interactionId),pN=Math.max(pN,e.interactionId),dN=pN?(pN-hN)/7+1:0)}))},fN=function(){return HI?dN:performance.interactionCount||0},gN=[],vN=new Map,bN=0,yN=[],xN=function(e){if(yN.forEach((function(t){return t(e)})),e.interactionId||"first-input"===e.entryType){var t=gN[gN.length-1],n=vN.get(e.interactionId);if(n||gN.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var a={id:e.interactionId,latency:e.duration,entries:[e]};vN.set(a.id,a),gN.push(a)}gN.sort((function(e,t){return t.latency-e.latency})),gN.length>10&&gN.splice(10).forEach((function(e){return vN.delete(e.id)}))}}},wN=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=eN(e),"hidden"===document.visibilityState?e():(n=t(e),XI(e)),n},AN=[200,500],_N=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},oN((function(){var n;"interactionCount"in performance||HI||(HI=ZI("event",mN,{type:"event",buffered:!0,durationThreshold:0}));var a,r=$I("INP"),s=function(e){wN((function(){e.forEach(xN);var t=function(){var e=Math.min(gN.length-1,Math.floor((fN()-bN)/50));return gN[e]}();t&&t.latency!==r.value&&(r.value=t.latency,r.entries=t.entries,a())}))},i=ZI("event",s,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});a=YI(e,r,AN,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),XI((function(){s(i.takeRecords()),a(!0)})),GI((function(){bN=fN(),gN.length=0,vN.clear(),r=$I("INP"),a=YI(e,r,AN,t.reportAllChanges)})))})))},EN=[2500,4e3],SN={},jN=[800,1800],CN=function e(t){document.prerendering?oN((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},LN=function(e,t){t=t||{};var n=$I("TTFB"),a=YI(e,n,jN,t.reportAllChanges);CN((function(){var r=KI();r&&(n.value=Math.max(r.responseStart-QI(),0),n.entries=[r],a(!0),GI((function(){n=$I("TTFB",0),(a=YI(e,n,jN,t.reportAllChanges))(!0)})))}))},IN={passive:!0,capture:!0},NN=new Date,kN=function(e,t){BI||(BI=t,FI=e,UI=new Date,PN(removeEventListener),TN())},TN=function(){if(FI>=0&&FI<UI-NN){var e={entryType:"first-input",name:BI.type,target:BI.target,cancelable:BI.cancelable,startTime:BI.timeStamp,processingStart:BI.timeStamp+FI};qI.forEach((function(t){t(e)})),qI=[]}},RN=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){kN(e,t),r()},a=function(){r()},r=function(){removeEventListener("pointerup",n,IN),removeEventListener("pointercancel",a,IN)};addEventListener("pointerup",n,IN),addEventListener("pointercancel",a,IN)}(t,e):kN(t,e)}},PN=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,RN,IN)}))},MN=[100,300];const DN=[{regExp:/^\/$/,pageIdentifier:"/home"},{regExp:/^\/genre/,pageIdentifier:"/genre"},{regExp:/^\/view/,pageIdentifier:"/view"},{regExp:/^\/browse/,pageIdentifier:"/browse"},{regExp:/^\/search/,pageIdentifier:"/search"},{regExp:/^\/upsell/,pageIdentifier:"/upsell"},{regExp:/^\/collection/,pageIdentifier:"/collection"},{regExp:/^\/artist/,pageIdentifier:"/artist"},{regExp:/^\/playlist/,pageIdentifier:"/playlist"},{regExp:/^\/album/,pageIdentifier:"/album"},{regExp:/^\/episode/,pageIdentifier:"/episode"},{regExp:/^\/show/,pageIdentifier:"/show"},{regExp:/^\/user/,pageIdentifier:"/user"},{regExp:/^\/track/,pageIdentifier:"/track"},{regExp:/^\/concerts/,pageIdentifier:"/concerts"},{regExp:/^\/concert\//,pageIdentifier:"/concert"},{regExp:/^\/made-for-you/,pageIdentifier:"/made-for-you"},{regExp:/^\/prerelease/,pageIdentifier:"/prerelease"}],ON=(e="")=>{const t=DN.find((({regExp:t})=>t.test(e)));return t?.pageIdentifier??"unknown"};function VN(e){Gb.BrowserMetrics.getPageLoadTime().then((e=>{(0,Qb.fE)({metric_type:Gb.MetricTypes.TIMER,what:"time-to-page-load-nanoseconds",value:(0,Gb.asNanoseconds)(Gb.Time.fromMillis(e).asNanos()),tags:{route:ON(window.location.pathname)}})})).catch((()=>{})),Gb.BrowserMetrics.getTimeToFirstPaint().then((e=>{(0,Qb.fE)({metric_type:Gb.MetricTypes.TIMER,what:"time-to-first-paint-nanoseconds",value:(0,Gb.asNanoseconds)(Gb.Time.fromMillis(e).asNanos()),tags:{route:ON(window.location.pathname)}})})).catch((()=>{})),Gb.BrowserMetrics.getTimeToFirstContentfulPaint().then((e=>{(0,Qb.fE)({metric_type:Gb.MetricTypes.TIMER,what:"time-to-first-contentful-paint-nanoseconds",value:(0,Gb.asNanoseconds)(Gb.Time.fromMillis(e).asNanos()),tags:{route:ON(window.location.pathname)}})})).catch((()=>{}));const t=t=>{const n=ON(window.location.pathname);if((0,Qb.fE)(Gb.BrowserMetrics.getWebVitalsMetric({...t,label:t.name},{route:n})),e&&t.value>0){const a=e.makeTimeMeasurementBuilder("web_vitals");a.addPoint({identifier:t.name,durationInMicroseconds:Math.round(1e3*t.value)}).addDimension("page-identifier",n),e.send(a.build())}};var n,a;n=t,a=a||{},oN((function(){var e,t=iN(),r=$I("FID"),s=function(n){n.startTime<t.firstHiddenTime&&(r.value=n.processingStart-n.startTime,r.entries.push(n),e(!0))},i=function(e){e.forEach(s)},o=ZI("first-input",i);e=YI(n,r,MN,a.reportAllChanges),o&&(XI(eN((function(){i(o.takeRecords()),o.disconnect()}))),GI((function(){var t;r=$I("FID"),e=YI(n,r,MN,a.reportAllChanges),qI=[],FI=-1,BI=null,PN(addEventListener),t=s,qI.push(t),TN()})))})),function(e,t){t=t||{},lN(eN((function(){var n,a=$I("CLS",0),r=0,s=[],i=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=s[0],n=s[s.length-1];r&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(r+=e.value,s.push(e)):(r=e.value,s=[e])}})),r>a.value&&(a.value=r,a.entries=s,n())},o=ZI("layout-shift",i);o&&(n=YI(e,a,uN,t.reportAllChanges),XI((function(){i(o.takeRecords()),n(!0)})),GI((function(){r=0,a=$I("CLS",0),n=YI(e,a,uN,t.reportAllChanges),JI((function(){return n()}))})),setTimeout(n,0))})))}(t),function(e,t){t=t||{},oN((function(){var n,a=iN(),r=$I("LCP"),s=function(e){t.reportAllChanges||(e=e.slice(-1)),e.forEach((function(e){e.startTime<a.firstHiddenTime&&(r.value=Math.max(e.startTime-QI(),0),r.entries=[e],n())}))},i=ZI("largest-contentful-paint",s);if(i){n=YI(e,r,EN,t.reportAllChanges);var o=eN((function(){SN[r.id]||(s(i.takeRecords()),i.disconnect(),SN[r.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return wN(o)}),{once:!0,capture:!0})})),XI(o),GI((function(a){r=$I("LCP"),n=YI(e,r,EN,t.reportAllChanges),JI((function(){r.value=performance.now()-a.timeStamp,SN[r.id]=!0,n(!0)}))}))}}))}(t),_N(t),lN(t),LN(t)}o(57152);async function zN(e,t,n){const a=(0,Nn.sV)();if(null===e||null===t)return null===e&&a.setUser({id:"anonymous",username:"anonymous"}),void(null===t&&a.setTag("product","logged_out"));const r=(0,$w.My)(),s=await VI.V.hash(e.username);switch(r){case Oa.m.Desktop:a.setUser({id:s});break;case Oa.m.Web:case Oa.m.PWA:{const e=(0,za.x)(Ha.I4);e?.correlationId&&a.setUser({id:e.correlationId})}}var i;a.setTag("product",t.product),n.dispatch((i={country:t.country,uri:e.uri,id:e.username,display_name:e.displayName||void 0,images:e.images.map((({url:e,width:t,height:n})=>({url:e,width:t||null,height:n||null}))),product:t.product,policies:{opt_in_trial_premium_only_market:"1"===t["opt-in-trial-premium-only-market"]},type:"user",avatarBackgroundColor:e.avatarBackgroundColor},{type:LS.J,data:i})),n.dispatch(function(e){return{type:LS.O,data:e}}(t))}function HN(){if(EE()){const e="xpui-snapshot_2025-08-11_1754912582566_d4fa414";(0,Nn.ig)("https://de32132fc06e4b28965ecf25332c3a25@o22381.ingest.sentry.io/114855",e,function(){const{error:e,transaction:t}={error:.001,transaction:0};return{sampleRate:e,tracesSampleRate:t,debug:!1,beforeSendTransaction:SE}}(),(0,$w.My)(),function(){const e=[];return e.push(Xw()),e.push(AE({useEffect:m.useEffect,useLocation:ne.zy,useNavigationType:ne.wQ,createRoutesFromChildren:ne.AV,matchRoutes:$.ue})),e}())}}Kw("playback_load_start"),(0,n.Cd)(),async function(){HN(),function(){const e=document.getElementById("remoteConfig");e&&e.textContent?(JSON.parse(atob(e.textContent)),qw()):qw(xe.apO.Control)}();const l=await async function(){const e=(0,$w.My)();{const{createPlatformDesktop:t}=await Promise.resolve().then(o.bind(o,66639));return t(e)}}(),u=l.getFeatureFlags(),d=l.getRegistry(),h=l.getSession(),m=l.getHistory(),f=l.getSEOExperiments(),g=d.resolve(Pb.u);Ba.M.setup(),(0,Fw.O)(l.container,l.operatingSystem);const v=l.getEventSender();g.getEvents().addListener("message",(e=>{e.data.type===Rh.W.NAVIGATION?async function(e,t){if(!t)return;const n=VE(t);if(!n)return;const{url:a}=n;if(OE(a)){const t=e.resolve(LE.KM);ME(n,t)}await zE(e,n);const r=`${a.pathname}${a.search}`;e.resolve(LE.Fi).push(r,{referrer:"deeplink"})}(d,e.data.data):e.data.type===Rh.W.LOG_DEEP_LINK&&function(e,t){if(!t)return;const n=VE(t);if(!n)return;const{url:a}=n;if(OE(a)){const t=e.resolve(LE.KM);ME(n,t)}}(d,e.data.data)}));const{gtmId:b,market:y,locale:x,userCountry:w}=(0,za.x)(Ha.I4),A=Zw(l),_=l.getTransport(),E=await l.getServiceWorkerMessenger(),j=Spicetify.Platform.ReduxStore=d.resolve(Ww.JD),C=d.resolve(Gw.t),I=d.resolve(kI.Ho),N=d.resolve(TI.v),k=d.resolve(RI.B),T=d.resolve(PI.H),R=d.resolve(IE.Ki),P=d.resolve(MI.Yi),M=d.resolve(DI.j),D=d.resolve(Kb.T),O=d.resolve(jE.B),V=LI({session:h,features:u,seoExperiment:f},{platform:l,history:m,playbackApi:k,playerApi:T,rootlistApi:P,playlistApi:R,followApi:C,libraryApi:I,actionStoreApi:j,serviceWorkerMessenger:E,offlineApi:N,transport:_,eventSender:v,adManagers:l.getAdManagers(),deferredAction:NI(sessionStorage,"ANONYMOUS_DEFERRED_ACTION_KEY"),ageRestrictionApi:new II(Xo.n.getInstance()),socialConnectApi:M});_.on(r.TransportEvent.ACCESS_TOKEN,(async()=>{const e=await D.getToken({preferCached:!0});null!==e&&(Xo.n.setSession(e),V.dispatch((0,Yi.a7)(e)))}));let z=!1;_.on(r.TransportEvent.RECONNECTING,(()=>{z=!0})),_.on(r.TransportEvent.RECONNECTED,(()=>{z=!1})),_.on(r.TransportEvent.AUTHENTICATION_FAILED,(async()=>{if(!z&&!A){const e=await D.getToken({preferCached:!0});null!==e&&e.isAnonymous||V.dispatch((0,Yi.wH)())}})),(0,Qb.q6)("desktop-web-player",_),VN(O),A||(()=>{const e=new URL(window.location.href);return DE(e)||((t=e).searchParams.has("utm_source")||t.searchParams.has("utm_medium")||t.searchParams.has("utm_campaign"))&&!(e=>"/"===e.pathname&&"pwa_install"===e.searchParams.get("utm_source"))(e)||!(e=>"/"===e.pathname||"/__noul__"===e.pathname||/\/intl-[A-Za-z][A-Za-z]$/.test(e.pathname))(e);var t})()&&(((e,t)=>{const n=new URL(window.location.href),a=n.searchParams.get("dlsi")||PE(),r={link:window.location.href,entity_uri:zI(n),source:window.navigator.userAgent,deeplink_session_id:a};t?e.send({name:"DeeplinkOpenNonAuth",environments:["browsernonauth","devicenonauth"],data:r}):e.send((0,kE.N)(r))})(v,h.isAnonymous),m.location.state={..."object"==typeof m.location.state?m.location.state:{},referrer:"deeplink"},T.setReferrer("deeplink"));const H=s.Ru.getLocaleForTranslation();if(V.dispatch((0,Yi.Hh)()),V.dispatch((0,i.zA)(H)),A){document.documentElement.setAttribute("lang",H)}!function(e,t){const n=[];let a=0;n.push(e.location),e.listen(((e,r)=>{r===zw&&(a+=1,n.splice(a),n.push(e)),r===Vw&&(a=n.findIndex((t=>t.key===e.key))),r===Hw&&n.splice(a,1,e),t(Bw(a,n))})),t(Bw(a,n))}(m,(e=>{V.dispatch((0,c.hp)(e))})),await zN(l.initialUser,l.initialProductState,V);const B=(0,CE.e)(!0);(0,OI.lM)(),(0,e.H)(B).render((0,S.jsx)(t.Gu,{configuration:null,children:(0,S.jsx)(p.s,{onError:e=>(0,Nn.Jy)(e,"App"),Fallback:L,children:(0,S.jsx)(Ow,{store:V,platform:l})})})),!A&&b&&(0,a.track)({dataLayerPushInitial:!0,googleTagManagerId:b,language:x?.locale,market:y,loggedIn:!h.isAnonymous,oneTrust:"1"===((0,dt.v8)("client-web_one-trust")??"1"),userCountry:w}),(0,Fw.W)(l.operatingSystem)&&V.dispatch((0,c.Kk)()),(0,n.Lj)("UI init phase is done for logged-in experience"),h.isAnonymous||v.send({name:"WindowSize",environments:["desktop","browser"],data:{width:window.outerWidth,height:window.outerHeight,mode:0,duration:0}},{flush:!1})}().catch((n=>{(0,Nn.OV)(n),console.error(n);const a=(0,CE.e)(!0);(0,e.H)(a).render((0,S.jsx)(t.Gu,{configuration:null,children:(0,S.jsx)(L,{})}))}))})(),c=o.O(c)})();
//# sourceMappingURL=xpui-snapshot.js.map