"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[4070],{19672:(e,a,t)=>{t.d(a,{g:()=>i.g});var i=t(19043)},30254:(e,a,t)=>{t.d(a,{v:()=>i.v});var i=t(78658)},49133:(e,a,t)=>{t.d(a,{C:()=>h});var i=t(30758),o=t(65809),n=t(59161),s=t(4666),r=t(42099);t(2557);const l=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function d(e,a){return e.filter((e=>e.label?e.label===a:e.width?l(e.width)===a:!!e.height&&l(e.height)===a))[0]}t(76972),t(55827);t(18831);var c=t(99875);function u(e){const a=d(e,"standard"),t=d(e,"large"),i=d(e,"small"),o=d(e,"xlarge");return{image_url:a?.url,image_height:a?.height?.toString(),image_width:a?.width?.toString(),image_url_large:t?.url,image_height_large:t?.height?.toString(),image_width_large:t?.width?.toString(),image_url_small:i?.url,image_height_small:i?.height?.toString(),image_width_small:i?.width?.toString(),image_url_xlarge:o?.url,image_height_xlarge:o?.height?.toString(),image_width_xlarge:o?.width?.toString()}}var g=t(19151);function h(e,a){const t=(0,s.z)(),{isPlaying:l,isActive:d}=(0,r.te)(e?.uri||""),{isActive:h}=(0,r.l_)(a?.uri||""),m=(0,o.NC)(n.pZ0),p=(0,i.useCallback)((i=>{if(!a||!e)return;const o=function(e,a,t=!1){const i=(e.coverArt?.sources||[]).sort(((e,a)=>(a.width||0)-(e.width||0))),o=function(e,a){const t=a.trailerV2?.data;return!(!t||!("uri"in t))&&e.uri===t.uri}(e,a),n=(s=a,0===s.showTypes?.length||o);var s;const r=e.mediaTypes&&e.mediaTypes.includes(c.Cx.Video)?"video":"audio";return{uri:e.uri,title:e.name,subtitle:a.name,type:"episode",album_uri:a.uri,album_title:a.name,artist_uri:a.uri,artist_name:a.name,...u(i),media_type:t?r:"audio",isTrailer:o,anonymousPlaybackAllowed:n}}(e,a,m);h&&!l&&d&&!i?t.resume({featureIdentifier:"anon-episode"}):h&&l&&!i?t.pause({featureIdentifier:"anon-episode"}):t.play({uri:a.uri,pages:[{items:[{type:g.c.EPISODE,uri:e.uri,uid:null,metadata:o,provider:null}]}]},{referrerIdentifier:t.getReferrer(),featureIdentifier:"episode"},i)}),[a,e,m,h,l,d,t]);return p}},55168:(e,a,t)=>{t.d(a,{e:()=>l});var i=t(30758),o=t(34843),n=t(19906),s=t(86070);const r=i.memo((function({uri:e,size:a=o.M.md,className:t,onClick:r,showUpsell:l,canDownload:d,condensed:c}){const[u,g]=(0,n.A)(e),h=(0,i.useCallback)((()=>{g(!u)}),[u,g]);return(0,s.jsx)(o.f,{className:t,isFollowing:u,onFollow:h,onClick:r,uri:e,size:a,showUpsell:l,canDownload:d,condensed:c})})),l=i.memo((function(e){return(0,s.jsx)(r,{...e})}))},56797:(e,a,t)=>{t.d(a,{mb:()=>r,rw:()=>s});t(86328);var i=t(54715),o=t(79187);function n(e,a=!0){const t=new URL("undefined"!=typeof location&&location.href?location.href:"https://open.spotify.com");let n=null;if(e){const i=e.toURL();n=new URL(i),a&&t.searchParams.forEach(((e,a)=>{n.searchParams.set(a,e)}))}else n=t,a||(n.search="");n.searchParams.delete("nd"),n.searchParams.delete("fallback"),n.searchParams.set("go","1");const s=(0,i.x)(o.I4);return"string"==typeof s?.correlationId&&n.searchParams.append("sp_cid",s.correlationId),n}function s(e,a){const t=n(e,a);return t.searchParams.set("fallback","download"),t}function r(){return new URL(`https://www.spotify.com/download${window.location.search}`)}},71716:(e,a,t)=>{t.d(a,{k:()=>d});var i=t(30758),o=t(70397),n=t(4880),s=t(56797),r=t(90728),l=t(86070);const d=({id:e,children:a,targetURI:t,fadeOut:d=!1})=>{const c=(0,i.useCallback)((()=>{window.open((0,s.rw)(t).href)}),[t]),u={getTitle:()=>o.Ru.get("action-trigger.available-in-app-only"),getDescription:()=>o.Ru.get("action-trigger.listen-mixed-media-episode"),primaryButtonText:()=>o.Ru.get("action-trigger.button.get-app"),secondaryButtonText:()=>o.Ru.get("action-trigger.button.not-now"),isCTA:!0,shouldHideOnScroll:!0,fadeOut:d};return(0,l.jsx)(n.U,{className:r.A.container,id:e,onPrimaryButtonClick:c,options:u,children:a})}},74515:(e,a,t)=>{t.d(a,{k:()=>ue});var i=t(30758),o=t(97500),n=t.n(o),s=t(79898),r=t(10622),l=t(81458),d=t(78717),c=t(42682),u=t(70796),g=t(18831),h=t(70397),m=t(69365),p=t(73136),y=t(7998);const x="rFwxt8s8DYY8p1O7tYZW",f="sA2HogGQNi8R_zpCWei5",b="H92pPTuqDR5DcoTtjcb3";var k=t(86070);const v=({cardHeaderText:e,buttonText:a,buttonTarget:t,className:o})=>{const s=(0,i.useCallback)((e=>{e.stopPropagation()}),[]),r=(0,g.o_h)(t).toURLPath(!0);return(0,k.jsxs)("div",{className:n()(x,o),onClick:s,children:[(0,k.jsxs)("div",{className:f,children:[(0,k.jsx)(m.p,{className:b,size:"small",semanticColor:"textBase"}),(0,k.jsx)(d.E,{as:"span",variant:"bodyMediumBold",semanticColor:"textBase",children:e})]}),(0,k.jsx)(p.$,{size:"small",colorSet:"invertedLight",component:y.v,href:r,children:a})]})};var w=t(3665),C=t(55168),j=t(89145),P=t(91546),R=t(33799),_=t(65720),T=t(76020),S=t(19672),N=t(30254),D=t(332),I=t(12286),E=t(10070),B=t(1231),L=t(84409);const M="T9iBYqbERZHdwDl0U2tC",U="DS4BYgmEO7Wy5RutUt60",A="N2Fkohxhgu1_QAWUDc4O",z="hGbRiYkIjjy4sJvor0A2",F="OgaF7O4ER8AvZfFd6JdJ",O="yajqMP67F0nOikjbvLX9",G="bdGDIiYj50H66Hx5uevz",H="kiT5NMttSzIDbtqBKc1J",V="E8VPxvkEHE1Se5GoSZx7",Y="TG1hsDPHeO5QUf4EQasO",Z="_NdByrVnM0OS7aK_GfRn",W="afJf_mGi7ghd5WYQwPLb",Q="UpgTvLnGW6GFjAUfaPXH",q="kxVuYXZ4sVWn6XuJgFhX",J="UvdRnanMNuY384mjTf2l",X="fmu47VumZ84IoKgMK1yU",K=i.memo((function({episodeUri:e,showUri:a,sharingInfo:t,size:o,canDownload:s,requestId:r,onMarkAsPlayed:l,onMoreButtonClick:d,name:c,fullyPlayed:u,index:g}){const m=(0,E.T)(e),{spec:p,logger:y}=(0,L.r)(w.d,{data:{uri:e,reason:r||"",position:g}}),x=o===D.E.LARGE?"medium":"small",f=(0,i.useMemo)((()=>(0,k.jsx)(C.e,{uri:e,size:x,className:n()({[F]:(0,I.X)(m)}),onClick:(a,t)=>{t===B.NV.ADD?y.logInteraction(p.downloadButtonFactory().hitDownload({itemToDownload:e})):B.NV.REMOVE&&y.logInteraction(p.downloadButtonFactory().hitRemoveDownload({itemToRemoveFromDownloads:e}))},canDownload:s,condensed:!0})),[e,m,p,y,x,s]),b=(0,i.useMemo)((()=>(0,k.jsx)(R.w,{uri:e,sharingInfo:t,size:x,onClick:()=>{y.logInteraction(p.copyLinkFactory().hitShare({entityToBeShared:e,shareId:t?.shareId||""}))},ariaLabel:h.Ru.get("context-menu.copy-episode-link")})),[e,t,p,y,x]),v=(0,i.useMemo)((()=>(0,k.jsx)(P.b,{uri:e,size:x,className:F,onClick:a=>{a?y.logInteraction(p.saveToLibraryButtonFactory().hitLike({itemToBeLiked:e})):y.logInteraction(p.saveToLibraryButtonFactory().hitRemoveLike({itemNoLongerLiked:e}))},condensed:!0})),[e,p,y,x]),M=(0,N.v)(e),U=(0,i.useMemo)((()=>(0,k.jsx)(S.g,{size:x,uri:e,className:F})),[e,x]),A=(0,i.useMemo)((()=>(0,k.jsx)(_.b,{menu:(0,k.jsx)(T.b,{uri:e,showUri:a,isPlayed:u,onMarkAsPlayed:l}),children:(0,k.jsx)(j.e,{size:x,label:h.Ru.get("more.label.context",c),onClick:d})})),[e,u,c,l,d,a,x]);return(0,k.jsxs)(k.Fragment,{children:[M?U:v,f,b,A]})}));var $=t(96579),ee=t(87988),ae=t(70847),te=t(42394),ie=t(98756),oe=t(97630),ne=t(73061),se=t(99244),re=t(39159),le=t(19151),de=t(13695),ce=t(85518);const ue=i.memo(i.forwardRef((function({uri:e,name:a,showName:t,showUri:o,size:m,description:p,durationMs:y,images:x,badges:f,fullyPlayed:b,releaseDate:w,resumePositionMs:C,isCurrentlyPlaying:j,isPlaying:P,onContextMenu:R,onTouchStart:_,onTouchEnd:T,handlePlaybackClick:S,draggable:N,handleDragStart:I,handleClick:E,position:B,index:L,isPlayable:F,isPaywalled:ue,isUserSubscribed:ge,isCourseLesson:he,episodeSharingInfo:me,playButtonWrapper:pe=null,highlightText:ye=e=>e,onMarkAsPlayed:xe,contentInformation:fe,requestId:be,mediaTypes:ke,onMoreButtonClick:ve,sixteenByNineCoverImages:we,dynamicColors:Ce},je){const Pe=(0,ie.g)(),Re=j&&P,_e=m===D.E.LARGE,Te=(0,g.o_h)(o)?.toURLPath(!0),Se=(0,ee.hD)(e,w?.isoString,C,b),Ne=ue&&!ge,De=ke?.includes(de.C.Video)??!1,Ie=Ne||F,Ee=h.Ru.get("tracklist.a11y.play",a,t),Be=h.Ru.get("tracklist.a11y.pause",a,t),Le=(0,oe.V)(e),Me=(0,i.useCallback)((e=>{E&&E(e)}),[E]),Ue=(0,i.useCallback)((e=>{Le(),Me(e)}),[Me,Le]),Ae=(0,i.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),Te&&Pe(Te)}),[Te,Pe]),ze=(0,i.useCallback)((e=>{e.stopPropagation(),Ne||S(e)}),[S,Ne]),Fe=(0,k.jsx)(ae.R,{size:"small",version:ae.H.secondary,onClick:ze,isPlaying:Re,disabled:!Ie,locked:Ne,ariaPlayLabel:Ee,ariaPauseLabel:Be}),Oe=pe?pe(Fe):Fe,Ge=(0,k.jsxs)(k.Fragment,{children:[Se&&(0,k.jsx)(ee.Tc,{}),ye(a)]}),He=(0,k.jsx)(s.d,{className:A,lineClamp:2,as:"h3",children:he?Ge:(0,k.jsx)($.N,{to:e,onClick:Me,children:Ge})}),Ve=(0,k.jsxs)(r.j,{lineClamp:2,paddingBottom:_e?l.v4:void 0,children:[De&&(0,k.jsx)(te.T,{className:W}),t&&Te&&(0,k.jsx)($.N,{to:Te,onClick:Ae,children:(0,k.jsx)(d.E,{variant:"bodySmall",semanticColor:"textSubdued",children:ye(t)})})]}),Ye=(0,k.jsxs)("div",{className:J,children:[(0,k.jsx)(c.v,{lineClamp:2,paddingBottom:_e?l.vw:void 0,children:ye(p??"")}),(0,k.jsxs)("div",{className:G,children:[(0,k.jsx)("div",{className:Q,children:f}),(0,k.jsx)(ce.j,{isPlaying:Re,fullyPlayed:b,durationMs:y,releaseDate:w,resumePositionMs:C,position:j?B:void 0})]})]}),Ze=(0,k.jsxs)("div",{className:q,children:[(0,k.jsx)("div",{onClick:e=>{e.stopPropagation()},className:z,children:(0,k.jsx)(K,{episodeUri:e,showUri:o??"",sharingInfo:me,size:m,canDownload:!ue||ue&&ge,requestId:be,index:L,name:a,fullyPlayed:b,onMarkAsPlayed:xe,onMoreButtonClick:ve})}),(0,k.jsx)("div",{children:Oe})]}),We=we&&we.length>0,Qe=(0,k.jsx)("div",{className:n()(H,{[V]:We}),style:{"--bg-color-from":Ce?.minContrast?.backgroundBase?.toCSS(re.a.RGBA),"--bg-color-to":Ce?.highContrast?.backgroundBase?.toCSS(re.a.RGBA)},onClick:We?void 0:Le,children:(0,k.jsx)(ne.b,{className:n()(Y,{[Z]:_e}),type:le.c.EPISODE,size:(e=>{switch(e){case D.E.LARGE:return se.Qe.SIZE_112;case D.E.MEDIUM:return se.Qe.SIZE_64;default:return se.Qe.SIZE_48}})(m),title:a,shape:ne.u.ROUNDED_CORNERS,images:We?we:x,children:We&&(0,k.jsx)(ae.R,{ariaPlayLabel:h.Ru.get("playlist.a11y.play",a),ariaPauseLabel:h.Ru.get("playlist.a11y.pause",a),isPlaying:P,onClick:ze,version:ae.H.transparent,isWrapperClickable:!0})})});return(0,k.jsxs)("div",{className:n()(M,{[U]:j,[O]:he}),"data-testid":`episode-${L}`,draggable:N&&!!I,onDragStart:I,onClick:Me,onContextMenu:R,onTouchStart:_,onTouchEnd:T,children:[fe&&(0,k.jsx)(v,{className:X,cardHeaderText:fe.cardHeaderText,buttonText:fe.buttonText,buttonTarget:fe.buttonTarget}),(0,k.jsx)(u.v,{size:"xxl",ref:je,media:Qe,title:He,id:`episode-${L}`,subtitle:t&&Te?Ve:Ye,body:t&&Te?Ye:void 0,variant:"naked",footer:Ze,hoverBackgroundColor:"backgroundHighlight",layout:_e?"wide":"regular",horizontalGap:_e?l.lT:l.CJ,verticalGap:l.v4,paddingBlockStart:l.CD,paddingBlockEnd:l.CD,onClick:Ue})]})})))},97630:(e,a,t)=>{t.d(a,{V:()=>s});var i=t(30758),o=t(18831),n=t(98756);function s(e){const a=(0,o.o_h)(e);let t="";return a&&(t=a.toURLPath(!0)),function(e){const a=(0,n.g)();return(0,i.useCallback)((()=>{""!==e&&a(e)}),[e,a])}(t)}}}]);
//# sourceMappingURL=4070.js.map