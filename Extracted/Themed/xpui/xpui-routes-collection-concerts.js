"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[5783],{20820:(e,t,n)=>{n.d(t,{A:()=>C});var a=n(30758),s=n(76855),i=n(78717),o=n(97351),r=n(96579),l=n(50866),c=n(52582);const d="wedRUk4eiBo9n9vqXLhU",u="hMbtEskyvMbDiwq1EScA",m="HYVIJaYYiCTgSCHie70L",g="SPbe_Q1wtiZQCmo0QKUy",h="TRp4tgG7_cymGIXDevIP",v="tC1Y_nwyyly7cpIGqF5K",p="l93AfoV_qHnMQSQBB5GK",x="DgDBmSR2sbwji2UfqxIf",f="EkGb0ZzhswreSvpZoioY";var j=n(86070);const C=(0,a.memo)((e=>{const{uri:t,title:n,imageUrl:a,date:C,subTitle:y,firstParty:b,onClick:S}=e,k=C?(0,l.l4)(C):void 0;return(0,j.jsx)(r.N,{to:t,className:d,"data-testid":"concert-card",onClick:S,children:(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)(c.b,{children:(0,j.jsx)("div",{role:"img",className:f,style:{backgroundImage:`url(${a})`},children:!a&&(0,j.jsx)(s.r,{role:"img",size:"xxlarge",semanticColor:"textSubdued"})})}),k&&(0,j.jsxs)("time",{className:m,dateTime:C,children:[(0,j.jsx)(i.E,{as:"div",variant:"bodySmall",children:(0,l.tj)(k)}),(0,j.jsx)(i.E,{as:"div",variant:"bodyMediumBold",children:(0,l.Py)(k)})]}),(0,j.jsxs)("div",{className:g,dir:"auto",children:[(0,j.jsx)(i.E,{as:"h3",variant:"bodyMedium",className:h,children:n}),(0,j.jsxs)("div",{className:v,children:[b&&(0,j.jsx)("span",{className:x,children:(0,j.jsx)(o.D,{size:"small"})}),(0,j.jsx)(i.E,{as:"span",className:p,variant:"bodySmall","data-testid":"location-name",semanticColor:"textSubdued",children:y})]})]})]})})}))},25636:(e,t,n)=>{n.d(t,{Q:()=>a});const a=e=>{const[t]=e;if(!t||!("visuals"in t.data))return;const[n]=t.data.visuals.avatarImage?.sources??[];return n?.url}},32131:(e,t,n)=>{n.d(t,{p:()=>N});var a=n(30758),s=n(97500),i=n.n(s),o=n(78717),r=n(73136),l=n(7998),c=n(88018);const d="(min-width: 0px)",u="(min-width: 0px) and (max-width: 767px)",m="(min-width: 768px)",g="(min-width: 768px) and (max-width: 1023px)",h="(min-width: 1024px)",v="(min-width: 1024px) and (max-width: 1279px)",p="(min-width: 1280px)",x="(min-width: 1280px) and (max-width: 1919px)",f="(min-width: 1920px)",j="FvfvGU3jvHRskUU9v9_8",C="Q9AlbZn2EGzy3MTWXa8X",y="mxmxS0y8LiwSs5nueKPT",b="GXxVAveNFStY3pBI_NO4",S="eHcXC2s97InYP7rMNT0H";var k=n(86070);const N=(0,a.memo)((function(e){const{children:t,message:n,title:a,linkTitle:s,linkTo:N,onClick:_,renderInline:I=!1}=e,{isXSOnly:R,isSMOnly:w}={isXS:(0,c.U)(d),isXSOnly:(0,c.U)(u),isSM:(0,c.U)(m),isSMOnly:(0,c.U)(g),isMD:(0,c.U)(h),isMDOnly:(0,c.U)(v),isLG:(0,c.U)(p),isLGOnly:(0,c.U)(x),isXL:(0,c.U)(f)},D=R||w;return(0,k.jsxs)("section",{className:i()(j,{[C]:I}),children:[t,(0,k.jsx)(o.E,{as:"h1",variant:D?"titleSmall":"titleMedium",className:b,children:a}),(0,k.jsx)(o.E,{variant:D?"bodySmall":"bodyMedium",className:S,children:n}),s&&(N||_)&&(0,k.jsx)(r.$,{colorSet:"invertedLight",className:y,href:N,onClick:_,component:l.v,children:s})]})}))},34239:(e,t,n)=>{n.d(t,{Z:()=>l});n(2557),n(77369);var a=n(30758),s=n(18831),i=n(70397),o=n(68293);const r=e=>"uri"in e,l=e=>{const t=(0,o.s)(),n=r(e.data)?(0,s.o_h)(e.data.uri):void 0,l=(0,a.useMemo)((()=>e.spec?.eventCardFactory({identifier:n?.id,position:e.position,uri:n?.toURI()??""})),[e,n]);if(!r(e.data))return;const c=e.data.marketing.imageMetadata.artists.items;return{uri:e.data.uri,title:c.length>0?c.map((e=>{return t=e?.data,t&&"uri"in t?e.data.profile.name:null;var t})).filter(Boolean).join(i.Ru.getSeparator()):e.data.name,alt:e.data.name,imageUrl:e.data.marketing.coverImage??void 0,handleClick:()=>l&&n&&t.logInteraction(l.hitUiNavigate({destination:n?.toString()}))}}},45601:(e,t,n)=>{n.d(t,{R:()=>I});n(77369);var a=n(30758),s=n(97500),i=n.n(s),o=n(61011),r=n(32765),l=n(26427),c=n(53402),d=n(45647),u=n(57791),m=n(14006),g=n(23291),h=n(61315);const v="C3jVNGQUUZcUp5kTEOC0",p="pdLDCowVOiUIfeu9hihi",x="hZjAwWMA54TvbGYwReET",f="Sm3POgzbjs7wFj7tyYNh",j="vZSm_8xsDxBqMzp1tqmn",C="NXBXbVfJboNI6xdrNIDB",y="bF2GZTmgrRQLsrDcIZXd",b="qI009QzTkvisAXqhbw74",S="P85FmSDImebjKA8lCSvn",k="qIb0IOmZs9KwEeOkpvg1";var N=n(86070);const _=(0,a.memo)((({title:e,titleUri:t,titleMediaCircle:n,subtitle:s,pretitle:u,titleMedia:g,trailing:h,collapsable:_,children:I,className:R="",testId:w="component",id:D,seeAllUri:U,seeAllLabel:A,alwaysShowSeeAll:M=!1,showSeeAll:E=!0,onClickShelfTitle:F,onClickShelfSeeAll:B,elementRef:L,renderSubHeader:H,withEncoreCards:P=!0})=>{const z=(0,a.useRef)(null),T=!!E&&(M||E),O=_?{"data-shelf-collapsable":!0}:{},[K,V]=(0,a.useState)(!0),Q=(0,m.W)();(0,a.useLayoutEffect)((()=>{if(z.current){const e=(0,c.X)(z.current,Q);e?z.current.removeAttribute("data-shelf-notatedge"):z.current.setAttribute("data-shelf-notatedge","true"),V(e)}}),[L,Q]);const X=K?"0px var(--margin, 0px)":"0px",Z=e?`${u?`${u} `:""}${e}`:"";return(0,N.jsxs)("section",{ref:e=>{z.current=e,"function"==typeof L&&L(e)},className:i()(R,v,{[f]:P}),"data-shelf":"carousel","data-testid":`${w}-shelf`,"aria-label":Z,...O,children:[e&&(0,N.jsx)("div",{className:j,children:(0,N.jsx)(d.k,{seeAllUri:U,seeAllLabel:A,pageId:D,showSeeAll:T,onClickTitle:F,onClickSeeAll:B,title:e,titleUri:t,subtitle:s,pretitle:u,titleMedia:g,trailing:h,titleMediaCircle:n})}),H&&(0,N.jsx)("div",{className:C,children:H()}),(0,N.jsx)(r.FN,{noFocusManagement:!0,role:"presentation",className:p,chevronsClassName:k,scrollerClassName:y,scrollingMethod:r.Hv.SNAP,scrollPadding:X,scrollSnapAlign:"start",wheelScrollEnabled:!1,showButtons:r.C_.ON_HOVER,edgeGradients:r.TB.LINEAR_GRADIENT,scrollSnapByItems:3,children:(0,N.jsx)(o.FK,{className:b,"aria-label":Z,layout:"stack",children:a.Children.map(I,((e,t)=>e?(0,N.jsx)(o.KP,{className:S,"data-carousel-gridlist-item":!0,children:(0,N.jsx)(l.A,{className:x,children:e})},a.isValidElement(e)&&e.key||t):null))})})]})})),I=({index:e,logShelfImpressions:t=!1,...n})=>{const{seeAllUri:a,id:s}=n,{onClickShelfTitle:i,onClickShelfSeeAll:o,spec:r}=(0,u.w)({seeAllUri:a,index:e,id:s}),l=(0,h.n)(r.getAbsoluteLocation(),r,t);return(0,N.jsx)(g.r,{spec:r,children:(0,N.jsx)(_,{...n,elementRef:l,onClickShelfTitle:i,onClickShelfSeeAll:o})})}},53402:(e,t,n)=>{n.d(t,{X:()=>a});const a=(e,t)=>{const n=e.parentElement.getBoundingClientRect(),a=e.getBoundingClientRect(),s=t?n.right:n.left,i=t?a.right:a.left;return!(e instanceof HTMLElement&&Math.abs(i-s)>48)}},77763:(e,t,n)=>{n.d(t,{C:()=>g});var a=n(78717),s=n(96579),i=n(86070);const o=e=>(0,i.jsx)("svg",{width:e.iconSize,height:e.iconSize,viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 0C21.0532 0 22.0879 0.278738 23 0.808199L38 9.51508C38.6081 9.86805 39.113 10.3757 39.4641 10.9871C39.8151 11.5984 40 12.2919 40 12.9978V39.9892C40 40.5225 39.7893 41.0339 39.4142 41.411C39.0391 41.7882 38.5304 42 38 42H26H14H2C1.46957 42 0.960859 41.7882 0.585786 41.411C0.210714 41.0339 0 40.5225 0 39.9892V12.9978C1.78369e-05 12.2919 0.184851 11.5984 0.535924 10.9871C0.886996 10.3757 1.39194 9.86805 2 9.51508L17 0.808199C17.9121 0.278738 18.9468 0 20 0ZM29.2728 14.7624H12.9091V27.5589H11.2728C10.5176 27.5589 9.77939 27.7841 9.15149 28.2059C8.52359 28.6277 8.03421 29.2273 7.74522 29.9287C7.45623 30.6302 7.38062 31.402 7.52794 32.1467C7.67527 32.8914 8.03891 33.5754 8.5729 34.1123C9.10688 34.6491 9.78721 35.0148 10.5279 35.1629C11.2685 35.311 12.0362 35.235 12.7339 34.9444C13.4316 34.6539 14.0279 34.1618 14.4475 33.5305C14.867 32.8992 15.0909 32.157 15.0909 31.3978V16.956H27.0909V27.5589H25.4546C24.6994 27.5589 23.9612 27.7841 23.3333 28.2059C22.7054 28.6277 22.216 29.2273 21.927 29.9287C21.638 30.6302 21.5624 31.402 21.7098 32.1467C21.8571 32.8914 22.2207 33.5754 22.7547 34.1123C23.2887 34.6491 23.969 35.0148 24.7097 35.1629C25.4503 35.311 26.2181 35.235 26.9157 34.9444C27.6134 34.6539 28.2097 34.1618 28.6293 33.5305C29.0488 32.8992 29.2728 32.157 29.2728 31.3978V14.7624Z",fill:"currentColor"})});var r=n(52582);const l="k1Ab_RdxMGZYLD1Y2cYM",c="XydWclkpDI6Jrv6hOvvH",d="_lQHlZ3nuYz5jjUSyoj7",u="f5re1_09HMOZmM62Mpb5",m="cWSRXQ3eF6vWtAmzttpj",g=e=>{const{alt:t,uri:n,onClick:g,title:h}=e;return(0,i.jsx)(s.N,{to:n,className:l,onClick:g,"data-testid":"venue-card",children:(0,i.jsxs)("div",{className:c,children:[(0,i.jsx)(r.b,{children:(0,i.jsx)("div",{role:"img",className:d,style:{backgroundImage:`url(${e.imageUrl})`},"aria-label":t,children:!e.imageUrl&&(0,i.jsx)(o,{iconSize:48})})}),(0,i.jsx)("div",{className:u,children:(0,i.jsx)(a.E,{as:"span",variant:"bodySmall",className:m,semanticColor:"textSubdued",children:h})})]})})}},81198:(e,t,n)=>{n.r(t),n.d(t,{default:()=>oa});var a=n(30758),s=n(97500),i=n.n(s),o=n(62411),r=n(66590),l=n(92576),c=n(70397),d=n(49742),u=n(19399),m=n(49740),g=n(19667),h=n(98210),v=n(4218),p=n(24448),x=(n(2557),n(66016),n(86328),n(85387)),f=n(60749),j=n(73136),C=n(62960),y=n(18831),b=(n(77369),n(35394)),S=n(30920),k=n(78717),N=n(78723),_=n(57157),I=n(40539);const R="gTBBvHPsmI4wQAMvZkZg",w="oH8142OCLHWFsonR04W8",D="mihrHMZQtbUQfLDbept_",U="vnpiTOiF2um7QiJAcpgw",A="uTm3fSPtqqJzQkcfn4yA",M="x4_6X4ZJHSGg6IAuXsXv",E="qYpxg7GtXdhucrIHtFHs",F="ltFmKHcFmPNKmdDJuMiP";var B=n(86070);const L=e=>{const t=(0,a.useMemo)((()=>e.spec?.genreButtonFactory({position:e.position,uri:e.uri})),[e.spec,e.position,e.uri]);return(0,B.jsx)(I.v,{variant:e.isSelected?"contrasting":"tinted",onClick:()=>{t&&t.hitUiElementToggle(),e.onClick()},children:(0,B.jsx)("div",{className:M,children:e.name})},e.uri)},H=e=>void 0!==e&&Object.keys(e).includes("data"),P=e=>void 0!==e&&Object.keys(e).includes("uri");var z=n(68293);const T=e=>{const t=(0,z.s)(),[n,s]=(0,a.useState)(e.defaultConcepts),i=(0,a.useMemo)((()=>e.spec?.genreDoneButtonFactory()),[e.spec]),o=(0,a.useMemo)((()=>e.spec?.genreClearButtonFactory()),[e.spec]),r=e.concepts.filter(H).sort(((e,t)=>t.weight-e.weight)),l=r.filter((e=>0!==e.weight)),d=r.filter((e=>!l.includes(e)));return(0,B.jsx)(_.A,{contentLabel:c.Ru.get("live_events.label"),isOpen:!0,className:R,onRequestClose:e.onClose,children:(0,B.jsxs)("section",{className:w,children:[(0,B.jsx)("div",{className:U,children:(0,B.jsx)(b.H,{"aria-label":c.Ru.get("close"),iconOnly:S.M,size:"small",onClick:e.onClose})}),(0,B.jsx)("div",{className:D,children:(0,B.jsx)(k.E,{as:"h3",variant:"bodyMediumBold",semanticColor:"textBase",children:c.Ru.get("concerts.genres.genres")})}),l.length>0&&(0,B.jsxs)("div",{"data-testid":"top-genres",className:F,children:[(0,B.jsxs)("div",{className:E,children:[(0,B.jsx)(k.E,{as:"h3",variant:"titleSmall",semanticColor:"textBase",children:c.Ru.get("concerts.genres.top_genres")}),(0,B.jsx)(b.H,{onClick:()=>{o&&t.logInteraction(o.hitUiDeselect()),s([])},size:"small",disabled:0===n.length,children:c.Ru.get("concerts.genres.clear")})]}),(0,B.jsx)(N.I,{mode:"multi-select",layout:"multi-line","aria-label":"",children:l.map(((t,a)=>{if(!P(t.data))return null;const{uri:i,name:o}=t.data;return(0,B.jsx)(L,{uri:i,name:o,position:a+1,spec:e.spec,isSelected:n.includes(i),onClick:()=>s((e=>e.includes(i)?e.filter((e=>e!==i)):[...e,i]))},i)}))})]}),(0,B.jsxs)("div",{"data-testid":"all-genres",children:[(0,B.jsxs)("div",{className:E,children:[(0,B.jsx)(k.E,{as:"h3",variant:"titleSmall",semanticColor:"textBase",children:c.Ru.get("concerts.genres.all_genres")}),0===l.length&&(0,B.jsx)(b.H,{onClick:()=>{o&&t.logInteraction(o.hitUiDeselect()),s([])},size:"small",disabled:0===n.length,children:c.Ru.get("concerts.genres.clear")})]}),(0,B.jsx)(N.I,{mode:"multi-select",layout:"multi-line","aria-label":"",children:d.map(((t,a)=>{if(!P(t.data))return null;const{uri:i,name:o}=t.data;return(0,B.jsx)(L,{uri:i,name:o,position:a+1,spec:e.spec,isSelected:n.includes(i),onClick:()=>s((e=>e.includes(i)?e.filter((e=>e!==i)):[...e,i]))},i)}))})]}),(0,B.jsx)("div",{className:A,children:(0,B.jsx)(j.$,{onClick:()=>{i&&t.logInteraction(i.hitUiSelect()),e.onSave(n)},size:"medium",children:c.Ru.get("concerts.genres.show_events")})})]})})},O=(e,t,n)=>{const a=n&&n?.length>1?"+"+(n?.length-1):"";return e&&P(e)?[e.name,a].join(" ").trim():t?[t,a].join(" ").trim():c.Ru.get("concerts.genres.all_genres")};var K=n(63388),V=n(39463);const Q=Spicetify.GraphQL.Definitions["concertConcepts"]=new K.l("concertConcepts","query","a409c1eb39b6345e7993d424d2408b65a6699bafc2b8a03217033e517cd76b72",null);var X=n(93874);const Z=()=>{const{id:e}=(0,x.g)(),[t]=(0,f.ok)(),n=(0,X.Qe)(e),a=t.getAll("genres").map((e=>(0,y.dDZ)(e).toString()));return{displayName:n?.name,conceptUris:[...new Set(n?[n.id,...a]:a)],urlConceptUri:n?.id}};var Y=n(98756);const q=e=>{const t=(0,Y.g)(),[n]=(0,f.ok)(),{pathname:s}=(0,x.zy)(),{displayName:i,conceptUris:o,urlConceptUri:r}=Z(),l=(0,a.useMemo)((()=>e.spec?.genrePickerButtonFactory()),[e.spec]),c=(0,z.s)(),{data:d}=(u={geohash:e.geohash??"",conceptUri:r??null},(0,V.I)(Q,u,m));var u,m;const g=(h=d?.concertConcepts,void 0!==h&&Object.keys(h).includes("items")?d.concertConcepts.items.filter(H):[]);var h;const[v,p]=(0,a.useState)(!1),[b,S]=(0,a.useState)(o),[k]=b,N=g.find((e=>P(e.data)&&e.data.uri===k)),_=N||i?j.$:C.n;return(0,B.jsxs)("div",{children:[(0,B.jsx)(_,{size:"small",onClick:()=>{l&&c.logInteraction(l.hitUiReveal()),p((e=>!e))},className:M,children:O(N?.data,i,b)}),v&&(0,B.jsx)(T,{spec:l,onClose:()=>p(!1),onSave:e=>{n.delete("genres");const[a]=e,i=g.find((e=>P(e.data)&&e.data.uri===a))?.data;if(i&&P(i)){const a=(0,y.o_h)(i.uri);e.length>1&&e.forEach((e=>n.append("genres",(0,y.o_h)(e)?.id))),t({pathname:(0,X.DL)(s,a?.id,i.name),search:new URLSearchParams(n).toString()})}else t({pathname:(0,X.DL)(s,void 0,void 0),search:new URLSearchParams(n).toString()});S(e),p(!1)},concepts:g,defaultConcepts:b})]})};var W=n(45567),$=n(73155),G=(n(69984),n(70043)),J=n(67017),ee=n(91985),te=n(3091),ne=n(17176),ae=n(6924),se=n(72653),ie=n(94222),oe=n(96644),re=n(87584),le=n(63514),ce=n(16856),de=n(54869),ue=n(96132),me=n(24808),ge=n(47613),he=n(2283),ve=n(88593),pe=n(56708),xe=n(64416),fe=n(79494),je=n(38408),Ce=n(62224),ye=n(63240),be=n(45523),Se=n(10632),ke=n(54701),Ne=n(80675),_e=n(72861),Ie=n(76804),Re=n(55128),we=n(53406),De=n(15643),Ue=n(1467),Ae=n(24428),Me=n(48199),Ee=n(61845),Fe=n(83536),Be=n(70756),Le=n(63855),He=n(1103),Pe=n(96344),ze=n(38903),Te=n(17530),Oe=n(33140),Ke=n(64741),Ve=n(71418),Qe=n(44135),Xe=n(6729),Ze=n(32409),Ye=n(67031),qe=n(98045),We=n(86111),$e=n(11554),Ge=n(61753),Je=n(87318),et=n(89949),tt=n(22180),nt=n(85428);const at={af:G.af,am:J.c,ar:ee.ar,arEG:te.m,arMA:ne.E,arSA:ae.G,az:se.az,bg:ie.bg,bn:oe.bn,bho:J.c,bs:re.bs,ca:le.ca,cs:ce.cs,da:de.da,de:ue.de,el:me.el,en:J.c,enGB:ge.b,es419:he.es,es:he.es,esAR:he.es,esMX:he.es,et:ve.et,eu:pe.eu,fa:xe.$,fi:fe.fi,fil:J.c,frCA:je.V,fr:Ce.fr,gl:ye.gl,gu:be.gu,he:Se.he,hi:ke.hi,hr:Ne.hr,hu:_e.hu,id:Ie.id,is:Re.is,it:we.it,ja:De.ja,kn:Ue.kn,ko:Ae.ko,lt:Me.lt,lv:Ee.lv,mk:Fe.mk,ml:J.c,mr:J.c,ms:Be.ms,nb:Le.nb,ne:J.c,nl:He.nl,or:J.c,paIN:J.c,paPK:J.c,pl:Pe.pl,ptBR:ze.F,ptPT:Te.pt,ro:Oe.ro,ru:Ke.ru,sk:Ve.sk,sl:Qe.sl,sr:Xe.sr,sv:Ze.sv,sw:J.c,ta:Ye.ta,te:qe.te,th:We.th,tr:$e.tr,uk:Ge.uk,ur:J.c,vi:Je.vi,zhCN:et.g,zhHK:tt.a,zhTW:nt.G,zu:J.c},st=e=>(e=>Object.keys(at).includes(e))(e)?at[e]:J.c;var it=n(12058),ot=n(42534);const rt=e=>{const t=new Date(e);t.setDate(e.getDate()+(5-e.getDay()));const n=new Date(t);return n.setDate(t.getDate()+2),{from:t,to:n}},lt=e=>{const t=new Date(e);t.setDate(e.getDate()+(5-e.getDay()));const n=new Date(t);n.setDate(t.getDate()+7);const a=new Date(n);return a.setDate(n.getDate()+2),{from:n,to:a}},ct=(e,t)=>!!(e?.from&&e?.to&&t?.from&&t?.to)&&((0,it.r)(e.from,t.from)&&(0,it.r)(e.to,t.to)),dt=e=>(0,ot.x)(e,{representation:"date"});var ut=n(14006),mt=n(61315);const gt="C1USyigFSYyc22_BmsgB",ht="Cwo5ZgH_QLzFbSjWjglf",vt="iL7PRv0yTC9UFjHfDJDW",pt="oxBa3kaduGMhYxc9I_Uu",xt="x0xbkRE3CyGK_i406MSX",ft="zT6EzYpjnj9pMKhMFQB7",jt="YOLVSXg5_gdh0VfL2oNl",Ct="ynXemVsankd4H506x8D2",yt={formatCaption:e=>c.Ru.formatDate(e,{month:"long",year:"numeric"}),formatDay:e=>c.Ru.formatDate(e,{day:"numeric"}),formatWeekdayName:e=>c.Ru.formatDate(e,{weekday:"short"})},bt=(0,a.memo)((e=>{const{onDone:t,onClose:n,spec:s}=e,[i,o]=(0,a.useState)(e.dateRange),r=(0,ut.W)(),l=(0,mt.n)(s?.getAbsoluteLocation(),s),d=(0,z.s)(),u=new Date,m=rt(u),g=lt(u),h=ct(i,m),v=ct(i,g),p=new Date;return p.setFullYear(p.getFullYear()+1),(0,B.jsx)("div",{ref:l,children:(0,B.jsx)(_.A,{isOpen:!0,children:(0,B.jsxs)("section",{className:gt,children:[(0,B.jsx)(b.H,{className:ht,iconOnly:S.M,size:"small",onClick:n,"aria-label":c.Ru.get("close_button_action")}),(0,B.jsxs)("div",{className:vt,children:[(0,B.jsx)(k.E,{as:"h3",variant:"bodyMediumBold",children:c.Ru.get("live_events.date_picker_dialog_title")}),(0,B.jsxs)("div",{className:pt,children:[(0,B.jsx)(I.v,{className:xt,size:"md",selectedColorSet:"brightAccent",selected:h,onClick:()=>{o(h?void 0:m),s&&d.logInteraction(s.datePresetButtonFactory({identifier:"thisWeekend",position:0}).hitUiSelect())},children:c.Ru.get("live_events.this_weekend_preset")}),(0,B.jsx)(I.v,{className:xt,size:"md",selectedColorSet:"brightAccent",selected:v,onClick:()=>{o(v?void 0:g),s&&d.logInteraction(s.datePresetButtonFactory({identifier:"nextWeekend",position:1}).hitUiSelect())},children:c.Ru.get("live_events.next_weekend_preset")})]})]}),(0,B.jsx)($.hv,{mode:"range",selected:i,onSelect:o,numberOfMonths:2,defaultMonth:e.dateRange?.from,fromDate:new Date,toDate:p,formatters:yt,dir:r?"rtl":"ltr",modifiersClassNames:{today:ft},locale:st(c.Ru.getLocaleForFormatting())}),(0,B.jsxs)("div",{className:jt,children:[(0,B.jsx)(b.H,{className:Ct,size:"small",onClick:()=>{o(void 0)},disabled:!i?.from,children:c.Ru.get("live_events.date_picker_dialog_clear")}),(0,B.jsx)(j.$,{size:"small",onClick:()=>{if(i?.from){const{from:e,to:n}=i;t({from:e,to:n||e})}else t()},children:c.Ru.get("live_events.date_picker_dialog_done")})]})]})})})})),St=e=>{const t=e?.match(/(202\d)-([01]\d)-([0-3]\d)/);if(!t)return;const[,n="",a="",s=""]=t;return new Date(parseInt(n,10),parseInt(a,10)-1,parseInt(s,10))},kt=()=>{const[e]=(0,f.ok)(),t=e.get("startDate")?.trim(),n=e.get("endDate")?.trim(),a=St(t),s=St(n);return a&&s&&{from:a,to:s}};var Nt=n(50866);const _t="WnIhxhr9MIQjVvkvUQTf",It="ETRYfT8oEUJuUDLgOBUX",Rt="qdpaG8_efSSt25IhC0r_",wt=e=>{const[t,n]=(0,a.useState)(!1),[s,i]=(0,f.ok)(),o=(0,z.s)(),r=(0,a.useMemo)((()=>e.spec?.datePickerModalFactory()),[e.spec]),l=(0,a.useMemo)((()=>e.spec?.headerFactory()),[e.spec]),d=kt(),u=rt(new Date),m=lt(new Date),g=(0,a.useCallback)((e=>{if(e){if(s.set("startDate",dt(e.from)),s.set("endDate",dt(e.to)),r){const e=s.toString();o.logInteraction(r.doneButtonFactory({uri:e}).hitUiNavigate({destination:e}))}}else s.delete("startDate"),s.delete("endDate");n(!1),i(s),r&&o.logInteraction(r.doneButtonFactory({uri:s.toString()}).hitUiHide())}),[i,s,r,o]),h=(0,a.useCallback)((e=>{ct(d,e)?(s.delete("startDate"),s.delete("endDate")):(s.set("startDate",dt(e.from)),s.set("endDate",dt(e.to))),i(s)}),[d,s,i]),v=d?j.$:C.n;return(0,B.jsxs)("div",{className:_t,children:[(0,B.jsx)("div",{children:(0,B.jsx)(v,{className:It,iconLeading:W.R,onClick:()=>{n(!0),l&&o.logInteraction(l.datePickerButtonFactory().hitUiReveal())},size:"small",children:d?(0,Nt.tX)(d):c.Ru.get("live_events.date_picker_button_text")})}),t&&(0,B.jsx)(bt,{onClose:()=>{n(!1),r&&o.logInteraction(r.closeButtonFactory().hitUiHide())},onDone:g,dateRange:d,spec:r}),(0,B.jsxs)("div",{className:Rt,children:[(0,B.jsx)("div",{children:(0,B.jsx)(I.v,{size:"sm",selectedColorSet:"brightAccent",selected:ct(d,u),onClick:()=>{if(h(u),l){s.set("startDate",dt(u.from)),s.set("endDate",dt(u.to));const e=s.toString();o.logInteraction(l.datePresetButtonFactory({uri:e,identifier:"thisWeekend",position:0}).hitUiNavigate({destination:e}))}},className:It,children:c.Ru.get("live_events.this_weekend_preset")})}),(0,B.jsx)("div",{children:(0,B.jsx)(I.v,{size:"sm",selectedColorSet:"brightAccent",selected:ct(d,m),onClick:()=>{if(h(m),l){s.set("startDate",dt(m.from)),s.set("endDate",dt(m.to));const e=s.toString();o.logInteraction(l.datePresetButtonFactory({uri:e,identifier:"nextWeekend",position:1}).hitUiNavigate({destination:e}))}},className:It,children:c.Ru.get("live_events.next_weekend_preset")})})]})]})};var Dt=n(32131),Ut=n(3877),At=n(45601),Mt=n(20820),Et=n(91126);const Ft=e=>{const t=(0,Et.I)(e);return t?(0,B.jsx)(Mt.A,{uri:t.uri,title:t.title,subTitle:t.subTitle,imageUrl:t.imageUrl,date:t.date,onClick:t.handleClick}):null};var Bt=n(14776),Lt=n(84657),Ht=n(98033),Pt=n(96579);const zt="Ig5vKQ7dYBd1EvrAFxNe",Tt="h_q319q68ujja24YIoXY",Ot="dFTQKQt3imsoOza3VE4G",Kt="M8LA1p3y53Qnge37zUmz",Vt="HZi6Ziy6mVJMFZsPf4wk",Qt="KNX0R2c0r90zNTPYZm6X",Xt="JI0woT5IN6EnNKnilhcg",Zt="kAi1CfiOMYDExKkXuw44",Yt="Zwr6T4ceJI7KfyNxa4tS",qt="mW3O8RnDMDY6MfRJKqd5",Wt="raQK_4Eaqa5Zj06_aBm7",$t="AOuYgrCnrYvPKsyzxqVy",Gt="P1dra4DUpn36RnCkuwa_",Jt="zBCfaF04WlTsiUcov2oJ",en="JxTPZX9AoptKanJg0zIw",tn=(0,a.memo)((e=>{const{concert:t,position:n,modalSpec:s}=e,i=(0,Nt.l4)(e.concert.startDateIsoString),o=(0,y.o_h)(e.concert.uri),r=(0,a.useMemo)((()=>s?.eventRowFactory({position:n,uri:t.uri})),[s,n,t]),l=(0,z.s)();return(0,B.jsxs)(Pt.N,{to:`/concert/${o?.id}`,className:Zt,onClick:()=>{r&&l.logInteraction(r.hitUiNavigate({destination:`/concert/${o?.id}`}))},children:[(0,B.jsxs)("div",{className:Yt,"aria-hidden":!0,children:[(0,B.jsx)(k.E,{as:"div",variant:"marginalBold",className:qt,children:(0,Nt.tj)(i)}),(0,B.jsx)(k.E,{as:"div",variant:"bodyMediumBold",className:Wt,children:(0,Nt.Py)(i)})]}),(0,B.jsxs)("div",{className:$t,children:[(0,B.jsx)(k.E,{as:"div",variant:"bodySmallBold",className:Gt,"data-testid":"event-title",children:t.title}),(0,B.jsx)(Ht.s,{children:(0,Nt.Fn)(i)}),(0,B.jsxs)(k.E,{as:"div",variant:"bodySmall",className:Jt,children:[(0,Nt.VJ)(i)," • ",(0,Nt.WB)(i)]}),(0,B.jsx)(k.E,{as:"div",variant:"bodySmall",className:en,"data-testid":"event-venue",children:[t.location.venue,t.location.city].join(c.Ru.getSeparator())})]})]},t.uri)})),nn=e=>{const t=(0,a.useMemo)((()=>e.feedSpec?.groupedEventModalFactory({uri:e.artist.uri||""})),[e.feedSpec,e.artist]),n=(0,z.s)(),s=(0,mt.n)(t?.getAbsoluteLocation(),t),i=()=>{t&&n.logInteraction(t.closeButtonFactory().hitUiHide()),e.onClose()};return(0,B.jsx)(_.A,{contentLabel:c.Ru.get("live_events.label"),isOpen:!0,className:zt,onRequestClose:i,children:(0,B.jsxs)("section",{className:Tt,ref:s,children:[(0,B.jsx)("div",{className:Ot,children:(0,B.jsx)(an,{"aria-label":c.Ru.get("close"),iconOnly:S.M,size:"small",onClick:i})}),(0,B.jsxs)("div",{className:Kt,children:[(0,B.jsx)(Lt._,{height:"48",width:"48",className:Vt,src:e.artist.imageUri}),(0,B.jsxs)("div",{className:Qt,children:[(0,B.jsx)(k.E,{as:"h3",variant:"bodyMediumBold",className:Xt,"data-testid":"event-venue",children:e.artist.name}),(0,B.jsx)(k.E,{as:"h3",variant:"bodySmall","data-testid":"event-venue",children:c.Ru.get("concerts.count_near_location",e.concerts.length,e.location.city)})]})]}),e.concerts.map(((e,n)=>(0,B.jsx)(tn,{concert:e,position:n,modalSpec:t},e.uri)))]})})};var an=(0,Bt.Ay)(b.H).withConfig({displayName:"ConcertModal___StyledButtonTertiary",componentId:"sc-179c8vh-0"})({color:"#FFFFFF",backgroundColor:"#000000",cursor:"pointer"}),sn=n(81874),on=n(25636);const rn=e=>{const[t,n]=(0,a.useState)(!1),s=(0,a.useMemo)((()=>{if(!(0,sn.ys)(e))return;const[t]=e.concerts;if(!(0,sn.$V)(t))return;const n=(0,y.o_h)(t.data.uri);return e.spec?.eventCardFactory({identifier:n?.id,position:e.position,uri:t.data.uri})}),[e]),i=(0,z.s)(),o=(0,mt.n)(s?.getAbsoluteLocation(),s);if(!(0,sn.ys)(e))return;const[r]=e.concerts;if(!(0,sn.$V)(r))return;const[l]=r.data.artists.items,c=(0,on.Q)(r.data.artists.items),{startDate:d,endDate:u}=(0,Nt.Vi)(e.concerts);return{isModalOpen:t,handleClick:e=>{e.preventDefault(),n(!0),s&&i.logInteraction(s.hitUiReveal())},handleClose:()=>n(!1),concert:{uri:r.data.uri,title:r.data.title,imageUrl:c,dateRange:(0,Nt.WZ)(d,u),startDateIsoString:r.data.startDateIsoString},artist:{uri:l&&"uri"in l.data?l.data.uri:"",name:l&&"profile"in l.data?l.data.profile.name:"",imageUri:c??""},location:{city:r.data.location.city,venue:r.data.location.name},totalConcerts:e.concerts.length,concerts:e.concerts.map((e=>(0,sn.$V)(e)?{uri:e.data.uri,title:e.data.title,location:{city:e.data.location.city,venue:e.data.location.name},startDateIsoString:e.data.startDateIsoString}:null)).filter(sn.se),ref:o}},ln=e=>{const t=rn(e);return t?(0,B.jsxs)("div",{ref:t.ref,children:[(0,B.jsx)(Mt.A,{onClick:t.handleClick,uri:t.concert.uri,title:t.concert.title,imageUrl:t.concert.imageUrl,subTitle:`${t.concert.dateRange} • ${c.Ru.get("concerts.count",t.totalConcerts)}`}),t.isModalOpen&&(0,B.jsx)(nn,{onClose:t.handleClose,artist:t.artist,location:t.location,concerts:t.concerts})]}):null};var cn=n(3402);const dn=e=>{const t=rn(e);return t?(0,B.jsxs)("div",{ref:t.ref,children:[(0,B.jsx)(cn.A,{onClick:t.handleClick,uri:t.concert.uri,title:t.concert.title,image:t.concert.imageUrl??"",subTitle:c.Ru.get("concerts.count",t.concerts.length),dateRange:t.concert.dateRange}),t.isModalOpen&&(0,B.jsx)(nn,{onClose:t.handleClose,artist:t.artist,location:t.location,concerts:t.concerts})]}):null};n(54687);var un=n(95685);const mn=e=>{if(void 0===(t=e.data)||!Object.keys(t).includes("uri"))return null;var t;const[n]=e.data.images.items;return(0,B.jsx)(un.B,{uri:e.data.uri,name:e.data.name,images:e.data.images.items.flatMap((e=>e.sources)),color:n?.extractedColors?.colorDark.hex,description:e.data.description,authorName:null,isPlayable:!0,logCardImpressions:!0,index:e.position})};var gn=n(94685);const hn="r9pZATnIA0vfb26moOSE",vn="kOfWkKuha0KPE6O5zPgU",pn="WSryB2nAyCVspMyI4hft",xn="EwxEfHdxTzVoxfzYTQaP",fn="IBAOIOOtlpQVPo9F5FgR",jn="uErMtJ7mMK76G0Y_2Nrm",Cn=e=>{const t=(0,Et.I)({...e,...e.concert});return t?(0,B.jsxs)(Pt.N,{to:t.uri,"data-testid":"concert-promo",onClick:t.handleClick,className:hn,children:[(0,B.jsx)(Lt._,{src:t.imageUrl,className:vn}),(0,B.jsxs)("div",{className:pn,children:[(0,B.jsxs)("div",{className:xn,children:[(0,B.jsx)(k.E,{variant:"titleMedium",semanticColor:"textBase",as:"div",className:fn,children:t.title}),(0,B.jsx)(k.E,{as:"div",semanticColor:"textBase",variant:"bodySmall",className:fn,children:t.subTitle})]}),(0,B.jsx)("div",{className:jn,children:(0,B.jsx)(j.$,{"aria-label":t.title,iconOnly:gn.h,size:"small",colorSet:"invertedLight"})})]})]}):null},yn=e=>{const t=(0,Et.I)(e);return t?(0,B.jsx)(cn.A,{uri:t.uri,title:t.title,subTitle:t.subTitle,image:t.imageUrl,date:t.date,onClick:t.handleClick}):null};var bn=n(77763),Sn=n(34239);const kn=e=>{const t=(0,Sn.Z)({data:e.data,position:e.position,spec:e.spec});return t?(0,B.jsx)(bn.C,{alt:t.alt,uri:t.uri,imageUrl:t.imageUrl,title:t.title,onClick:t.handleClick}):null},Nn={ConcertGroup:dn,ConcertV2ResponseWrapper:yn,PlaylistResponseWrapper:mn,ConcertPromo:Cn,VenueResponseWrapper:kn},_n={ConcertGroup:ln,ConcertV2ResponseWrapper:Ft,PlaylistResponseWrapper:mn,ConcertPromo:Cn,VenueResponseWrapper:kn},In=({concert:e,position:t,spec:n,type:a})=>{if(s=e.__typename,!Object.keys(Nn).includes(s??""))return null;var s;const i=("grid"===a?_n:Nn)[e.__typename];return(0,B.jsx)(i,{position:t,spec:n,...e})},Rn=e=>{const t={"recommended-events":c.Ru.get("concerts_recommended_for_you"),"popular-events":c.Ru.get("concerts_popular"),"concerts-near-you":c.Ru.get("concerts.discover_near_you"),venues:c.Ru.get("live_events.venue_shelf_title")};return e in t?t[e]:e},wn="YJ_lZ7Vqhu9QBfyOclOx",Dn="FlsDpqinw8SF_Bgf0yWA",Un="bvJZOAXCfadBunfTLqeX",An="dEaB7T6y5kFQVzk17Ib_",Mn="QLxo4g8cCxlsbu3SALAE",En=e=>{const t=(0,a.useMemo)((()=>e.spec?.eventSectionFactory({identifier:"carousel",position:0})),[e.spec]),n=(0,mt.n)(t?.getAbsoluteLocation(),t);return!(0,sn.Lw)(e.data)||(0,sn.Lw)(e.data)&&0===e.data.concerts.length?null:(0,B.jsx)("div",{ref:n,className:An,children:(0,B.jsx)(At.R,{title:Rn(e.data.key),index:0,id:e.data.key,seeAllUri:e.data.uri??void 0,seeAllLabel:c.Ru.get("shelf.see-all"),className:Mn,withEncoreCards:!1,children:e.data.concerts.map(((e,n)=>(0,B.jsx)("div",{children:(0,B.jsx)(In,{concert:e,position:n,spec:t,type:"grid"})},n))).filter(sn.se)})})},Fn=e=>{const t=(0,a.useMemo)((()=>e.spec?.eventSectionFactory({identifier:"all",position:e.position??0})),[e.spec,e.position]),n=(0,mt.n)(t?.getAbsoluteLocation(),t);return 0===e.concerts.length?null:(0,B.jsxs)("div",{ref:n,className:An,children:[(0,B.jsx)(k.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:e.title}),e.concerts.map(((e,n)=>(0,B.jsx)(In,{type:"list",concert:e,position:n,spec:t},n))).filter(sn.se)]})};var Bn=n(92544);const Ln=e=>{const t=(0,a.useMemo)((()=>e.spec?.eventSectionFactory({identifier:"all",position:e.position??0})),[e.spec,e.position]),n=(0,mt.n)(t?.getAbsoluteLocation(),t);return(0,B.jsx)("div",{ref:n,children:(0,B.jsx)(Bn.$,{total:e.concerts.length,title:e.title,showAll:!0,withEncoreCards:!1,children:e.concerts.map(((e,n)=>(0,B.jsx)(In,{type:"grid",concert:e,position:n,spec:t},n))).filter(sn.se)})})},Hn=e=>{if(!(0,sn.eO)(e.data))return null;const t="grid"===e.layout?Ln:Fn;return(0,B.jsx)(t,{title:Rn(e.data.key),concerts:e.data.concerts,spec:e.spec})},Pn="_twZ6XqHC7VdQQiSBeMQ",zn=e=>{if(!e?.match(/^(\d{4})-(\d{2})-(\d{2})$/))return"all-events"===e?c.Ru.get("live_events.all_events_tab"):"venues"===e?c.Ru.get("live_events.venue_shelf_title"):e;const[t,n,a]=e.split("-");return(0,Nt.Fn)(new Date(Number(t),Number(n)-1,Number(a)))},Tn=e=>{if(!(0,sn.dR)(e.data))return null;const t="grid"===e.layout?Ln:Fn;return(0,B.jsxs)("div",{children:[e.data.sections.map(((n,a)=>(0,B.jsx)(t,{position:a,title:zn(n.key),concerts:n.concerts,spec:e.spec},a))),e.fetchNextPage&&(0,B.jsx)(C.n,{className:Pn,onClick:()=>e.fetchNextPage&&e.fetchNextPage(),children:c.Ru.get("concerts.load_more")})]})};n(98273);var On=n(15069);const Kn=Spicetify.GraphQL.Definitions["concertFeed"]=new K.l("concertFeed","query","ac1b85b8158ad267f879697aa12494d19d24964819ce78eb625518f273f322e8",null);var Vn=n(254),Qn=n(74351);const Xn=(e,t=On.q)=>{const{request:n}=(0,a.useContext)(Vn.j),s=t({queryKey:["concert-feed",e.geoHash,e.geonameId,e.dateRange,e.conceptUris,e.radiusInKm],queryFn:({pageParam:t})=>(0,Qn.c)(n,Kn,{...e,paginationKey:""===t?null:t}),staleTime:6e4,gcTime:6e4,initialPageParam:"",getNextPageParam:e=>{if(!(0,sn.Bw)(e?.data?.liveEventsFeed))return"";const t=e.data.liveEventsFeed.sections.find((e=>"AllEvents"===e.__typename))??{};return(0,sn.dR)(t)?t.paginationKey:""}}),i=(e=>{const t=e?.reduce(((e,t)=>{const n=e?.liveEventsFeed,a=t?.data?.liveEventsFeed;if(!(0,sn.Bw)(a)||!(0,sn.Bw)(n))return e;const s=n.sections.find((e=>"AllEvents"===e.__typename))??{},i=(0,sn.dR)(s)?s.sections:[],o=a.sections.find((e=>"AllEvents"===e.__typename))??{},r=[...i,...(0,sn.dR)(o)?o.sections:[]].reduce(((e,t)=>{const n=e[t.key]??[];return(0,sn.ys)(t)?{...e,[t.key]:[...n,...t.concerts]}:e}),{}),l=Object.entries(r).map((([e,t])=>({key:e,concerts:t})));return{liveEventsFeed:{sections:a.sections.map((e=>"AllEvents"===e.__typename||(0,sn.dR)(e)?{sections:l,__typename:"AllEvents"}:e))}}}),{liveEventsFeed:{sections:[]}});return t})(s.data?.pages),o=s.data?.pages[s.data.pages.length-1]?.data?.liveEventsFeed,r=(0,sn.Bw)(o)?o.sections.find((e=>"AllEvents"===e.__typename)):void 0;return{...s,fetchNextPage:r&&(0,sn.dR)(r)&&r?.paginationKey?s.fetchNextPage:void 0,data:i}},Zn={AllEvents:Tn,LiveEventSection:Hn,ConcertCarousel:En},Yn=e=>{const{data:t,isLoading:n,error:a,fetchNextPage:s}=Xn({geoHash:e.location.isDefault?null:e.location.geoHash||null,geonameId:e.location.isDefault?null:e.location.geonameId||null,dateRange:e.dateRange?.from&&e.dateRange?.to?{from:(0,X.bU)(e.dateRange?.from),to:(0,X.bU)(e.dateRange.to)}:null,conceptUris:e.conceptUris,radiusInKm:e.location.radiusInKm??null});return n?(0,B.jsx)(Ut.LoadingPage,{hasError:!1,errorMessage:""}):!(0,sn.Bw)(t?.liveEventsFeed)||0===t.liveEventsFeed.sections.length||a?(0,B.jsx)(Dt.p,{title:c.Ru.get("concerts.error.no_concerts_found_title"),message:c.Ru.get("concerts.error.no_concerts_found_message",e.location.name),renderInline:!0}):(0,B.jsx)("div",{children:t?.liveEventsFeed.sections.map(((t,n)=>{if(!(0,sn.w1)(t))return null;const a=Zn[t.__typename];return(0,B.jsx)(a,{layout:e.layout,spec:e.spec,fetchNextPage:s,data:t},n)})).filter(sn.se)})};var qn=n(10651),Wn=n(62077);const $n=Spicetify.GraphQL.Definitions["inferredUserLocation"]=new K.l("inferredUserLocation","query","5db4c507ea735d2a1f37bd1166eca2c1a0e3387bb875ebca5d6031b6eccceeba",null);var Gn=n(84409);const Jn="g8vV54lx3mRkeseb5Bf2",ea=({onLocationChange:e})=>{const{data:t,invalidate:n}=(a={},(0,V.I)($n,a,s));var a,s;const{spec:i}=(0,Gn.r)(Wn.F,{}),o=(0,mt.n)(i.getAbsoluteLocation(),i);if(!t||!t.me?.profile?.location?.isInferred)return null;return(0,B.jsxs)("div",{className:Jn,ref:o,children:[(0,B.jsx)(k.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:c.Ru.get("concert.feed.set_location")}),(0,B.jsx)(k.E,{paddingBottom:"tighter-2",children:c.Ru.get("concert.feed.set_location_description")}),(0,B.jsx)(qn.A,{locationStr:"london",dialog:"preferred",headerSpec:i,handleLocationChange:t=>{e(t),n()},action:(0,B.jsx)(j.$,{children:c.Ru.get("concert.feed.set_location_button")})})]})},ta=Spicetify.GraphQL.Definitions["concertLocationDetails"]=new K.l("concertLocationDetails","query","b13f195349f188fee25480ae889d782852d68663bf07743c654244454750d681",null);var na=n(83953);const aa=e=>{if(!e||!("items"in e))return;const[t]=e.items;return t},sa=(e=x.g)=>{const{isAnonymous:t}=(0,o.d4)(na.Ht),{location:n}=e(),[s]=(0,f.ok)(),{pathname:i}=(0,x.zy)(),r=(0,Y.g)(),[,l]=n?.match(/^(\d+)/)??[],[c,d]=(0,a.useState)(l?{geonameId:Number(l)}:void 0),{data:u}=(m={geonameId:c?.geonameId?String(c?.geonameId):null,isAnonymous:t},(0,V.I)(ta,m,g));var m,g;const h=e=>{d(e),e.radiusInKm&&s.set("radius",String(e.radiusInKm)),e?.geonameId&&r({pathname:String(e.geonameId)===u?.me?.profile?.location?.geonameId?(0,X.nm)(i,void 0,void 0):(0,X.nm)(i,e.geonameId,e.fullName),search:new URLSearchParams(s).toString()})},v=((e,t)=>e?{geoHash:e?.geoHash,geonameId:e?.geonameId,name:e?.name}:aa(t))(u?.me?.profile?.location,u?.concertLocations);if(c&&c.geonameId&&c?.geonameId!==Number(v?.geonameId)){const e=aa(u?.concertLocations);return{location:{geohash:c.geohash??e?.geoHash??void 0,geonameId:c.geonameId,name:c.name??e?.name,radiusInKm:s.get("radius")?Number(s.get("radius")):void 0,isDefault:!1},onChangeLocation:h}}return{location:v?.geoHash?{geohash:v?.geoHash,geonameId:Number(v?.geonameId),name:v?.name,radiusInKm:s.get("radius")?Number(s.get("radius")):void 0,isDefault:!0}:void 0,onChangeLocation:h}};var ia=n(23622);const oa=()=>{const{isAnonymous:e}=(0,o.d4)(na.Ht),{location:t,onChangeLocation:n}=sa(),s=kt(),{conceptUris:x}=Z(),{spec:f}=(0,Gn.r)(l.s,{}),j=(0,a.useMemo)((()=>f.headerFactory()),[f]),C=e&&t?.name?c.Ru.get("live_events.location_concert_tickets",t.name):c.Ru.get("live_events.label");return(0,B.jsxs)("section",{children:[(0,B.jsx)(u.Q,{children:(0,ia.zV)(t?.name)}),(0,B.jsxs)(m.z,{size:m.K.SMALL,backgroundColor:r.Hhe,children:[(0,B.jsx)(g.Y,{children:(0,B.jsx)(p.mm,{children:C})}),(0,B.jsx)(h.h,{children:(0,B.jsx)(v.X,{text:C})})]}),(0,B.jsxs)("div",{children:[(0,B.jsx)(d.K,{backgroundColor:r.Hhe}),(0,B.jsxs)("div",{className:i()(wn,"contentSpacing"),children:[(0,B.jsx)("div",{className:Dn,children:(0,B.jsxs)("div",{className:Un,children:[(0,B.jsx)(qn.A,{headerSpec:j,locationStr:t?.name??"",location:t,handleLocationChange:n,conceptUris:x}),(0,B.jsx)(wt,{spec:f}),!e&&(0,B.jsx)(q,{geohash:t?.geohash,spec:j})]})}),(0,B.jsx)(ea,{onLocationChange:n}),(0,B.jsx)(Yn,{spec:f,layout:"grid",location:{geoHash:t?.geohash,geonameId:t?.geonameId?String(t.geonameId):"",name:t?.name??"",radiusInKm:t?.radiusInKm,isDefault:t?.isDefault??!0},conceptUris:0===x.length?null:x,dateRange:s})]})]})]})}},91126:(e,t,n)=>{n.d(t,{I:()=>d});var a=n(30758),s=n(18831),i=n(70397),o=n(81874),r=n(25636),l=n(50866),c=n(68293);const d=e=>{const t=(0,c.s)(),n=(0,a.useMemo)((()=>{const t=(0,s.o_h)((0,o.$V)(e)?e.data.uri:"");return e.spec?.eventCardFactory({identifier:t?.id,position:e.position,uri:t?.toURI()??""})}),[e]);if(!(0,o.$V)(e))return;return{imageUrl:(0,r.Q)(e.data.artists.items)??"",uri:e.data.uri,title:e.data.title,subTitle:[e.data.location.name,e.data.location.city].join(i.Ru.getSeparator()),date:e.data.startDateIsoString,dateRange:(0,l.Y)(new Date(e.data.startDateIsoString)),handleClick:()=>n&&t.logInteraction(n.hitUiNavigate({destination:e.data.uri}))}}},93874:(e,t,n)=>{n.d(t,{DL:()=>r,Qe:()=>l,bU:()=>c,nm:()=>o});n(98273);var a=n(42534);const s=(e,t)=>{if(!e.includes(t))return;const n=e.split("/"),a=n.findIndex((e=>e===t));return n[a+1]},i=(e,t)=>{const n=["/concerts"];return(t.location||e.includes("location")&&null!==t.location)&&(n.push("location"),n.push(String(t.location??s(e,"location")))),(t.genre||e.includes("genre")&&null!==t.genre)&&(n.push("genre"),n.push(String(t.genre??s(e,"genre")))),n.join("/")},o=(e,t,n)=>{if(!t)return i(e,{location:null});const a=n?.normalize().replaceAll(/\W+/g,"-");return i(e,a?{location:`${t}-${a}`}:{location:t})},r=(e,t,n)=>{if(!t)return i(e,{genre:null});const a=n?.normalize().replaceAll(/\W+/g,"-");return i(e,a?{genre:`${t}-${a}`}:{genre:t})},l=e=>{if(!e)return;const t=e.split("-"),[n]=t;return{id:`spotify:concept:${n}`,name:t.reduce(((e,t,n)=>0===n?e:`${e} ${t}`),"").trim()}},c=e=>(0,a.x)(e,{representation:"date"})}}]);
//# sourceMappingURL=xpui-routes-collection-concerts.js.map