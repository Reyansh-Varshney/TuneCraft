"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[311],{4799:(e,r,t)=>{t.d(r,{y:()=>N});var a=t(19507),s=t(30758);class l extends Error{constructor(e,r,t=null){super(r),this.status=0,this.payload=null,this.status=e,this.message=r,this.payload=t,this.name="RpcError"}static isRpcError(e){return"RpcError"===e.name}}function i(e,r,t,a,s,i){const n=`${r}${t}/${a.name}`;return e.request(n,Object.assign(Object.assign({},i),{method:"POST",responseType:"json",headers:Object.assign(Object.assign({},null==i?void 0:i.headers),{"content-type":"application/json"}),payload:JSON.stringify(a.requestType.toJSON(s))})).then((e=>200!==e.status?Promise.reject(new l(e.status,`RPC request failed with status ${e.status}`,e.body)):e.body?a.responseType.fromJSON(e.body):Promise.reject(new l(e.status,"RPC request returned invalid JSON response",e.body))))}class n{constructor(e){!function(e,r){var t;const a=r.transport.toPublic({requestOptions:null!==(t=r.requestOptions)&&void 0!==t?t:{}});let s=r.baseURL;/\/$/.test(s)||(s=`${s}/`);const{fullName:n,methods:o}=r.definition;for(const r in o){if(!o.hasOwnProperty(r))continue;const t=Object.assign({},o[r]);if(!t.name||!t.requestType||!t.responseType)throw new Error("Invalid descriptor; missing required method properties.");e[r]=(e,r)=>t.requestStream||t.responseStream?Promise.reject(new l(0,"Streaming requests and responses are not supported.")):i(a,s,n,t,e,null==r?void 0:r.requestOptions)}}(this,e)}}t(77369);const o={fromJSON:e=>({label_uri:f(e.labelUri)?globalThis.String(e.labelUri):""}),toJSON(e){const r={};return""!==e.label_uri&&(r.labelUri=e.label_uri),r},create:e=>o.fromPartial(e??{}),fromPartial(e){const r={label_uri:""};return r.label_uri=e.label_uri??"",r}};const m={fromJSON:e=>({artistUri:f(e.artistUri)?globalThis.String(e.artistUri):"",artistName:f(e.artistName)?globalThis.String(e.artistName):""}),toJSON(e){const r={};return""!==e.artistUri&&(r.artistUri=e.artistUri),""!==e.artistName&&(r.artistName=e.artistName),r},create:e=>m.fromPartial(e??{}),fromPartial(e){const r={artistUri:"",artistName:""};return r.artistUri=e.artistUri??"",r.artistName=e.artistName??"",r}};const u={fromJSON:e=>({...m.fromJSON(e),artistRank:e.artistRank}),toJSON(e){const r=m.toJSON(e);return r.artistRank=e.artistRank,r},create:e=>u.fromPartial(e??{}),fromPartial(e){const r={artistUri:"",artistName:"",artistRank:0};return r.artistRank=e.artistRank??0,r}};const b={fromJSON:e=>({trackUri:f(e.trackUri)?globalThis.String(e.trackUri):"",trackName:f(e.trackName)?globalThis.String(e.trackName):"",trackRank:f(e.trackRank)?globalThis.Number(e.trackRank):0,albumUri:f(e.albumUri)?globalThis.String(e.albumUri):"",albumName:f(e.albumName)?globalThis.String(e.albumName):"",largestCoverArtImageId:f(e.largestCoverArtImageId)?globalThis.String(e.largestCoverArtImageId):"",mainArtists:globalThis.Array.isArray(e?.mainArtists)?e.mainArtists.map((e=>m.fromJSON(e))):[]}),toJSON(e){const r={};return""!==e.trackUri&&(r.trackUri=e.trackUri),""!==e.trackName&&(r.trackName=e.trackName),0!==e.trackRank&&(r.trackRank=Math.round(e.trackRank)),""!==e.albumUri&&(r.albumUri=e.albumUri),""!==e.albumName&&(r.albumName=e.albumName),""!==e.largestCoverArtImageId&&(r.largestCoverArtImageId=e.largestCoverArtImageId),e.mainArtists?.length&&(r.mainArtists=e.mainArtists.map((e=>m.toJSON(e)))),r},create:e=>b.fromPartial(e??{}),fromPartial(e){const r={trackUri:"",trackName:"",trackRank:0,albumUri:"",albumName:"",largestCoverArtImageId:"",mainArtists:[]};return r.trackUri=e.trackUri??"",r.trackName=e.trackName??"",r.trackRank=e.trackRank??0,r.albumUri=e.albumUri??"",r.albumName=e.albumName??"",r.largestCoverArtImageId=e.largestCoverArtImageId??"",r.mainArtists=e.mainArtists?.map((e=>m.fromPartial(e)))||[],r}};const p={fromJSON:e=>({albumUri:f(e.albumUri)?globalThis.String(e.albumUri):"",albumName:f(e.albumName)?globalThis.String(e.albumName):"",albumType:f(e.albumType)?globalThis.String(e.albumType):"",albumExternalReleaseFullDate:f(e.albumExternalReleaseFullDate)?globalThis.String(e.albumExternalReleaseFullDate):"",mainArtists:globalThis.Array.isArray(e?.mainArtists)?e.mainArtists.map((e=>m.fromJSON(e))):[],largestCoverArtImageId:f(e.largestCoverArtImageId)?globalThis.String(e.largestCoverArtImageId):""}),toJSON(e){const r={};return""!==e.albumUri&&(r.albumUri=e.albumUri),""!==e.albumName&&(r.albumName=e.albumName),""!==e.albumType&&(r.albumType=e.albumType),""!==e.albumExternalReleaseFullDate&&(r.albumExternalReleaseFullDate=e.albumExternalReleaseFullDate),e.mainArtists?.length&&(r.mainArtists=e.mainArtists.map((e=>m.toJSON(e)))),""!==e.largestCoverArtImageId&&(r.largestCoverArtImageId=e.largestCoverArtImageId),r},create:e=>p.fromPartial(e??{}),fromPartial(e){const r={albumUri:"",albumName:"",albumType:"",albumExternalReleaseFullDate:"",mainArtists:[],largestCoverArtImageId:""};return r.albumUri=e.albumUri??"",r.albumName=e.albumName??"",r.albumType=e.albumType??"",r.albumExternalReleaseFullDate=e.albumExternalReleaseFullDate??"",r.mainArtists=e.mainArtists?.map((e=>m.fromPartial(e)))||[],r.largestCoverArtImageId=e.largestCoverArtImageId??"",r}};const c={fromJSON:e=>({...p.fromJSON(e),albumRank:e.albumRank}),toJSON(e){const r=p.toJSON(e);return r.albumRank=e.albumRank,r},create:e=>c.fromPartial(e??{}),fromPartial(e){const r={albumUri:"",albumName:"",albumType:"",albumExternalReleaseFullDate:"",mainArtists:[],largestCoverArtImageId:"",albumRank:0};return r.albumRank=e.albumRank??0,r}};const h={fromJSON:e=>({albumUri:f(e.albumUri)?globalThis.String(e.albumUri):"",albumName:f(e.albumName)?globalThis.String(e.albumName):"",albumType:f(e.albumType)?globalThis.String(e.albumType):"",albumExternalReleaseFullDate:f(e.albumExternalReleaseFullDate)?globalThis.String(e.albumExternalReleaseFullDate):"",mainArtists:globalThis.Array.isArray(e?.mainArtists)?e.mainArtists.map((e=>m.fromJSON(e))):[],largestCoverArtImageId:f(e.largestCoverArtImageId)?globalThis.String(e.largestCoverArtImageId):"",prereleaseEarliestCoverArtRevealTimestamp:f(e.prereleaseEarliestCoverArtRevealTimestamp)?globalThis.Number(e.prereleaseEarliestCoverArtRevealTimestamp):0,prereleaseEarliestRevealTimestamp:f(e.prereleaseEarliestRevealTimestamp)?globalThis.Number(e.prereleaseEarliestRevealTimestamp):0,prereleaseUri:f(e.prereleaseUri)?globalThis.String(e.prereleaseUri):""}),toJSON(e){const r={};return""!==e.albumUri&&(r.albumUri=e.albumUri),""!==e.albumName&&(r.albumName=e.albumName),""!==e.albumType&&(r.albumType=e.albumType),""!==e.albumExternalReleaseFullDate&&(r.albumExternalReleaseFullDate=e.albumExternalReleaseFullDate),e.mainArtists?.length&&(r.mainArtists=e.mainArtists.map((e=>m.toJSON(e)))),""!==e.largestCoverArtImageId&&(r.largestCoverArtImageId=e.largestCoverArtImageId),0!==e.prereleaseEarliestCoverArtRevealTimestamp&&(r.prereleaseEarliestCoverArtRevealTimestamp=Math.round(e.prereleaseEarliestCoverArtRevealTimestamp)),0!==e.prereleaseEarliestRevealTimestamp&&(r.prereleaseEarliestRevealTimestamp=Math.round(e.prereleaseEarliestRevealTimestamp)),""!==e.prereleaseUri&&(r.prereleaseUri=e.prereleaseUri),r},create:e=>h.fromPartial(e??{}),fromPartial(e){const r={albumUri:"",albumName:"",albumType:"",albumExternalReleaseFullDate:"",mainArtists:[],largestCoverArtImageId:"",prereleaseEarliestCoverArtRevealTimestamp:0,prereleaseEarliestRevealTimestamp:0,prereleaseUri:""};return r.albumUri=e.albumUri??"",r.albumName=e.albumName??"",r.albumType=e.albumType??"",r.albumExternalReleaseFullDate=e.albumExternalReleaseFullDate??"",r.mainArtists=e.mainArtists?.map((e=>m.fromPartial(e)))||[],r.largestCoverArtImageId=e.largestCoverArtImageId??"",r.prereleaseEarliestCoverArtRevealTimestamp=e.prereleaseEarliestCoverArtRevealTimestamp??0,r.prereleaseEarliestRevealTimestamp=e.prereleaseEarliestRevealTimestamp??0,r.prereleaseUri=e.prereleaseUri??"",r}};const g={fromJSON:e=>({labelUri:f(e.labelUri)?globalThis.String(e.labelUri):"",labelName:f(e.labelName)?globalThis.String(e.labelName):"",topTracks:globalThis.Array.isArray(e?.topTracks)?e.topTracks.map((e=>b.fromJSON(e))):[],newAlbums:globalThis.Array.isArray(e?.newAlbums)?e.newAlbums.map((e=>p.fromJSON(e))):[],prereleases:globalThis.Array.isArray(e?.prereleases)?e.prereleases.map((e=>h.fromJSON(e))):[],topAlbums:globalThis.Array.isArray(e?.topAlbums)?e.topAlbums.map((e=>c.fromJSON(e))):[],topArtists:globalThis.Array.isArray(e?.topArtists)?e.topArtists.map((e=>u.fromJSON(e))):[]}),toJSON(e){const r={};return""!==e.labelUri&&(r.labelUri=e.labelUri),""!==e.labelName&&(r.labelName=e.labelName),e.topTracks?.length&&(r.topTracks=e.topTracks.map((e=>b.toJSON(e)))),e.newAlbums?.length&&(r.newAlbums=e.newAlbums.map((e=>p.toJSON(e)))),e.prereleases?.length&&(r.prereleases=e.prereleases.map((e=>h.toJSON(e)))),e.topAlbums?.length&&(r.topAlbums=e.topAlbums.map((e=>c.toJSON(e)))),e.topArtists?.length&&(r.topArtists=e.topArtists.map((e=>u.toJSON(e)))),r},create:e=>g.fromPartial(e??{}),fromPartial(e){const r={labelUri:"",labelName:"",topTracks:[],newAlbums:[],prereleases:[],topAlbums:[],topArtists:[]};return r.labelUri=e.labelUri??"",r.topTracks=e.topTracks?.map((e=>b.fromPartial(e)))||[],r.newAlbums=e.newAlbums?.map((e=>p.fromPartial(e)))||[],r.prereleases=e.prereleases?.map((e=>h.fromPartial(e)))||[],r.topAlbums=e.topAlbums?.map((e=>c.fromPartial(e)))||[],r}};const d={name:"LabelPageService",fullName:"spotify.labelpage.v1.LabelPageService",methods:{labelPage:{name:"LabelPage",requestType:o,requestStream:!1,responseType:g,responseStream:!1,options:{}}}};function f(e){return null!=e}var A=t(15282);const v=()=>(0,s.useMemo)((()=>{const e=(0,A.V)();return function(e){if(!e.transport)throw new TypeError("createClient(): option `transport` is required.");if(!e.definition)throw new TypeError("createClient(): option `definition` is required.");if("string"!=typeof e.baseURL)throw new TypeError("createClient(): option `baseURL` is required.");return new n(e)}({definition:d,baseURL:"https://label-page-service-hw25.spotify.com/",transport:e})}),[]),N=e=>{const r=v();return(0,a.I)({queryKey:["label-page",e],queryFn:()=>r.labelPage({label_uri:`spotify:label:${e}`}),enabled:Boolean(e),staleTime:3e5})}},16569:(e,r,t)=>{t.d(r,{y:()=>i});t(77369);var a=t(79915),s=t(66082),l=t(86070);const i=({artist:e,index:r})=>{const t=(0,s.F)([e.artistUri]);return(0,l.jsx)(a.a,{index:r,name:e.artistName,uri:e.artistUri,images:t.map((e=>({url:e,width:null,height:null})))},e.artistUri)}},66082:(e,r,t)=>{t.d(r,{F:()=>v});t(2557),t(77369);var a=t(30758),s=t(64591),l=t(81649),i=t(61718),n=t(56334);function o(e,r){const t=new Set(r);return e.filter((e=>!t.has(e)))}var m=class extends i.Q{#e;#r;#t;#a;#s;#l;#i;#n;#o=[];constructor(e,r,t){super(),this.#e=e,this.#a=t,this.#t=[],this.#s=[],this.#r=[],this.setQueries(r)}onSubscribe(){1===this.listeners.size&&this.#s.forEach((e=>{e.subscribe((r=>{this.#m(e,r)}))}))}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#s.forEach((e=>{e.destroy()}))}setQueries(e,r){this.#t=e,this.#a=r,s.jG.batch((()=>{const e=this.#s,r=this.#u(this.#t);this.#o=r,r.forEach((e=>e.observer.setOptions(e.defaultedQueryOptions)));const t=r.map((e=>e.observer)),a=t.map((e=>e.getCurrentResult())),s=t.some(((r,t)=>r!==e[t]));(e.length!==t.length||s)&&(this.#s=t,this.#r=a,this.hasListeners()&&(o(e,t).forEach((e=>{e.destroy()})),o(t,e).forEach((e=>{e.subscribe((r=>{this.#m(e,r)}))})),this.#b()))}))}getCurrentResult(){return this.#r}getQueries(){return this.#s.map((e=>e.getCurrentQuery()))}getObservers(){return this.#s}getOptimisticResult(e,r){const t=this.#u(e),a=t.map((e=>e.observer.getOptimisticResult(e.defaultedQueryOptions)));return[a,e=>this.#p(e??a,r),()=>this.#c(a,t)]}#c(e,r){return r.map(((t,a)=>{const s=e[a];return t.defaultedQueryOptions.notifyOnChangeProps?s:t.observer.trackResult(s,(e=>{r.forEach((r=>{r.observer.trackProp(e)}))}))}))}#p(e,r){return r?(this.#l&&this.#r===this.#n&&r===this.#i||(this.#i=r,this.#n=this.#r,this.#l=(0,n.BH)(this.#l,r(e))),this.#l):e}#u(e){const r=new Map(this.#s.map((e=>[e.options.queryHash,e]))),t=[];return e.forEach((e=>{const a=this.#e.defaultQueryOptions(e),s=r.get(a.queryHash);s?t.push({defaultedQueryOptions:a,observer:s}):t.push({defaultedQueryOptions:a,observer:new l.$(this.#e,a)})})),t}#m(e,r){const t=this.#s.indexOf(e);-1!==t&&(this.#r=function(e,r,t){const a=e.slice(0);return a[r]=t,a}(this.#r,t,r),this.#b())}#b(){if(this.hasListeners()){const e=this.#l,r=this.#c(this.#r,this.#o);e!==this.#p(r,this.#a?.combine)&&s.jG.batch((()=>{this.listeners.forEach((e=>{e(this.#r)}))}))}}},u=t(51822),b=t(53952),p=t(54307),c=t(44647),h=t(41226);var g=t(63388);t(39463);const d=Spicetify.GraphQL.Definitions["queryArtistOverview"]=new g.l("queryArtistOverview","query","1ac33ddab5d39a3a9c27802774e6d78b9405cc188c6f75aed007df2a32737c72",null);var f=t(254),A=t(74351);const v=e=>{const{request:r}=(0,a.useContext)(f.j);return function({queries:e,...r},t){const i=(0,u.jE)(t),o=(0,b.w)(),g=(0,p.h)(),d=a.useMemo((()=>e.map((e=>{const r=i.defaultQueryOptions(e);return r._optimisticResults=o?"isRestoring":"optimistic",r}))),[e,i,o]);d.forEach((e=>{(0,h.jv)(e),(0,c.LJ)(e,g)})),(0,c.wZ)(g);const[f]=a.useState((()=>new m(i,d,r))),[A,v,N]=f.getOptimisticResult(d,r.combine),y=!o&&!1!==r.subscribed;a.useSyncExternalStore(a.useCallback((e=>y?f.subscribe(s.jG.batchCalls(e)):n.lQ),[f,y]),(()=>f.getCurrentResult()),(()=>f.getCurrentResult())),a.useEffect((()=>{f.setQueries(d,r)}),[d,r,f]);const R=A.some(((e,r)=>(0,h.EU)(d[r],e)))?A.flatMap(((e,r)=>{const t=d[r];if(t){const r=new l.$(i,t);if((0,h.EU)(t,e))return(0,h.iL)(t,r,g);(0,h.nE)(e,o)&&(0,h.iL)(t,r,g)}return[]})):[];if(R.length>0)throw Promise.all(R);const T=A.find(((e,r)=>{const t=d[r];return t&&(0,c.$1)({result:e,errorResetBoundary:g,throwOnError:t.throwOnError,query:i.getQueryCache().get(t.queryHash),suspense:t.suspense})}));if(T?.error)throw T.error;return v(N())}({queries:e.map((e=>({queryKey:["artistOverview",e],queryFn:()=>(0,A.c)(r,d,{uri:e,locale:null},{},[{key:"spotify-app-version",value:"896000000"}]),staleTime:3e5,gcTime:3e5})))}).map((e=>{const r=e.data?.data?.artistUnion;if("Artist"===r?.__typename){const e=r.visuals?.avatarImage?.sources;return e&&e[0]?.url?e[0].url:null}return null})).filter((e=>Boolean(e)))}}}]);
//# sourceMappingURL=311.js.map