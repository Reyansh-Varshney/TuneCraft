"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2355],{15623:(e,t,s)=>{s.d(t,{u:()=>m});var a=s(97500),i=s.n(a),r=s(52427),n=s(26852),l=s(28831),o=s(4116),c=s(68293),d=s(40795),u=s(86070);const m=({uri:e,src:t,playAriaLabel:s,onClick:a,isPlaying:m,isActive:p,isLocked:x,isEpisode:y,isVideo:h,spec:g})=>{const b=(0,c.s)(),A=(0,r.YQ)((t=>{let s;if(g){const t=g.playbackButtonFactory();let a;a=p&&m?t.hitPause({itemToBePaused:e}):p&&!m?t.hitResume({itemToBeResumed:e}):t.hitPlay({itemToBePlayed:e}),s=b.logInteraction(a)}a(t,s)}),o.d,{leading:!0,trailing:!1});return(0,u.jsxs)("div",{className:d.A.rowImageWithPlay,children:[(0,u.jsx)(l.e,{src:t,isEpisode:y,isVideo:h}),(0,u.jsx)(n.x,{className:i()(d.A.rowPlayPauseButton,d.A.rowImagePlayPauseButton),iconClassName:d.A.rowPlayPauseIcon,onClick:A,isPlaying:m,isLocked:x,playAriaLabel:s})]})}},28432:(e,t,s)=>{s.d(t,{M:()=>m});var a=s(30758),i=s(85387),r=s(38274),n=s(16762),l=s(32190),o=s(7014),c=s(86247),d=s(14237),u=s(86070);const m=({renderItem:e,columnCount:t=6,ariaLabel:s})=>{const m=(0,c.SF)(),{getItem:p,nrValidItems:x,invalidateCache:y}=(0,l.K_)(),{playlist:{metadata:h}}=(0,n.g)();(0,d.H)(h.uri,y);const g=(0,a.useCallback)((e=>(0,u.jsx)("div",{style:{height:e}})),[]),b=(0,a.useCallback)(((t,s)=>{const a=p(t);return a?e(a,t):g(`${s}px`)}),[p,e,g]),A="POP"===(0,i.wQ)()?0:10;return(0,u.jsx)(r.R,{firstInteractiveIsWrapper:!0,"aria-rowcount":x,"aria-colcount":t,"aria-label":s,children:(0,u.jsx)(o.M,{totalCount:x,estimatedHeight:200,renderItem:b,renderPlaceholder:g,scrollNodeRef:m,nrRowsOverscan:10,persistanceKey:h.uri,nrInitialInView:A})})}},34720:(e,t,s)=>{s.d(t,{r:()=>c,z:()=>d});var a=s(30758),i=s(66590),r=s(39159),n=s(3424),l=s(254),o=s(19507);function c(e=null){const{request:t}=(0,a.useContext)(l.j),{data:s}=(0,o.I)({queryKey:["extracted-color",e],queryFn:()=>e?(0,n.j)(t,e).then((e=>{const t=e?.[0];return t?{colorDark:t.colorDark.toCSS(r.a.HEX),colorLight:t.colorLight.toCSS(r.a.HEX),colorRaw:t.colorRaw.toCSS(r.a.HEX)}:null})):null,gcTime:864e5,staleTime:216e5,enabled:!!e});return s??void 0}function d(e=null,t=i.l0o,s="colorRaw"){return c(e)?.[s]??t}},37321:(e,t,s)=>{s.d(t,{$:()=>a.$});var a=s(77674)},46062:(e,t,s)=>{s.d(t,{X:()=>c,$:()=>u});var a=s(77674),i=s(68651),r=s(19906),n=s(29425),l=s(6506);const o=["artistsets","artist-mix-reader","blend","daily-mix","daylist","discover-weekly","descripto","inspiredby-mix","on-repeat","release-radar","repeat-rewind","topic-mix"],c=e=>!!e&&o.includes(e),d=(e,t)=>"autoplay"===e.provider||!("context"!==e.provider||!c(t.metadata?.format_list_type)),u=(e,t)=>{const s=(0,a.$)(),o=(0,i.i)(e.uri),[c]=(0,r.A)(o),u=(0,l.g)();return(0,n.v)(e)&&t&&s&&e.uri===o&&!u?c?{canDisplayButton:d(e,t),hideButton:!0}:{canDisplayButton:d(e,t),hideButton:!1}:{canDisplayButton:!1,hideButton:!0}}},49664:(e,t,s)=>{s.d(t,{Er:()=>d,P3:()=>o,aC:()=>c,qn:()=>l});var a=s(42551),i=s(52793);const r=e=>e.ads,n=(e,t)=>t,l=(0,a.Mz)(r,(e=>{const t=e.sponsoredPlaylist.sponsoredPlaylist.get("allSponsorships");return Array.isArray(t)?t:null})),o=(0,a.Mz)(r,(e=>e.sponsoredPlaylist.previewAd)),c=(0,a.Mz)([l,n],((e,t)=>!!e&&(0,i.Z_)(e,t))),d=(0,a.Mz)([r,n],((e,t)=>{const s=e.sponsoredPlaylist.sponsoredPlaylist.get(t);if(!Array.isArray(s))return s}))},51162:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Qr});s(2557),s(54687),s(77369);var a=s(30758),i=s(62411),r=s(85387),n=s(67735),l=s(78717),o=s(65809),c=s(13599),d=s(18831),u=s(70397),m=s(55319),p=s(97232),x=s(19507),y=s(88308),h=s(73636),g=s(63304),b=s(83953);const A=e=>()=>h.adsCoreConnector.prepareNextContextSlot(g.r.preroll,{context:e});var C=s(86732),f=s(83921),R=s(86070);const T=(e,t,s)=>({event:e,app_startup_id:null,ad_playback_id:null,ad_id:String(t),lineitem_id:String(s),creative_id:String(t),ad_format:"sponsored playlist",slot:null,in_focus:null,username:null,jsondata:JSON.stringify({platform:"WebPlayer",revision:"1.0.0"})}),j=({clickTracking:e,clickThrough:t,thirdPartyImpression:s,impression:r,logoUrl:n,advertiserName:o,creativeId:c,lineItemId:d})=>{const m=(0,i.wA)(),[p,x]=(0,a.useState)(!1);return(0,a.useEffect)((()=>(m((0,f.tb)()),m((0,f.i2)(T("event_viewed",c,d))),()=>{m((0,f.zV)())})),[m,c,d]),(0,R.jsxs)("div",{className:"sponsor-container",children:[(0,R.jsx)(l.E,{variant:"marginal",className:"sponsor-text","data-ta-id":"sponsor-text",children:u.Ru.get("playlist.presented_by",o)}),(0,R.jsxs)("div",{className:"sponsor-logo",children:[(0,R.jsx)("a",{draggable:!1,className:"sponsor-logo__link",target:"_blank",href:t,onClick:()=>{m((0,f.i2)(T("event_clicked",c,d))),x(!0)},children:(0,R.jsx)("img",{draggable:!1,className:"sponsor-logo__image",src:n,alt:o,"data-ta-id":"sponsor-logo"})}),(0,R.jsx)("img",{className:"sponsor-logo__imp-pixel",src:r,alt:""}),s&&(0,R.jsx)("img",{className:"sponsor-logo__3p-imp-pixel",src:s,alt:""}),p&&(0,R.jsx)("img",{className:"sponsor-logo__click-img-pixel",src:e,alt:""})]})]})};var v=s(49664);const E=({playlistUri:e})=>{const t=(0,i.wA)(),s=(0,i.d4)(v.P3),r=(0,i.d4)((t=>(0,v.Er)(t,e))),n=(0,a.useMemo)((()=>s??r),[s,r]);return(0,a.useEffect)((()=>{n||t((0,f.uP)(e))}),[t,e,n]),n?(0,R.jsx)("div",{children:(0,R.jsx)(j,{...n})}):null},S=({playlistUri:e})=>{const t=(0,i.wA)(),s=(0,i.d4)(v.P3),r=(0,i.d4)(v.qn),n=(0,C.E)(e,r??[]),l=(0,i.d4)((t=>(0,v.aC)(t,e)));(0,a.useEffect)((()=>{r||t((0,f.uU)())}),[t,r]);return(0,a.useMemo)((()=>(Boolean(s)||l)&&!n),[s,l,n])?(0,R.jsx)(E,{playlistUri:e}):null};var k=s(72983),I=s(36195),P=s(24639),U=s(19399),L=s(67902),D=s(56321),N=s(67082),_=s(77858),w=s(63388),B=s(39463);const O=Spicetify.GraphQL.Definitions["thisisPlaylistExtension"]=new w.l("thisisPlaylistExtension","query","906c2e14927400c8a71645c647576ce032f837a112d5e6f9375b19c80445c8cf",null);var M=s(6287),$=s(46062),F=s(26391),V=s(39690);var W=s(43336),q=s(84409);var z=s(30920),H=s(21903),K=s(27498);const J=Spicetify.GraphQL.Definitions["queryInlineCurationSearchV2"]=new w.l("queryInlineCurationSearchV2","query","d2738708e23c1bb63d6fe1bed09cdb91333fdbc988352cbb9e3e47a2d517e918",null),Y=Spicetify.GraphQL.Definitions["queryInlineCurationSearchV2Booklists"]=new w.l("queryInlineCurationSearchV2Booklists","query","d2738708e23c1bb63d6fe1bed09cdb91333fdbc988352cbb9e3e47a2d517e918",null),G=Spicetify.GraphQL.Definitions["queryInlineCurationSearchAlbum"]=new w.l("queryInlineCurationSearchAlbum","query","74a97c6afa1c6c23e1d9b897756fc362ca7e5ed718ac59ba65ffa85f687f7113",null),X=Spicetify.GraphQL.Definitions["queryInlineCurationSearchArtist"]=new w.l("queryInlineCurationSearchArtist","query","657c07a8943ea6e49c61833dde16d8d51cb64e921dd80827255d6e2519621c34",null);var Q=s(19151),Z=s(97011),ee=s(2897);function te(e){return{type:Q.c.AUDIOBOOK,uri:e.uri,name:e.name,description:e.htmlDescriptionPlain??"",authorName:e.authorsV2?.map((e=>e?.name)).join(u.Ru.getSeparator())||"",authors:e.authorsV2,images:e.coverArt?.sources??[],isLocked:(0,Z.e$)(e.accessInfo),isExplicit:e.contentRatingV2?.labels.includes(ee.av.Explicit),durationMs:e.duration?.totalMilliseconds??0,topics:e.genres?.map((e=>({uri:e.destinationUri,title:e.contextualName})))||[],signifierText:e.accessInfo?.signifier?.text??"",rating:{average:e.rating?.averageRating?.average??0,showAverage:!!e.rating?.averageRating?.showAverage},sharingInfo:e.sharingInfo,publishDate:null,isOutOfMarket:!1,consumptionCapExplanation:null,uid:"",playIndex:null,addedAt:null,addedBy:null,formatListAttributes:null}}var se=s(21789),ae=s(15759),ie=s(56859),re=s(1287);function ne(e){return{type:Q.c.ALBUM,uri:e.uri,id:e.id,name:e.name,images:(0,ae.r)(e.coverArt)}}function le(e){if("Album"!==e.data.__typename)return null;return ne(e.data)}function oe(e){const t=e?.items.filter((e=>"AlbumResponseWrapper"===e.__typename));return(t??[]).map((e=>le(e))).filter(ie.P)||[]}function ce(e){if("Artist"!==e.data.__typename)return null;const t=e.data;return{type:Q.c.ARTIST,uri:t.uri,id:t.id,name:t.profile.name,images:(0,ae.r)(t.visuals.avatarImage)}}function de(e){if("Episode"!==e.data.__typename)return null;const t=e.data,s=t.podcastV2.data;return"Podcast"!==s.__typename?null:{type:Q.c.EPISODE,uri:t.uri,id:t.id,name:t.name,images:(0,ae.r)(t.coverArt),isExplicit:t.contentRating?.label===ee.x7.Explicit,is19PlusOnly:t.contentRating?.label===ee.x7.NineteenPlus,podcast:{id:s.id,uri:s.uri,name:s.name},isPlayable:t.playability.playable}}function ue(e){const t=(0,ae.r)(e.albumOfTrack?.coverArt||null);return{type:Q.c.TRACK,uri:e.uri,id:e.id,name:e.name,album:{name:e.albumOfTrack?.name||"",uri:e.albumOfTrack?.uri||"",imgUrl:t.at(0)?.url||"",id:e.albumOfTrack?.id||""},artists:e.artists.items.map((e=>({id:e.id,name:e.profile.name,uri:e.uri}))),isPlayable:e.playability.playable,isExplicit:e.contentRating?.label===ee.x7.Explicit,is19PlusOnly:e.contentRating?.label===ee.x7.NineteenPlus}}function me(e){if("Track"!==e.data.__typename)return null;return ue(e.data)}function pe(e){return(e?.itemsV2??[]).map((e=>{const t=(0,se.Jt)(e,"item");switch(t.__typename){case"AlbumResponseWrapper":return le(t);case"ArtistResponseWrapper":return ce(t);case"EpisodeResponseWrapper":return de(t);case"TrackResponseWrapper":return me(t);default:return(0,re.k)(t),null}})).filter(ie.P)||[]}function xe(e){return(e?.itemsV2??[]).map((e=>{const t=(0,se.Jt)(e,"item");return"AudiobookResponseWrapper"===t.__typename&&"Audiobook"===t.data.__typename?te(t.data):null})).filter(ie.P)||[]}const ye=async(e,t,s,a=0,i=10,r=10)=>{const n={term:t,offset:a,limit:i,numberOfTopResults:r};if(s){const s=await e(Y,n),a=s?.data?.searchV2;return a?(l=t,{albums:[],artists:[],episodes:[],tracks:[],topResults:xe(a.topResultsV2)??[],query:l}):null}var l;const o=await e(J,n),c=o?.data?.searchV2;return c?function(e,t){return{albums:oe(e.albumsV2)??[],artists:(i=e.artists,((i?.items??[]).map((e=>ce(e))).filter(ie.P)||[])??[]),episodes:(a=e.episodes,((a?.items??[]).map((e=>de(e))).filter(ie.P)||[])??[]),tracks:(s=e.tracksV2,((s?.items??[]).map((e=>me(e.item))).filter(ie.P)||[])??[]),topResults:pe(e.topResultsV2)??[],query:t};var s,a,i}(c,t):null},he=async(e,t,s=50,a=0)=>{const i={uris:[t],limit:s,offset:a},r=await e(G,i),n=r?.data?.albums;return n?function(e){const t=e.at(0);if(!t)return null;switch(t.__typename){case"Album":return{albums:[],artists:[],episodes:[],tracks:t.tracks.items.map((e=>ue(e.track)))||[],topResults:[]};case"GenericError":case"NotFound":return null;default:return(0,re.k)(t),null}}(n):null},ge=async(e,t,s=50,a=0)=>{const i={uris:[t],limit:s,offset:a},r=await e(X,i),n=r?.data?.artists;return n?function(e){const t=e.at(0);if(!t)return null;switch(t.__typename){case"Artist":return{albums:t.discography.popularReleasesAlbums.items.map((e=>ne(e)))||[],artists:[],episodes:[],tracks:t.discography.topTracks.items.map((e=>ue(e.track)))||[],topResults:[]};case"GenericError":case"NotFound":return null;default:return(0,re.k)(t),null}}(n):null};let be=function(e){return e[e.SEARCH=0]="SEARCH",e[e.ALBUM=1]="ALBUM",e[e.ARTIST=2]="ARTIST",e[e.PODCAST=3]="PODCAST",e[e.PLAYLIST=4]="PLAYLIST",e[e.ALBUMRESULTS=5]="ALBUMRESULTS",e[e.ARTISTRESULTS=6]="ARTISTRESULTS",e[e.PODCASTRESULTS=7]="PODCASTRESULTS",e[e.EPISODERESULTS=8]="EPISODERESULTS",e[e.TRACKRESULTS=9]="TRACKRESULTS",e}({});const Ae=(e,t)=>"GO_BACK"===t.type?1===e.breadcrumbs.length?e:e={...e,breadcrumbs:e.breadcrumbs.slice(0,e.breadcrumbs.length-1)}:"NAV_TO_ENTITY"===t.type?e={...e,breadcrumbs:[...e.breadcrumbs,t.level]}:("NAV_TO_RESULTS"===t.type?e={...e,breadcrumbs:[...e.breadcrumbs,t.level]}:"CHANGE_TERM"===t.type&&(e={term:t.term,breadcrumbs:[{navType:be.SEARCH,term:t.term,title:""}]}),e);var Ce=s(97500),fe=s.n(Ce),Re=s(52427),Te=s(94378);const je="playlist-inlineSearchBox-filterInputContainer",ve="playlist-inlineSearchBox-filterInput",Ee="playlist-inlineSearchBox-overlay",Se="playlist-inlineSearchBox-searchIconContainer",ke="playlist-inlineSearchBox-searchIcon",Ie="playlist-inlineSearchBox-clearButton",Pe=a.memo((function({placeholder:e,onChange:t=()=>{},onFocus:s=()=>{}}){const[i,r]=(0,a.useState)(""),n=(0,a.useRef)(null),o=(0,Re.YQ)((e=>{t(e)}),200),c=(0,a.useCallback)((e=>{const t=e.currentTarget.value;r(t),o(t)}),[r,o]),d=(0,a.useCallback)((()=>{n.current&&n.current.focus(),r(""),t("")}),[r,t]),m=(0,a.useCallback)((e=>{"Escape"===e.key&&i&&d()}),[i,d]);return(0,R.jsxs)("div",{className:je,role:"search",children:[(0,R.jsx)(l.E,{as:"input",variant:"bodySmall",ref:n,className:fe()(ve),role:"searchbox",maxLength:80,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,placeholder:e,onChange:c,onKeyDown:m,onFocus:s,value:i}),(0,R.jsxs)("div",{className:Ee,children:[(0,R.jsx)("span",{className:Se,children:(0,R.jsx)(Te.C,{size:"small",className:ke,"aria-hidden":"true"})}),i&&(0,R.jsx)("button",{className:Ie,onClick:d,"aria-label":u.Ru.get("search.a11y.clear-input"),children:(0,R.jsx)(z.M,{size:"small"})})]})]})}));var Ue=s(67315),Le=s(7519),De=s(71600),Ne=s(77486);const _e=({renderRow:e,searchResults:t})=>(0,R.jsx)(De.S4,{ariaLabel:u.Ru.get("search.title.top-results"),renderRow:e,rowPlaceholder:Le.qq,nrTracks:t.length,tracks:t,resolveItem:e=>({uri:e.uri}),columns:[Ne.$C.TITLE_AND_ARTIST,Ne.$C.ALBUM,Ne.$C.ADD]});var we=s(12523);const Be=({renderRow:e,searchResults:t})=>{const s=t.filter((e=>e.type===Q.c.TRACK)),a=t.filter((e=>e.type===Q.c.ALBUM));return(0,R.jsxs)("div",{children:[(0,R.jsx)(l.E,{as:"p",variant:"bodyMediumBold",className:we.A.artistResultListTitle,children:u.Ru.get("playlist.curation.popular_songs")}),(0,R.jsx)(De.S4,{ariaLabel:u.Ru.get("playlist.curation.popular_songs"),renderRow:e,rowPlaceholder:Le.qq,nrTracks:s.length,tracks:s,resolveItem:e=>({uri:e.uri}),columns:[Ne.$C.TITLE_AND_ARTIST,Ne.$C.ALBUM,Ne.$C.ADD]}),(0,R.jsx)(l.E,{as:"p",variant:"bodyMediumBold",className:we.A.artistResultListTitle,children:u.Ru.get("playlist.curation.albums")}),(0,R.jsx)(De.S4,{ariaLabel:u.Ru.get("playlist.curation.albums"),renderRow:e,rowPlaceholder:Le.qq,nrTracks:a.length,tracks:a,resolveItem:e=>({uri:e.uri}),columns:[Ne.$C.TITLE_AND_ARTIST,Ne.$C.ALBUM,Ne.$C.ADD]})]})},Oe=({renderRow:e,searchResults:t,renderSeeAllRow:s,seeAllXList:a})=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(De.S4,{ariaLabel:u.Ru.get("search.title.top-results"),renderRow:e,rowPlaceholder:Le.qq,nrTracks:t.length,tracks:t,resolveItem:e=>({uri:e.uri}),columns:[Ne.$C.TITLE_AND_ARTIST,Ne.$C.ALBUM,Ne.$C.ADD],testID:"playlist-inline-curation-loaded-results"}),(0,R.jsx)(De.S4,{ariaLabel:u.Ru.get("search.title.all"),renderRow:s,rowPlaceholder:Le.qq,nrTracks:a.length,tracks:a,resolveItem:e=>({uri:e.uri}),columns:[Ne.$C.TITLE_AND_ARTIST,Ne.$C.ALBUM,Ne.$C.ADD],testID:"playlist-inline-curation-see-all-options"})]}),Me=({renderRow:e,searchResults:t})=>(0,R.jsx)(De.S4,{ariaLabel:u.Ru.get("search.title.top-results"),renderRow:e,rowPlaceholder:Le.qq,nrTracks:t.length,tracks:t,resolveItem:e=>({uri:e.uri}),columns:[Ne.$C.TITLE_AND_ARTIST,Ne.$C.ALBUM,Ne.$C.ADD]}),$e=({renderRow:e,searchResults:t})=>(0,R.jsx)(De.S4,{ariaLabel:u.Ru.get("search.title.top-results"),renderRow:e,rowPlaceholder:Le.qq,nrTracks:t.length,tracks:t,resolveItem:e=>({uri:e.uri}),columns:[Ne.$C.TITLE_AND_ARTIST,Ne.$C.ALBUM,Ne.$C.ADD]}),Fe=({renderRow:e,searchResults:t})=>(0,R.jsx)(De.S4,{ariaLabel:u.Ru.get("search.title.top-results"),renderRow:e,rowPlaceholder:Le.qq,nrTracks:t.length,tracks:t,resolveItem:e=>({uri:e.uri}),columns:[Ne.$C.TITLE_AND_ARTIST,Ne.$C.ALBUM,Ne.$C.ADD]});var Ve=s(22865),We=s(39653);const qe="G2t3w2AAeb5OXp0_GeWs",ze="saVjTFMyWYUz975_tkQm",He="thi8fNCkEhutRkDC90c0",Ke="pHVlkChuJpEnBQyU3ADv",Je="ENWs3JxcqtD98_8fbPz2",Ye="L8IUKEJL6JiTyE_qUVCc",Ge="XcyjdXgsNX0DBt72tfiD",Xe="VhJnuS7UcUPfIlzD8dlU",Qe="He29vQ5anFj_bJ5iEaI2",Ze=({searchResult:e,index:t,isRTL:s,onClick:a})=>{const i=e.images.at(0)?.url;return(0,R.jsx)(We.$,{className:Je,rowIndex:t,"aria-selected":!1,children:(0,R.jsxs)("div",{"aria-label":`${u.Ru.get("artist-page.tracks.seemore")} ${e.name}`,className:Qe,onClick:a,children:[(0,R.jsxs)(Ve.T,{columnIndex:0,className:Ye,children:[void 0!==i?(0,R.jsx)("img",{className:He,src:i,alt:e.name}):null,(0,R.jsxs)("div",{className:Ge,children:[(0,R.jsx)(l.E,{as:"p",className:Ke,variant:"bodyMedium",children:e.name}),(0,R.jsx)(l.E,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",children:u.Ru.get("album")})]})]}),(0,R.jsx)(Ve.T,{columnIndex:1}),(0,R.jsx)(Ve.T,{columnIndex:2,children:(0,R.jsx)("button",{"data-testid":"top-bar-forward-button","aria-label":`See more from ${e.name}`,className:Xe,onClick:a,children:s?(0,R.jsx)(K.g,{}):(0,R.jsx)(H.V,{})})})]})})};var et=s(76855);const tt=({size:e})=>(0,R.jsx)("div",{className:ze,children:(0,R.jsx)(et.r,{size:e})}),st=({searchResult:e,index:t,isRTL:s,onClick:a})=>{const i=e.images.at(0)?.url;return(0,R.jsx)(We.$,{className:Je,rowIndex:t,"aria-selected":!1,children:(0,R.jsxs)("div",{"aria-label":`${u.Ru.get("artist-page.tracks.seemore")} ${e.name}`,className:Qe,onClick:a,"data-testid":"playlist-inline-curation-artist",children:[(0,R.jsxs)(Ve.T,{columnIndex:0,className:Ye,children:[void 0!==i?(0,R.jsx)("img",{className:qe,src:i,alt:e.name}):(0,R.jsx)(tt,{size:"small"}),(0,R.jsxs)("div",{className:Ge,children:[(0,R.jsx)(l.E,{as:"p",className:Ke,variant:"bodyMedium",children:e.name}),(0,R.jsx)(l.E,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",children:u.Ru.get("artist")})]})]}),(0,R.jsx)(Ve.T,{columnIndex:1}),(0,R.jsx)(Ve.T,{columnIndex:2,children:(0,R.jsx)("button",{"data-testid":"top-bar-forward-button","aria-label":`See more from ${e.name}`,className:Xe,onClick:a,children:s?(0,R.jsx)(K.g,{}):(0,R.jsx)(H.V,{})})})]})})};var at=s(62960),it=s(35054),rt=s(76020),nt=s(29611),lt=s(76999),ot=s(15623),ct=s(80797),dt=s(58955),ut=s(2835),mt=s(27403),pt=s(28521),xt=s(42200),yt=s(88705),ht=s(99893),gt=s(84049),bt=s(94545),At=s(10070),Ct=s(83075),ft=s(85370),Rt=s(40795);const Tt=a.memo((function({uid:e,uri:t,isPlayable:s,isMOGEFRestricted:i,isExplicit:r,contextUri:n,name:l,imgUrl:o,index:c,podcast:d,usePlayContextItem:m}){const p=(0,a.useMemo)((()=>n.replace("internal:recs:","")),[n]),{addItems:x}=(0,Ct.x)(p),{isActive:y,isPlaying:h,triggerPlay:g,togglePlay:b}=m({uid:e,uri:t,index:c}),A=(0,a.useCallback)((()=>{x([t],{after:"end"})}),[x,t]),C=(0,At.T)(t),{isPlayable:f,isAnyArtistBanned:T}=(0,yt.g)(t,{isPlayable:s}),{badges:j,hasBadges:v}=(0,ft.b)({downloadAvailability:C,isExplicit:r,isMOGEFRestricted:i});return(0,R.jsx)(it.h,{menu:(0,R.jsx)(rt.b,{uri:t,contextUri:n}),children:(0,R.jsxs)(xt.w,{uri:t,contextUri:t,isPlayable:f,isAnyArtistBanned:T,onTriggerPlay:()=>{g()},isActive:y,ageRestricted:i,index:c,ariaRowIndex:c,dragMetadata:{name:l,createdBy:d.name},isExplicit:r,children:[(0,R.jsxs)(ut.U,{ariaColIndex:0,children:[(0,R.jsx)(ot.u,{uri:t,src:o,onClick:()=>{b()},isLocked:!1,isPlaying:h,isActive:y,isEpisode:!0,playAriaLabel:u.Ru.get("tracklist.a11y.play",l,d.name)}),(0,R.jsxs)(ct.l,{children:[(0,R.jsx)(pt.p,{titleText:l,children:l}),v&&(0,R.jsxs)(lt.P,{children:[j.download&&(0,R.jsx)(gt._,{}),j.explicit&&(0,R.jsx)(ht.U,{}),j.nineteen&&(0,R.jsx)(bt.q,{className:Rt.A.nineteen,size:16})]})]})]}),(0,R.jsx)(mt.o,{ariaColIndex:1,children:(0,R.jsx)(nt.g,{uri:d.uri,name:d.name,children:d.name})}),(0,R.jsx)(dt.l,{ariaColIndex:2,children:(0,R.jsx)(at.n,{size:"small",onClick:A,children:u.Ru.get("playlist.extender.button.add")})})]})})}),((e,t)=>e.uid===t.uid&&e.uri===t.uri&&e.index===t.index)),jt=({episode:e,contextUri:t,index:s,usePlayContextItem:a})=>(0,R.jsx)(Tt,{uid:e.id,uri:e.uri,isPlayable:e.isPlayable,isMOGEFRestricted:e.is19PlusOnly,isExplicit:e.isExplicit,contextUri:t,name:e.name,imgUrl:e.images.at(0)?.url??"",index:s,podcast:e.podcast,usePlayContextItem:a}),vt=({label:e,index:t,isRTL:s,onClick:a})=>(0,R.jsx)(We.$,{className:Je,rowIndex:t,"aria-selected":!1,children:(0,R.jsxs)("div",{"aria-label":e,className:Qe,onClick:a,children:[(0,R.jsx)(Ve.T,{columnIndex:0,className:Ye,children:(0,R.jsx)(l.E,{as:"p",className:Ke,variant:"bodyMedium",children:e})}),(0,R.jsx)(Ve.T,{columnIndex:1}),(0,R.jsx)(Ve.T,{columnIndex:2,children:(0,R.jsx)("button",{"data-testid":"top-bar-forward-button","aria-label":e,className:Xe,onClick:a,children:s?(0,R.jsx)(K.g,{}):(0,R.jsx)(H.V,{})})})]})});var Et=s(22730),St=s(53169),kt=s(96579),It=s(68229),Pt=s(60331),Ut=s(42511),Lt=s(97935),Dt=s(43159),Nt=s(8312),_t=s(12912),wt=s(9735);const Bt=a.memo((function({uid:e,uri:t,name:s,imgUrl:i,artists:r,isExplicit:n,index:l,album:o,contextUri:c,isPlayable:d,isMOGEFRestricted:m,usePlayContextItem:p,durationMs:x,shouldRenderDuration:y,internalLink:h}){const{spec:g,logger:b}=(0,wt.D)(Et.i,{data:{position:l,reason:"",uri:t}}),A=(0,a.useMemo)((()=>c.replace("internal:recs:","")),[c]),{addItems:C}=(0,Ct.x)(A),{isActive:f,isPlaying:T,triggerPlay:j,togglePlay:v}=p({uid:e,uri:t,index:l}),E=(0,a.useCallback)((()=>{b.logInteraction(g.addButtonFactory().hitAddToPlaylist({playlist:A,itemToBeAdded:t})),C([t],{after:"end"})}),[b,g,A,t,C]),S=(0,At.T)(t),{isPlayable:k,isAnyArtistBanned:I}=(0,yt.g)(t,{isPlayable:d,isLocal:!1,isOutOfMarket:!1,artistUris:r?.map((e=>e.uri))}),{unBanArtists:P}=(0,Nt.M)(r.map((e=>e.uri))),U=r.map((e=>e.name)).join(u.Ru.getSeparator()),{badges:L,hasBadges:D}=(0,ft.b)({downloadAvailability:S,isExplicit:n,isMOGEFRestricted:m}),N=y&&x,_=r.map((e=>e.name)).join(u.Ru.getSeparator()),{isWeb:w}=(0,_t.V)();return(0,R.jsx)(it.h,{menu:(0,R.jsx)(St.P,{uri:t,albumUri:o.uri,artists:r,contextUri:c}),children:(0,R.jsxs)(xt.w,{uri:t,contextUri:c,isPlayable:k,isAnyArtistBanned:I,handleArtistBanUndoClick:P,onTriggerPlay:(e,t)=>{j({loggingParams:t})},isActive:f,ageRestricted:m,index:l,ariaRowIndex:l,dragMetadata:{name:s,createdBy:U},spec:g,className:Rt.A.isRecommendedTrackListRow,isExplicit:n,children:[(0,R.jsxs)(ut.U,{ariaColIndex:0,children:[(0,R.jsx)(ot.u,{uri:t,src:i,onClick:(e,t)=>{v({loggingParams:t})},isLocked:!1,isPlaying:T,isActive:f,playAriaLabel:u.Ru.get("tracklist.a11y.play",s,U),spec:g}),(0,R.jsxs)(ct.l,{children:[h&&w?(0,R.jsx)(kt.N,{to:t,className:Rt.A.rowTitle,"data-testid":"internal-track-link",children:(0,R.jsx)(pt.p,{titleText:s,children:s})}):(0,R.jsx)(pt.p,{titleText:s,children:s}),D&&(0,R.jsxs)(lt.P,{children:[L.explicit&&(0,R.jsx)(ht.U,{}),L.download&&(0,R.jsx)(gt._,{}),L.nineteen&&(0,R.jsx)(bt.q,{className:Rt.A.nineteen,size:16})]}),(0,R.jsx)(Lt.p,{children:(0,R.jsx)(It.l,{artists:r,spec:g})})]})]}),(0,R.jsx)(mt.o,{ariaColIndex:1,children:(0,R.jsx)(nt.g,{uri:o.uri,name:o.name,creatorUri:r?.[0]?.uri,spec:g,children:o.name})}),(0,R.jsx)(mt.o,{ariaColIndex:2,children:(0,R.jsx)("span",{})}),(0,R.jsxs)(dt.l,{ariaColIndex:3,children:[N?(0,R.jsx)(Dt.d,{uri:t}):null,N?(0,R.jsx)(Pt.P,{duration:x,dataTestId:"render-duration"}):(0,R.jsx)(at.n,{size:"small",onClick:E,"aria-label":u.Ru.get("addToPlaylist-icon.label"),"data-testid":"add-to-playlist-button",children:u.Ru.get("playlist.extender.button.add")}),N?(0,R.jsx)(Ut.Y,{menu:(0,R.jsx)(St.P,{uri:t,albumUri:o.uri,contextUri:c,artists:r}),label:u.Ru.get("more.label.track",s,_)}):null]})]})})}),((e,t)=>e.uid===t.uid&&e.uri===t.uri&&e.index===t.index)),Ot=({track:e,contextUri:t,index:s,usePlayContextItem:a})=>(0,R.jsx)(Bt,{uid:e.id,uri:e.uri,isPlayable:e.isPlayable,isMOGEFRestricted:e.is19PlusOnly,isExplicit:e.isExplicit,contextUri:t,name:e.name,imgUrl:e.album.imgUrl,index:s,album:e.album,artists:e.artists,usePlayContextItem:a});var Mt=s(28054),$t=s(72432);const Ft=({resultList:e,level:t,isRTL:s,playlistUri:i,navToResults:r,navToEntity:n,term:o,isBooklist:c})=>{let m=e;const p=(e=>e.map((e=>{if(e.type===Q.c.TRACK||e.type===Q.c.EPISODE){const{uri:t,id:s}=e;return{type:(0,d.U_m)(t)?Q.c.TRACK:Q.c.EPISODE,uri:t,uid:s,provider:null}}return null})).filter(ie.P))(e),{draggable:x,onDragStart:y}=(0,Mt.P)(),{addItems:h}=(0,Ct.x)(i),g=(0,a.useCallback)((e=>{h([e],{after:"end"})}),[h]),{usePlayContextItem:b}=(0,$t.P)({uri:`${i.replace("spotify:","spotify:internal:recs:")}:${encodeURIComponent(o)}:${t?.navType??0}`,pages:[{items:p}]},{featureIdentifier:"search"}),A=(0,a.useCallback)(((e,t)=>(0,R.jsx)(vt,{isRTL:s,index:t,label:e.label,onClick:()=>{r({navType:e.type,term:o,title:e.label})}},e.uri)),[s,r,o]),C=(0,a.useCallback)(((e,t)=>e.type===Q.c.ARTIST?(0,R.jsx)(st,{isRTL:s,index:t,searchResult:e,onClick:()=>{n({navType:be.ARTIST,uri:e.uri,title:e.name})}},e.uri):e.type===Q.c.EPISODE?(0,R.jsx)(jt,{index:t,episode:e,contextUri:i.replace("spotify:","spotify:internal:recs:"),usePlayContextItem:b},e.uri):e.type===Q.c.TRACK?(0,R.jsx)(Ot,{index:t,track:e,contextUri:i.replace("spotify:","spotify:internal:recs:"),usePlayContextItem:b},e.uri):e.type===Q.c.ALBUM?(0,R.jsx)(Ze,{index:t,isRTL:s,searchResult:e,onClick:()=>{n({navType:be.ALBUM,uri:e.uri,title:e.name})}},e.uri):(0,R.jsx)(Ue.H,{book:e,index:t,featureIdentifier:"playlist_recommendations",contextUri:i,isRecommendation:!0,onAddClick:g,showSeparator:0!==t},e.uri)),[s,n,g,i,b]);if(""===o)return(0,R.jsx)("div",{className:we.A.emptySearchTermContainer});if(!e||0===e?.length)return(0,R.jsxs)("div",{className:we.A.emptyStateContainer,children:[(0,R.jsx)(l.E,{as:"h1",variant:"titleSmall",children:u.Ru.get("search.empty-results-title",o)}),(0,R.jsx)(l.E,{as:"p",variant:"bodySmall",children:u.Ru.get("search.empty-results-text")})]});if(t?.navType===be.SEARCH){const t=[{type:be.ARTISTRESULTS,label:u.Ru.get("playlist.curation.see_all_artists"),uri:"spotify:internal:recs:see-all-artists"},{type:be.ALBUMRESULTS,label:u.Ru.get("playlist.curation.see_all_album"),uri:"spotify:internal:recs:see-all-albums"},{type:be.TRACKRESULTS,label:u.Ru.get("playlist.curation.see_all_songs"),uri:"spotify:internal:recs:see-all-songs"}];return m=e,c?(0,R.jsx)(R.Fragment,{children:m.map(((e,t)=>e&&e.type===Q.c.AUDIOBOOK?(0,R.jsx)(Ue.H,{contextUri:i,index:t,featureIdentifier:"playlist_recommendations",book:e,isRecommendation:!0,onAddClick:g,draggable:x,onDragStart:t=>{y(t,{itemUris:[e.uri],itemMimeTypes:[k.fl.AUDIOBOOKS],dragLabelText:e.name})},showSeparator:0!==t},t):null))}):(0,R.jsx)(Oe,{renderRow:C,searchResults:m,renderSeeAllRow:A,seeAllXList:t})}return t?.navType===be.ALBUM?(0,R.jsx)(_e,{renderRow:C,searchResults:m}):t?.navType===be.ARTIST?(0,R.jsx)(Be,{renderRow:C,searchResults:m}):t?.navType===be.ALBUMRESULTS?(0,R.jsx)(Me,{renderRow:C,searchResults:m}):t?.navType===be.TRACKRESULTS?(0,R.jsx)(Fe,{renderRow:C,searchResults:m}):t?.navType===be.ARTISTRESULTS?(0,R.jsx)($e,{renderRow:C,searchResults:m}):null};var Vt=s(14006),Wt=s(254);const qt=({playlistUri:e,hideInlineCuration:t,isBooklist:s})=>{const[i,r]=(0,a.useState)([]),[n,o]=(0,a.useState)(),c=(0,Vt.W)(),{level:d,changeTerm:m,goBack:p,navToEntity:x,navToResults:y,term:h}=(()=>{const[e,t]=(0,a.useReducer)(Ae,{term:"",breadcrumbs:[]}),{breadcrumbs:s,term:i}=e;return{changeTerm:e=>{t({type:"CHANGE_TERM",term:e})},level:s[s.length-1]||null,goBack:()=>{t({type:"GO_BACK"})},navToEntity:e=>{t({type:"NAV_TO_ENTITY",level:e})},navToResults:e=>{t({type:"NAV_TO_RESULTS",level:e})},term:i}})(),{request:g}=(0,a.useContext)(Wt.j),{spec:b,logger:A,UBIFragment:C}=(0,q.r)(W.e,{}),f=(0,a.useCallback)((e=>{m(e),e?A.logInteraction(b.searchBarFactory().keyStrokeFilter()):A.logInteraction(b.searchBarFactory().hitClearFilter())}),[m,A,b]);return(0,a.useEffect)((()=>{let e=!0;return(async()=>{if(d)switch(d.navType){case be.SEARCH:try{if(!n||n.query!==h&&""!==h){const t=await ye(g,h,s);e&&o(t)}else""===h&&r([])}catch{r([])}n&&r(n.topResults);break;case be.ARTISTRESULTS:n&&r(n?.artists);break;case be.ALBUMRESULTS:n&&r(n?.albums);break;case be.TRACKRESULTS:n&&r(n?.tracks);break;case be.EPISODERESULTS:n&&r(n?.episodes);break;case be.ALBUM:try{const t=await he(g,d.uri,100,0);e&&t&&r(t.tracks)}catch{r([])}break;case be.ARTIST:try{const t=await ge(g,d.uri,100,0);e&&t&&r([...t.albums,...t.tracks])}catch{r([])}}})(),()=>{e=!1}}),[d,h,n,g,s]),(0,R.jsxs)(C,{spec:b,children:[(0,R.jsxs)("section",{className:we.A.playlistInlineCurationSection,children:[(0,R.jsxs)("div",{className:we.A.playlistInlineCurationWrapper,children:[(0,R.jsx)(l.E,{as:"h2",className:we.A.playlistInlineCurationTitle,variant:"titleSmall",children:u.Ru.get("playlist.curation.title")}),(0,R.jsx)(a.Suspense,{fallback:null,children:(0,R.jsx)(Pe,{placeholder:s?u.Ru.get("playlist.curation.search_placeholder-booklists"):u.Ru.get("playlist.curation.search_placeholder"),onChange:f})})]}),(0,R.jsx)("button",{className:we.A.playlistInlineCurationCloseButton,onClick:t,children:(0,R.jsx)(z.M,{"aria-label":u.Ru.get("close")})})]}),null!==d&&d.navType!==be.SEARCH?(0,R.jsxs)("button",{className:we.A.playlistInlineCurationBackButton,onClick:()=>p(),children:[c?(0,R.jsx)(H.V,{"aria-label":u.Ru.get("navbar.go-back"),className:we.A.icon}):(0,R.jsx)(K.g,{"aria-label":u.Ru.get("navbar.go-back"),className:we.A.icon}),(0,R.jsx)(l.E,{as:"p",variant:"bodyMediumBold",children:d.title})]}):null,(0,R.jsx)("div",{className:we.A.searchResultListContainer,"data-testid":"playlist-inline-curation-results",children:(0,R.jsx)(Ft,{playlistUri:e,term:h,level:d,resultList:i,navToEntity:x,navToResults:y,isRTL:c,isBooklist:s})})]})};var zt=s(70748),Ht=s(48410),Kt=s(35511),Jt=s(28432),Yt=s(26484);const Gt=(0,a.createContext)({getReference:()=>null,setReference:()=>{}}),Xt=({children:e})=>{const t=(0,a.useRef)(null),s=(0,a.useCallback)((()=>t.current),[]),i=(0,a.useCallback)((e=>{t.current=e}),[]),r=(0,a.useMemo)((()=>({getReference:s,setReference:i})),[s,i]);return(0,R.jsx)(Gt.Provider,{value:r,children:e})};var Qt=s(67358);const Zt=(e,t,s)=>{const{name:r,uri:n,uid:l}=e,{sortState:o}=(0,a.useContext)(N.cL),c=o.order!==Ne.Ht.NONE,{draggable:d,onDragStart:u}=(0,Mt.P)({itemIds:[l],itemUris:[n],itemMimeTypes:[k.fl.AUDIOBOOKS],dragLabelText:r,contextUri:t}),{setReference:p,getReference:x}=(0,a.useContext)(Gt),y=(0,a.useCallback)((e=>{p({uri:n,uid:l}),u(e)}),[u,p,l,n]),h=(0,i.wA)(),g=(0,Qt.m)(),b=(0,a.useCallback)(((e,s)=>{const a=e[k.fl.AUDIOBOOKS];if(!a)return;const i=x();i?s===I.Nz.BEFORE?g.move(t,[i],{before:{uri:n,uid:l}}):g.move(t,[i],{after:{uri:n,uid:l}}):s===I.Nz.BEFORE?h((0,m.io)(t,a,{before:{uri:n,uid:l}})):h((0,m.io)(t,a,{after:{uri:n,uid:l}})),p(null)}),[t,h,x,g,p,l,n]),A=s&&!c?[k.fl.AUDIOBOOKS]:[];return{...(0,P.A)({uri:n,id:l,allowedMimeTypesByDropPosition:{[I.Nz.BEFORE]:A,[I.Nz.AFTER]:A},onDrop:b}),onDragStart:y,draggable:d}},es="bg5inM_sdkHpYWiFf7Id",ts="DyW2LAm9YDcCkcdM0eeP",ss=()=>(0,R.jsx)("div",{className:ts}),as=(0,a.memo)((function({item:e,contextUri:t,canEdit:s=!1,canRemove:a=!1,index:i,highlightText:r}){const{className:n,dropPosition:l,draggable:o,...c}=Zt(e,t,s);return(0,R.jsxs)(Yt.W,{className:n,"aria-posinset":i,reRunOnDOMUpdate:!0,children:[l===I.Nz.BEFORE&&(0,R.jsx)(ss,{}),(0,R.jsx)(Ue.H,{book:e,contextUri:t,index:i,featureIdentifier:"playlist",sharingInfo:e.sharingInfo,uid:e.uid,rating:e.rating,canRemove:a,className:n,draggable:o,showSeparator:0!==i,highlightText:r,...c}),l===I.Nz.AFTER&&(0,R.jsx)(ss,{})]})}));var is=s(53091);const rs=({contextUri:e,canEdit:t,canRemove:s,ariaLabel:i})=>{const{filter:r}=(0,a.useContext)(Kt.g),n=(0,a.useCallback)(((e,t)=>t===zt.u.TITLE||t===zt.u.SUBTITLE?(0,R.jsx)(Ht.M,{searchWords:[r],textToHighlight:e}):e),[r]),l=(0,a.useCallback)(((a,i)=>(0,is.pW)(a)?(0,R.jsx)(as,{contextUri:e,item:a,canEdit:t,canRemove:s,index:i,highlightText:n},a.uri):null),[t,s,e,n]);return(0,R.jsx)("div",{className:es,children:(0,R.jsx)(Xt,{children:(0,R.jsx)(Jt.M,{renderItem:l,columnCount:6,ariaLabel:i})})})};var ns=s(70796),ls=s(79898),os=s(35394),cs=s(59161),ds=s(92713);const us="Q36RQHBLv4CTpqvIsEly",ms=({uri:e})=>{const[t,s]=function(e){const[t,s]=(0,ds.x)("daylist-snapshot-dismissed-link-back-uris",[]),a=t.includes(e),i=()=>{s([...t,e])};return[a,i]}(e);return t?null:(0,R.jsx)(ns.v,{id:"daylist-snapshot-link-back-banner",variant:"tinted",className:us,title:(0,R.jsxs)(ls.d,{children:[(0,R.jsx)(l.E,{variant:"bodySmall",children:u.Ru.get("web-player.playlist.daylist.link-back-banner.title")})," ",(0,R.jsx)(kt.N,{to:"spotify:playlist:37i9dQZF1EP6YuccBxUcC1",children:(0,R.jsx)(l.E,{variant:"bodySmallBold",children:u.Ru.get("web-player.playlist.daylist.link-back-banner.link-text")})})]}),trailing:(0,R.jsx)(os.H,{iconOnly:z.M,size:"small",onClick:s})})},ps=({uri:e,formatListAttributes:t})=>(0,o.NC)(cs.bph,{loadingValue:!1})&&"true"===t?.["daylist-eligible"]?(0,R.jsx)(ms,{uri:e,formatListAttributes:t}):null;var xs=s(8335),ys=s(95685),hs=s(82092),gs=s(55827),bs=s(2715);function As(e,t){return e.build().withHost(gs.QU).withPath("/views/recommendations-in-free-tier-playlist-source").withQueryParameters({signal:`playlistURI:${t}`,limit:"10"}).withEndpointIdentifier("/views/{viewId}").send()}var Cs=s(5544);var fs=s(86247);const Rs="BagEpNps_J8R2QuHRZMa",Ts="mbuOeSEBZed4fc2naMS6",js="bjB8WZd0Ev30ZFbiScDm",vs=(0,a.memo)((({uri:e})=>{const t=(0,fs.SF)(),{ref:s,inView:i}=(0,xs.Wx)({initialInView:!1,rootMargin:"128px 100%",root:t.current}),r=function(e,t){const{data:s}=(0,bs.Z)(As,[e],{enabled:t,staleTime:36e5,gcTime:72e5});return s?.body?.content?.items}(e,i),n=(0,a.useRef)(null),l=function(e){const[t,s]=(0,ds.x)("mlt-height",300),i=(0,a.useCallback)((()=>{const t=e.current?.getBoundingClientRect()?.height;t&&s(t)}),[e,s]);return(0,Cs.w)({refOrElement:e,observeOnly:"height",onResize:i,observeOnMount:!0}),t}(n);return 0===r?.length?null:(0,R.jsx)("div",{className:Rs,style:{"--last-height":`${l}px`},ref:s,children:(0,R.jsx)("div",{className:Ts,children:r&&(0,R.jsx)(hs.p,{id:"0JQ5DAob0LgAOAm50K90Od",index:0,title:u.Ru.get("web-player.playlist.more-like-this.section-header-title"),total:r.length,elementRef:n,className:js,children:r.map(((e,t)=>(0,R.jsx)(ys.B,{index:t,uri:e.uri,name:e.name,authorName:e.owner?.display_name??null,description:null,images:e.images},e.uri)))})})})}));var Es=s(87926),Ss=s(8616),ks=s(8594),Is=s(38042),Ps=s(34843),Us=s(89145),Ls=s(33799),Ds=s(65720),Ns=s(41672),_s=s(33923),ws=s(13352),Bs=s(83408),Os=s(53038),Ms=s(98268),$s=s(83249),Fs=s(32304),Vs=s(29553),Ws=s(24792),qs=s(54721),zs=function(e){return e.xs="small",e.sm="medium",e.md="large",e}(zs||{});const Hs=({uri:e,label:t,onClick:s,size:i=zs.md})=>{const{onCopyLink:r}=(0,qs.J)({uri:e,permissionLevel:"CONTRIBUTOR"}),n=(0,a.useCallback)((e=>{s?.(e),r?.()}),[s,r]);return(0,R.jsx)(Ws.Zp,{label:t,children:(0,R.jsx)(os.H,{onClick:n,iconOnly:Vs.h,size:i,"aria-hidden":"true","aria-label":t,condensed:!0})})};var Ks=s(30831),Js=s(5678);const Ys="Tbs2Kc8pB2zvGYZjY_BC",Gs="dw-display",Xs="genre.displayName.",Qs="dw-session-control-reset",Zs="session_control.selected_signals",ea=({uri:e,formatListAttributes:t,availableSignals:s})=>{const i=(0,Qt.m)(),[r,n]=(0,a.useState)((()=>sa(t?.[Zs]))),l=(0,a.useMemo)((()=>function(e,t,s){return e?.filter((({name:e})=>e.startsWith(Gs))).map((({name:e})=>({name:e,displayName:t?.[`${Xs}${e.split("$").at(-1)}`]??e,isSelected:s?.has(e)??!1})))??null}(s,t,r)),[s,t,r]),o=t?.[Zs];if((0,a.useEffect)((()=>{n(sa(o))}),[o]),!l?.length)return null;const c=l.filter((({isSelected:e})=>e)).map((({name:e,displayName:t})=>({id:e,getName:()=>t,ubiId:e}))),d=c.length?[]:l.map((({name:e,displayName:t})=>({id:e,getName:()=>t,ubiId:e})));return(0,R.jsx)(ks.S,{children:(0,R.jsx)(Js.s,{scrollContentClassName:Ys,availableFilters:d,selectedFilters:c,toggleFilterId:()=>{},resetFilterIds:async()=>{n(new Set),await i.sendSignal(e,Qs)},onFilterClick:async(t,s)=>{if(!t)return;const a=new Set(s?[]:[t]);n(a),await i.sendSignal(e,s?Qs:t)},ariaLabel:(0,Ks.v)("Filters"),clearBtnAriaLabel:(0,Ks.v)("Clear filters"),applyLightThemeControls:!0})})},ta=e=>(0,o.NC)(cs.MFf)?(0,R.jsx)(ea,{...e}):null;function sa(e){return new Set(e?[e]:[])}var aa=s(94061),ia=s(33361),ra=s(73098);const na=()=>null;var la=s(76416),oa=s(38111),ca=s(54596),da=s(45786),ua=s(84825),ma=s(19906),pa=s(23291),xa=s(68293);const ya=a.memo((function({playlist:e,capabilities:t,spec:s,isPlaying:i,isActive:r,togglePlay:n,isBooklist:l,isConcert:o=!1,backgroundColor:c,tracklistDomRef:d,sortableColumns:m,className:p,watchFeedEntityEntryPoint:x,formatListAttributes:y,availableSignals:h,isVideoFirst:g}){const{metadata:{uri:b,name:A,unfilteredTotalLength:C,isOwnedBySelf:f,isRootlistable:T,canPlay:j,isPublished:v,totalLength:E,formatListData:S}}=e,k=(0,da.n)(),I=(0,xa.s)(),P=(0,a.useMemo)((()=>s.shuffleButtonContainerFactory()),[s]),U=t.canFilter&&C>0,L=t.canSort&&C>0,D=C>0,N=(0,ia.X)(),_=(0,la.x)(),w=(0,ra.m)({formatListData:S}),[B,O]=(0,ma.A)(b),M=(0,a.useCallback)((async()=>{try{await O(!B)}catch{}}),[B,O]),$=(0,a.useCallback)((()=>{const e=s.shareButtonFactory().hitShare({entityToBeShared:b,shareId:""});I.logInteraction(e)}),[s,I,b]),F=(0,Ms.d$)(),{spec:V,logger:W}=(0,q.r)(Es.e,{data:{uri:b}});(0,a.useEffect)((()=>{F&&W.logImpression(V.impression())}),[F,W,V]);const z=(0,a.useCallback)((()=>{let e;const t=s.heartButtonFactory();B?e=t.hitUnfollow({itemToBeUnfollowed:b}):(e=t.hitFollow({itemToBeFollowed:b}),F&&W.logInteraction(V.hitFollow({itemToBeFollowed:b}))),I.logInteraction(e),M()}),[s,M,B,I,b,F,W,V]),H=(0,ca.j)(),K=U&&L;return(0,R.jsxs)(Ss.E,{backgroundColor:c,className:p,children:[(0,R.jsxs)(ks.S,{children:[j&&!l?(0,R.jsx)(Bs.D,{onClick:n,isPlaying:i,size:H,uri:b,ariaPlayLabel:u.Ru.get("playlist.a11y.play",A),ariaPauseLabel:u.Ru.get("playlist.a11y.pause",A)}):null,x&&(0,R.jsx)(pa.r,{spec:s,children:(0,R.jsx)(oa.H,{entryPoint:x,watchFeedTitle:A,type:Q.c.PLAYLIST,entityUri:b})}),N&&E>0&&!l&&(0,R.jsx)(pa.r,{spec:P,children:(0,R.jsx)(aa.Y,{entityName:A,contextUri:b,isActive:r,size:H})}),!f&&T?(0,R.jsx)(_s.e,{children:(0,R.jsx)(Is.M,{isAdded:B,onClick:z,size:H,condensed:!0})}):null,D&&!l&&!g&&(0,R.jsx)(Ps.f,{uri:b,isFollowing:B,canDownload:D,onClick:(e,t)=>(0,ua.Qv)(t,s.downloadButtonFactory(),I,b),onFollow:M,size:H,condensed:!0}),e.metadata.permissions?.canAdministratePermissions&&k&&(0,R.jsx)(Hs,{onClick:$,label:u.Ru.get("permissions.invite-collaborators",A),uri:b,size:H}),(o||l)&&(0,R.jsx)(Ls.w,{uri:b,sharingInfo:null,onClick:$,size:H,ariaLabel:u.Ru.get("contextmenu.share.copy-playlist-link")}),_&&(0,R.jsx)(a.Suspense,{fallback:null,children:(0,R.jsx)(na,{playlistMetadata:e.metadata})}),false,(0,R.jsx)(Ds.b,{onShow:()=>(0,ua.R2)(s,I),menu:(0,R.jsx)(Ns.W,{uri:b,isPublished:v}),children:(0,R.jsx)(Us.e,{label:u.Ru.get("more.label.context",A),size:H})}),K?(0,R.jsx)(pa.r,{spec:s,children:(0,R.jsx)($s.d,{filterPlaceholder:u.Ru.get("playlist.search_in_playlist"),sortOptions:(0,Fs.rE)(m,w),defaultSortField:"custom-order",enableViewModeMenu:!l,className:we.A.searchBoxContainer,elementRef:d})}):(0,R.jsx)("div",{className:we.A.leadingSlot,children:(0,R.jsx)(ws.u,{property:cs.mA2,renderNewExperience:()=>(0,R.jsx)(Os.g,{options:[],onSelect:()=>{},selected:null,enableViewModeMenu:!0})})})]}),(0,R.jsx)(ta,{uri:b,formatListAttributes:y,availableSignals:h})]})}));var ha=s(40539),ga=s(61315);const ba=e=>{const t=(0,xa.s)(),s=(0,a.useMemo)((()=>e.spec.promoCardFactory()),[e.spec]),i=(0,ga.n)(s.getAbsoluteLocation(),s);return(0,R.jsxs)("div",{className:we.A.concertsFooter,children:[(0,R.jsx)(kt.N,{to:"/concerts",className:we.A.ctaLink,onClick:()=>{const e=s.hitUiNavigate({destination:"spotify:app:concerts"});t.logInteraction(e)},children:(0,R.jsxs)("div",{className:we.A.promoRow,ref:i,children:[(0,R.jsx)(l.E,{as:"h2",variant:"bodyMediumBold",className:we.A.promoTitle,children:u.Ru.get("concerts.find_more")}),(0,R.jsx)(ha.v,{as:"span",selected:!0,children:u.Ru.get("concerts.find_nearby")}),(0,R.jsx)("img",{className:we.A.promoImage,alt:"",src:"https://i.scdn.co/image/ab676d63000076a0dbdb7dc2499cbb9ef096518d"})]})}),(0,R.jsx)("div",{className:we.A.disclaimerContainer,children:(0,R.jsx)(l.E,{as:"div",variant:"marginal",semanticColor:"textSubdued",children:u.Ru.get("concerts_near_you.playlist_disclaimer")})})]})};var Aa=s(15214),Ca=s(52390),fa=s(88741),Ra=s(43926),Ta=s(4644),ja=s(25379),va=s(13020);let Ea=function(e){return e.DOWN="DOWN",e.UP="UP",e.EQUAL="EQUAL",e.NEW="NEW",e}({});const Sa={[Ea.DOWN]:()=>(0,R.jsx)(Ta.y,{size:"small",className:Rt.A.statusChangeDown}),[Ea.UP]:()=>(0,R.jsx)(ja.J,{size:"small",className:Rt.A.statusChangeUp}),[Ea.NEW]:()=>(0,R.jsx)(va.Z,{className:Rt.A.notificationDot}),[Ea.EQUAL]:()=>null},ka=({status:e,number:t})=>{const s=Sa[e];return(0,R.jsxs)("div",{className:fe()(Rt.A.rowChartStatus),children:[(0,R.jsx)(l.E,{variant:"bodyMedium",children:t}),(0,R.jsx)(s,{})]})};var Ia=s(28831),Pa=s(8711),Ua=s(20755),La=s(16379),Da=s(95231),Na=s(83303),_a=s(68805),wa=s(99768),Ba=s(42394);const Oa=a.memo((function({uri:e,name:t,duration_ms:s,artists:a,album:i,isMOGEFRestricted:r,isExplicit:n,isPlayable:l,uid:o,index:c,contextUri:d,imgUrl:m,statusChange:p,playCount:x,usePlayContextItem:y,isCompactMode:h}){const{spec:g}=(0,wt.D)(Et.i,{data:{position:c,reason:"",uri:e}}),{displayedColumns:b}=(0,_a.h)(),{isWeb:A}=(0,_t.V)(),{isActive:C,isPlaying:f,triggerPlay:T,togglePlay:j}=y({uid:o,uri:e,index:c}),v=(0,At.T)(e),{isPlayable:E,isAnyArtistBanned:S}=(0,yt.g)(e,{isPlayable:l,isLocal:!1,isOutOfMarket:!1,artistUris:a?.map((e=>e.uri))}),{unBanArtists:k}=(0,Nt.M)(a?.map((e=>e.uri))??[]),{badges:I,hasBadges:P}=(0,ft.b)({downloadAvailability:v,isExplicit:n,isMOGEFRestricted:r}),U=a?.map((e=>e.name)).join(u.Ru.getSeparator())||"";return(0,R.jsx)(it.h,{menu:(0,R.jsx)(St.P,{uri:e,albumUri:i?.uri,artists:a}),children:(0,R.jsx)(xt.w,{uri:e,contextUri:d,index:c,onTriggerPlay:(e,t)=>{T({loggingParams:t})},isActive:C,ariaRowIndex:c+1,isPlayable:E,isAnyArtistBanned:S,handleArtistBanUndoClick:k,ageRestricted:r,dragMetadata:{name:t,createdBy:U},allowedDropTypes:[],spec:g,isCompactMode:h,isExplicit:n,children:b.map((({columnType:r,options:n},l)=>{const o=(0,wa.y)(l,r,b);return(0,R.jsx)(o,{ariaColIndex:l,children:(()=>{switch(r){case Ne.$C.INDEX:return(0,R.jsx)(Ua.$,{uri:e,className:Rt.A.rowMarkerChartStatus,playAriaLabel:u.Ru.get("tracklist.a11y.play",t,U),onClick:(e,t)=>{E&&j({loggingParams:t})},isPlaying:f,isActive:C,spec:g,children:p?(0,R.jsx)(ka,{number:c+1,status:p}):(0,R.jsx)(La.a,{children:c+1})});case Ne.$C.TITLE_AND_ARTIST:case Ne.$C.TITLE_AND_AUTHOR:return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Ia.e,{src:m}),(0,R.jsxs)(ct.l,{children:[(0,R.jsx)(pt.p,{titleText:t,children:t}),P&&(0,R.jsxs)(lt.P,{children:[I.download&&(0,R.jsx)(gt._,{}),I.explicit&&(0,R.jsx)(ht.U,{}),I.nineteen&&(0,R.jsx)(bt.q,{className:Rt.A.nineteen,size:16})]}),(0,R.jsx)(Lt.p,{children:(0,R.jsx)(It.l,{artists:a,spec:g})})]})]});case Ne.$C.TITLE:return(0,R.jsxs)(Pa.q,{children:[A?(0,R.jsx)(kt.N,{to:e,className:Rt.A.rowTitle,"data-testid":"internal-track-link",children:(0,R.jsx)(pt.p,{titleText:t,children:t})}):(0,R.jsx)(pt.p,{titleText:t,children:t}),P&&(0,R.jsxs)(lt.P,{children:[I.download&&(0,R.jsx)(gt._,{}),I.explicit&&(0,R.jsx)(ht.U,{}),I.nineteen&&(0,R.jsx)(bt.q,{className:Rt.A.nineteen,size:16}),I.isVideo&&(0,R.jsx)(Ba.l,{})]})]});case Ne.$C.ARTIST:case Ne.$C.AUTHOR:return(0,R.jsx)(Na.Y,{children:a&&(0,R.jsx)(Ra.E,{artists:a,spec:g})});case Ne.$C.PLAYS:return(0,R.jsx)(Da.Y,{playcount:x});case Ne.$C.ALBUM_OR_PODCAST:case Ne.$C.ALBUM:return(0,R.jsx)(nt.g,{uri:i.uri,name:i.name,creatorUri:a?.[0]?.uri,spec:g,children:i.name});case Ne.$C.DURATION:return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Dt.d,{uri:e,spec:g}),!n?.hideDuration&&(0,R.jsx)(Pt.P,{duration:s}),(0,R.jsx)(Ut.Y,{menu:(0,R.jsx)(St.P,{uri:e,albumUri:i?.uri,artists:a}),label:u.Ru.get("more.label.track",t,U),spec:g})]});case Ne.$C.ADDED_BY:case Ne.$C.ADDED_AT:case Ne.$C.RELEASE_DATE:case Ne.$C.ACTIONS:case Ne.$C.ALBUM_OR_SHOW:case Ne.$C.EVENT_DATE:case Ne.$C.EVENT_INFO:case Ne.$C.CONCERT:case Ne.$C.CONCERT_VENUE:case Ne.$C.ADD:case Ne.$C.BPM:case Ne.$C.KEY:case Ne.$C.VIBE:return null;default:(0,re.d)(r)}return null})()},`column-${l}`)}))})})}),((e,t)=>e.uri===t.uri&&e.isCompactMode===t.isCompactMode));var Ma=s(60804);const $a=a.memo((function({ariaLabel:e,playlistUri:t,usePlayContextItem:s,tracklistDomRef:i,columns:r,isCompactMode:n=!1}){const{setFilter:l}=(0,a.useContext)(Kt.g),o=(0,a.useRef)(null),{onSort:c}=(0,fa.B)({columns:r,hasCustomOrder:!0});(0,a.useEffect)((()=>{c(Ne.$C.INDEX),l("")}),[t,l,c]);const d=(0,a.useCallback)(((e,a)=>{const i=e,r=(0,Ma.g)(i.album?.images,{desiredSize:40,desiredLabel:"small"});return(0,R.jsx)(Oa,{index:a,contextUri:t,uri:i.uri,uid:i.uid||void 0,isPlayable:i.isPlayable,duration_ms:i.duration.milliseconds,name:i.name,artists:i.artists,album:i.album,isExplicit:i.isExplicit,isMOGEFRestricted:i.is19PlusOnly,type:i.type,imgUrl:r?.url||"",statusChange:i.formatListAttributes?.status,playCount:parseInt(i.formatListAttributes?.rank||"0",10),usePlayContextItem:s,isCompactMode:n},a+i.uri)}),[t,s,n]);return(0,R.jsx)(Ca.V,{ariaLabel:e,columns:r,columnPersistenceKey:Ne.SZ.CHART,renderItem:d,defaultSortField:"custom-order",tracklistDomRef:i,tracklistRef:o})})),Fa="multiUserAttributionDisplayNamesV2",Va=(e,t)=>{const s=[];if(!t)return s;const a=t[Fa]?Fa:"multiUserAttributionDisplayNames",i=t?.[a]?.split(","),r=t?.multiUserAttributionImages?.split(",");if(!i||!r)return s;const n=t?.multiUserAttributionUsernamesV2?.split(",")||[],l=t?.multiUserAttributionType?.split(",")||[],o=i.length;for(let e=0;e<o;e++){const t=n[e],a=t&&(0,d.Qjr)(t).toURI();s.push({username:t,uri:a,displayName:i[e]??"",images:(c=r[e]??"",c.length>1?[{url:c}]:[]),recsplanation:l[e]})}var c;return s.sort(((t,s)=>t.username?t.username===e?.username?-1:s.username===e?.username?1:0:0))};var Wa=s(37321),qa=s(48237),za=s(40100),Ha=s(31409);const Ka=(0,a.createContext)(null),Ja=()=>{const e=(0,a.useContext)(Ka);if(!e)throw new Error("ItemContext not found");return e},Ya=()=>{const{item:e}=Ja(),{addedAt:t}=e;return t?(0,R.jsx)(Ha.L,{dateAdded:new Date(t)}):null};var Ga=s(18219),Xa=s(13785),Qa=s(61359);const Za=()=>(0,Qt.m)().getCapabilities(),ei=()=>{const{item:e,spec:t,externalFlags:s}=Ja(),{canDecorateAddedBy:a}=Za(),{isCompactMode:i}=(0,Qa.a)(),r=s.addedByAsFacepile&&Va(e.addedBy,e?.formatListAttributes)||e.addedBy&&[e.addedBy]||[],n=r.at(0),l=(0,Ma.g)(n?.images,{desiredWidth:24,desiredLabel:"small"});return(0,R.jsx)(R.Fragment,{children:s.addedByAsFacepile?(0,R.jsx)(Xa.R,{users:r,spec:t}):(0,R.jsx)(Ga.i,{name:n?.displayName||n?.username||"",isCompactMode:i,uri:n?.uri||"",imageUrl:l?.url||"",showAvatar:a,spec:t})})},ti=e=>{const t=(0,is.Jy)(e),s=(0,is.xp)(e),a=(0,is.pW)(e),i=t?e.artists:void 0;let r=i?.map((e=>e.name)).join(u.Ru.getSeparator())||"";return s?r=e.show?.publisher??"":a&&(r=e.authorName||""),{artists:i,songBy:r}},si=e=>(0,is.xp)(e)?e.show?{uri:e.show.uri,name:e.show.name}:null:(0,is.Jy)(e)&&e.album?{uri:e.album.uri,name:e.album.name}:null,ai=e=>(0,is.Jy)(e)&&e.isLocal,ii=()=>{const{item:e,spec:t}=Ja(),{filter:s}=(0,a.useContext)(Kt.g),{artists:i}=ti(e),r=si(e);return r?(0,R.jsx)(nt.g,{nonInteractive:ai(e),uri:r.uri,name:r.name,creatorUri:i?.[0]?.uri,spec:t,children:(0,R.jsx)(Ht.M,{searchWords:[s],textToHighlight:r.name})}):null};var ri=s(9065);const ni=e=>{const t=(0,is.Jy)(e),s=(0,is.xp)(e),a=t?e.associatedAudioUri:void 0,i=s&&e.show?.mediaType===ri.Q.VIDEO;return{associatedAudioUri:a,isVideoTrack:t&&!!e.associatedAudioUri,isVideoShow:i}},li=(e,t)=>{const s=(0,is.Jy)(e),a=(s&&e.hasAssociatedVideo&&t)??!1;return{hasAssociatedVideo:a,isUnmappedMusicVideo:s&&!a&&!e.hasAssociatedAudio&&e.mediaType===ee.IX.Video}},oi=()=>{const{item:e,spec:t}=Ja(),{filter:s}=(0,a.useContext)(Kt.g),{isVideoShow:i}=ni(e),{artists:r,songBy:n}=ti(e),l=(0,is.xp)(e),o=(0,is.pW)(e);return(0,R.jsxs)(Na.Y,{children:[!l&&!i&&r&&(0,R.jsx)(Ra.E,{nonInteractive:ai(e),artists:r,filter:s,spec:t}),(l||o)&&!i&&n]})},ci=()=>{const{item:e}=Ja();return(0,is.Jy)(e)&&e.bpm?(0,R.jsx)(l.E,{variant:"bodySmall",semanticColor:"textSubdued",children:e.bpm}):null};var di=s(31194);const ui=e=>{const t=e.formatListAttributes?.concert_uri,s=e.formatListAttributes?.concert_date,a=e.formatListAttributes?.concert_subtitle,i=String(e.formatListAttributes?.concert_uris?.split(",").length??0),r=e?.formatListAttributes?.ticketingSite,n=e?.formatListAttributes?.eventDate;return{concertURI:t,concertDate:s,concertVenue:a,concertsCount:i,ticketingSiteURL:r,eventDate:n}},mi=()=>{const{item:e,index:t,spec:s}=Ja(),{concertURI:a,concertDate:i,concertVenue:r,concertsCount:n}=ui(e);return a&&i&&r?(0,R.jsx)(di.F,{concertsCount:n,concertDate:i,concertURI:a,concertVenue:r,index:t,spec:s}):null};var pi=s(56957);const xi=()=>{const{item:e,index:t,spec:s}=Ja(),{concertURI:a,concertVenue:i,concertsCount:r}=ui(e);return i&&a?(0,R.jsx)(pi.F,{concertURI:a,concertsCount:r,concertVenue:i,index:t,spec:s}):null};var yi=s(41167),hi=s(13511);const gi=e=>{const t=(0,is.Jy)(e),s=(0,is.xp)(e),a=(0,is.pW)(e);return t||s||a?e.name:""},bi=e=>"1"===e?.formatListAttributes?.["dislike-feedback-selected"],Ai=e=>(0,is.pW)(e)&&!!e.isOutOfMarket,Ci=({hideDuration:e})=>{const{item:t,list:s,menu:a,spec:i,contextualBans:r}=Ja(),n=(0,Wa.$)(),{uri:l,type:o}=t,{uri:c,name:d,isOwnedBySelf:m,formatListData:p}=s.metadata,x=p?.attributes["dislike-endpoint"],y=p?.attributes["delete-endpoint"],h=(0,$.X)(s.metadata.formatListData?.type),{associatedAudioUri:g,isVideoTrack:b,isVideoShow:A}=ni(t),{songBy:C}=ti(t);let f=0;(0,is.Jy)(t)||(0,is.xp)(t)?f=t.duration.milliseconds:(0,is.pW)(t)&&(f=t.durationMs||0);const T=t?.formatListAttributes?.feedback_uri,j=bi(t),v=h&&n;return(0,R.jsxs)(R.Fragment,{children:[(v&&!b||r.hasContextualBan)&&r.canContextualBan?(0,R.jsx)(yi.A,{itemUri:l,contextUri:c,isBanned:r.hasContextualBan||j,contextName:d,spec:i}):x&&y&&(0,R.jsx)(hi.O,{isDisliked:j,feedbackPath:x,deleteFeedbackPath:y,feedbackUri:T||l,name:d,contextUri:c}),!A&&!Ai(t)&&(0,R.jsx)(Dt.d,{uri:g??l,spec:i,type:o,isOwnedBySelf:m}),!e&&(0,R.jsx)(Pt.P,{duration:f}),(0,R.jsx)(Ut.Y,{menu:a,label:u.Ru.get("more.label.track",gi(t),C),spec:i})]})};var fi=s(91674);const Ri=()=>{const{item:e}=Ja(),{eventDate:t,ticketingSiteURL:s}=ui(e);return t&&s?(0,R.jsx)(fi.N,{eventDate:t,ticketingSiteURL:s}):null},Ti=()=>{const{item:e,index:t,spec:s}=Ja(),{concertURI:a,concertVenue:i,concertsCount:r}=ui(e);return i&&a?(0,R.jsx)(pi.F,{concertsCount:r,concertVenue:i,concertURI:a,index:t,spec:s}):null};var ji=s(13057),vi=s(1609),Ei=s(461),Si=s(43157);const ki=e=>{const t=(0,is.xp)(e),s=(0,is.pW)(e),a=!!t&&e.podcastSubscription.isUserSubscribed,i=s?e.consumptionCapExplanation:void 0,r=t&&e.podcastSubscription.isPaywalled||s&&e.isLocked&&!e.isOutOfMarket,n=r&&!a;return{isUserSubscribed:a,consumptionCapExplanation:i,isPaywalled:r,unboughtPaywalledEpisode:n,unboughtPaywalledBook:s&&n}},Ii=({isMixedMedia:e,isVideoShow:t,isEpisode:s,isBook:a,index:i})=>{const r=i+1;return e?t?(0,R.jsx)(ji.B,{"data-testid":"video-icon",size:"small","aria-hidden":"true"}):s?(0,R.jsx)(vi.L,{"data-testid":"podcast-icon",size:"small","aria-hidden":"true"}):a?(0,R.jsx)(Ei.l,{"data-testid":"audiobook-icon",size:"small","aria-hidden":"true"}):(0,R.jsx)(Si.v,{"data-testid":"track-icon",size:"small","aria-hidden":"true"}):r},Pi=()=>{const{item:e,playerContext:t,externalFlags:s,spec:a,index:i}=Ja(),{uri:r}=e,n=(0,is.pW)(e),l=(0,is.xp)(e),{unboughtPaywalledEpisode:o}=ki(e),{isVideoShow:c}=ni(e),{songBy:d}=ti(e),m=si(e),p=t.togglePlay;return(0,R.jsx)(za.N,{showUri:m?.uri??"",renderInline:!1,enabled:o,children:(0,R.jsx)(Ua.$,{uri:r,playAriaLabel:u.Ru.get("tracklist.a11y.play",gi(e),d),onClick:p,isPlaying:t.isPlaying,isActive:t.isActive,isLocked:o,spec:a,children:(0,R.jsx)(La.a,{children:(0,R.jsx)(Ii,{isMixedMedia:s.isMixedMedia,isVideoShow:c,isEpisode:l,isBook:n,index:i})})})})},Ui=()=>{const{item:e}=Ja();return(0,is.Jy)(e)&&e.key?(0,R.jsx)(l.E,{variant:"bodySmall",style:{color:e.key.color},children:e.key.camelotKey}):null};var Li=s(34511);const Di=()=>{const{item:e}=Ja(),t=(0,is.xp)(e);return t?(0,R.jsx)(Li.w,{releaseDate:t&&e.release.isoString||""}):null},Ni=({title:e})=>{const{filter:t}=(0,a.useContext)(Kt.g);return(0,R.jsx)(pt.p,{titleText:e,children:(0,R.jsx)(Ht.M,{searchWords:[t],textToHighlight:e})})},_i=e=>{const t=(0,is.Jy)(e),s=(0,is.xp)(e),a=(0,is.pW)(e),i=t||s||a;return{isMOGEFRestricted:(t||s)&&e.is19PlusOnly,isExplicit:(i&&e.isExplicit)??!1}};var wi=s(52567);const Bi=()=>{const{item:e,externalFlags:t}=Ja(),{uri:s}=e,a=(0,At.T)(s),{isWeb:i}=(0,_t.V)(),r=(0,is.pW)(e),n=gi(e),{isExplicit:l,isMOGEFRestricted:o}=_i(e),{isPaywalled:c}=ki(e),{hasAssociatedVideo:d,isUnmappedMusicVideo:u}=li(e,t.showVideoLabel),{badges:m,hasBadges:p}=(0,ft.b)({downloadAvailability:a,isExplicit:l,isMOGEFRestricted:o,isPaywalled:c,isVideo:d||u});return(0,R.jsxs)(Pa.q,{children:[i||r?(0,R.jsx)(kt.N,{to:s,className:Rt.A.rowTitle,"data-testid":"internal-track-link",children:(0,R.jsx)(Ni,{title:n})}):(0,R.jsx)(Ni,{title:n}),p&&(0,R.jsxs)(lt.P,{children:[m.download&&(0,R.jsx)(gt._,{}),m.explicit&&(0,R.jsx)(ht.U,{}),m.paid&&(0,R.jsx)(wi.y,{}),m.nineteen&&(0,R.jsx)(bt.q,{className:Rt.A.nineteen,size:16}),m.isVideo&&(0,R.jsx)(Ba.l,{separator:""})]})]})};var Oi=s(569);var Mi=s(74459),$i=s(33783);const Fi=()=>{const{item:e,externalFlags:t,spec:s}=Ja(),{uri:i}=e,r=(0,At.T)(i),{hasAssociatedVideo:n,isUnmappedMusicVideo:l}=li(e,t.showVideoLabel),{isExplicit:o,isMOGEFRestricted:c}=_i(e),d=(0,Oi.o)(o,l),{isWeb:u}=(0,_t.V)(),{filter:m}=(0,a.useContext)(Kt.g),p=(0,is.xp)(e)?e.gatedEntityRelations:null,x=(0,Mi.v)(p,i),{isVideoShow:y,isVideoTrack:h}=ni(e),g=t.isVideoFirstList&&h,{artists:b,songBy:A}=ti(e),{isPaywalled:C}=ki(e),f=(0,is.xp)(e),T=(0,is.pW)(e),j=(e=>{let t;(0,is.xp)(e)?t=e.images.concat(e.show?.images||[]):(0,is.Jy)(e)?t=e.album?.images:(0,is.pW)(e)&&(t=e.images);const s=(0,Ma.g)(t,{desiredSize:40,desiredLabel:"small"});return s?.url??""})(e),v=gi(e),{badges:E,hasBadges:S}=(0,ft.b)({downloadAvailability:r,isExplicit:o,isMOGEFRestricted:c,isPaywalled:C,isVideo:n||l});return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Ia.e,{src:d?void 0:j,isVideo:y,isEpisode:f,isVideoFirst:g}),(0,R.jsxs)(ct.l,{children:[u||T?(0,R.jsx)(kt.N,{to:i,className:Rt.A.rowTitle,"data-testid":"internal-track-link",children:(0,R.jsx)(Ni,{title:v})}):(0,R.jsx)(Ni,{title:v}),S&&(0,R.jsxs)(lt.P,{children:[E.download&&(0,R.jsx)(gt._,{}),E.explicit&&(0,R.jsx)(ht.U,{}),x?(0,R.jsx)($i.x,{gatedEntityRelations:p}):E.paid&&(0,R.jsx)(wi.y,{}),E.nineteen&&(0,R.jsx)(bt.q,{className:Rt.A.nineteen,size:16}),E.isVideo&&(0,R.jsx)(Ba.l,{})]}),(0,R.jsxs)(Lt.p,{children:[!f&&!y&&b&&(0,R.jsx)(Ra.E,{nonInteractive:ai(e),artists:b,filter:m,spec:s}),(f||T)&&!y&&A]})]})]})},Vi=({columnType:e,columnIndex:t,options:s})=>{const{displayedColumns:a}=(0,_a.h)(),i=(0,wa.y)(t,e,a);return(0,R.jsx)(i,{ariaColIndex:t,children:(()=>{switch(e){case Ne.$C.INDEX:return(0,R.jsx)(Pi,{});case Ne.$C.TITLE_AND_ARTIST:case Ne.$C.TITLE_AND_AUTHOR:return(0,R.jsx)(Fi,{});case Ne.$C.TITLE:return(0,R.jsx)(Bi,{});case Ne.$C.ARTIST:case Ne.$C.AUTHOR:return(0,R.jsx)(oi,{});case Ne.$C.ALBUM_OR_PODCAST:case Ne.$C.ALBUM:return(0,R.jsx)(ii,{});case Ne.$C.ADDED_BY:return(0,R.jsx)(ei,{});case Ne.$C.RELEASE_DATE:return(0,R.jsx)(Di,{});case Ne.$C.EVENT_DATE:return(0,R.jsx)(Ri,{});case Ne.$C.CONCERT:return(0,R.jsx)(mi,{});case Ne.$C.EVENT_INFO:return(0,R.jsx)(Ti,{});case Ne.$C.CONCERT_VENUE:return(0,R.jsx)(xi,{});case Ne.$C.ADDED_AT:return(0,R.jsx)(Ya,{});case Ne.$C.DURATION:return(0,R.jsx)(Ci,{hideDuration:s?.hideDuration??!1});case Ne.$C.BPM:return(0,R.jsx)(ci,{});case Ne.$C.KEY:return(0,R.jsx)(Ui,{});case Ne.$C.ACTIONS:case Ne.$C.ADD:case Ne.$C.ALBUM_OR_SHOW:case Ne.$C.PLAYS:case Ne.$C.VIBE:return null;default:(0,re.d)(e)}return null})()})};var Wi=s(16762);var qi=s(48729),zi=s(98756);var Hi=s(99280),Ki=s(96804),Ji=s(91508);const Yi=({item:e,context:t,canContextualBan:s,hasContextualBan:a})=>{const{uri:i,uid:r}=e,{uri:n,canRemove:l,name:o}=t.metadata,c=si(e);return(0,is.Jy)(e)?e.isLocal?(0,R.jsx)(Ki.A,{uri:i,uid:r,contextUri:n,canBeRemovedFromPlaylist:l}):e.associatedAudioUri?(0,R.jsx)(Ji.o,{uri:i,uid:r,canBan:!1,artists:e.artists,contextUri:n,saveTrackUri:e.associatedAudioUri,albumUri:e.associatedAudioAlbumUri}):(0,R.jsx)(St.P,{uri:i,uid:r,albumUri:c?.uri,artists:e.artists,contextUri:n,isBanned:a||bi(e),canBan:s,canBeRemovedFromPlaylist:l,contextName:o}):(0,is.xp)(e)?(0,R.jsx)(rt.b,{uri:i,uid:r,showUri:c?.uri,contextUri:n,canBeRemovedFromPlaylist:l}):(0,is.pW)(e)?(0,R.jsx)(Hi.p,{uri:i,uid:r,contextUri:n,includeGoToAudiobook:!0,canBeRemovedFromPlaylist:l}):null},Gi=e=>{const t=(0,is.xp)(e),s=(0,is.Jy)(e),a=(0,is.pW)(e),i=s||t,{isUserSubscribed:r}=ki(e);return!(!t||!e.podcastSubscription.isPaywalled||r)||(i?e.isPlayable&&!bi(e):!!a)};var Xi=s(68093),Qi=s(82818);const Zi=a.memo((({item:e,index:t,usePlayContextItem:s,hasCustomOrder:r,isMixedMedia:n,isVideoFirstList:l,addedByAsFacepile:c=!1,onMove:m,onInsert:p})=>{const{uri:x,uid:y,playIndex:h}=e,{playlist:g}=(0,Wi.g)(),{uri:b,canRemove:A,name:C}=g.metadata,{spec:f}=(0,wt.D)(Et.i,{data:{position:t,reason:"",uri:x}}),T=(0,zi.g)(),{isCompactMode:j}=(0,Qa.a)(),v=(0,o.NC)(cs.LX5),{enqueueSnackbar:E}=(0,qa.dh)(),{displayedColumns:S}=(0,_a.h)(),I=(0,Qi.b)(b,x,!!(0,is.Jy)(e)&&e.isBanned),P=(0,Xi.A)(x,b,!!A,I),{artists:U,songBy:L}=ti(e),{unboughtPaywalledEpisode:D,unboughtPaywalledBook:N}=ki(e),{unBanArtists:_}=(0,Nt.M)(U?.map((e=>e.uri))??[]),{isPlayable:w,isAnyArtistBanned:B}=(0,yt.g)(x,{isPlayable:Gi(e),isLocal:ai(e),isOutOfMarket:Ai(e),artistUris:U?.map((e=>e.uri)),hasContextualBan:I}),O=(0,$t.P)({uri:x},{featureIdentifier:"playlist"}),M=s({uid:y,uri:x,index:h??t}),{isActive:$,isPlaying:F,triggerPlay:V,togglePlay:W}=(0,is.pW)(e)?O:M,q=(e=>{const{playlist:t}=(0,Wi.g)(),{canAdd:s,canRemove:a,hasSpotifyAudiobooks:i}=t.metadata,{allColumns:r}=(0,_a.h)(),{trackListSortState:n}=(0,fa.B)({columns:r.map((({columnType:e})=>e)),hasCustomOrder:e});let l=[];return s&&a&&null===n.column&&(l=[k.fl.TRACKS,k.fl.LOCAL_TRACKS,k.fl.EPISODES,...i?[k.fl.AUDIOBOOKS]:[]]),l})(r),{onTriggerPlay:z,onTogglePlay:H}=((e,t,s,r)=>{const n=(0,i.wA)(),l=(0,zi.g)(),o=(0,is.pW)(e),{isUnmappedMusicVideo:c}=li(e,r),{consumptionCapExplanation:u,unboughtPaywalledBook:m}=ki(e),{uri:p}=e,x=(0,a.useMemo)((()=>c?{modes:{media:"audio"}}:void 0),[c]);return{onTriggerPlay:(0,a.useCallback)(((e,s)=>{o&&u?n((0,qi._3)()):t({loggingParams:s,...x})}),[u,n,o,x,t]),onTogglePlay:(0,a.useCallback)(((e,t)=>{o&&u?n((0,qi._3)()):m?l((0,d.o_h)(p).toURLPath(!0)):s({loggingParams:t,...x})}),[u,n,o,l,x,s,m,p])}})(e,V,W,v),K=(0,a.useCallback)((()=>{(0,is.pW)(e)?T((0,d.o_h)(x).toURLPath(!0)):E(u.Ru.get("feedback.unable-to-play"))}),[E,e,T,x]),{isExplicit:J,isMOGEFRestricted:Y}=_i(e),G=(0,a.useMemo)((()=>(0,R.jsx)(Yi,{item:e,context:g,canContextualBan:P,hasContextualBan:I})),[e,g,P,I]),X=si(e),Q=(0,a.useMemo)((()=>({list:g,item:e,index:t,spec:f,menu:G,contextualBans:{hasContextualBan:I,canContextualBan:P},playerContext:{isPlaying:F,isActive:$,togglePlay:H},externalFlags:{showVideoLabel:v,isVideoFirstList:l,isMixedMedia:n,addedByAsFacepile:c}})),[f,G,g,e,t,I,P,F,$,H,v,l,n,c]);return(0,R.jsx)(za.N,{renderInline:!1,enabled:!0,showUri:X?.uri,children:(s,a)=>(0,R.jsx)(it.h,{menu:G,children:(0,R.jsx)(xt.w,{uri:x,contextUri:b,index:t,onTriggerPlay:z,isCompactMode:j,onTriggerPaywall:e=>{N?T((0,d.o_h)(x).toURLPath(!0)):a(e)},onDoubleClick:K,isLocked:D,isActive:$,ariaRowIndex:t+1,isPlayable:w,isAnyArtistBanned:B,isBannedInContext:I,contextName:C,handleArtistBanUndoClick:_,ageRestricted:Y,dragMetadata:{name:gi(e),createdBy:L},onMove:m,onInsert:p,allowedDropTypes:q,spec:f,canRemovePlaylistItems:A,isExplicit:J,children:(0,R.jsx)(Ka.Provider,{value:Q,children:S.map((({columnType:e,options:t},s)=>(0,R.jsx)(Vi,{columnType:e,columnIndex:s,options:t},`column-${s}`)))})})})})}));var er=s(82025),tr=s(72632);const sr=()=>null,ar="bbWnYQ2Oc8myROzHRhJ1";function ir(e){return(0,is.Jy)(e)||(0,is.xp)(e)}function rr(e){return(0,is.Jy)(e)||(0,is.xp)(e)||(0,is.pW)(e)}const nr=a.memo((function({ariaLabel:e,playlistUri:t,playlistName:s,isMixedMedia:r,isBlend:n,isConcert:l,isBooklist:c,canEdit:d,feedbackPath:u,deleteFeedbackPath:p,usePlayContextItem:x,tracklistRef:y,tracklistDomRef:h,canRemove:g,spec:b,isCompactMode:A=!1,columns:C,hasSpotifyAudiobooks:f,isPersonalized:T=!1,isVideoFirstPlaylist:j=!1,formatListData:v,overridePersistedColumns:E=!1,disableColumnReordering:S=!1,isOwnedBySelf:I=!1}){const P=(0,xa.s)(),U=(0,o.NC)(cs.LX5),L=(0,Wa.$)()&&T,D=(0,la.x)(),N=(0,ra.m)({formatListData:v}),_=(0,o.NC)(cs.Ihm),w=(0,Qt.m)(),{trackListSortState:B}=(0,fa.B)({columns:C,hasCustomOrder:!0}),O=(0,i.wA)(),M=(0,er.K)(),$=(0,a.useCallback)(((e,s,a)=>{if(!y?.current)return;const i=y.current.getRows()[s];i&&(P.logInteraction(b.dragSort()),a===xt.Y.Before?w.move(t,e,{before:i}):w.move(t,e,{after:i}))}),[y,P,b,w,t]),F=(0,a.useCallback)(((e,s,a)=>{if(!y?.current)return;const i=y.current.getRows()[s];i&&(P.logInteraction(b.dragAddToPlaylist({playlist:t,itemToBeAdded:e[0]})),a===xt.Y.Before?O((0,m.io)(t,e,{before:{uri:i.uri,uid:i.uid}})):O((0,m.io)(t,e,{after:{uri:i.uri,uid:i.uid}})))}),[y,P,b,t,O]),V=(0,a.useCallback)(((e,a)=>{let i,o=null;(0,is.xp)(e)?(o=e.show,i=e.images.concat(e.show?.images||[])):(0,is.Jy)(e)?(o=e.album,i=e.album?.images):(0,is.pW)(e)&&(i=e.images);const m=(0,Ma.g)(i,{desiredSize:40,desiredLabel:"small"});let y=[];d&&null===B.column&&(y=c?[k.fl.AUDIOBOOKS]:[k.fl.TRACKS,k.fl.LOCAL_TRACKS,k.fl.EPISODES,...f?[k.fl.AUDIOBOOKS]:[]]);const h="1"===e?.formatListAttributes?.["dislike-feedback-selected"],b=!!(0,is.xp)(e)&&e.podcastSubscription.isUserSubscribed;let C=!1;(0,is.xp)(e)&&e.podcastSubscription.isPaywalled&&!b?C=!0:ir(e)?C=e.isPlayable&&!h:(0,is.pW)(e)&&(C=!0);let T=!1;(0,is.xp)(e)&&e.podcastSubscription.isPaywalled?T=!0:(0,is.pW)(e)&&(T=e.isLocked&&!e.isOutOfMarket);const v=n&&Va(e.addedBy,e?.formatListAttributes)||e.addedBy&&[e.addedBy]||[];let E=0;ir(e)?E=e.duration.milliseconds:(0,is.pW)(e)&&(E=e.durationMs||0);let S="";rr(e)&&(S=e.name);let I=null;return(0,is.xp)(e)&&(I=e.gatedEntityRelations),(0,R.jsx)(tr.W,{isCompactMode:A,index:a,playIndex:e.playIndex??void 0,contextUri:t,uri:e.uri,uid:e.uid,isPlayable:C,duration_ms:E,isPaywalled:T,isUserSubscribed:b,name:S,artists:(0,is.Jy)(e)?e.artists:void 0,albumOrShow:o,isExplicit:(rr(e)&&e.isExplicit)??!1,hasAssociatedVideo:((0,is.Jy)(e)&&e.hasAssociatedVideo&&U)??!1,associatedAudioUri:(0,is.Jy)(e)?e.associatedAudioUri:void 0,associatedAudioAlbumUri:(0,is.Jy)(e)?e.associatedAudioAlbumUri:void 0,mediaType:(0,is.Jy)(e)?e.mediaType:void 0,hasAssociatedAudio:(0,is.Jy)(e)&&e.hasAssociatedAudio,isMixedMedia:r,isLocal:(0,is.Jy)(e)&&e.isLocal,addedBy:v,hasDecoratedAddedBy:w.getCapabilities().canDecorateAddedBy,dateAdded:e.addedAt,release_date:(0,is.xp)(e)&&e.release.isoString||"",isMOGEFRestricted:((0,is.Jy)(e)||(0,is.xp)(e))&&e.is19PlusOnly,type:e.type,imgUrl:m?.url||"",onMove:$,onInsert:F,usePlayContextItem:x,allowedDropTypes:y,feedbackPath:u,feedbackUri:e?.formatListAttributes?.feedback_uri,deleteFeedbackPath:p,isDisliked:h,isBlend:n,ticketingSiteURL:e?.formatListAttributes?.ticketingSite,eventDate:e?.formatListAttributes?.eventDate,canRemove:g,playlistName:s,isConcert:l,concertsCount:String(e.formatListAttributes?.concert_uris?.split(",").length??0),concertURI:e.formatListAttributes?.concert_uri,concertDate:e.formatListAttributes?.concert_date,concertVenue:e.formatListAttributes?.concert_subtitle,authorName:(0,is.pW)(e)?e.authorName:"",isOutOfMarket:!!(0,is.pW)(e)&&e.isOutOfMarket,consumptionCapExplanation:(0,is.pW)(e)?e.consumptionCapExplanation:void 0,isOwnedBySelf:d,bpm:(0,is.Jy)(e)?e.bpm:void 0,trackKey:(0,is.Jy)(e)?e.key:void 0,gatedEntityRelations:I,isBanned:!!(0,is.Jy)(e)&&e.isBanned,showBanButton:L,isVideoFirst:j&&(0,is.Jy)(e)&&!!e.associatedAudioUri})}),[d,B.column,n,A,t,U,r,w,$,F,x,u,p,g,s,l,L,j,c,f]),W=(0,a.useCallback)(((e,t)=>(0,R.jsx)(Zi,{item:e,index:t,usePlayContextItem:x,hasCustomOrder:!0,isMixedMedia:r,isVideoFirstList:j,onMove:$,onInsert:F})),[r,j,x,$,F]),q=(0,a.useCallback)(((e,s)=>{const i=M.getItem(s+1,{cachedOnly:!0})??null;return(0,R.jsxs)(a.Fragment,{children:[_?W(e,s):V(e,s),D&&i&&(0,R.jsx)(sr,{track:e,nextTrack:i,playlistUri:t,isTunaApplied:N,isOwnedBySelf:I})]},s+e.uri)}),[M,_,W,V,D,t,N,I]);return(0,R.jsx)(Ca.V,{ariaLabel:e,columns:C,columnPersistenceKey:Ne.SZ.PLAYLIST,tracklistClassName:fe()({[ar]:N}),renderItem:q,defaultSortField:"custom-order",tracklistDomRef:h,isConcertList:l,extraRowHeight:N?32:void 0,tracklistRef:y,testID:"playlist-tracklist",overridePersistedColumns:E,disableColumnReordering:S,isSortingEnabled:!N})}));var lr=s(70985),or=s(99842),cr=(s(22400),s(90879)),dr=s(38706),ur=s(55814),mr=s(51822);const pr=Spicetify.GraphQL.Definitions["getAudiobooksMetadata"]=new w.l("getAudiobooksMetadata","query","523c71c64749a628f83e6b31a122c76663243730bf02df01fd64abf0f62f572f",null);var xr=s(51697);const yr=3e5;function hr(e,t){return["list-extender",e,t]}const gr=(e,t,s=10,i)=>{const r=2*s,n=3*s,l=(0,mr.jE)(),o=(0,a.useRef)(0),[d,u]=(0,a.useState)(e),[m,p]=(0,a.useState)((()=>l.getQueriesData({queryKey:hr(e,t),stale:!1}).at(0)?.[1]??[])),x=(0,a.useRef)(m.map((e=>e.uri??""))),{spec:y,logger:h}=(0,xr.$)(c.K,{data:{uri:e}}),g=(0,a.useMemo)((()=>y.recommendedFactory()),[y]);(0,ur.e)(dr.Lj.OPERATION_COMPLETE,(({data:s})=>{s.uri===e&&(s.operation===dr.sP.ADD?p((e=>e.filter((e=>s.uris.every((t=>t!==e.uri)))))):s.operation===dr.sP.REMOVE&&p((e=>e.filter((e=>s.items.every((t=>t.uri!==e.uri)))))),s.operation!==dr.sP.ADD&&s.operation!==dr.sP.REMOVE||l.invalidateQueries({queryKey:hr(e,t)}))}));const b=(0,a.useRef)(!0);(0,a.useEffect)((()=>(b.current||(p([]),u(e),x.current=[],o.current=o.current+1),b.current=!0,()=>{o.current=o.current+1})),[e]),(0,a.useEffect)((()=>{if(m.length<r){const e=Math.min(r,n-m.length),s=o.current,a=hr(d,t),c=b.current&&0===x.current.length;(c?l.fetchQuery({queryKey:a,queryFn:()=>i(d,[],e),staleTime:yr,gcTime:yr}):i(d,x.current,e)).then((t=>{if(s!==o.current||!t)return;const i=t.map((e=>e?.uri&&e.uri)).filter((e=>null!==e));t.length<e&&x.current.length?x.current=[]:x.current=[...x.current,...i],p((e=>[...e,...t])),c&&l.setQueryData(a,t)}))}b.current=!1}),[r,n,d,m.length,l,i,t]);const A=(0,a.useCallback)((()=>{if(y){const e=g.refreshButtonFactory().hitRefreshContent();h.logInteraction(e)}p((e=>e.slice(s)))}),[h,g,y,s]);return{recommendations:m.slice(0,s),_bufferedRecommendations:m.slice(s),refresh:A}},br=a.memo((function({uri:e,canEdit:t}){const{recommendations:s,refresh:i}=((e,t=10)=>{const s=(0,Qt.m)(),{request:i}=(0,a.useContext)(Wt.j),r=(0,a.useCallback)((async(e,t,a)=>{const r=await s.getRecommendedBookUris(e,t,a),n=await i(pr,{uris:r});return n?.data?.podcasts?.map((e=>"Audiobook"===e.__typename?te(e):null)).filter(ie.P)??[]}),[s,i]);return gr(e,"book",t,r)})(e),{draggable:r,onDragStart:n}=(0,Mt.P)(),{addItems:o}=(0,Ct.x)(e),c=(0,or.p)(),d=(0,a.useCallback)((e=>{o([e],{after:"end"})}),[o]);return c?s?.length&&s.length>0?(0,R.jsxs)("div",{className:we.A.recommendedTrackList,"data-testid":"recommended-books",children:[(0,R.jsx)("div",{className:we.A.top,children:(0,R.jsxs)("div",{className:we.A.header,children:[(0,R.jsx)(l.E,{variant:"titleSmall",children:u.Ru.get("playlist.extender.recommended.title")}),(0,R.jsx)(l.E,{variant:"bodySmall",className:we.A.subtitle,children:u.Ru.get("playlist.extender.songs.in.playlist")})]})}),c&&(0,R.jsxs)(R.Fragment,{children:[s.map(((s,a)=>s?(0,R.jsx)(Ue.H,{contextUri:e,index:a,featureIdentifier:"playlist_recommendations",book:s,sharingInfo:s.sharingInfo,isRecommendation:!0,draggable:r,onAddClick:t?d:void 0,onDragStart:e=>{n(e,{itemUris:[s.uri],itemMimeTypes:[k.fl.AUDIOBOOKS],dragLabelText:s.name})},showSeparator:0!==a},a):null)),(0,R.jsx)(os.H,{className:we.A.refreshButton,onClick:i,children:u.Ru.get("playlist.extender.refresh")})]})]}):null:(0,R.jsx)("div",{className:we.A.recommendedTrackList,children:(0,R.jsx)("div",{className:we.A.top,children:(0,R.jsxs)("div",{className:we.A.header,children:[(0,R.jsx)(l.E,{variant:"titleSmall",children:u.Ru.get("playlist.extender.recommended.title")}),(0,R.jsx)(l.E,{variant:"bodySmall",className:we.A.subtitle,children:u.Ru.get("web-player.playlist.booklist-recommender-dsa-message")})]})})})}));var Ar=s(1992);const Cr=a.memo((function({playlistUri:e,canEdit:t,tracks:s}){const i="1"===(0,Ar.$)("filter-age-restricted-content"),{usePlayContextItem:r}=(0,$t.P)({uri:e.replace("spotify:","spotify:internal:recs:"),pages:[{items:s.map((e=>({...e,provider:null,type:Q.c.TRACK,uid:null})))}]},{featureIdentifier:"playlist_recommendations"}),n=(0,a.useCallback)(((s,a)=>{const n=s.duration;return(0,R.jsx)(Bt,{index:a,imgUrl:s.album.imageUrl,contextUri:e.replace("spotify","spotify:internal:recs"),uri:s.uri,isPlayable:!(i&&s.isMOGEFRestricted),name:s.name,artists:s.artists,album:{...s.album,imgUrl:s.album.imageUrl},isExplicit:s.explicit,isMOGEFRestricted:s.isMOGEFRestricted,usePlayContextItem:r,durationMs:n,shouldRenderDuration:!t,internalLink:!0},`${a}-${s.uri}`)}),[e,i,r,t]),l=(0,a.useMemo)((()=>[Ne.$C.TITLE_AND_ARTIST,Ne.$C.ALBUM,Ne.$C.ADDED_AT,Ne.$C.ADD]),[]),o=(0,a.useCallback)((e=>({uri:e.uri,uid:e.id})),[]),c=(0,a.useMemo)((()=>s.slice(0,Math.min(s.length,10))),[s]);return(0,R.jsx)(De.S4,{ariaLabel:u.Ru.get("playlist.extender.recommended.header"),nrTracks:Math.min(s.length,10),rowPlaceholder:Le.qq,tracks:c,renderRow:n,resolveItem:o,columns:l},`${e}-recommended`)})),fr=a.memo((function({playlistUri:e,playlistLength:t,canEdit:s}){const{recommendations:i,refresh:r}=((e,t=10)=>{const s=(0,Qt.m)(),i=(0,a.useCallback)((async(e,t,a)=>{const i=t.map((e=>cr.r.from(e).id??""));return s.getRecommendedTracks(e,i,a)}),[s]);return gr(e,"track",t,i)})(e),n=!t||0===t,o=(0,or.p)(),c=n?u.Ru.get("playlist.extender.empty.playlist"):u.Ru.get("playlist.extender.songs.in.playlist");return o?i.length>0?(0,R.jsxs)("div",{className:we.A.recommendedTrackList,children:[(0,R.jsx)("div",{className:we.A.top,children:(0,R.jsxs)("div",{className:we.A.header,children:[(0,R.jsx)(l.E,{variant:"titleSmall",children:u.Ru.get("playlist.extender.recommended.title")}),(0,R.jsx)(l.E,{variant:"bodySmall",className:we.A.subtitle,children:c})]})}),o&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Cr,{playlistUri:e,canEdit:s,tracks:i}),(0,R.jsx)(os.H,{className:we.A.refreshButton,onClick:r,children:u.Ru.get("playlist.extender.refresh")})]})]}):null:(0,R.jsx)("div",{className:we.A.recommendedTrackList,children:(0,R.jsx)("div",{className:we.A.top,children:(0,R.jsxs)("div",{className:we.A.header,children:[(0,R.jsx)(l.E,{variant:"titleSmall",as:"h2",children:u.Ru.get("playlist.extender.recommended.title")}),(0,R.jsx)(l.E,{variant:"bodySmall",className:we.A.subtitle,as:"h3",children:u.Ru.get("web-player.playlist.recommender-dsa-message")})]})})})}));var Rr=s(31879);const Tr=[Ne.$C.INDEX,Ne.$C.TITLE_AND_ARTIST,Ne.$C.ALBUM,Ne.$C.ADDED_AT,Ne.$C.DURATION],jr=[Ne.$C.INDEX,Ne.$C.TITLE_AND_ARTIST,Ne.$C.ALBUM,Ne.$C.ADDED_BY,Ne.$C.ADDED_AT,Ne.$C.DURATION],vr=[Ne.$C.INDEX,Ne.$C.TITLE_AND_ARTIST,Ne.$C.ALBUM_OR_PODCAST,Ne.$C.RELEASE_DATE,Ne.$C.ADDED_AT,Ne.$C.DURATION],Er=[Ne.$C.INDEX,Ne.$C.TITLE_AND_ARTIST,Ne.$C.ALBUM_OR_PODCAST,Ne.$C.ADDED_BY,Ne.$C.RELEASE_DATE,Ne.$C.ADDED_AT,Ne.$C.DURATION],Sr=[Ne.$C.INDEX,Ne.$C.TITLE_AND_AUTHOR,Ne.$C.ADDED_AT,Ne.$C.DURATION],kr=[Ne.$C.INDEX,Ne.$C.TITLE_AND_AUTHOR,Ne.$C.ADDED_BY,Ne.$C.ADDED_AT,Ne.$C.DURATION],Ir=[Ne.$C.INDEX,Ne.$C.TITLE_AND_ARTIST,Ne.$C.ALBUM,Ne.$C.EVENT_DATE,Ne.$C.DURATION],Pr=[Ne.$C.INDEX,Ne.$C.TITLE_AND_ARTIST,Ne.$C.CONCERT,Ne.$C.DURATION],Ur=[Ne.$C.INDEX,Ne.$C.TITLE_AND_ARTIST,Ne.$C.ALBUM,Ne.$C.ADDED_BY,Ne.$C.DURATION],Lr=[Ne.$C.INDEX,Ne.$C.TITLE_AND_ARTIST,Ne.$C.ALBUM,Ne.$C.DURATION],Dr=e=>{const{isCompactMode:t=!1,...s}=e;let a=(e=>{const{isMixedMedia:t=!1,hasEpisodes:s=null,hasSpotifyAudiobooks:a=null,hasDateAdded:i=!0,isLive:r=!1,isChart:n=!1,isConcert:l=!1,isBlend:o=!1,nrCollaborators:c=0,isBooklist:d=!1,showPlayCount:u=!1,isVideoFirstPlaylist:m=!1,initialColumns:p}=e;let x=p?[...p]:[...Tr];const y=c>1;if(t){y&&x.splice(3,0,Ne.$C.ADDED_BY);const e=x.indexOf(Ne.$C.ALBUM);a?x.splice(e,1):x.splice(e,1,Ne.$C.ALBUM_OR_PODCAST)}else n?(x=[...Lr],u&&x.splice(x.indexOf(Ne.$C.TITLE_AND_ARTIST)+1,0,Ne.$C.PLAYS)):s&&y?x=[...Er]:s?x=[...vr]:o?x=[...Ur]:d&&y?x=[...kr]:d?x=[...Sr]:y?x=[...jr]:r?x=[...Ir]:l&&(x=[...Pr]);if(!i){const e=x.indexOf(Ne.$C.ADDED_AT);-1!==e&&x.splice(e,1)}if(m){const e=x.indexOf(Ne.$C.ALBUM);-1!==e&&x.splice(e,1)}return x})(s);return a=((e,t)=>t?e.flatMap((e=>e===Ne.$C.TITLE_AND_ARTIST?[Ne.$C.TITLE,Ne.$C.ARTIST]:e===Ne.$C.TITLE_AND_AUTHOR?[Ne.$C.TITLE,Ne.$C.AUTHOR]:e)):e)(a,t),a};var Nr=s(60397),_r=s(72574),wr=s(23931),Br=s(87998),Or=s(98634);const Mr=["meta+v"];var $r=s(37311),Fr=s(56627),Vr=s(84925),Wr=s(88414),qr=s(24516),zr=s(33621);const Hr=a.lazy((()=>s.e(4789).then(s.bind(s,80812)))),Kr=a.lazy((()=>s.e(3632).then(s.bind(s,19490)))),Jr=a.lazy((()=>s.e(9718).then(s.bind(s,73269)))),Yr=new Set([]),Gr=a.memo((function({playlist:e,capabilities:t,isSponsoredV2:s}){const{metadata:{uri:r,name:p,images:x,totalLength:y,unfilteredTotalLength:h,isOwnedBySelf:g,hasEpisodes:A,canAdd:C,canRemove:f,formatListData:T,hasDateAdded:j,collaborators:v,isPublished:E,hasSpotifyAudiobooks:w,hasSpotifyTracks:V,availableSignals:z,dynamicColors:H},contents:{items:K}}=e,{spec:J,logger:Y,UBIFragment:G}=(0,xr.$)(c.K,{data:{uri:r}}),X=(0,da.n)(),Q=(0,o.NC)(zr.Cf,{loadingValue:!1}),{isCompactMode:Z}=(0,Qa.a)();(0,D.q)(s?null:H);const ee=a.useMemo((()=>J.headerFactory()),[J]),te=a.useMemo((()=>J.tracklistFactory()),[J]),se=a.useMemo((()=>J.actionBarFactory()),[J]),ae="chart"===T?.type,ie="concerts-near-you"===T?.type&&Q,re="live-streams"===T?.type,ne=["blend","celebrity-blend","friends-mix"].indexOf(T?.type||"")>-1,le=[V,A,w].filter(Boolean).length>1,oe=!le&&!!w&&(0,lr.R)(K),ce=(0,la.x)(),de=(0,ra.m)({formatListData:T}),ue="artistsets"===T?.type||"this-is"===T?.attributes["editorial.series"],me=(0,Rr.D)(e.metadata),pe=T?.attributes||{},xe=pe.header_image_url_desktop||pe.image_url||null,ye=C&&f,{isInlineCurationVisible:he,showInlineCuration:ge,hideInlineCuration:be}=((e,t)=>{const[s,i]=(0,a.useState)(e&&0===t),{spec:r,logger:n}=(0,q.r)(W.e,{});return{isInlineCurationVisible:s,showInlineCuration:(0,a.useCallback)((()=>{i(!0),n.logInteraction(r.findMoreButtonFactory().hitUiReveal())}),[n,r]),hideInlineCuration:(0,a.useCallback)((()=>{i(!1),n.logInteraction(r.closeButtonFactory().hitUiHide())}),[n,r])}})(ye,h),{productState:Ae}=(0,i.d4)(b.Ht),Ce=!!Ae?.ads&&parseInt(Ae.ads,10)>0,fe="spotify"===e.metadata.owner.username,Te=(0,i.wA)(),je=(0,o.NC)(cs.vQ3,{loadingValue:!1}),ve=(Ee={uri:r},Se={gcTime:5*B.i,enabled:ue},(0,B.I)(O,Ee,Se)).data?.playlistV2;var Ee,Se;const ke="Playlist"===ve?.__typename?ve.artistsOnTour?.[0]:null,Ie="Playlist"===ve?.__typename?ve.concerts?.items.map((e=>e.data)):null,Pe=Ie?.flatMap((e=>"ConcertV2"===e.__typename?[e]:[])).map((e=>{const t=[e.location.name,e.location.city].join(u.Ru.getSeparator()),s=e.artists.items.flatMap((e=>"Artist"===e.data.__typename?[e.data]:[]));return{venue:t,title:e.title,uri:e.uri,startDate:e.startDateIsoString,imageUrl:s[0]?.visuals.avatarImage?.sources[0]?.url,saved:e.saved}})),Ue=(0,a.useRef)(null),Le=(0,a.useRef)(null),[De]=x,Ne=null!==xe?xe:De?.url||null,_e=(0,Nr.H)(s?null:Ne,n.wdA),{contentsOptions:Be}=(0,F.g)(),{isPlaying:Oe,isActive:Me,togglePlay:$e,usePlayContextItem:Fe}=(0,$t.P)((0,Wr.A)(r,Be),{featureIdentifier:"playlist"}),Ve=(0,a.useCallback)((()=>{const e=(0,ua.$I)({isPlaying:Oe,isActive:Me,spec:se.playButtonFactory(),logger:Y,uri:r});$e({loggingParams:e})}),[Oe,Me,$e,se,Y,r]);!function(e){const t=(0,_r._)(),s=(0,Re.YQ)((()=>{t.paste().then((t=>e(t)))}),500,{leading:!0,trailing:!1});(0,Or.f)(Mr,s),(0,Br.x)(wr.W.PASTE,s)}((0,a.useCallback)((e=>{const t=e.split(/[\r\n]+/g).map((e=>(0,d.o_h)(e))).filter((e=>null!==e&&((0,d.U_m)(e)||(0,d.gHQ)(e)||(0,d.PkR)(e))));if(t.length>0&&C){const e=t.map((e=>e.toURI())),s=Ue.current?.getSelected()?.slice(-1)?.[0],a={after:s??"end"};Te((0,m.io)(r,e,a))}}),[C,Te,r]));const We=(0,a.useCallback)((e=>{const t=[...e[k.fl.TRACKS]||[],...e[k.fl.LOCAL_TRACKS]||[],...e[k.fl.EPISODES]||[],...e[k.fl.ALBUMS]||[],...e[k.fl.AUDIOBOOKS]||[]];t[0]&&C&&(Y.logInteraction(J.dragAddToPlaylist({playlist:r,itemToBeAdded:t[0]})),Te((0,m.io)(r,t)))}),[C,Y,J,r,Te]),qe=!fe&&0!==h,ze=!oe&&X&&(ye&&!he||qe),He=oe&&X&&(ye&&!he||qe),Ke=g&&X,Je=!ye&&!oe&&!qe&&X,Ye=v?.count??1,[Ge]=(0,_.z)(),Xe="plays"===pe.rank_type,Qe=function(e){const{hasDateAdded:t,isMixedMedia:s,hasEpisodes:i,hasSpotifyAudiobooks:r,isLive:n,isChart:l,isConcert:o,isBlend:c,nrCollaborators:d,isBooklist:u,isCompactMode:m,showPlayCount:p,isVideoFirstPlaylist:x,initialColumns:y}=e;return(0,a.useMemo)((()=>Dr({isMixedMedia:s,hasEpisodes:i,hasSpotifyAudiobooks:r,hasDateAdded:t,isLive:n,isChart:l,isConcert:o,isBlend:c,nrCollaborators:d,isBooklist:u,isCompactMode:m,showPlayCount:p,isVideoFirstPlaylist:x,initialColumns:y})),[t,i,r,y,c,u,l,m,o,n,s,x,d,p])}({isMixedMedia:le,hasEpisodes:A,hasSpotifyAudiobooks:w,hasDateAdded:j,isLive:re,isConcert:ie,isBlend:ne,nrCollaborators:Ye,isBooklist:oe,isCompactMode:Z,isChart:ae,showPlayCount:Xe,isVideoFirstPlaylist:me,initialColumns:ce?[]:void 0}),Ze=Qe,et=(0,a.useMemo)((()=>{let e;return e=t.canSort?oe?new Set(N.dh):new Set((0,L.zq)(Ze)):Yr,e}),[Ze,oe,t]),tt=oe&&!Z,st=(0,a.useMemo)((()=>{const e=oe?[k.fl.AUDIOBOOKS]:[k.fl.TRACKS,k.fl.LOCAL_TRACKS,k.fl.EPISODES,k.fl.ALBUMS];return{[I.Nz.ON]:C?e:[]}}),[C,oe]),{className:at,dropPosition:it,...rt}=(0,P.A)({allowedMimeTypesByDropPosition:st,onDrop:We});return(0,R.jsxs)(a.Suspense,{fallback:null,children:[(0,R.jsx)(M.c,{artistOrShow:e.metadata.owner.displayName,title:p,uri:r,entityType:M.p.PLAYLIST}),(0,R.jsx)(U.Q,{children:(0,qr.Q2)({playlistName:p,userName:e.metadata.owner.displayName||"",isSpotifyOwned:fe})}),(0,R.jsxs)("section",{role:"presentation","data-testid":"playlist-page","data-test-uri":r,...rt,children:[(0,R.jsx)(Aa.x,{metadata:e.metadata,isPlaying:Oe,isPublished:E,isSponsored:s,totalItems:Ge,togglePlay:Ve,backgroundColor:s?n.wdA:_e,spec:ee,className:at}),(0,R.jsxs)("div",{className:we.A.playlistContent,children:[(0,R.jsx)(ya,{playlist:e,capabilities:t,spec:se,isPlaying:Oe,isActive:Me,togglePlay:Ve,isBooklist:oe,backgroundColor:s?n.l0o:_e,tracklistDomRef:Le,isConcert:ie,sortableColumns:et,className:at,watchFeedEntityEntryPoint:me?void 0:e.metadata.watchFeedEntityEntryPoint,availableSignals:z,formatListAttributes:pe,isVideoFirst:me}),(0,R.jsxs)("div",{className:at,children:[(0,R.jsx)(a.Suspense,{fallback:null,children:(0,R.jsx)(Hr,{formatListData:e.metadata.formatListData})}),(0,R.jsxs)("div",{className:"contentSpacing",children:[!!ke&&Pe&&Pe.length>0&&(0,R.jsx)(a.Suspense,{fallback:null,children:(0,R.jsx)(Kr,{liveEvents:Pe,artistConcertsUri:ke.uri||"",artistName:ke.title||"",spec:J})}),(0,R.jsx)(ps,{uri:r,formatListAttributes:pe}),Ce?(0,R.jsx)(S,{playlistUri:r}):null,Ce&&fe&&!s?(0,R.jsx)(Jr,{uri:r,playlistName:p}):null,e.metadata.hasSpotifyAudiobooks&&je&&(0,R.jsxs)("div",{className:we.A.noBooklistSupportContainer,children:[(0,R.jsx)(l.E,{variant:"bodyMediumBold",semanticColor:"textBase",children:u.Ru.get("web-player.playlist.booklist-not-supported-title")}),(0,R.jsx)(l.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:u.Ru.get("web-player.playlist.booklist-not-supported.message")})]}),y>0&&(0,R.jsx)(a.Suspense,{fallback:null,children:tt?(0,R.jsx)(rs,{contextUri:r,canEdit:ye,canRemove:f,ariaLabel:p}):(0,R.jsx)(G,{spec:te,children:ae?(0,R.jsx)($a,{ariaLabel:p,playlistUri:r,usePlayContextItem:Fe,tracklistDomRef:Le,columns:Ze,isCompactMode:Z},r):(0,R.jsx)(nr,{ariaLabel:p,nrTracks:y,playlistUri:r,playlistName:p,isMixedMedia:le,isConcert:ie,isBlend:ne,isBooklist:oe,canEdit:ye,feedbackPath:pe["dislike-endpoint"],deleteFeedbackPath:pe["delete-endpoint"],usePlayContextItem:Fe,tracklistRef:Ue,tracklistDomRef:Le,canRemove:f,spec:te,isCompactMode:Z,columns:Ze,hasSpotifyAudiobooks:w??!1,isPersonalized:(0,$.X)(e.metadata.formatListData?.type),isVideoFirstPlaylist:me,formatListData:e.metadata.formatListData,overridePersistedColumns:de,disableColumnReordering:de,isOwnedBySelf:g??!1},r)})}),Ke&&(0,R.jsx)(a.Suspense,{fallback:null,children:he?(0,R.jsx)(qt,{playlistUri:r,hideInlineCuration:be,isBooklist:oe}):(0,R.jsx)("button",{className:we.A.seeMore,onClick:ge,children:(0,R.jsx)(l.E,{as:"div",variant:"bodySmallBold","aria-label":u.Ru.get("playlist.curation.find_more-a11y.label"),children:u.Ru.get("playlist.curation.find_more")})})}),ze?(0,R.jsx)("div",{"data-testid":"recommended-track",children:(0,R.jsx)(fr,{playlistUri:r,playlistLength:e.metadata.unfilteredTotalLength,canEdit:ye})}):null,He?(0,R.jsx)(br,{uri:r,canEdit:ye}):null,Je&&(0,R.jsx)(vs,{uri:r})]})]})]}),ie&&(0,R.jsx)(ba,{spec:J.footerSectionFactory()})]})]})})),Xr=a.memo((function({uri:e}){const{data:t}=(0,p.V)(),s=(0,C.E)(e,t??[]);((e,t)=>{const s=(0,i.d4)(b.Um),a=(0,y.U0)((()=>(e=>["usePreparePrerollSlot",e])(e)),[e]),{data:r,isLoading:n,isError:l}=(0,x.I)({queryKey:a(),queryFn:A(e),enabled:(t?.enabled??!1)&&s})})(e,{enabled:s});const{playlist:a}=(0,F.g)(),r=Za();return a.metadata,(0,R.jsx)(Vr.d,{dynamicColors:s?null:a.metadata.dynamicColors,children:(0,R.jsx)(Gr,{playlist:a,capabilities:r,isSponsoredV2:s})})})),Qr=()=>{const{playlistId:e,listNamespace:t,listId:s}=(0,r.g)();let a=(0,d.Pse)((e??"").split("&")[0]).toURI();return t&&s&&(a=`spotify:list:${t}:${s}`),(0,R.jsx)(Fr.P,{surface:$r.u.PLAYLIST,uris:[a],children:(0,R.jsx)(V.W,{uri:a,children:(0,R.jsx)(Xr,{uri:a})})})}},60397:(e,t,s)=>{s.d(t,{H:()=>l});var a=s(30758),i=s(66590),r=s(10819),n=s(34720);function l(e=null,t=i.l0o){const{backgroundColor:s}=(0,r.oI)(),l=(0,r.as)(),o=(0,n.z)(e);return(0,a.useEffect)((()=>(l((0,r.Mo)(o)),()=>{l((0,r.Hf)())})),[o,l]),s||t}},77674:(e,t,s)=>{s.d(t,{$:()=>n});var a=s(65809),i=s(56074),r=s(33621);const n=()=>{const e=(0,i.j)(),t=(0,a.NC)(r.en,{loadingValue:!1});return e.getCapabilities().canBan&&t}},86732:(e,t,s)=>{s.d(t,{E:()=>n});var a=s(65809),i=s(52793),r=s(59161);const n=(e,t)=>{const s=(0,a.NC)(r.Lct,{loadingValue:!1}),n=(0,i.Z_)(t,e,2);return s&&n}},97011:(e,t,s)=>{s.d(t,{xh:()=>x,Gv:()=>f,S:()=>y,_v:()=>g,e$:()=>b});s(2557),s(86328),s(77369),s(70397);var a=s(2897),i=s(19151),r=s(99875),n=s(53143);const l="recent";var o=s(71572),c=s(62659),d=s(56859),u=s(22762);function m(e){switch(e){case a.$c.AgeRestricted:return r.Uk.AgeRestricted;case a.$c.CatalogueRestricted:return r.Uk.CatalogueRestricted;case a.$c.CountryRestricted:return r.Uk.CountryRestricted;case a.$c.Explicit:return r.Uk.Explicit;case a.$c.PaymentRequired:return r.Uk.PaymentRequired;case a.$c.Playable:return r.Uk.Playable;case a.$c.Unavailable:default:return r.Uk.Unavailable}}function p(e,t=!1){return{playable:!t&&e.playable,reason:t?r.Uk.Anonymous:m(e.reason)}}function x(e){return e.previewPlayback?.audioPreview?.cdnUrl?{url:e.previewPlayback.audioPreview.cdnUrl}:null}function y(e){const t="Podcast"!==(s=e.podcastV2).data.__typename?null:{uri:s.data.uri,name:s.data.name,coverArt:s.data.coverArt?.sources||[],trailer:(a=s.data.trailerV2,("Episode"===a?.data.__typename?{uri:a.data.uri}:null)||null),showTypes:(s.data.showTypes||[]).filter(h)};var s,a;const r=(0,c.Wx)(e?.restrictions,e.playability),l=(0,u.p)(e.gatedEntityRelations)?.accessInfo,o=(0,u.v)(l);return{type:i.c.EPISODE,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",podcast:t,episodeType:e.type,mediaTypes:e.mediaTypes,coverArt:e.coverArt?.sources||[],audio:e.audio,releaseDate:(d=e.releaseDate,d?{isoString:d.isoString,precision:d.precision}:null),playedState:e.playedState,playability:p(e.playability),audioPreview:x(e),sharingInfo:e.sharingInfo,duration:{milliseconds:e.duration.totalMilliseconds},contentRating:e.contentRating,segmentsCount:0,podcastSubscription:r,contentInformation:e.contentInformation,transcript:e.transcripts?.items||null,upsellExplanation:o?C(o):null,gatedEntityRelations:f(e.gatedEntityRelations),hasGatedEntityRelationAccess:Boolean(l?.isUserMemberOfAtLeastOneGroup),dynamicColors:(0,n.V)(e.visualIdentity?.squareCoverImage?.extractedColorSet),sixteenByNineCoverImages:"ImageV2"===e.visualIdentity?.sixteenByNineCoverImage?.image?.data?.__typename?e.visualIdentity.sixteenByNineCoverImage.image.data.sources?.map((e=>({url:e.url,width:e.maxWidth,height:e.maxHeight}))):null};var d}function h(e){return!!e}function g(e){const t="Episode"===e.trailerV2?.data.__typename?(s=e.trailerV2.data,{type:i.c.EPISODE,uri:s.uri,name:s.name,coverArt:s.coverArt?.sources||[],audio:s.audio,audioPreview:x(s),sharingInfo:s.sharingInfo,duration:{milliseconds:s.duration.totalMilliseconds},contentRating:s.contentRating,mediaTypes:s.mediaTypes}):null;var s;const a=(0,o.q)(e?.accessInfo?.unlockedBy),r=(0,u.p)(e.gatedEntityRelations),n=(0,u.v)(r?.accessInfo);return{type:i.c.SHOW,uri:e.uri,name:e.name,description:e.description||"",htmlDescription:e.htmlDescription||"",coverArt:e.coverArt?.sources||[],trailer:t,topics:e.topics.items,podcastType:e.musicAndTalk?"SHOW":"PODCAST",showTypes:(e.showTypes||[]).filter(h),publisherName:e.publisher?.name||"",consumptionOrder:l,gatedContentAccessReason:a,isLocked:null===a,rating:e.rating,isSaved:e.saved,gatedEntityRelations:f(e.gatedEntityRelations),hasGatedEntityRelationAccess:Boolean(!!r&&r?.accessInfo?.isUserMemberOfAtLeastOneGroup),upsellExplanation:n?C(n):null,gatedEntityCoverArt:r?.coverArt?.sources||null}}function b(e){const t=!1===e?.isUserMemberOfAtLeastOneGroup,s=e?.unlockedBy?.includes(a.UG.Abp);return t&&!s}function A(e){return null!==e.displayText}function C({title:e,body:t,actionText:s,url:a}){return e&&t&&s&&a?{title:e,body:t,cta:s,url:a}:null}function f(e){return{entitiesWithValueProps:e.map((({badges:e,relatedEntity:t,summary:s,fallbackGatedEntity:a})=>"EpisodeResponseWrapper"===t?.__typename||"PodcastResponseWrapper"===t?.__typename?{uri:t._uri,summary:s?.forUserWithoutAccess?{forUserWithoutAccess:s.forUserWithoutAccess,forUserWithAccess:s.forUserWithAccess??void 0}:void 0,valueProps:e.filter(A),fallbackNavigation:a?.description?{uri:a.uri,description:a?.description}:void 0}:null)).filter(d.P)}}},97232:(e,t,s)=>{s.d(t,{V:()=>d});var a=s(19507),i=s(62411),r=s(65809),n=s(99129),l=s(59161),o=s(83953);const c=["useSponsorships"],d=()=>{const e=(0,i.d4)(o.Um),t=(0,r.NC)(l.Lct,{loadingValue:!1}),{data:s,isLoading:d,isError:u}=(0,a.I)({queryKey:c,queryFn:()=>(0,n.RW)(),gcTime:36e5,staleTime:6e5,enabled:t&&e});return{data:s?.sponsorships??null,isLoading:d,isError:u}}}}]);
//# sourceMappingURL=xpui-routes-playlist.js.map