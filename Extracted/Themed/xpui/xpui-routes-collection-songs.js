(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[8828],{2670:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Yt});n(2557);var o=n(30758),a=n(62411),r=n(85387),i=n(43157),s=n(65809);const c="music",l="1.3.0",u="default",d="15.1.0";function p(t){return new h(t)}class h{constructor(t){this._path=[{name:"desktop-liked-songs",...t.data}],t?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=t.parentAbsoluteLocation)}headerFactory(){return new h.HeaderEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}actionBarFactory(){return new h.ActionBarEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}tracklistFactory(){return new h.TracklistEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[u,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[l,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}}!function(t){t.HeaderEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:n}){this._path=t.concat({name:"header"}),e&&(this._parentAbsoluteLocation=e)}ownerFactory(){return new t.HeaderEventFactory.OwnerEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[u,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[l,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}}}(h||(h={})),function(t){t.ActionBarEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:n}){this._path=t.concat({name:"action_bar"}),e&&(this._parentAbsoluteLocation=e)}playButtonFactory(){return new t.ActionBarEventFactory.PlayButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}shuffleButtonContainerFactory(){return new t.ActionBarEventFactory.ShuffleButtonContainerEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}downloadButtonFactory(){return new t.ActionBarEventFactory.DownloadButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}filtersFactory(){return new t.ActionBarEventFactory.FiltersEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[u,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[l,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}}}(h||(h={})),function(t){t.TracklistEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:n}){this._path=t.concat({name:"tracklist"}),e&&(this._parentAbsoluteLocation=e)}columnHeaderFactory(e){return new t.TracklistEventFactory.ColumnHeaderEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:e})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[u,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[l,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}}}(h||(h={})),function(t){!function(t){t.OwnerEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:n}){this._path=t.concat({name:"owner"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[u,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[l,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitUiNavigate({destination:t}){return{actionParameterNames:["destination"],actionParameterValues:[t.toString()],actionName:"ui_navigate",actionVersion:1,app:c,generatorVersion:d,interactionType:"hit",specificationMode:u,specificationVersion:l,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(t.HeaderEventFactory||(t.HeaderEventFactory={}))}(h||(h={})),function(t){!function(t){t.PlayButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:n}){this._path=t.concat({name:"play_button"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[u,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[l,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitPlay({itemToBePlayed:t}){return{actionParameterNames:["item_to_be_played"],actionParameterValues:[t.toString()],actionName:"play",actionVersion:1,app:c,generatorVersion:d,interactionType:"hit",specificationMode:u,specificationVersion:l,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitResume({itemToBeResumed:t}){return{actionParameterNames:["item_to_be_resumed"],actionParameterValues:[t.toString()],actionName:"resume",actionVersion:1,app:c,generatorVersion:d,interactionType:"hit",specificationMode:u,specificationVersion:l,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitPause({itemToBePaused:t}){return{actionParameterNames:["item_to_be_paused"],actionParameterValues:[t.toString()],actionName:"pause",actionVersion:1,app:c,generatorVersion:d,interactionType:"hit",specificationMode:u,specificationVersion:l,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(t.ActionBarEventFactory||(t.ActionBarEventFactory={}))}(h||(h={})),function(t){!function(t){t.ShuffleButtonContainerEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:n}){this._path=t.concat({name:"shuffle_button_container"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[u,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[l,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}}}(t.ActionBarEventFactory||(t.ActionBarEventFactory={}))}(h||(h={})),function(t){!function(t){t.DownloadButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:n}){this._path=t.concat({name:"download_button"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[u,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[l,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitDownload({itemToDownload:t}){return{actionParameterNames:["item_to_download"],actionParameterValues:[t.toString()],actionName:"download",actionVersion:1,app:c,generatorVersion:d,interactionType:"hit",specificationMode:u,specificationVersion:l,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitRemoveDownload({itemToRemoveFromDownloads:t}){return{actionParameterNames:["item_to_remove_from_downloads"],actionParameterValues:[t.toString()],actionName:"remove_download",actionVersion:1,app:c,generatorVersion:d,interactionType:"hit",specificationMode:u,specificationVersion:l,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:c,generatorVersion:d,interactionType:"hit",specificationMode:u,specificationVersion:l,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(t.ActionBarEventFactory||(t.ActionBarEventFactory={}))}(h||(h={})),function(t){!function(e){e.FiltersEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:n}){this._path=t.concat({name:"filters"}),e&&(this._parentAbsoluteLocation=e)}clearButtonFactory(){return new t.ActionBarEventFactory.FiltersEventFactory.ClearButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}filterChipFactory(e){return new t.ActionBarEventFactory.FiltersEventFactory.FilterChipEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:e})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[u,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[l,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}}}(t.ActionBarEventFactory||(t.ActionBarEventFactory={}))}(h||(h={})),function(t){!function(t){t.ColumnHeaderEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:n}){this._path=t.concat({...n,name:"column_header"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[u,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[l,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitSort(){return{actionName:"sort",actionVersion:1,app:c,generatorVersion:d,interactionType:"hit",specificationMode:u,specificationVersion:l,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(t.TracklistEventFactory||(t.TracklistEventFactory={}))}(h||(h={})),function(t){!function(t){!function(t){t.ClearButtonEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:n}){this._path=t.concat({name:"clear_button"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[u,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[l,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitClearFilter(){return{actionName:"clear_filter",actionVersion:1,app:c,generatorVersion:d,interactionType:"hit",specificationMode:u,specificationVersion:l,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(t.FiltersEventFactory||(t.FiltersEventFactory={}))}(t.ActionBarEventFactory||(t.ActionBarEventFactory={}))}(h||(h={})),function(t){!function(t){!function(t){t.FilterChipEventFactory=class{constructor({path:t,parentAbsoluteLocation:e,data:n}){this._path=t.concat({...n,name:"filter_chip"}),e&&(this._parentAbsoluteLocation=e)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[u,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[l,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const t=this._parentAbsoluteLocation?.locations;return{locations:[...t||[],this._getCurrentLocation()]}}hitFilter(){return{actionName:"filter",actionVersion:1,app:c,generatorVersion:d,interactionType:"hit",specificationMode:u,specificationVersion:l,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitClearFilter(){return{actionName:"clear_filter",actionVersion:1,app:c,generatorVersion:d,interactionType:"hit",specificationMode:u,specificationVersion:l,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(t.FiltersEventFactory||(t.FiltersEventFactory={}))}(t.ActionBarEventFactory||(t.ActionBarEventFactory={}))}(h||(h={}));var m=n(18831),g=n(70397),A=n(19399),y=n(32131),f=n(3877),_=n(35511),C=n(67082),L=n(77858),b=n(77486),T=n(8616),E=n(8594),v=n(34843),x=n(13352),S=n(83408),F=n(53038),N=(n(77369),n(42674)),D=n(71761),I=n(15652),w=n(9735),R=n(12523),M=n(86070);const k=o.memo((({tracklistDomRef:t,columns:e})=>{const{spec:n,logger:a}=(0,w.D)(N.E,{}),r=(0,o.useCallback)((()=>{a.logInteraction(n.filterFieldFactory().keyStrokeFilter())}),[a,n]),i=(0,o.useCallback)((()=>{a.logInteraction(n.filterFieldFactory().hitClearFilter())}),[a,n]),s=e.filter((t=>C.gc.includes(t))).map((t=>t));return(0,M.jsxs)("div",{className:R.A.searchBoxContainer,children:[(0,M.jsx)(o.Suspense,{fallback:null,children:(0,M.jsx)(D.S,{placeholder:g.Ru.get("playlist.search_in_playlist"),clearOnEscapeInElementRef:t,onFilter:r,onClear:i})}),(0,M.jsx)(I.d,{columns:s})]})}));n(66016);var V=n(5678),j=n(51822),B=n(19507),$=n(56334),P=n(59161),O=n(92404),U=n(96124),H=n(95892),X=n(92713);const z="liked-songs-tags";function Y(){const t=(0,s.NC)(P.cLA),[e,n]=(0,X.x)("liked-songs-current-tag-filter",null);return[t?e:null,n]}var G=n(68293);const q="q_yjkS1y6URH4Xm7gZfw",W="PSN6JEL0I41eUrDuhoOd",K=t=>({id:t.filter,getName:()=>t.name,ubiId:t.name}),Q=(0,o.memo)((({spec:t,nrTracks:e})=>{const{tags:n,currentTag:a,setCurrentTag:r}=function({nrTracks:t}){const e=(0,U.f)(),n=(0,j.jE)(),[a,r]=Y(),[i,s]=(0,o.useState)([]),{data:c}=(0,B.I)({queryKey:[z],queryFn:()=>e?.getTracksFilterTags(),staleTime:0,gcTime:864e5,placeholderData:$.rX,refetchOnWindowFocus:!1});(0,o.useLayoutEffect)((()=>{const e=c?.find((t=>t.filter===a));if(!e&&a){if(t>0&&c?.length)return;r(null)}s(c??[])}),[a,r,t,c]);const l=(0,o.useCallback)((({data:{list:t}})=>{t===O.Ir.TRACKS&&n.invalidateQueries({queryKey:[z]})}),[n]);(0,H.l)(O.UV.UPDATE,l);const u=(0,o.useMemo)((()=>i.find((t=>t.filter===a))),[a,i]),d=(0,o.useCallback)((t=>{r(t?.filter??null)}),[r]);return{tags:a||t?i:[],currentTag:u,setCurrentTag:d}}({nrTracks:e}),i=(0,G.s)(),s=(0,o.useCallback)(((e,o,a)=>{let s;if(!e)return s=t.clearButtonFactory().hitClearFilter(),void i.logInteraction(s);const c=n.find((({filter:t})=>t===e));if(!c)return;const l=t.filterChipFactory({identifier:c.name,position:a});o?(s=l.hitClearFilter(),r(null)):(s=l.hitFilter(),c&&r(c)),i.logInteraction(s)}),[i,r,t,n]),c=a?[]:n.map(K),l=a?[K(a)]:[];return n.length?(0,M.jsx)(E.S,{children:(0,M.jsx)(V.s,{scrollContentClassName:W,availableFilters:c,selectedFilters:l,toggleFilterId:()=>{},resetFilterIds:()=>r(null),onFilterClick:s,ariaLabel:g.Ru.get("web-player.liked-songs.liked-songs-filter-tags"),clearBtnAriaLabel:g.Ru.get("web-player.liked-songs.clear-filter"),className:q,applyLightThemeControls:!0})}):null}));var Z=n(83249),J=n(94061),tt=n(33361),et=n(54596),nt=n(1231),ot=n(32783),at=n(23291),rt=n(33621);const it="ivuDaTbfBpBewwr39aDQ",st=o.memo((function({metadata:t,onClickTogglePlay:e,isPlaying:n,spec:a,logger:r,backgroundColor:i,canSort:c,canFilter:l,columns:u}){const{uri:d,name:p,totalLength:h}=t,m=(0,o.useRef)(null),A=(0,o.useMemo)((()=>a.actionBarFactory()),[a]),y=(0,o.useMemo)((()=>A.shuffleButtonContainerFactory()),[A]),f=(0,o.useMemo)((()=>A.filtersFactory()),[A]),_=h>0,C=h>0,L=c&&l,b=(0,tt.X)(),N=(0,o.useCallback)(((t,e)=>{const n=A.downloadButtonFactory();e===nt.NV.ADD?r.logInteraction(n.hitDownload({itemToDownload:d})):e===nt.NV.REMOVE?r.logInteraction(n.hitRemoveDownload({itemToRemoveFromDownloads:d})):e!==nt.NV.NO_PERMISSION&&e!==nt.NV.NO_CAPABILITY||r.logInteraction(n.hitUiReveal())}),[A,r,d]),D=(0,et.j)(),I=(0,s.NC)(P.cLA);return(0,M.jsxs)(T.E,{backgroundColor:i,children:[(0,M.jsxs)(E.S,{children:[C?(0,M.jsx)(S.D,{onClick:e,isPlaying:n,size:D,uri:d,ariaPauseLabel:g.Ru.get("playlist.a11y.pause",p),ariaPlayLabel:g.Ru.get("playlist.a11y.play",p)}):null,b&&(0,M.jsx)(at.r,{spec:y,children:(0,M.jsx)(J.Y,{entityName:p,contextUri:d,size:D})}),(0,M.jsx)(v.f,{uri:d,canDownload:_,isFollowing:!0,onFollow:()=>{},size:D,onClick:N,condensed:!0}),L?(0,M.jsx)(at.r,{spec:A,children:(0,M.jsx)(x.u,{property:P.IZ_,renderNewExperience:()=>(0,M.jsx)("div",{className:it,children:(0,M.jsx)(Z.d,{sortOptions:[ot.nw.TITLE,ot.nw.ADDED_AT,ot.nw.ARTIST,ot.nw.ALBUM,ot.nw.DURATION],defaultSortField:ot.nw.ADDED_AT,filterPlaceholder:g.Ru.get("playlist.search_in_playlist"),enableViewModeMenu:!0})}),renderOldExperience:()=>(0,M.jsx)(k,{tracklistDomRef:m,columns:u})})}):(0,M.jsx)("div",{className:it,children:(0,M.jsx)(x.u,{property:rt.mA,renderNewExperience:()=>(0,M.jsx)(F.g,{options:[],onSelect:()=>{},selected:null,enableViewModeMenu:!0})})})]}),I&&(0,M.jsx)(Q,{spec:f,nrTracks:h})]})}));var ct=n(33477),lt=n(52390),ut=n(26391),dt=n(14510),pt=n(61359),ht=n(53091),mt=n(60804);const gt=[b.$C.INDEX,b.$C.TITLE_AND_ARTIST,b.$C.ALBUM,b.$C.ADDED_AT,b.$C.DURATION],At=o.memo((function({usePlayContextItem:t}){const{isCompactMode:e}=(0,pt.a)(),{playlist:{metadata:n}}=(0,ut.g)(),a=(0,o.useCallback)(((o,a)=>{if(!(0,ht.Jy)(o))return(0,M.jsx)(M.Fragment,{});const r=(0,mt.g)(o.album?.images,{desiredSize:40,desiredLabel:"small"});return(0,M.jsx)(dt.W,{index:a,contextUri:n.uri,uri:o.uri,isPlayable:o.isPlayable,duration_ms:o.duration.milliseconds,name:o.name,artists:o.artists,albumOrShow:o.album,isExplicit:o.isExplicit,isMixedMedia:!1,isPaywalled:!1,isUserSubscribed:!1,isLocal:o.isLocal,addedBy:[],dateAdded:o.addedAt,hasDecoratedAddedBy:!1,release_date:"",isMOGEFRestricted:o.is19PlusOnly,type:o.type,imgUrl:r?.url||"",onMove:()=>{},onInsert:()=>{},usePlayContextItem:t,allowedDropTypes:[],isDisliked:!1,playlistName:g.Ru.get("sidebar.liked_songs"),isOwnedBySelf:!0,isCompactMode:e,hasAssociatedVideo:o.hasAssociatedVideo},a+o.uri)}),[n.uri,t,e]),r=(0,o.useMemo)((()=>(({isCompactMode:t=!1})=>{const e=[...gt];return t&&e.splice(e.indexOf(b.$C.TITLE_AND_ARTIST),1,b.$C.TITLE,b.$C.ARTIST),e})({isCompactMode:e})),[e]);return(0,M.jsx)(lt.V,{ariaLabel:g.Ru.get("sidebar.liked_songs"),renderItem:a,columnPersistenceKey:b.SZ.LIKED_SONGS,defaultSortField:ot.nw.ADDED_AT,columns:r})}));var yt=n(82025),ft=n(39690),_t=n(15214),Ct=n(11903),Lt=n(84825),bt=n(83953),Tt=n(85448),Et=n(72432),vt=n(88414),xt=n(67358),St=n(77077),Ft=n(84409);const Nt=[b.$C.INDEX,b.$C.TITLE_AND_ARTIST,b.$C.ALBUM,b.$C.ADDED_AT,b.$C.DURATION],Dt=()=>{const{playlist:{metadata:t},contentsOptions:e}=(0,ut.g)(),n=(0,xt.m)(),{canSort:r,canFilter:s}=n.getCapabilities(),{uri:c,name:l,totalLength:u}=t,d=(0,yt.K)(),h=(0,Ct.z)("#5038a0"),{spec:m,logger:f}=(0,Ft.r)(p,{data:{uri:c}}),_=o.useMemo((()=>m.headerFactory()),[m]),C=o.useMemo((()=>m.tracklistFactory()),[m]),{isPlaying:L,togglePlay:b,usePlayContextItem:T,isActive:E}=(0,Et.P)((0,vt.A)(t.uri,e),{featureIdentifier:"your_library",referrerIdentifier:"your_library"}),v=()=>{const t=(0,Lt.$I)({isPlaying:L,isActive:E,spec:m.actionBarFactory().playButtonFactory(),logger:f,uri:c});b({loggingParams:t})},{user:x}=(0,a.d4)(bt.Ht),S=(0,o.useMemo)((()=>(0,St.w)(x)),[x]);return(0,M.jsxs)("section",{role:"presentation","data-testid":"playlist-page",children:[(0,M.jsx)(A.Q,{children:g.Ru.get("playlist.page-title",l)}),(0,M.jsx)(_t.x,{metadata:{...t,owner:S,collaborators:null,permissions:null},totalItems:d.nrValidItems,isPlaying:L,togglePlay:v,backgroundColor:h,specLikedSongs:_}),(0,M.jsx)(st,{metadata:t,onClickTogglePlay:v,isPlaying:L,spec:m,logger:f,backgroundColor:h,canSort:r,canFilter:s,columns:Nt}),(0,M.jsx)("div",{className:"contentSpacing",children:u>0?(0,M.jsx)(at.r,{spec:C,children:(0,M.jsx)(At,{usePlayContextItem:T})}):(0,M.jsx)(y.p,{message:g.Ru.get("collection.empty-page.songs-subtitle"),title:g.Ru.get("collection.empty-page.songs-title"),linkTo:"/search",linkTitle:g.Ru.get("collection.empty-page.songs-cta"),renderInline:!0,children:(0,M.jsx)(i.v,{"aria-hidden":"true"})})})]})},It=()=>{const[t]=Y(),e=(0,o.useMemo)((()=>{if(t?.startsWith("tags contains"))return[t.slice(14)]}),[t]);return(0,M.jsx)(ft.W,{uri:Tt.DK,descriptorFilter:e,children:(0,M.jsx)(Dt,{})})};var wt=n(97583),Rt=n(88308),Mt=n(95509);var kt=n(3087),Vt=n(56859),jt=n(60617),Bt=n(57735),$t=n(92786);function Pt(t,e){if(void 0===e||0===e.length)return;const n=function(t){return t.map((t=>{const{field:e,operator:n,value:o}=t;if(e!==kt.Hh.TEXT&&e!==kt.Hh.TAGS||n!==kt.tl.CONTAINS)throw new Error("Invalid filter params!");return`${Ot[e]} ${Ut[n]} "${o}"`})).join(",")}(e),o=(0,$t.t)(e);t.url=`context://${t.uri}?filter=${encodeURIComponent(o)}`,t.metadata=t.metadata??{},t.metadata[Bt.W.FILTERING_PREDICATE]=n,t.metadata[Bt.W.LIST_UTIL_FILTER]=o}const Ot={[kt.Hh.TEXT]:"text",[kt.Hh.TAGS]:"tags"},Ut={[kt.tl.CONTAINS]:"=^#"};const Ht=[b.$C.INDEX,b.$C.TITLE_AND_ARTIST,b.$C.ALBUM,b.$C.ADDED_AT,b.$C.DURATION],Xt=({data:t,canFilter:e,canSort:n})=>{const{uri:a,name:s,totalLength:c}=t.metadata,l=(0,o.useRef)(null),u=(0,Ct.z)("#5038a0"),[d]=Y(),{filter:h}=(0,o.useContext)(_.g),{sortState:m,setSortState:T}=(0,o.useContext)(C.cL),{spec:E,logger:v}=(0,Ft.r)(p,{data:{uri:a}}),x=o.useMemo((()=>E.headerFactory()),[E]),S=o.useMemo((()=>E.tracklistFactory()),[E]);(0,o.useEffect)((()=>{null===m.column&&T({column:b.$C.ADDED_AT,order:b.Ht.DESC})}),[m,T]);const F=(0,r.wQ)(),N=(0,r.zy)(),D="POP"!==F?new URLSearchParams(N.search).get("uri"):null,{isPlaying:I,togglePlay:w,usePlayContextItem:R,isActive:k}=(0,Et.P)(function(t,e,n){const o={uri:t};return(0,jt.q)(o,e),Pt(o,n?.map((t=>(0,kt.HI)(t)??null)).filter(Vt.P)),o}(a,(0,ct.c)(m),[h,d].filter(Vt.P)),{featureIdentifier:"your_library",referrerIdentifier:"your_library"}),V=()=>{const t=(0,Lt.$I)({isPlaying:I,isActive:k,spec:E.actionBarFactory().playButtonFactory(),logger:v,uri:a});w({loggingParams:t})},[j]=(0,L.z)(),{isCompactMode:B}=(0,pt.a)(),$=(0,o.useMemo)((()=>(({isCompactMode:t=!1})=>{const e=[...Ht];return t&&e.splice(e.indexOf(b.$C.TITLE_AND_ARTIST),1,b.$C.TITLE,b.$C.ARTIST),e})({isCompactMode:B})),[B]);return(0,M.jsxs)("section",{role:"presentation","data-testid":"playlist-page",children:[(0,M.jsx)(A.Q,{children:g.Ru.get("playlist.page-title",s)}),(0,M.jsx)(_t.x,{metadata:{...t.metadata,hasSpotifyTracks:!0},totalItems:j,isPlaying:I,togglePlay:V,backgroundColor:u,specLikedSongs:x}),(0,M.jsx)(st,{metadata:t.metadata,onClickTogglePlay:V,isPlaying:I,spec:E,logger:v,backgroundColor:u,canSort:n,canFilter:e,columns:$}),(0,M.jsx)("div",{className:"contentSpacing",children:c>0?(0,M.jsx)(o.Suspense,{fallback:(0,M.jsx)(f.LoadingPage,{hasError:!1,errorMessage:g.Ru.get("error.request-collection-tracks-failure")}),children:(0,M.jsx)(at.r,{spec:S,children:(0,M.jsx)(wt.b,{nrTracks:c,collectionUri:a,scrollToUri:D,usePlayContextItem:R,outerDomRef:l,spec:S,initialItems:t.contents.items,isCompactMode:B,tagFilter:d,columns:$})})}):(0,M.jsx)(y.p,{message:g.Ru.get("collection.empty-page.songs-subtitle"),title:g.Ru.get("collection.empty-page.songs-title"),linkTo:"/search",linkTitle:g.Ru.get("collection.empty-page.songs-cta"),renderInline:!0,children:(0,M.jsx)(i.v,{"aria-hidden":"true"})})})]})},zt=o.memo((function({user:t,uri:e}){const{filter:n}=(0,o.useContext)(_.g),{sortState:a}=(0,o.useContext)(C.cL),[r]=Y(),i=function(t,e,n){const a=(0,U.f)(),r=(0,j.jE)(),i=(0,Rt.U0)((()=>["useLikedSongs",t,n]),[t,n]),{data:s}=(0,B.I)({queryKey:i(),queryFn:()=>a.getTracks(n),gcTime:18e5,placeholderData:$.rX,refetchOnWindowFocus:!1}),c=(0,o.useCallback)((()=>{r.invalidateQueries({queryKey:i()})}),[r,i]);(0,H.l)(O.UV.UPDATE,c);const l=(0,Mt.$R)(e.id);return l&&s?{metadata:{uri:t,name:l.name,images:l.images,totalLength:s?.totalLength,unfilteredTotalLength:s.unfilteredTotalLength,owner:(0,St.w)(e)},contents:s}:null}(e,t,{offset:0,limit:25,sort:(0,ct.c)(a),filters:[n,r].filter(Vt.P)}),s=(0,U.f)().getCapabilities();return i?(0,M.jsx)(Xt,{data:i,canFilter:s.canFilterTracks&&i.metadata.unfilteredTotalLength>0,canSort:s.canSortTracks&&i.metadata.unfilteredTotalLength>0}):(0,M.jsx)(f.LoadingPage,{hasError:!1,errorMessage:g.Ru.get("error.not_found.title.playlist"),loadOffline:s.canModifyOffline})})),Yt=()=>{const{user:t}=(0,a.d4)(bt.Ht);if((0,s.NC)(P.IZ_,{loadingValue:!1}))return(0,M.jsx)(It,{});if(null===t)return null;const e=(0,m.fHB)(t.id).toURI();return(0,M.jsx)(C.sn,{uri:e,children:(0,M.jsx)(_.s,{uri:e,children:(0,M.jsx)(L.S,{children:(0,M.jsx)(zt,{uri:e,user:t})})})})}},6936:function(t,e,n){t.exports=function(t){"use strict";function e(t,e,o,a){return void 0===e&&(e={}),Object.keys(e).reduce((function(r,i){if(/^on.*/.test(i))return r;var s=i;/^(data|aria)-/.test(i)||0===o.filter((function(t){return t instanceof RegExp?t.test(i):t===i})).length&&(s=n(i));var c,l,u=a(t,s);if("style"===u.name)r[u.name]=(c=e.style,l={},c.split(";").filter((function(t){return""!==t.trim()})).forEach((function(t){var e,o=t.split(":");if(o.length>1){var a=function(t){return/^-ms-/.test(t)&&(t=t.substr(1)),t.startsWith("--")?t:n(t)}(o[0].trim()),r=(e=o.slice(1).join(":").trim(),/^\d+$/.test(e)?Number(e):e.replace(/'/g,'"'));l[a]=r}})),l);else{var d=e[i],p=""===d||String(d).toLowerCase()===s.toLowerCase();r[u.name]=u.isBoolean?p:d}return r}),{})}function n(t){return t.replace(/(-|:)(.)/g,(function(t,e,n){return n.toUpperCase()}))}t=t&&t.hasOwnProperty("default")?t.default:t;var o=["table","tbody","thead","tfoot","tr"],a={for:"htmlFor",class:"className",allowfullscreen:["allowFullScreen","allowFullscreen"],autocomplete:"autoComplete",autofocus:["autoFocus"],contenteditable:"contentEditable",spellcheck:"spellCheck",srcdoc:"srcDoc",srcset:"srcSet",itemscope:"itemScope",itemprop:"itemProp",itemtype:"itemType"};function r(t,e){var n=a[e],o=document.createElement(t);if(n)return{name:Array.isArray(n)?n[0]:n,isBoolean:i(o,Array.isArray(n)?n[1]||e:n)};for(var r in o)if(r.toLowerCase()===e.toLowerCase())return{name:r,isBoolean:i(o,r)};return{name:e,isBoolean:i(o,e)}}function i(t,e){return t.setAttribute(e,""),!0===t[e]||s.indexOf(e)>-1}var s=["itemScope"];function c(e,n,o,a){void 0===a&&(a=null);var r=o[e],i=o._;return r?t.createElement(r,n,a):i?i(e,n,a):t.createElement(e,n,a)}return function(t,n){if(void 0===n&&(n={}),"string"!=typeof t)throw new TypeError("Expected HTML string");var a=document.createElement("div");a.innerHTML=t.trim();var i=Array.from(a.childNodes).map((function(t,a){return function t(n,a,i){var s=i.transform||{},l=i.preserveAttributes||[],u=i.dangerouslySetChildren||["style"],d=s._;if(8===n.nodeType)return null;if(3===n.nodeType){var p=n.textContent;return d?d(p):p}for(var h={},m=n.attributes,g=0;g<m.length;g++)h[m[g].name]=m[g].value;h.key=a.toString();var A=n.tagName.toLowerCase(),y=e(A,h,l,r),f=Array.from(n.childNodes).map((function(e,n){return o.indexOf(A)>-1&&3===e.nodeType&&(e.textContent=e.textContent.trim(),""===e.textContent)?null:t(e,a+"."+n,i)})).filter(Boolean);if(u.indexOf(A)>-1){var _=n.innerHTML;return _&&("style"!==A&&"script"!==A&&(_=_.replace(/"/g,"&quot;")),y.dangerouslySetInnerHTML={__html:_.trim()}),c(A,y,s)}var C=0===f.length?null:f;return c(A,y,s,C)}(t,String(a),n)})).filter(Boolean);return 1===i.length?i[0]:i}}(n(30758))},15652:(t,e,n)=>{"use strict";n.d(e,{d:()=>g});n(2557);var o=n(30758),a=n(70397),r=n(67902),i=n(53038),s=n(67082),c=n(77486);const l={"custom-order":s.RB,"title-and-artist-title":{column:c.$C.TITLE_AND_ARTIST,order:c.Ht.ASC},"title-and-artist-artist":{column:c.$C.TITLE_AND_ARTIST,order:c.Ht.SECONDARY_ASC},title:{column:c.$C.TITLE,order:c.Ht.ASC},artist:{column:c.$C.ARTIST,order:c.Ht.ASC},"added-by":{column:c.$C.ADDED_BY,order:c.Ht.ASC},"added-at":{column:c.$C.ADDED_AT,order:c.Ht.ASC},duration:{column:c.$C.DURATION,order:c.Ht.ASC},album:{column:c.$C.ALBUM,order:c.Ht.ASC},"album-or-podcast":{column:c.$C.ALBUM_OR_PODCAST,order:c.Ht.ASC},"album-or-show":{column:c.$C.ALBUM_OR_SHOW,order:c.Ht.ASC}},u={"title-and-artist-title":c.$C.TITLE_AND_ARTIST,"title-and-artist-artist":c.$C.TITLE_AND_ARTIST,title:c.$C.TITLE,artist:c.$C.ARTIST,"added-by":c.$C.ADDED_BY,"added-at":c.$C.ADDED_AT,duration:c.$C.DURATION,album:c.$C.ALBUM,"album-or-podcast":c.$C.ALBUM_OR_PODCAST,"album-or-show":c.$C.ALBUM_OR_SHOW},d={[c.Ht.NONE]:c.Ht.NONE,[c.Ht.ASC]:c.Ht.DESC,[c.Ht.DESC]:c.Ht.ASC,[c.Ht.SECONDARY_ASC]:c.Ht.SECONDARY_DESC,[c.Ht.SECONDARY_DESC]:c.Ht.SECONDARY_ASC},p={[c.$C.INDEX]:{key:"custom-order",get value(){return a.Ru.get("sort.custom-order")}},[c.$C.TITLE_AND_ARTIST]:{key:"title",get value(){return a.Ru.get("sort.title")}},[c.$C.TITLE]:{key:"title",get value(){return a.Ru.get("sort.title")}},[c.$C.ARTIST]:{key:"artist",get value(){return a.Ru.get("sort.artist")}},[c.$C.ADDED_BY]:{key:"added-by",get value(){return a.Ru.get("sort.added-by")}},[c.$C.ADDED_AT]:{key:"added-at",get value(){return a.Ru.get("sort.date-added")}},[c.$C.DURATION]:{key:"duration",get value(){return a.Ru.get("sort.duration")}},[c.$C.EVENT_DATE]:null,[c.$C.EVENT_INFO]:null,[c.$C.ALBUM]:{key:"album",get value(){return a.Ru.get("sort.album")}},[c.$C.ALBUM_OR_PODCAST]:{key:"album-or-podcast",get value(){return a.Ru.get("sort.album-or-podcast")}},[c.$C.ALBUM_OR_SHOW]:{key:"album-or-show",get value(){return a.Ru.get("sort.album-or-show")}},[c.$C.PLAYS]:null,[c.$C.RELEASE_DATE]:null,[c.$C.ADD]:null,[c.$C.ACTIONS]:null,[c.$C.CONCERT_VENUE]:null,[c.$C.CONCERT]:null,[c.$C.TITLE_AND_AUTHOR]:{key:"title",get value(){return a.Ru.get("sort.title")}},[c.$C.AUTHOR]:null,[c.$C.BPM]:null,[c.$C.KEY]:null,[c.$C.VIBE]:null};var h=n(86070);function m(t){return!!t}const g=({columns:t,disabled:e,onSort:n})=>{const g=[...t],A=g.indexOf(c.$C.TITLE_AND_ARTIST),y=g.indexOf(c.$C.TITLE_AND_AUTHOR);-1!==A&&g.splice(A,1,c.$C.TITLE,c.$C.ARTIST),-1!==y&&g.splice(y,1);const{sortState:f,setSortState:_}=(0,o.useContext)(s.cL),C=function(t){return null===t.column?p[c.$C.INDEX]:(0,r.kj)(t.column,t)?p[c.$C.ARTIST]:p[t.column]}(f),L=(0,o.useCallback)((t=>{n?.(),_(((t,e,n)=>t?e!==u[t]?l[t]??s.RB:{column:u[t]??s.RB.column,order:d[n]}:s.RB)(t,f.column,f.order))}),[n,_,f.column,f.order]),b=(0,o.useCallback)((()=>null!==f.column),[f.column]),T=g.map((t=>p[t])).filter(m);return(0,h.jsx)(i.g,{options:T,onSelect:L,selected:C,isSelectionChanged:b,sortOrder:f.order,heading:a.Ru.get("drop_down.sort_by"),disabled:e,enableViewModeMenu:!0})}},32131:(t,e,n)=>{"use strict";n.d(e,{p:()=>v});var o=n(30758),a=n(97500),r=n.n(a),i=n(78717),s=n(73136),c=n(7998),l=n(88018);const u="(min-width: 0px)",d="(min-width: 0px) and (max-width: 767px)",p="(min-width: 768px)",h="(min-width: 768px) and (max-width: 1023px)",m="(min-width: 1024px)",g="(min-width: 1024px) and (max-width: 1279px)",A="(min-width: 1280px)",y="(min-width: 1280px) and (max-width: 1919px)",f="(min-width: 1920px)",_="FvfvGU3jvHRskUU9v9_8",C="Q9AlbZn2EGzy3MTWXa8X",L="mxmxS0y8LiwSs5nueKPT",b="GXxVAveNFStY3pBI_NO4",T="eHcXC2s97InYP7rMNT0H";var E=n(86070);const v=(0,o.memo)((function(t){const{children:e,message:n,title:o,linkTitle:a,linkTo:v,onClick:x,renderInline:S=!1}=t,{isXSOnly:F,isSMOnly:N}={isXS:(0,l.U)(u),isXSOnly:(0,l.U)(d),isSM:(0,l.U)(p),isSMOnly:(0,l.U)(h),isMD:(0,l.U)(m),isMDOnly:(0,l.U)(g),isLG:(0,l.U)(A),isLGOnly:(0,l.U)(y),isXL:(0,l.U)(f)},D=F||N;return(0,E.jsxs)("section",{className:r()(_,{[C]:S}),children:[e,(0,E.jsx)(i.E,{as:"h1",variant:D?"titleSmall":"titleMedium",className:b,children:o}),(0,E.jsx)(i.E,{variant:D?"bodySmall":"bodyMedium",className:T,children:n}),a&&(v||x)&&(0,E.jsx)(s.$,{colorSet:"invertedLight",className:L,href:v,onClick:x,component:c.v,children:a})]})}))},36429:(t,e,n)=>{"use strict";n.d(e,{A:()=>o});const o={Heading:"playlist-playlist-heading",HTMLDescription:"playlist-playlist-playlistDescription",List:"playlist-playlist-list",ListItem:"playlist-playlist-listItem",Paragraph:"playlist-playlist-paragraph"}},56690:(t,e,n)=>{"use strict";n.d(e,{v:()=>A});var o=n(30758),a=n(6936),r=n.n(a),i=n(78717);n(77369);const s=/(\((?:[0-9]{1,3}:){1,2}[0-9]{2}\))/g;var c=n(96579),l=n(86070);const u=/((?:(?:https?:\/\/)|www\.)(?:(?:(?:[a-z\u00a1-\uffff0-9][-_]*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?:[/?#][^\s"]*)?)/gi,d=/^https?:\/\//;function p(t){return"string"==typeof t?(0,l.jsx)(l.Fragment,{children:t.split(u).map(((t,e)=>e%2?(0,l.jsx)(c.N,{to:`${d.test(t)?"":"https://"}${t}`,rel:"nofollow",children:t},e):t))}):t}var h=n(7376),m=n(36429);const g=(t=()=>{},e,n,a)=>{let r=0;const s={_:(t,e,i)=>{const s=void 0===e?t:i;return(0,l.jsx)(o.Fragment,{children:n&&!a?p(s):s},"fragment"+r++)}};if(a)return s;return{...s,p:t=>(0,l.jsx)(i.E,{as:"p",variant:"bodyMedium",semanticColor:e,className:m.A.Paragraph,children:n?p(t.children):t.children}),a:e=>e.href?.startsWith("#t=")?(0,l.jsx)(h.D,{onClick:t,children:e.children}):e.href?(0,l.jsx)(c.N,{to:e.href,rel:e.rel,children:e.children}):(0,l.jsx)(l.Fragment,{children:e.children}),ul:t=>(0,l.jsx)("ul",{className:m.A.List,children:t.children}),ol:t=>(0,l.jsx)("ol",{className:m.A.List,children:t.children}),li:t=>(0,l.jsx)(i.E,{as:"li",variant:"bodyMedium",semanticColor:e,className:m.A.ListItem,children:n?p(t.children):t.children}),br:()=>(0,l.jsx)("br",{}),h1:t=>(0,l.jsx)(i.E,{as:"h1",variant:"bodyMediumBold",semanticColor:e,className:m.A.Heading,children:t.children}),h2:t=>(0,l.jsx)(i.E,{as:"h2",variant:"bodyMediumBold",semanticColor:e,className:m.A.Heading,children:t.children}),h3:t=>(0,l.jsx)(i.E,{as:"h3",variant:"bodyMediumBold",semanticColor:e,className:m.A.Heading,children:t.children}),h4:t=>(0,l.jsx)(i.E,{as:"h4",variant:"bodyMediumBold",semanticColor:e,className:m.A.Heading,children:t.children}),h5:t=>(0,l.jsx)(i.E,{as:"h5",variant:"bodyMediumBold",semanticColor:e,className:m.A.Heading,children:t.children}),h6:t=>(0,l.jsx)(i.E,{as:"h6",variant:"bodyMediumBold",semanticColor:e,className:m.A.Heading,children:t.children}),time:e=>(0,l.jsx)(h.D,{onClick:t,children:e.children})}},A=(t,e=()=>{},n=!1,o="textSubdued",a=!1,i=!1)=>{const c=n?t.split(s).map((t=>t.match(s)?`(<time>${t.replace("(","").replace(")","")}</time>)`:t)).join(""):t;let l;try{l=r()(c,{transform:g(e,o,a,i),dangerouslySetChildren:[]})}catch{l=t}return l}},77077:(t,e,n)=>{"use strict";n.d(e,{w:()=>r});n(77369);var o=n(19151);function a(t){return{url:t.url,width:t.width||void 0,height:t.height||void 0}}function r(t){return{type:o.c.USER,uri:t.uri,username:t.id,displayName:t?.display_name||null,images:t?.images?.map(a)||[]}}},89636:(t,e,n)=>{"use strict";n.d(e,{q:()=>l});var o=n(30758),a=n(97500),r=n.n(a),i=n(56690),s=n(36429),c=n(86070);const l=o.memo(o.forwardRef((function({html:t,onTimeStampClick:e,enableTimestamps:n=!1,enableAutomaticLinkification:a=!1,semanticColor:l="textSubdued",className:u,asTextContent:d=!1},p){const h=(0,o.useMemo)((()=>(0,i.v)(t,e,n,l,a,d)),[n,a,t,e,l,d]);return(0,c.jsx)("div",{ref:p,className:r()(s.A.HTMLDescription,u),children:h})})))},97471:(t,e,n)=>{"use strict";n.d(e,{d:()=>l});var o=n(97500),a=n.n(o),r=n(2401),i=n(18298);const s="UyzJidwrGk3awngSGIwv";var c=n(86070);const l=({durationMs:t,className:e,displaySeconds:n})=>{const{hours:o,minutes:l,seconds:u}=(0,r.S)(t);return n=!1!==n&&!o&&u,(0,c.jsx)("span",{className:a()(s,e),children:(0,i.j)({h:o,m:l,s:n?u:0})})}}}]);
//# sourceMappingURL=xpui-routes-collection-songs.js.map