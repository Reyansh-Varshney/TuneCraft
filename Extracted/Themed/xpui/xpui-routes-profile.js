"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9480],{990:(e,t,a)=>{a.d(t,{X:()=>s});var i=a(97500),o=a.n(i),n=a(84195),r=a(86070);const s=({children:e})=>(0,r.jsx)("div",{className:o()(n.A.imageContainer,n.A.imageContainerNew),children:e})},33246:(e,t,a)=>{a.d(t,{M:()=>d});var i=a(83177),o=a(20568),n=a(28054),r=a(62566),s=a(73191);const l="profile-editImage-imageContainer",c="profile-editImage-editImageButtonContainer";var u=a(86070);const d=function({onClick:e,name:t,images:a,canEdit:d,placeholderType:m,shape:p=o.u.SQUARE,dragUri:h=""}){const[g,f]=(0,r.P)(a),v=(0,s.b)(g,f)===s.g.loaded,{draggable:b,onDragStart:y}=(0,n.P)({itemUris:[h],dragLabelText:t});return(0,u.jsxs)("div",{className:l,"data-testid":`${m}-image`,draggable:b&&!!h,onDragStart:y,children:[(0,u.jsx)(o.b,{loading:"eager",name:t,images:a,placeholderType:m,shape:p}),d&&(0,u.jsx)("div",{className:c,children:(0,u.jsx)(i.a,{overlay:v,onClick:e,rounded:p===o.u.CIRCLE})})]})}},34343:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ja});var i=a(30758),o=a(85387),n=a(11120),r=a(18831),s=a(51995),l=(a(77369),a(99373)),c=a(70397),u=a(3877),d=a(92544),m=a(79915),p=a(76947),h=a(86070);const g=({entity:e,index:t})=>(0,r.ecE)(e.uri)?(0,h.jsx)(m.a,{index:t,uri:e.uri,name:e.name,images:[{url:e.image_url}]}):(0,h.jsx)(p.a,{index:t,uri:e.uri,name:e.name,images:[{url:e.image_url}]});var f=a(92413),v=a(2715);const b=e=>{const{uri:t}=e,{data:a,loading:i,error:o}=(0,v.Z)(f.SR,[t]),n=a?.profiles;if(i||o){const e=null!==o;return(0,h.jsx)(u.LoadingPage,{hasError:e,errorMessage:c.Ru.get("error.not_found.title.page")})}return(0,h.jsx)(d.$,{title:c.Ru.get("followers"),total:n?.length,showAll:!0,fullPage:!0,rowGap:l.lT,children:n?.map(((e,t)=>(0,h.jsx)(g,{index:t,entity:e},e.uri)))})};a(2557);var y=a(40539);const _="WqHooc2Y_6VuGI84LxQj",x=e=>{const{uri:t}=e,{data:a,loading:o,error:n}=(0,v.Z)(f.mH,[t]),s=a?.profiles,l=(0,i.useMemo)((()=>s?.filter((e=>(0,r.ecE)(e.uri)))||[]),[s]),m=(0,i.useMemo)((()=>s?.filter((e=>(0,r.APS)(e.uri)))||[]),[s]),[p,b]=(0,i.useState)("all"),x=l.length&&m.length,A=(0,i.useMemo)((()=>{if(!x)return s;switch(p){case"artists":return l;case"users":return m;default:return s}}),[p,s,l,m,x]),j=(0,i.useCallback)((()=>x?(0,h.jsxs)("div",{className:_,children:[(0,h.jsx)(y.v,{selected:"all"===p,onClick:()=>{b("all")},selectedColorSet:"invertedLight",children:c.Ru.get("web-player.user-page.following.filter-all")}),(0,h.jsx)(y.v,{selected:"artists"===p,onClick:()=>{b("artists")},selectedColorSet:"invertedLight",children:c.Ru.get("web-player.user-page.following.filter-artists")}),(0,h.jsx)(y.v,{selected:"users"===p,onClick:()=>{b("users")},selectedColorSet:"invertedLight",children:c.Ru.get("web-player.user-page.following.filter-friends")})]}):(0,h.jsx)(h.Fragment,{})),[p,x]);if(o||n){const e=null!==n;return(0,h.jsx)(u.LoadingPage,{hasError:e,errorMessage:c.Ru.get("error.not_found.title.page")})}return(0,h.jsx)(d.$,{title:c.Ru.get("following"),total:s?.length,showAll:!0,fullPage:!0,renderSubHeader:j,children:A?.map(((e,t)=>(0,h.jsx)(g,{index:t,entity:e},e.uri)))})};a(87175);var A=a(51822),j=a(62411),k=a(42551),L=a(65809);const w="music",I="2.0.0",C="default",E="12.2.0";function T(e){return new R(e)}class R{constructor(e){this._path=[{name:"desktop-profile",...e.data}],e?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=e.parentAbsoluteLocation)}headerFactory(){return new R.HeaderEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}actionBarFactory(){return new R.ActionBarEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}sectionTopTracksFactory(){return new R.SectionTopTracksEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[C,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[I,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}!function(e){e.HeaderEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"header"}),t&&(this._parentAbsoluteLocation=t)}profileImageFactory(){return new e.HeaderEventFactory.ProfileImageEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}usernameFactory(){return new e.HeaderEventFactory.UsernameEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}followersLinkFactory(){return new e.HeaderEventFactory.FollowersLinkEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}followingLinkFactory(){return new e.HeaderEventFactory.FollowingLinkEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[C,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[I,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}}(R||(R={})),function(e){e.ActionBarEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"action_bar"}),t&&(this._parentAbsoluteLocation=t)}followButtonFactory(){return new e.ActionBarEventFactory.FollowButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}contextMenuButtonFactory(){return new e.ActionBarEventFactory.ContextMenuButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[C,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[I,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}}(R||(R={})),function(e){e.SectionTopTracksEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"section_top_tracks"}),t&&(this._parentAbsoluteLocation=t)}titleLinkFactory(){return new e.SectionTopTracksEventFactory.TitleLinkEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}seeMoreLinkFactory(){return new e.SectionTopTracksEventFactory.SeeMoreLinkEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[C,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[I,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}}(R||(R={})),function(e){!function(e){e.ProfileImageEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"profile_image"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[C,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[I,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:w,generatorVersion:E,interactionType:"hit",specificationMode:C,specificationVersion:I,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.HeaderEventFactory||(e.HeaderEventFactory={}))}(R||(R={})),function(e){!function(e){e.UsernameEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"username"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[C,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[I,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:w,generatorVersion:E,interactionType:"hit",specificationMode:C,specificationVersion:I,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.HeaderEventFactory||(e.HeaderEventFactory={}))}(R||(R={})),function(e){!function(e){e.FollowersLinkEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"followers_link"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[C,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[I,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:w,generatorVersion:E,interactionType:"hit",specificationMode:C,specificationVersion:I,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.HeaderEventFactory||(e.HeaderEventFactory={}))}(R||(R={})),function(e){!function(e){e.FollowingLinkEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"following_link"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[C,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[I,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:w,generatorVersion:E,interactionType:"hit",specificationMode:C,specificationVersion:I,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.HeaderEventFactory||(e.HeaderEventFactory={}))}(R||(R={})),function(e){!function(e){e.FollowButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"follow_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[C,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[I,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitFollow({itemToBeFollowed:e}){return{actionParameterNames:["item_to_be_followed"],actionParameterValues:[e.toString()],actionName:"follow",actionVersion:1,app:w,generatorVersion:E,interactionType:"hit",specificationMode:C,specificationVersion:I,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitUnfollow({itemToBeUnfollowed:e}){return{actionParameterNames:["item_to_be_unfollowed"],actionParameterValues:[e.toString()],actionName:"unfollow",actionVersion:1,app:w,generatorVersion:E,interactionType:"hit",specificationMode:C,specificationVersion:I,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(R||(R={})),function(e){!function(e){e.ContextMenuButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"context_menu_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[C,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[I,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:w,generatorVersion:E,interactionType:"hit",specificationMode:C,specificationVersion:I,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.ActionBarEventFactory||(e.ActionBarEventFactory={}))}(R||(R={})),function(e){!function(e){e.TitleLinkEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"title_link"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[C,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[I,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:w,generatorVersion:E,interactionType:"hit",specificationMode:C,specificationVersion:I,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.SectionTopTracksEventFactory||(e.SectionTopTracksEventFactory={}))}(R||(R={})),function(e){!function(e){e.SeeMoreLinkEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:a}){this._path=e.concat({name:"see_more_link"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[C,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[I,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiNavigate({destination:e}){return{actionParameterNames:["destination"],actionParameterValues:[e.toString()],actionName:"ui_navigate",actionVersion:1,app:w,generatorVersion:E,interactionType:"hit",specificationMode:C,specificationVersion:I,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(e.SectionTopTracksEventFactory||(e.SectionTopTracksEventFactory={}))}(R||(R={}));var N=a(95685),P=a(35054),S=a(93624),F=a(19399),O=a(33246),M=a(49740),U=a(990),V=a(19667),B=a(98210),D=a(4218),H=a(20568),G=a(63450),z=a(24448),W=a(27691),q=a(82092),J=a(97500),Q=a.n(J),$=a(78717),K=a(30920),Z=a(65620),X=a(73136),Y=a(57157),ee=a(80221),te=a(65289),ae=a(98543),ie=a(99974),oe=a(62566),ne=a(73191);const re="profile-userEditDetails-image",se="valcBm4lLe9qFBcg0sFY",le="tAIzXn8C9KriGwGuBfWg",ce="PsrXxenHUFXYM1ub1xWw",ue="U_VWfeeLWnDPhUTxCmrQ",de=function({onClickEdit:e,onClickRemove:t,name:a,images:i,canEdit:o}){const[n,r]=(0,oe.P)(i),s=(0,ne.b)(n,r)===ne.g.loaded;return(0,h.jsxs)("div",{className:re,children:[(0,h.jsx)(H.b,{loading:"eager",name:a,images:i,placeholderType:"user",shape:H.u.CIRCLE}),o&&(0,h.jsxs)("div",{className:Q()(se,{[ce]:s}),children:[(0,h.jsx)("button",{className:le,"aria-haspopup":"true",onClick:e,type:"button",children:(0,h.jsx)($.E,{variant:"bodyMedium",children:c.Ru.get("user.edit-details.choose-photo")})}),(0,h.jsx)("div",{className:Q()(ue,"icon"),children:(0,h.jsx)(ie.G,{size:"xlarge","aria-hidden":!0})}),(0,h.jsx)("button",{className:le,onClick:t,type:"button",children:(0,h.jsx)($.E,{variant:"bodyMedium",children:c.Ru.get("user.edit-details.remove-photo")})})]})]})};a(82745),a(2857),a(63339),a(97819);var me=a(59881);const pe={paths:""},he={encode(e,t=me.Writer.create()){for(const a of e.paths)t.uint32(10).string(a);return t},decode(e,t){const a=e instanceof Uint8Array?new me.Reader(e):e;let i=void 0===t?a.len:a.pos+t;const o={...pe};for(o.paths=[];a.pos<i;){const e=a.uint32();if(e>>>3==1)o.paths.push(a.string());else a.skipType(7&e)}return o},fromJSON(e){const t={...pe};if(t.paths=[],void 0!==e.paths&&null!==e.paths)for(const a of e.paths)t.paths.push(String(a));return t},fromPartial(e){const t={...pe};if(t.paths=[],void 0!==e.paths&&null!==e.paths)for(const a of e.paths)t.paths.push(a);return t},toJSON(e){const t={};return e.paths?t.paths=e.paths.map((e=>e)):t.paths=[],t}};a(54871);var ge=a(42288),fe=a(84686).hp;const ve={value:0},be={value:!1},ye={value:""};const _e={encode:(e,t=me.Writer.create())=>(t.uint32(8).int32(e.value),t),decode(e,t){const a=e instanceof Uint8Array?new me.Reader(e):e;let i=void 0===t?a.len:a.pos+t;const o={...ve};for(;a.pos<i;){const e=a.uint32();if(e>>>3==1)o.value=a.int32();else a.skipType(7&e)}return o},fromJSON(e){const t={...ve};return void 0!==e.value&&null!==e.value?t.value=Number(e.value):t.value=0,t},fromPartial(e){const t={...ve};return void 0!==e.value&&null!==e.value?t.value=e.value:t.value=0,t},toJSON(e){const t={};return void 0!==e.value&&(t.value=e.value),t}},xe={encode:(e,t=me.Writer.create())=>(t.uint32(8).bool(e.value),t),decode(e,t){const a=e instanceof Uint8Array?new me.Reader(e):e;let i=void 0===t?a.len:a.pos+t;const o={...be};for(;a.pos<i;){const e=a.uint32();if(e>>>3==1)o.value=a.bool();else a.skipType(7&e)}return o},fromJSON(e){const t={...be};return void 0!==e.value&&null!==e.value?t.value=Boolean(e.value):t.value=!1,t},fromPartial(e){const t={...be};return void 0!==e.value&&null!==e.value?t.value=e.value:t.value=!1,t},toJSON(e){const t={};return void 0!==e.value&&(t.value=e.value),t}},Ae={encode:(e,t=me.Writer.create())=>(t.uint32(10).string(e.value),t),decode(e,t){const a=e instanceof Uint8Array?new me.Reader(e):e;let i=void 0===t?a.len:a.pos+t;const o={...ye};for(;a.pos<i;){const e=a.uint32();if(e>>>3==1)o.value=a.string();else a.skipType(7&e)}return o},fromJSON(e){const t={...ye};return void 0!==e.value&&null!==e.value?t.value=String(e.value):t.value="",t},fromPartial(e){const t={...ye};return void 0!==e.value&&null!==e.value?t.value=e.value:t.value="",t},toJSON(e){const t={};return void 0!==e.value&&(t.value=e.value),t}};me.util.Long!==ge.A&&(me.util.Long=ge.A,(0,me.configure)());const je=globalThis;je.atob,je.btoa;const ke={maxWidth:0,maxHeight:0,url:""},Le={},we={},Ie={encode:(e,t=me.Writer.create())=>(t.uint32(8).int32(e.maxWidth),t.uint32(16).int32(e.maxHeight),t.uint32(26).string(e.url),t),decode(e,t){const a=e instanceof Uint8Array?new me.Reader(e):e;let i=void 0===t?a.len:a.pos+t;const o={...ke};for(;a.pos<i;){const e=a.uint32();switch(e>>>3){case 1:o.maxWidth=a.int32();break;case 2:o.maxHeight=a.int32();break;case 3:o.url=a.string();break;default:a.skipType(7&e)}}return o},fromJSON(e){const t={...ke};return void 0!==e.maxWidth&&null!==e.maxWidth?t.maxWidth=Number(e.maxWidth):t.maxWidth=0,void 0!==e.maxHeight&&null!==e.maxHeight?t.maxHeight=Number(e.maxHeight):t.maxHeight=0,void 0!==e.url&&null!==e.url?t.url=String(e.url):t.url="",t},fromPartial(e){const t={...ke};return void 0!==e.maxWidth&&null!==e.maxWidth?t.maxWidth=e.maxWidth:t.maxWidth=0,void 0!==e.maxHeight&&null!==e.maxHeight?t.maxHeight=e.maxHeight:t.maxHeight=0,void 0!==e.url&&null!==e.url?t.url=e.url:t.url="",t},toJSON(e){const t={};return void 0!==e.maxWidth&&(t.maxWidth=e.maxWidth),void 0!==e.maxHeight&&(t.maxHeight=e.maxHeight),void 0!==e.url&&(t.url=e.url),t}},Ce={encode(e,t=me.Writer.create()){void 0!==e.username&&void 0!==e.username&&Ae.encode({value:e.username},t.uint32(10).fork()).ldelim(),void 0!==e.name&&void 0!==e.name&&Ae.encode({value:e.name},t.uint32(18).fork()).ldelim();for(const a of e.images)Ie.encode(a,t.uint32(26).fork()).ldelim();return void 0!==e.verified&&void 0!==e.verified&&xe.encode({value:e.verified},t.uint32(34).fork()).ldelim(),void 0!==e.editProfileDisabled&&void 0!==e.editProfileDisabled&&xe.encode({value:e.editProfileDisabled},t.uint32(42).fork()).ldelim(),void 0!==e.reportAbuseDisabled&&void 0!==e.reportAbuseDisabled&&xe.encode({value:e.reportAbuseDisabled},t.uint32(50).fork()).ldelim(),void 0!==e.abuseReportedName&&void 0!==e.abuseReportedName&&xe.encode({value:e.abuseReportedName},t.uint32(58).fork()).ldelim(),void 0!==e.abuseReportedImage&&void 0!==e.abuseReportedImage&&xe.encode({value:e.abuseReportedImage},t.uint32(66).fork()).ldelim(),void 0!==e.hasSpotifyName&&void 0!==e.hasSpotifyName&&xe.encode({value:e.hasSpotifyName},t.uint32(74).fork()).ldelim(),void 0!==e.hasSpotifyImage&&void 0!==e.hasSpotifyImage&&xe.encode({value:e.hasSpotifyImage},t.uint32(82).fork()).ldelim(),void 0!==e.color&&void 0!==e.color&&_e.encode({value:e.color},t.uint32(90).fork()).ldelim(),t},decode(e,t){const a=e instanceof Uint8Array?new me.Reader(e):e;let i=void 0===t?a.len:a.pos+t;const o={...Le};for(o.images=[];a.pos<i;){const e=a.uint32();switch(e>>>3){case 1:o.username=Ae.decode(a,a.uint32()).value;break;case 2:o.name=Ae.decode(a,a.uint32()).value;break;case 3:o.images.push(Ie.decode(a,a.uint32()));break;case 4:o.verified=xe.decode(a,a.uint32()).value;break;case 5:o.editProfileDisabled=xe.decode(a,a.uint32()).value;break;case 6:o.reportAbuseDisabled=xe.decode(a,a.uint32()).value;break;case 7:o.abuseReportedName=xe.decode(a,a.uint32()).value;break;case 8:o.abuseReportedImage=xe.decode(a,a.uint32()).value;break;case 9:o.hasSpotifyName=xe.decode(a,a.uint32()).value;break;case 10:o.hasSpotifyImage=xe.decode(a,a.uint32()).value;break;case 11:o.color=_e.decode(a,a.uint32()).value;break;default:a.skipType(7&e)}}return o},fromJSON(e){const t={...Le};if(t.images=[],void 0!==e.username&&null!==e.username?t.username=String(e.username):t.username=void 0,void 0!==e.name&&null!==e.name?t.name=String(e.name):t.name=void 0,void 0!==e.images&&null!==e.images)for(const a of e.images)t.images.push(Ie.fromJSON(a));return void 0!==e.verified&&null!==e.verified?t.verified=Boolean(e.verified):t.verified=void 0,void 0!==e.editProfileDisabled&&null!==e.editProfileDisabled?t.editProfileDisabled=Boolean(e.editProfileDisabled):t.editProfileDisabled=void 0,void 0!==e.reportAbuseDisabled&&null!==e.reportAbuseDisabled?t.reportAbuseDisabled=Boolean(e.reportAbuseDisabled):t.reportAbuseDisabled=void 0,void 0!==e.abuseReportedName&&null!==e.abuseReportedName?t.abuseReportedName=Boolean(e.abuseReportedName):t.abuseReportedName=void 0,void 0!==e.abuseReportedImage&&null!==e.abuseReportedImage?t.abuseReportedImage=Boolean(e.abuseReportedImage):t.abuseReportedImage=void 0,void 0!==e.hasSpotifyName&&null!==e.hasSpotifyName?t.hasSpotifyName=Boolean(e.hasSpotifyName):t.hasSpotifyName=void 0,void 0!==e.hasSpotifyImage&&null!==e.hasSpotifyImage?t.hasSpotifyImage=Boolean(e.hasSpotifyImage):t.hasSpotifyImage=void 0,void 0!==e.color&&null!==e.color?t.color=Number(e.color):t.color=void 0,t},fromPartial(e){const t={...Le};if(t.images=[],void 0!==e.username&&null!==e.username?t.username=e.username:t.username=void 0,void 0!==e.name&&null!==e.name?t.name=e.name:t.name=void 0,void 0!==e.images&&null!==e.images)for(const a of e.images)t.images.push(Ie.fromPartial(a));return void 0!==e.verified&&null!==e.verified?t.verified=e.verified:t.verified=void 0,void 0!==e.editProfileDisabled&&null!==e.editProfileDisabled?t.editProfileDisabled=e.editProfileDisabled:t.editProfileDisabled=void 0,void 0!==e.reportAbuseDisabled&&null!==e.reportAbuseDisabled?t.reportAbuseDisabled=e.reportAbuseDisabled:t.reportAbuseDisabled=void 0,void 0!==e.abuseReportedName&&null!==e.abuseReportedName?t.abuseReportedName=e.abuseReportedName:t.abuseReportedName=void 0,void 0!==e.abuseReportedImage&&null!==e.abuseReportedImage?t.abuseReportedImage=e.abuseReportedImage:t.abuseReportedImage=void 0,void 0!==e.hasSpotifyName&&null!==e.hasSpotifyName?t.hasSpotifyName=e.hasSpotifyName:t.hasSpotifyName=void 0,void 0!==e.hasSpotifyImage&&null!==e.hasSpotifyImage?t.hasSpotifyImage=e.hasSpotifyImage:t.hasSpotifyImage=void 0,void 0!==e.color&&null!==e.color?t.color=e.color:t.color=void 0,t},toJSON(e){const t={};return void 0!==e.username&&(t.username=e.username),void 0!==e.name&&(t.name=e.name),e.images?t.images=e.images.map((e=>e?Ie.toJSON(e):void 0)):t.images=[],void 0!==e.verified&&(t.verified=e.verified),void 0!==e.editProfileDisabled&&(t.editProfileDisabled=e.editProfileDisabled),void 0!==e.reportAbuseDisabled&&(t.reportAbuseDisabled=e.reportAbuseDisabled),void 0!==e.abuseReportedName&&(t.abuseReportedName=e.abuseReportedName),void 0!==e.abuseReportedImage&&(t.abuseReportedImage=e.abuseReportedImage),void 0!==e.hasSpotifyName&&(t.hasSpotifyName=e.hasSpotifyName),void 0!==e.hasSpotifyImage&&(t.hasSpotifyImage=e.hasSpotifyImage),void 0!==e.color&&(t.color=e.color),t}},Ee={encode:(e,t=me.Writer.create())=>(void 0!==e.mask&&void 0!==e.mask&&he.encode(e.mask,t.uint32(10).fork()).ldelim(),void 0!==e.userProfile&&void 0!==e.userProfile&&Ce.encode(e.userProfile,t.uint32(18).fork()).ldelim(),t),decode(e,t){const a=e instanceof Uint8Array?new me.Reader(e):e;let i=void 0===t?a.len:a.pos+t;const o={...we};for(;a.pos<i;){const e=a.uint32();switch(e>>>3){case 1:o.mask=he.decode(a,a.uint32());break;case 2:o.userProfile=Ce.decode(a,a.uint32());break;default:a.skipType(7&e)}}return o},fromJSON(e){const t={...we};return void 0!==e.mask&&null!==e.mask?t.mask=he.fromJSON(e.mask):t.mask=void 0,void 0!==e.userProfile&&null!==e.userProfile?t.userProfile=Ce.fromJSON(e.userProfile):t.userProfile=void 0,t},fromPartial(e){const t={...we};return void 0!==e.mask&&null!==e.mask?t.mask=he.fromPartial(e.mask):t.mask=void 0,void 0!==e.userProfile&&null!==e.userProfile?t.userProfile=Ce.fromPartial(e.userProfile):t.userProfile=void 0,t},toJSON(e){const t={};return void 0!==e.mask&&(t.mask=e.mask?he.toJSON(e.mask):void 0),void 0!==e.userProfile&&(t.userProfile=e.userProfile?Ce.toJSON(e.userProfile):void 0),t}};var Te=a(55827),Re=a(98379);const Ne=`${Te.I_}/identity`;async function Pe(e,t,{name:a,imageUploadToken:i}){void 0!==a&&await async function(e,t,a){const i=Ee.encode(Ee.fromPartial({mask:{paths:["name"]},userProfile:null!==a?{name:a}:{}}));await e.build().withHost(Ne).withMethod("POST").withPath(`/v3/user/username/${encodeURIComponent((0,Re.v)(t))}`).withEndpointIdentifier("/v3/user/username/{username}").withBody(i.finish()).withoutMarket().send()}(e,t,a),void 0!==i&&(null!==i?await async function(e,t,a){await e.build().withHost(Ne).withMethod("POST").withPath(`/v3/profile-image/${encodeURIComponent((0,Re.v)(t))}/${a}`).withEndpointIdentifier("/v3/profile-image/{username}/{uploadToken}").withoutMarket().send()}(e,t,i):await async function(e,t){await e.build().withHost(Ne).withMethod("DELETE").withPath(`/v3/profile-image/${encodeURIComponent((0,Re.v)(t))}`).withEndpointIdentifier("/v3/profile-image/{username}").withoutMarket().send()}(e,t))}var Se=a(76972);const Fe={type:"error",get message(){return c.Ru.get("user.edit-details.error.file-size-exceeded",10)}},Oe={type:"error",get message(){return c.Ru.get("user.edit-details.error.too-small",300,300)}},Me={type:"error",get message(){return c.Ru.get("user.edit-details.error.too-big",1e4,1e4)}},Ue={type:"error",get message(){return c.Ru.get("user.edit-details.error.image-type-not-supported")}},Ve={type:"error",get message(){return c.Ru.get("user.edit-details.error.missing-name")}},Be={type:"error",get message(){return c.Ru.get("user.edit-details.error.failed-to-save")}},De={type:"error",get message(){return c.Ru.get("user.edit-details.error.file-upload-failed")}};function He(e){return{type:"setLoading",loading:e}}function Ge(e){return{type:"setMessage",message:e}}function ze(e,t){switch(t.type){case"setName":return{...e,name:t.name};case"setMessage":return{...e,message:t.message,loading:!1};case"setLoading":return{...e,loading:t.loading,message:null};case"setImageData":return{...e,imageData:t.data,removeImage:!1};case"setImageToken":return{...e,imageToken:t.token,removeImage:!1};case"removeImage":return{...e,imageToken:void 0,imageData:void 0,image:void 0,removeImage:!0};default:return e}}const We="profile-userEditDetails-container",qe="profile-userEditDetails-content",Je="profile-userEditDetails-header",Qe="profile-userEditDetails-closeButton",$e="vAeyAmeLkDEDKdL9Hou0",Ke="dnmzO6yYKkxUV8jl7O1Z",Ze="profile-userEditDetails-nameInput",Xe="profile-userEditDetails-name",Ye="profile-userEditDetails-label",et="profile-userEditDetails-labelText",tt="dMhJaxli87_22jb_3d9x",at="profile-userEditDetails-saveButton",it="profile-userEditDetails-disclaimer",ot=i.memo((function({uri:e,name:t,image:a,onClose:o,shouldOpenImagePicker:n,userCapabilities:r}){const[s,l]=(0,te.p)(),[u,d]=function({name:e,image:t}){return(0,i.useReducer)(ze,{loading:!1,message:null,name:e,image:t})}({name:t,image:a}),m=(0,i.useMemo)((()=>{const e=u.imageData||u.image;return e?[{url:e,width:300,height:300}]:[]}),[u.image,u.imageData]);(0,i.useEffect)((()=>{n&&l()}),[l,n]);const p=(0,i.useCallback)((e=>{e===ee.i.FILE_TOO_BIG?d(Ge(Fe)):e===ee.i.IMAGE_TOO_SMALL?d(Ge(Oe)):e===ee.i.IMAGE_TOO_BIG?d(Ge(Me)):e===ee.i.IMAGE_TYPE_NOT_SUPPORTED&&d(Ge(Ue))}),[d]),g=(0,i.useCallback)((()=>{d({type:"removeImage"})}),[d]),f=(0,i.useCallback)((async t=>{t.preventDefault();if(0!==u.name.trim().length){d(He(!0));try{const t=u.removeImage?null:u.imageToken;await async function(e,{name:t,imageUploadToken:a}){await Pe(Se.n.getInstance(),e,{name:t,imageUploadToken:a})}(e,{name:u.name,imageUploadToken:t}),o({name:u.name,image:u.imageData||u.image})}catch(e){d(Ge(Be))}}else d(Ge(Ve))}),[d,o,u.image,u.imageData,u.imageToken,u.name,u.removeImage,e]);return(0,h.jsx)(Y.A,{isOpen:!0,contentLabel:c.Ru.get("user.edit-details.title"),onRequestClose:()=>o(),children:(0,h.jsxs)("div",{className:We,children:[(0,h.jsxs)("div",{className:Je,children:[(0,h.jsx)($.E,{as:"h1",variant:"titleSmall",children:c.Ru.get("user.edit-details.title")}),(0,h.jsx)("button",{className:Qe,onClick:()=>o(),"aria-label":c.Ru.get("close"),children:(0,h.jsx)(K.M,{size:"small"})})]}),u.message&&(0,h.jsx)(ae.z,{isErrorMessage:"error"===u.message.type,message:u.message.message}),(0,h.jsxs)("form",{className:qe,onSubmit:f,children:[r.edit_image&&(0,h.jsx)(ee.u,{isOpen:s,minImageWidth:300,minImageHeight:300,maxFileSizeMB:10,onChange:async function(e){if(!e)return;const{imageFile:t,imageDataUrl:a}=e;if(d(Ge(null)),d({type:"setImageData",data:a}),t)try{d(He(!0));const e=await async function(e){const t=await Se.n.getInstance().build().withEndpointIdentifier("image-upload/v4/user-profile").withHost("https://image-upload.spotify.com/v4").withMethod("POST").withPath("/user-profile").withBody(e).withoutGlobalHeaders().withHeaders([{key:"Content-Type",value:e.type}]).withoutMarket().send();if(!t.body)throw new Error("No upload token received");return t.body.uploadToken}(t);d({type:"setImageToken",token:e}),d(He(!1))}catch{d(Ge(De))}},onError:p}),(0,h.jsxs)("div",{className:$e,children:[(0,h.jsx)(de,{name:t,images:m,onClickEdit:l,onClickRemove:g,canEdit:r.edit_image}),u.loading&&(0,h.jsx)("div",{className:Ke,children:(0,h.jsx)(Z.I,{})})]}),(0,h.jsxs)("div",{className:Xe,children:[(0,h.jsx)("label",{htmlFor:"user-edit-name",className:Ye,children:(0,h.jsx)($.E,{variant:"marginalBold",className:et,children:c.Ru.get("user.edit-details.name-label")})}),(0,h.jsx)("input",{"data-testid":"user-edit-name-input",id:"user-edit-name",type:"text",dir:"auto",className:Q()(Ze,tt),onChange:e=>{d(function(e){return{type:"setName",name:e}}(e.target.value))},placeholder:c.Ru.get("user.edit-details.name-placeholder"),maxLength:32,value:u.name,disabled:!r.edit_name})]}),(0,h.jsx)("div",{className:at,children:(0,h.jsx)(X.$,{colorSet:"invertedLight",onClick:f,disabled:u.loading,children:c.Ru.get("save")})}),(0,h.jsx)($.E,{as:"p",variant:"marginalBold",className:it,children:c.Ru.get("image-upload.legal-disclaimer")})]})]})})}));var nt=a(8616),rt=a(8594),st=a(89145),lt=a(65720),ct=a(33923),ut=a(64224),dt=a(54596),mt=a(45786),pt=a(66633);const ht=i.memo((function({openModal:e,spec:t,logger:a,name:o,backgroundColor:n,isCurrentUser:r,uri:s}){const[l,u]=(0,pt.Y)(s),d=!(0,mt.n)(),m=(0,i.useCallback)((()=>{const e=t.actionBarFactory().followButtonFactory();l?(u(!1),a.logInteraction(e.hitUnfollow({itemToBeUnfollowed:s}))):(u(!0),a.logInteraction(e.hitFollow({itemToBeFollowed:s})))}),[l,a,u,t,s]),p=(0,i.useCallback)((()=>{const e=t.actionBarFactory().contextMenuButtonFactory().hitUiReveal();a.logInteraction(e)}),[a,t]),g=(0,dt.j)();return(0,h.jsx)(nt.E,{backgroundColor:n,children:(0,h.jsxs)(rt.S,{children:[!r&&(0,h.jsx)(ct.e,{children:(0,h.jsx)(ut.W,{isFollowing:Boolean(l),onClick:m,disabled:d})}),(0,h.jsx)(lt.b,{menu:(0,h.jsx)(S.B,{uri:s,onEditProfileCallback:e}),children:(0,h.jsx)(st.e,{label:c.Ru.get("more.label.context",o),onClick:p,size:g})})]})})}));var gt=a(62272),ft=a(58444),vt=a(64010),bt=a(96579),yt=a(80464);function _t({children:e,...t}){return(0,yt.V)()?(0,h.jsx)(h.Fragment,{children:e}):(0,h.jsx)(bt.N,{...t,children:e})}function xt({userUri:e,totalPublicPlaylistsCount:t,followersCount:a,followingCount:i,theyFollowUs:o,spec:n,logger:s}){return(0,h.jsxs)(gt.X,{children:[t>0&&(0,h.jsx)(ft.q,{children:c.Ru.get("user.public-playlists",t)}),(0,h.jsx)(vt.J,{}),a>0&&(0,h.jsx)(_t,{to:(0,r.Qjr)((0,Re.v)(e),["followers"]).toURI(),onClick:(e,t)=>{if(!t)return;const a=n.headerFactory().followersLinkFactory().hitUiNavigate({destination:t});s.logInteraction(a)},children:(0,h.jsx)($.E,{variant:"bodySmall",children:c.Ru.get("user.followers",a)})}),(0,h.jsx)(vt.J,{}),i>0&&(0,h.jsx)(_t,{to:(0,r.Qjr)((0,Re.v)(e),["following"]).toURI(),onClick:(e,t)=>{if(!t)return;const a=n.headerFactory().followersLinkFactory().hitUiNavigate({destination:t});s.logInteraction(a)},children:(0,h.jsx)($.E,{variant:"bodySmall",children:c.Ru.get("user.following",i)})}),(0,h.jsx)(vt.J,{}),o&&(0,h.jsx)(ft.q,{children:c.Ru.get("user.they_follow_us")})]})}var At=a(45647),jt=a(22730),kt=a(53169),Lt=a(29611),wt=a(68229),It=a(76999),Ct=a(60331),Et=a(28831),Tt=a(80797),Rt=a(20755),Nt=a(42511),Pt=a(16379),St=a(58955),Ft=a(43327),Ot=a(2835),Mt=a(27403),Ut=a(97935),Vt=a(28521),Bt=a(42200),Dt=a(43159),Ht=a(8312),Gt=a(88705),zt=a(99893),Wt=a(84049),qt=a(94545),Jt=a(10070),Qt=a(9735),$t=a(85370),Kt=a(40795);const Zt=i.memo((function({uri:e,name:t,duration_ms:a,artists:i,album:o,contextUri:n,isExplicit:r,isMOGEFRestricted:s,isPlayable:l,index:u,imgUrl:d,usePlayContextItem:m}){const{spec:p}=(0,Qt.D)(jt.i,{data:{position:u,reason:"",uri:e}}),{isActive:g,isPlaying:f,triggerPlay:v,togglePlay:b}=m({uri:e,index:u}),y=(0,Jt.T)(e),{isPlayable:_,isAnyArtistBanned:x}=(0,Gt.g)(e,{isPlayable:l,isLocal:!1,isOutOfMarket:!1,artistUris:i?.map((e=>e.uri))}),{unBanArtists:A}=(0,Ht.M)(i.map((e=>e.uri))),{badges:j,hasBadges:k}=(0,$t.b)({downloadAvailability:y,isExplicit:r,isMOGEFRestricted:s}),L=i?.map((e=>e.name)).join(c.Ru.getSeparator())||"";return(0,h.jsx)(P.h,{menu:(0,h.jsx)(kt.P,{uri:e,albumUri:o.uri,artists:i,contextUri:n}),children:(0,h.jsxs)(Bt.w,{uri:e,contextUri:n,onTriggerPlay:(e,t)=>{v({loggingParams:t})},isActive:g,index:u,ariaRowIndex:u+1,isPlayable:_,isAnyArtistBanned:x,handleArtistBanUndoClick:A,ageRestricted:s,dragMetadata:{name:t,createdBy:L},spec:p,isExplicit:r,children:[(0,h.jsx)(Ft.y,{ariaColIndex:0,children:(0,h.jsx)(Rt.$,{uri:e,playAriaLabel:c.Ru.get("tracklist.a11y.play",t,L),isPlaying:f,isActive:g,onClick:(e,t)=>{_&&b({loggingParams:t})},spec:p,children:(0,h.jsx)(Pt.a,{children:u+1})})}),(0,h.jsxs)(Ot.U,{ariaColIndex:1,children:[(0,h.jsx)(Et.e,{src:d}),(0,h.jsxs)(Tt.l,{children:[(0,h.jsx)(Vt.p,{titleText:t,children:t}),k&&(0,h.jsxs)(It.P,{children:[j.download&&(0,h.jsx)(Wt._,{}),j.explicit&&(0,h.jsx)(zt.U,{}),j.nineteen&&(0,h.jsx)(qt.q,{className:Kt.A.nineteen,size:16})]}),(0,h.jsx)(Ut.p,{children:(0,h.jsx)(wt.l,{artists:i,spec:p})})]})]}),(0,h.jsx)(Mt.o,{ariaColIndex:2,children:(0,h.jsx)(Lt.g,{uri:o.uri,name:o.name,creatorUri:i?.[0]?.uri,spec:p,children:o.name})}),(0,h.jsxs)(St.l,{ariaColIndex:3,children:[(0,h.jsx)(Dt.d,{uri:e,spec:p}),(0,h.jsx)(Ct.P,{duration:a}),(0,h.jsx)(Nt.Y,{menu:(0,h.jsx)(kt.P,{uri:e,albumUri:o.uri,artists:i,contextUri:n}),label:c.Ru.get("more.label.track",t,L),spec:p})]})]})})}),((e,t)=>e.uri===t.uri));var Xt=a(71600),Yt=a(77486),ea=a(53888),ta=a(72432),aa=a(2897),ia=a(19151),oa=a(60804);const na=i.memo((function({tracks:e,hasHeaderRow:t=!1,nrTracksVisible:a,uri:o}){const n=(0,Re.v)(o),s=(0,r.duX)(n,"tracks").toURI(),l=(0,i.useMemo)((()=>a?e.slice(0,a):e),[a,e]),{usePlayContextItem:u}=(0,ta.P)({uri:s,pages:[{items:e.map((e=>({type:ia.c.TRACK,uri:e.uri,uid:null,provider:null})))}]},{featureIdentifier:"profile",referrerIdentifier:"user_profile"}),d=(0,i.useCallback)(((e,t)=>{const a=(0,oa.g)(e?.albumOfTrack?.coverArt?.sources,{desiredSize:40});return(0,h.jsx)(Zt,{index:t,uri:(0,ea.a)(e),duration_ms:e.duration.totalMilliseconds,name:e.name,artists:e.artists.items.map((({uri:e,profile:{name:t}})=>({uri:e,name:t}))),album:e.albumOfTrack,isPlayable:!0,isExplicit:e.contentRating?.label===aa.x7.Explicit,isMOGEFRestricted:e.contentRating?.label===aa.x7.NineteenPlus,imgUrl:a?.url||"",contextUri:s,usePlayContextItem:u},t+e.uri)}),[s,u]),m=(0,i.useMemo)((()=>[Yt.$C.INDEX,Yt.$C.TITLE_AND_ARTIST,Yt.$C.ALBUM,Yt.$C.DURATION]),[]),p=(0,i.useCallback)((e=>({uri:e.uri})),[]);return(0,h.jsx)(Xt.S4,{ariaLabel:c.Ru.get("top_tracks_this_month"),renderRow:d,nrTracks:l.length,tracks:l,resolveItem:p,headerTop:0,hasHeaderRow:t,columns:m,columnPersistenceKey:Yt.SZ.USER_TOP_TRACKS})}),((e,t)=>e.tracks===t.tracks));var ra=a(23291),sa=a(68293);const la=i.memo((function({tracks:e,title:t,subtitle:a,seeAllUri:o,className:n,uri:r,spec:s}){const l=(0,sa.s)(),c=(0,i.useCallback)((()=>{const e=s.titleLinkFactory().hitUiNavigate({destination:o});l.logInteraction(e)}),[l,o,s]),u=(0,i.useCallback)((()=>{const e=s.titleLinkFactory().hitUiNavigate({destination:o});l.logInteraction(e)}),[l,o,s]);if(!e||0===e.totalCount||0===e.items.length)return null;const d=e.totalCount>4;return(0,h.jsxs)("section",{className:n,children:[(0,h.jsx)(At.k,{title:t,subtitle:a,seeAllUri:o,showSeeAll:d,onClickTitle:c,onClickSeeAll:u}),(0,h.jsx)(ra.r,{spec:s,children:(0,h.jsx)(na,{tracks:e.items,uri:r,nrTracksVisible:4})})]})}),((e,t)=>e.tracks===t.tracks));function ca(e,t){switch(t.type){case"OPEN_MODAL":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!1};case"OPEN_MODAL_WITH_IMAGEPICKER":return{isModalOpen:!0,modalVariant:"editProfile",shouldOpenImagePicker:!0};case"CLOSE_MODAL":return{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1};default:return e}}var ua=a(63388),da=a(39463);const ma=Spicetify.GraphQL.Definitions["userTopContent"]=new ua.l("userTopContent","query","feb6d55177e2cbce2ac59214f9493f1ef2e4368eec01b3d4c3468fa1b97336e2",null);function pa(e){return"Artist"===e.__typename}function ha(e){if("ArtistPageV2"!==e?.topArtists?.__typename)return null;const t=e.topArtists.items.map((e=>e.data)).filter(pa);return 0===t.length?null:{totalCount:e.topArtists.totalCount,items:t}}function ga(e){return"Track"===e.__typename}function fa(e){if("TrackPageV2"!==e?.topTracks?.__typename)return null;const t=e.topTracks.items.map((e=>e.data)).filter(ga).filter((e=>null!==e.albumOfTrack));return 0===t.length?null:{totalCount:e.topTracks.totalCount,items:t}}const va=aa.xE.Affinity,ba=aa.Nm.ShortTerm;function ya({includeTopArtists:e,includeTopTracks:t,topArtistsLimit:a,topTracksLimit:i}){const{data:o,loading:n,error:r}=(s={includeTopArtists:e,topArtistsInput:{offset:0,limit:a,sortBy:va,timeRange:ba},includeTopTracks:t,topTracksInput:{offset:0,limit:i,sortBy:va,timeRange:ba}},l={enabled:e||t,gcTime:18e5,staleTime:3e5},(0,da.I)(ma,s,l));var s,l;return null!==r?{topTracks:null,topArtists:null,loading:n,error:new Error("Failed loading user top content!")}:{topTracks:fa(o?.me?.profile??null),topArtists:ha(o?.me?.profile??null),loading:n,error:null}}var _a=a(60397),xa=a(96256),Aa=a(86278),ja=a(59161),ka=a(83953),La=a(1776),wa=a(92404),Ia=a(95892),Ca=a(84409),Ea=a(73848);const Ta="J6PX6RfvHlA4BPp7_8sJ",Ra="DJCugGBTcU3io4Q28BHl",Na="vpTiIBeCfuGKOTj3Tzg6",Pa="eGAuBpyB1eqsyPKbaQU7",Sa="GoG_UTK1uLaPCfhipeF0",Fa=18e5,Oa=3e5,Ma=(0,k.Mz)(ka.mB,(e=>e?.images||[])),Ua=({uri:e,isCurrentUser:t})=>{const a=(0,j.d4)(ka.mB)?.uri,o=(0,j.d4)(ka.Mn),n=(0,j.d4)(Ma),s=(0,j.wA)(),l=(0,A.jE)(),d=(0,L.NC)(ja.DGB,{loadingValue:!0}),p=(0,i.useMemo)((()=>(0,oa.g)(n)),[n]),[{isModalOpen:b,modalVariant:y,shouldOpenImagePicker:_},x]=function(){const[e,t]=(0,i.useReducer)(ca,{isModalOpen:!1,modalVariant:null,shouldOpenImagePicker:!1});return[e,t]}(),{data:k,loading:w,queryKey:I}=(0,v.Z)(f.E$,[{uri:e,playlists:10,artists:10,episodes:10}],{gcTime:Fa,staleTime:Oa}),C=(0,yt.V)();(0,Aa.N)(xa.mc.OPERATION_COMPLETE,(()=>{l.invalidateQueries({queryKey:I})})),(0,Ia.l)(wa.UV.OPERATION_COMPLETE,(()=>{l.invalidateQueries({queryKey:I})}));const E=k?.public_playlists,R=k?.is_verified,J=k?.recently_played_artists,Q=t?p?.url||"":k?.image_url||"",$=(0,Re.v)(e),K=(t?o:k?.name)||"",Z=(0,_a.H)(k?.image_url||null),{spec:X,logger:Y}=(0,Ca.r)(T,{data:{uri:e}}),ee=(0,i.useMemo)((()=>X.sectionTopTracksFactory()),[X]),te=!C&&(!1!==k?.show_follows||t),ae=t&&d,{data:ie,loading:oe}=(0,v.Z)(f.mH,[e],{enabled:te,gcTime:Fa,staleTime:Oa}),ne=ie?.profiles,{data:re,loading:se}=(0,v.Z)(f.SR,[e],{enabled:te,gcTime:Fa,staleTime:Oa}),le=re?.profiles,ce=ne?.some((e=>e.uri===a)),{topArtists:ue,topTracks:de,loading:me}=ya({includeTopArtists:ae,includeTopTracks:ae,topArtistsLimit:10,topTracksLimit:4}),pe=(0,i.useCallback)((e=>{x({type:"CLOSE_MODAL"}),e&&(s((0,La.IE)(e.name)),s((0,La.ZQ)(e.image?[{url:e.image,height:null,width:null}]:[])))}),[x,s]),he=(0,i.useCallback)((()=>{x({type:"OPEN_MODAL"});const e=X.headerFactory().usernameFactory().hitUiReveal();Y.logInteraction(e)}),[Y,x,X]),ge=(0,i.useCallback)((()=>{x({type:"OPEN_MODAL_WITH_IMAGEPICKER"});const e=X.headerFactory().profileImageFactory().hitUiReveal();Y.logInteraction(e)}),[Y,x,X]),fe=(0,i.useMemo)((()=>[{url:Q}]),[Q]);if(!k||w||oe||se||me)return(0,h.jsx)(u.LoadingPage,{hasError:!1,errorMessage:c.Ru.get("error.not_found.title.page")});const ve=te&&!!le?.length,be=te&&!!ne?.length,ye=(0,h.jsx)(S.B,{uri:k.uri});return(0,h.jsxs)("div",{className:Ta,children:[(0,h.jsx)(F.Q,{children:K}),(0,h.jsxs)(M.z,{backgroundColor:Z,children:[(0,h.jsx)(B.h,{children:(0,h.jsx)(P.h,{menu:ye,children:(0,h.jsx)(D.X,{text:K})})}),(0,h.jsx)(P.h,{menu:ye,children:(0,h.jsx)(U.X,{children:(0,h.jsx)(O.M,{canEdit:t&&!k.edit_image_disabled,name:K,images:fe,onClick:ge,placeholderType:"user",shape:H.u.CIRCLE})})}),(0,h.jsxs)(V.Y,{children:[(0,h.jsx)(G.B,{children:R?(0,h.jsx)(W.M,{text:c.Ru.get("card.tag.profile")}):c.Ru.get("card.tag.profile")}),(0,h.jsx)(P.h,{menu:ye,children:(0,h.jsx)(z.mm,{canEdit:t&&!k.edit_name_disabled,editTitle:c.Ru.get("playlist.edit-details.title"),onClick:he,children:K})}),(0,h.jsx)(xt,{userUri:e,totalPublicPlaylistsCount:k.total_public_playlists_count,followersCount:k.followers_count,followingCount:k.following_count,theyFollowUs:!!ce,spec:X,logger:Y})]})]}),(0,h.jsx)(ht,{openModal:he,spec:X,logger:Y,name:K,backgroundColor:Z,isCurrentUser:t,uri:e}),(0,h.jsx)("div",{className:"contentSpacing",children:(0,h.jsxs)(ra.r,{spec:X,children:[t&&(0,h.jsxs)(h.Fragment,{children:[null!==ue&&(0,h.jsx)(q.p,{className:Ra,total:ue.totalCount,title:c.Ru.get("top_artists_this_month"),subtitle:c.Ru.get("only_visible_to_you"),seeAllUri:(0,r.Qjr)($,["top","artists"]).toURI(),id:"top-artists",index:0,children:ue.items.map(((e,t)=>(0,h.jsx)(m.a,{index:t,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources??[]},e.uri)))}),(0,h.jsx)(la,{className:Ra,title:c.Ru.get("top_tracks_this_month"),subtitle:c.Ru.get("only_visible_to_you"),seeAllUri:(0,r.Qjr)($,["top","tracks"]).toURI(),uri:e,tracks:de,spec:ee})]}),(0,h.jsx)(q.p,{className:Ra,total:k.total_public_playlists_count,title:c.Ru.get("public_playlists"),seeAllUri:(0,r.Qjr)($,["playlists"]).toURI(),id:"playlists",index:1,children:E?.map(((e,t)=>(0,h.jsx)(N.B,{index:t,uri:e.uri,name:e.name,images:[{url:(0,Ea.m)({imageUriOrUrl:e.image_url}),width:300,height:300}],authorName:e.owner_name,description:e.followers_count?c.Ru.get("user.followers",e.followers_count):""},e.uri)))}),J?.length?(0,h.jsx)(q.p,{className:Ra,total:J?.length,title:c.Ru.get("recently_played_artists"),seeAllUri:(0,r.Qjr)($,["recently-played-artists"]).toURI(),id:"recently-played-artists",index:2,children:J?.map(((e,t)=>(0,h.jsx)(m.a,{index:t,uri:e.uri,name:e.name,images:[{url:e.image_url}]},e.uri)))}):null,ve?(0,h.jsx)(q.p,{className:Ra,title:c.Ru.get("followers"),total:le?.length,seeAllUri:(0,r.Qjr)($,["followers"]).toURI(),id:"followers",index:3,children:le?.map(((e,t)=>(0,h.jsx)(g,{index:t,entity:e},e.uri)))}):null,be?(0,h.jsx)(q.p,{className:Ra,title:c.Ru.get("following"),total:ne?.length,seeAllUri:(0,r.Qjr)($,["following"]).toURI(),id:"following",index:4,children:ne?.map(((e,t)=>(0,h.jsx)(g,{index:t,entity:e},e.uri)))}):null,t&&b&&("editProfile"===y?(0,h.jsx)(ot,{uri:e,name:K,image:Q,onClose:pe,shouldOpenImagePicker:_,userCapabilities:{edit_image:!k?.edit_image_disabled,edit_name:!k?.edit_name_disabled}}):null)]})})]})},Va=e=>{const{uri:t}=e,{data:a,loading:i,error:o}=(0,v.Z)(f.Eo,[{uri:t}]),{public_playlists:n,total_public_playlists_count:r=0}=a||{};if(i||o){const e=null!==o;return(0,h.jsx)(u.LoadingPage,{hasError:e,errorMessage:c.Ru.get("error.not_found.title.page")})}return(0,h.jsx)(d.$,{total:r,title:c.Ru.get("public_playlists"),showAll:!0,fullPage:!0,rowGap:l.lT,children:n?.map(((e,t)=>(0,h.jsx)(N.B,{index:t,uri:e.uri,name:e.name,authorName:e.owner_name,description:e.followers_count?c.Ru.get("user.followers",e.followers_count):"",images:[{url:(0,Ea.m)({imageUriOrUrl:e.image_url}),width:300,height:300}]},e.uri)))})},Ba=e=>{const{uri:t}=e,{data:a,loading:i,error:o}=(0,v.Z)(f.sL,[{uri:t,limit:50}]),n=a?.artists;if(i||o){const e=null!==o;return(0,h.jsx)(u.LoadingPage,{hasError:e,errorMessage:c.Ru.get("error.not_found.title.page")})}return(0,h.jsx)(d.$,{total:n?.length,title:c.Ru.get("recently_played_artists"),showAll:!0,fullPage:!0,rowGap:l.lT,children:n?.map(((e,t)=>(0,h.jsx)(m.a,{index:t,name:e.name,uri:e.uri,images:[{url:e.image_url}]},e.uri)))})},Da=()=>{const{topArtists:e,loading:t,error:a}=ya({includeTopArtists:!0,includeTopTracks:!1,topArtistsLimit:100,topTracksLimit:0});if(t||a){const e=null!==a;return(0,h.jsx)(u.LoadingPage,{hasError:e,errorMessage:c.Ru.get("error.not_found.title.page")})}return null===e?null:(0,h.jsx)(d.$,{total:e.items.length,title:c.Ru.get("top_artists_this_month"),subtitle:c.Ru.get("only_visible_to_you"),showAll:!0,fullPage:!0,rowGap:l.lT,children:e.items.map(((e,t)=>(0,h.jsx)(m.a,{index:t,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources??[]},e.uri)))})},Ha=({isCurrentUser:e})=>e?(0,h.jsx)(Da,{}):(0,h.jsx)(u.LoadingPage,{hasError:!0,errorMessage:c.Ru.get("error.not_found.title.page")}),Ga=({uri:e})=>{const{topTracks:t,loading:a,error:i}=ya({includeTopArtists:!1,includeTopTracks:!0,topArtistsLimit:0,topTracksLimit:100});if(a||i){const e=null!==i;return(0,h.jsx)(u.LoadingPage,{hasError:e,errorMessage:c.Ru.get("error.not_found.title.page")})}return null===t?null:(0,h.jsxs)("div",{className:Q()("contentSpacing",Na),children:[(0,h.jsxs)("div",{className:Pa,children:[(0,h.jsx)($.E,{as:"h1",variant:"titleMedium",className:Sa,children:c.Ru.get("top_tracks_this_month")}),(0,h.jsx)($.E,{as:"p",variant:"bodySmall",children:c.Ru.get("only_visible_to_you")})]}),(0,h.jsx)(na,{tracks:t.items,uri:e,hasHeaderRow:!0})]})},za=({uri:e,isCurrentUser:t})=>t?(0,h.jsx)(Ga,{uri:e}):(0,h.jsx)(u.LoadingPage,{hasError:!0,errorMessage:c.Ru.get("error.not_found.title.page")});var Wa=a(50222);const qa="cubl27eU3uN3hmAiqdmQ",Ja=(0,i.memo)((function(){const{userId:e=""}=(0,o.g)(),t=(0,r.Qjr)(e).toURI(),a=(e=>{const t=(0,yt.V)(),a=(0,Wa.C)()?.username;return!t&&a===e})(e);return(0,h.jsx)("section",{className:qa,children:(0,h.jsxs)(o.BV,{children:[(0,h.jsx)(o.qh,{path:"playlists",element:(0,h.jsx)(s.e,{pageId:n.$h.PROFILE_PLAYLISTS,children:(0,h.jsx)("div",{className:"contentSpacing",children:(0,h.jsx)(Va,{uri:t})})})}),(0,h.jsx)(o.qh,{path:"top/tracks",element:(0,h.jsx)(s.e,{pageId:n.$h.PROFILE_TOP_TRACKS,children:(0,h.jsx)("div",{className:"contentSpacing",children:(0,h.jsx)(za,{uri:t,isCurrentUser:a})})})}),(0,h.jsx)(o.qh,{path:"top/artists",element:(0,h.jsx)(s.e,{pageId:n.$h.PROFILE_TOP_ARTISTS,children:(0,h.jsx)("div",{className:"contentSpacing",children:(0,h.jsx)(Ha,{isCurrentUser:a})})})}),(0,h.jsx)(o.qh,{path:"recently-played-artists",element:(0,h.jsx)(s.e,{pageId:n.$h.PROFILE_RECENTLY_PLAYED_ARTISTS,children:(0,h.jsx)("div",{className:"contentSpacing",children:(0,h.jsx)(Ba,{uri:t})})})}),(0,h.jsx)(o.qh,{path:"following",element:(0,h.jsx)(s.e,{pageId:n.$h.PROFILE_FOLLOWING,children:(0,h.jsx)("div",{className:"contentSpacing",children:(0,h.jsx)(x,{uri:t})})})}),(0,h.jsx)(o.qh,{path:"followers",element:(0,h.jsx)(s.e,{pageId:n.$h.PROFILE_FOLLOWERS,children:(0,h.jsx)("div",{className:"contentSpacing",children:(0,h.jsx)(b,{uri:t})})})}),(0,h.jsx)(o.qh,{path:"/",element:(0,h.jsx)(s.e,{pageId:n.$h.PROFILE,children:(0,h.jsx)(Ua,{uri:t,isCurrentUser:a})})})]})})}))},34720:(e,t,a)=>{a.d(t,{r:()=>c,z:()=>u});var i=a(30758),o=a(66590),n=a(39159),r=a(3424),s=a(254),l=a(19507);function c(e=null){const{request:t}=(0,i.useContext)(s.j),{data:a}=(0,l.I)({queryKey:["extracted-color",e],queryFn:()=>e?(0,r.j)(t,e).then((e=>{const t=e?.[0];return t?{colorDark:t.colorDark.toCSS(n.a.HEX),colorLight:t.colorLight.toCSS(n.a.HEX),colorRaw:t.colorRaw.toCSS(n.a.HEX)}:null})):null,gcTime:864e5,staleTime:216e5,enabled:!!e});return a??void 0}function u(e=null,t=o.l0o,a="colorRaw"){return c(e)?.[a]??t}},42551:(e,t,a)=>{a.d(t,{Mz:()=>s});var i="NOT_FOUND";var o=function(e,t){return e===t};function n(e,t){var a,n,r="object"==typeof t?t:{equalityCheck:t},s=r.equalityCheck,l=void 0===s?o:s,c=r.maxSize,u=void 0===c?1:c,d=r.resultEqualityCheck,m=function(e){return function(t,a){if(null===t||null===a||t.length!==a.length)return!1;for(var i=t.length,o=0;o<i;o++)if(!e(t[o],a[o]))return!1;return!0}}(l),p=1===u?(a=m,{get:function(e){return n&&a(n.key,e)?n.value:i},put:function(e,t){n={key:e,value:t}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}):function(e,t){var a=[];function o(e){var o=a.findIndex((function(a){return t(e,a.key)}));if(o>-1){var n=a[o];return o>0&&(a.splice(o,1),a.unshift(n)),n.value}return i}return{get:o,put:function(t,n){o(t)===i&&(a.unshift({key:t,value:n}),a.length>e&&a.pop())},getEntries:function(){return a},clear:function(){a=[]}}}(u,m);function h(){var t=p.get(arguments);if(t===i){if(t=e.apply(null,arguments),d){var a=p.getEntries().find((function(e){return d(e.value,t)}));a&&(t=a.value)}p.put(arguments,t)}return t}return h.clearCache=function(){return p.clear()},h}function r(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];return function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];var n,r=0,s={memoizeOptions:void 0},l=i.pop();if("object"==typeof l&&(s=l,l=i.pop()),"function"!=typeof l)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var c=s.memoizeOptions,u=void 0===c?a:c,d=Array.isArray(u)?u:[u],m=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var a=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+a+"]")}return t}(i),p=e.apply(void 0,[function(){return r++,l.apply(null,arguments)}].concat(d)),h=e((function(){for(var e=[],t=m.length,a=0;a<t;a++)e.push(m[a].apply(null,arguments));return n=p.apply(null,e)}));return Object.assign(h,{resultFunc:l,memoizedResultFunc:p,dependencies:m,lastResult:function(){return n},recomputations:function(){return r},resetRecomputations:function(){return r=0}}),h}}var s=r(n)},50222:(e,t,a)=>{a.d(t,{C:()=>n});a(77369);var i=a(62411),o=a(19151);const n=()=>{const e=(0,i.d4)((e=>e.session?.user));return e?{type:o.c.USER,uri:e.uri,username:e.id,displayName:e.display_name??null,images:e.images.map((({url:e,width:t,height:a})=>({url:e,width:t||void 0,height:a||void 0})))}:null}},53888:(e,t,a)=>{a.d(t,{a:()=>i});const i=e=>e?.linked_from?.uri||e.uri},60397:(e,t,a)=>{a.d(t,{H:()=>s});var i=a(30758),o=a(66590),n=a(10819),r=a(34720);function s(e=null,t=o.l0o){const{backgroundColor:a}=(0,n.oI)(),s=(0,n.as)(),l=(0,r.z)(e);return(0,i.useEffect)((()=>(s((0,n.Mo)(l)),()=>{s((0,n.Hf)())})),[l,s]),a||t}},63450:(e,t,a)=>{a.d(t,{B:()=>r});var i=a(78717),o=a(84195),n=a(86070);const r=({children:e})=>(0,n.jsx)(i.E,{variant:"bodySmall",className:o.A.pretitle,children:e})},65289:(e,t,a)=>{a.d(t,{p:()=>o});var i=a(30758);function o(){const[e,t]=(0,i.useState)(!1);return[e,(0,i.useCallback)((()=>{t(!0),setTimeout((()=>t(!1)),0)}),[t])]}},65620:(e,t,a)=>{a.d(t,{I:()=>g});var i=a(38934),o=a(30758),n=a(43580),r=a(28838),s=a(14776),l=a(51584),c=(0,s.i7)(["0%{animation-timing-function:cubic-bezier(1,0,0.7,1);opacity:0.5;transform:scale(1);}40%{animation-timing-function:cubic-bezier(0.3,0,0,1);opacity:0.75;transform:scale(1.3);}72.5%{animation-timing-function:linear;opacity:0.5;transform:scale(1);}100%{opacity:0.5;transform:scale(1);}"]),u=l.Ay.circle.withConfig({displayName:"LoadingIndicatorCircle",componentId:"sc-enjajd-0"})(["fill:",";animation:"," 1.32s linear infinite;transform-origin:center;&:nth-of-type(2){animation-delay:var(--shortest-2);}&:nth-of-type(3){animation-delay:var(--shortest-4);}[dir='rtl'] &{&:nth-of-type(1){animation-delay:var(--shortest-4);}&:nth-of-type(3){animation-delay:0s;}}"],(0,r.oj)(r.ZI.essentialBase),c),d=a(91081),m=function(e){switch(e){case"sm":case"small":return 56;case"md":case"medium":return 84;case"lg":case"large":return 112;default:return(0,d.x)(e)}},p=l.Ay.svg.withConfig({displayName:"LoadingIndicatorSvg",componentId:"sc-dj4dcm-0"})(["content:'';block-size:","px;inline-size:","px;"],(function(e){return m(e.$indicatorSize)/4.5}),(function(e){return m(e.$indicatorSize)})),h=["indicatorSize","size","role","ariaValueText"];var g=Object.assign((function(e){var t=e.indicatorSize,a=e.size,r=void 0===a?"small":a,s=e.role,l=void 0===s?"progressbar":s,c=e.ariaValueText,d=void 0===c?"Loading":c,m=(0,i.A)(e,h);return o.createElement(p,Object.assign({xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 1 100",xmlSpace:"preserve",$indicatorSize:t||r,role:l,"aria-valuetext":d},m,{"data-encore-id":n.j.LoadingIndicator}),o.createElement(u,{stroke:"none",cx:"-140",cy:"50",r:"32"}),o.createElement(u,{stroke:"none",cx:"0",cy:"50",r:"32"}),o.createElement(u,{stroke:"none",cx:"140",cy:"50",r:"32"}))}),{sm:"sm",md:"md",lg:"lg"})},73191:(e,t,a)=>{a.d(t,{b:()=>n,g:()=>o});var i=a(30758);let o=function(e){return e[e.loading=0]="loading",e[e.loaded=1]="loaded",e[e.error=2]="error",e}({});function n(e,t){const a=e?o.loading:o.error,[n,r]=(0,i.useState)(a);return(0,i.useEffect)((()=>{const a=()=>{r(o.loaded)},i=()=>{r(o.error)};if(!e)return r(o.error),()=>{};r(o.loading);const n=document.createElement("img");return n.addEventListener("load",a),n.addEventListener("error",i),n.setAttribute("src",e),t&&n.setAttribute("srcSet",t),()=>{n.removeEventListener("load",a),n.removeEventListener("error",i)}}),[e,t]),n}},76947:(e,t,a)=>{a.d(t,{a:()=>h});var i=a(30758),o=a(76855),n=a(70397),r=a(90098),s=a(71259),l=a(23658),c=a(3257),u=a(82102),d=a(35054),m=a(93624),p=a(86070);const h=i.memo((function({images:e,name:t,uri:a,onClick:h,isHero:g,testId:f,index:v,requestId:b,color:y,variant:_,logCardImpressions:x=!1,role:A}){let j;const k=(0,i.useCallback)((()=>(0,p.jsx)(s.M,{isCircular:!0,isHero:g,images:e,color:y,FallbackComponent:e=>(0,p.jsx)(o.r,{size:"xxlarge",...e})})),[y,e,g]),L=(0,i.useCallback)((()=>(0,p.jsx)(l.c,{isHero:g,children:g?(0,p.jsx)(u.t,{children:n.Ru.get("card.tag.profile")}):n.Ru.get("card.tag.profile")})),[g]);return j=g?(0,p.jsx)(c.A,{index:v,onClick:h,headerText:t,featureIdentifier:"profile",uri:a,isPlayable:!1,renderCardImage:k,renderSubHeaderContent:L,testId:f,requestId:b,logCardImpressions:x}):(0,p.jsx)(r.Z,{variant:_,index:v,onClick:h,headerText:t,featureIdentifier:"profile",uri:a,role:A,isPlayable:!1,renderCardImage:k,renderSubHeaderContent:L,testId:f,requestId:b,logCardImpressions:x}),(0,p.jsx)(d.h,{menu:(0,p.jsx)(m.B,{uri:a}),children:j})}))},80221:(e,t,a)=>{a.d(t,{u:()=>l,i:()=>s});var i=a(30758);const o="main-imagePicker-fileInput";var n=a(86070);const r={accept:"image/.jpg, image/.jpeg, image/.png"};let s=function(e){return e.FILE_TOO_BIG="FILE_TOO_BIG",e.IMAGE_TOO_SMALL="IMAGE_TOO_SMALL",e.IMAGE_TOO_BIG="IMAGE_TOO_BIG",e.IMAGE_TYPE_NOT_SUPPORTED="IMAGE_TYPE_NOT_SUPPORTED",e}({});const l=function({onChange:e,onError:t,isOpen:a=!1,minImageWidth:l=0,minImageHeight:c=0,maxImageWidth:u=1e4,maxImageHeight:d=1e4,maxFileSizeMB:m=1/0,...p}){const h=i.useRef(null),g={...r,...p};(0,i.useEffect)((()=>{h.current&&a&&h.current.click()}),[h,a]);const f=1048576*m;return(0,n.jsx)("input",{...g,type:"file","data-testid":"image-file-picker",ref:h,className:o,onChange:async function(a){const i=a.target,[o]=Array.from(i.files||[]);if(!o)return;const n=await async function(e){const t=await function(e){return new Promise(((t,a)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{t(i.result?.toString()??"")},i.onerror=e=>a(e)}))}(e),[a,i]=await function(e){return new Promise(((t,a)=>{const i=new Image;i.onload=()=>{const{width:e,height:a}=i;t([e,a])},i.src=e,i.onerror=e=>a(e)}))}(t);return{imageFile:e,imageDataUrl:t,imageWidth:a,imageHeight:i}}(o);try{await async function(e){if(!["image/jpg","image/jpeg","image/png"].includes(e.imageFile.type))throw s.IMAGE_TYPE_NOT_SUPPORTED;if(e.imageWidth<l||e.imageHeight<c)throw s.IMAGE_TOO_SMALL;if(e.imageWidth>u||e.imageHeight>d)throw s.IMAGE_TOO_BIG;if(e.imageFile.size>f)throw s.FILE_TOO_BIG}(n),e(n)}catch(e){if("string"!=typeof e||!Object.values(s).includes(e))throw e;t(e)}}})}},83177:(e,t,a)=>{a.d(t,{a:()=>g});var i=a(97500),o=a.n(i),n=a(99974),r=a(78717),s=a(70397);const l="main-editImage-buttonContainer",c="main-editImageButton-image",u="main-editImageButton-overlay",d="main-editImageButton-rounded",m="main-editImageButton-icon",p="main-editImageButton-copy";var h=a(86070);const g=function({overlay:e=!1,rounded:t=!1,onClick:a}){return(0,h.jsx)("div",{className:l,children:(0,h.jsx)("button",{"data-testid":"edit-image-button",className:o()(c,{[d]:t,[u]:e}),"aria-haspopup":"true",onClick:a,type:"button",children:(0,h.jsxs)("div",{className:o()(m,"icon"),children:[(0,h.jsx)(n.G,{size:"xlarge","aria-hidden":"true"}),(0,h.jsx)(r.E,{variant:"bodyMedium",className:p,children:s.Ru.get("choose_photo")})]})})})}},98543:(e,t,a)=>{a.d(t,{z:()=>m});var i=a(97500),o=a.n(i),n=a(78717),r=a(37899);const s="pIZVZOfjnJGth1BcoA1E",l="ZBBTIITnUdwh05dCI0tm",c="sz8Nwj2lvhOZxDwYWRQr",u="jjPsW7vuG9xH9qhEGL3I";var d=a(86070);const m=({message:e,isErrorMessage:t=!1})=>e?(0,d.jsx)("div",{role:"alert",children:(0,d.jsx)("div",{className:o()(s,{[l]:t}),children:(0,d.jsxs)(n.E,{as:"p",variant:"marginal",className:c,children:[(0,d.jsx)(r.b,{size:"small",className:u,"aria-hidden":"true"}),e]})})}):null}}]);
//# sourceMappingURL=xpui-routes-profile.js.map