"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[5660],{6584:(e,t,a)=>{a.d(t,{Z:()=>l,l:()=>o});var r=a(77580),i=a(14189),n=a(39737);const s=new Map([[r.K.BLACK_PANTHER,{bgColor:"#8E24E2"}],[r.K.ATTACK_ON_TITAN,{bgColor:"#D4000E"}],[r.K.SPIDERMAN,{bgColor:"#EC1C24"}],[r.K.BARBIE,{bgColor:"#F31FA5"}],[r.K.POKEMON,{bgColor:"#5193ED",imageUrlHandle:"https://open.spotifycdn.com/cdn/images/hacks/progress-bar-easter-eggs/b6e9f5218d18dd76f6de177a005907d3.png",imageTransformOverride:{translateX:-21,translateY:11,scale:.8}}],[r.K.SANRIO,{bgColor:"#E60012",imageUrlHandle:"https://open.spotifycdn.com/cdn/images/hacks/progress-bar-easter-eggs/d99c81563a104fb669598a31591f2e2a.png"}],[r.K.WICKED,{bgColor:"#6abe4e",imageUrlHandle:"https://open.spotifycdn.com/cdn/images/hacks/progress-bar-easter-eggs/5bff73c2b65d841a8315349b3e29f865.png",imageTransformOverride:{translateX:-27,translateY:5}}],[r.K.SANREMO,{bgColor:"#E6007E",imageUrlHandle:"https://open.spotifycdn.com/cdn/images/hacks/progress-bar-easter-eggs/a1e7292e3dd2b329b158bff55a961e2f.png",imageTransformOverride:{translateX:-10,translateY:5,scale:.8}}]]),o=()=>{const{isPlayingVariant:e}=(0,i.h)();if((0,n.o)((e=>{if(null===e)return!1;const t="queue"===e.item?.provider,a="autoplay"===e.item?.provider;return!t&&!a})))return e?s.get(e):void 0},l=e=>{if(!e)return{};const{translateX:t,translateY:a,scale:r}=e;return{...void 0!==t?{"--translateX":`${t}%`}:{},...void 0!==a?{"--translateY":`${a}%`}:{},...void 0!==r?{"--scale":r}:{}}}},26865:(e,t,a)=>{a.d(t,{E:()=>n});var r=a(30758),i=a(52427);const n=({onDragStart:e,onDragMove:t,onDragEnd:a})=>{const[n,s]=(0,r.useState)(!1),o=(0,i.YQ)((e=>{a(e,{wasDraggedBeforeReleased:!1}),s(!1)}),500,{leading:!1,trailing:!0}),l=(0,r.useCallback)((a=>{n||(e(a),s(!0)),t(a),o(a)}),[n,e,t,o]);return{isSeekingWithKeyboard:n,handleKeyboardProgressStepping:l}}},57019:(e,t,a)=>{a.d(t,{Z:()=>r.Z});var r=a(6584)},59309:(e,t,a)=>{a.d(t,{A:()=>r});const r={wrapper:"playback-progressbar",enabled:"playback-progressbar-isInteractive",progressBar:"progress-bar",background:"x-progressBar-progressBarBg",foregroundWrapper:"x-progressBar-sliderArea",progressAnimatable:"oShi2lRbnhFkEr2LlUqC",disableProgressAnimatable:"ZqlJ1uWjMeen9ye7Y7GC",middleground:"i_sFCqXc9E62sDov95kp",foreground:"x-progressBar-fillColor",saberEnabled:"VI_bMRxDl9fS6qksct7W",saberOverlay:"sW0M_K97doEB3B4Ts58i",progressBarActive:"progress-bar--isDragging","saber-flicker":"Bdg5i7zvy8gyCVRDwPw1",handle:"progress-bar__slider",easterEggHandle:"Me6H5Q1tz8OUksn2_uYC",easterEggImage:"VebMsodzole2htLe4Fsk",indicatorText:"GfN5haHC77OxfQqkHlIi",hoverIndicatorText:"OVsKgmQSwhS2WVE1B9Kc",customHandle:"DlESgEm0QGtHnESM1mnR",customImage:"iA1oALYKD8NxtvpRUsT_",heBringsImage:"hMaF66LFzK4KCraLsIXS",chapterIndicatorText:"gb8GoYVALYZ_s5OdshQQ",chapterMarkersContainer:"AzBOvF3kaVy0zqOkpvkz",chapterMarker:"o0xELwyNe1DiS9fELFAC",chapterMarkerStart:"Xw696QLK1vFp5bFzHCrO",chapterMarkerHidden:"lyeGdU3rrnvTkjFeRazy",chapterHoverOverlay:"xj2rCc9DU3iCbujKmDXA"}},65660:(e,t,a)=>{a.d(t,{z2:()=>b});var r=a(30758),i=a(97500),n=a.n(i),s=a(28979),o=a(69518),l=a(26865),c=a(57019),d=a(78134),g=a(75986),h=a(74846),u=a(9131),f=a(59309),m=a(86070);const b=({value:e,max:t,step:a,labelText:i,isInteractive:b=!0,forceActiveStyles:p=!1,onDragStart:v,onDragMove:y,onDragEnd:w,saberConfig:S=null,easterEggConfig:E,isPlayingStrangerThings:x=!1,direction:C="horizontal",enableAnimation:A,updateFrequency:M,offFrequencyUpdate:k,className:I,showValueAsTimeOverHandle:T=!1,...P})=>{const D=(0,r.useRef)(null),{isDragging:O,onMouseDown:R}=(0,o.D)({progressBarRef:D,onDragStart:v,onDragMove:y,onDragEnd:w,direction:C}),_=(0,r.useRef)(null),[z,F]=(0,r.useState)(0),L=(0,r.useCallback)((e=>{if(_.current){const t=e.clientX-_.current.getBoundingClientRect().left;t>=0&&F(t/_.current.clientWidth*100)}}),[]),N=b?100*Math.max(0,Math.min(1,e/t)):0,K=p||O,j=b&&null!==S,H=b&&!(0,h.n)(),{isSeekingWithKeyboard:B,handleKeyboardProgressStepping:Y}=(0,l.E)({onDragStart:v,onDragMove:y,onDragEnd:w}),W=(0,r.useCallback)((e=>{const t=e.key;if(/^[0-9]$/.test(t)){const e=parseInt(t,10)/10;w(e,{wasDraggedBeforeReleased:!1})}}),[w]),q=(0,r.useCallback)((()=>N),[N]),X=(0,g.ZY)(),U=(0,r.useRef)(X?.visibilityState),G=X?.visibilityState,V=O||k||"hidden"===G||"hidden"===U.current||B||0===e;U.current=G;const Q=A?f.A.progressAnimatable:"",Z=z/100*t;return(0,m.jsxs)("div",{className:n()(f.A.wrapper,I,{[f.A.enabled]:b,[f.A.disableProgressAnimatable]:V}),"data-testid":P["data-testid"],children:[(0,m.jsx)(s.o,{disabled:!b,type:"range",min:0,max:t,value:e,step:a,onChange:e=>{Y(parseFloat(e.target.value)/t)},onKeyDown:W,"aria-valuetext":P["aria-valuetext"],children:i}),(0,m.jsxs)("div",{className:n()(f.A.progressBar,{[f.A.saberEnabled]:null!==S,[f.A.progressBarActive]:K}),style:{...j?S:null,...E?.bgColor?{"--fg-color":E.bgColor,"--is-active-fg-color":E.bgColor}:null,..."number"==typeof M?{"--progress-bar-duration":`${Number(M)}ms`}:null,"--progress-bar-transform":`${N}%`,"--hover-bar-transform":`${z}%`},ref:_,onPointerDown:R,onMouseMove:T?L:void 0,"data-testid":"progress-bar",children:[j?(0,m.jsx)("div",{className:f.A.saberOverlay,"data-testid":"progress-bar-saber-overlay"}):null,(0,m.jsxs)("div",{ref:D,className:f.A.background,"data-testid":"progress-bar-background",children:[(0,m.jsx)("div",{className:f.A.foregroundWrapper,children:(0,m.jsx)("div",{className:f.A.middleground})}),(0,m.jsx)("div",{className:f.A.foregroundWrapper,children:(0,m.jsx)("div",{className:n()(f.A.foreground,Q)})}),E&&E.imageUrlHandle?(0,m.jsx)("div",{className:n()(f.A.easterEggHandle,Q),children:(0,m.jsx)("img",{alt:"",className:f.A.easterEggImage,src:E.imageUrlHandle,style:(0,c.Z)(E.imageTransformOverride)})}):(0,m.jsx)("div",{className:n()(f.A.handle,Q),children:T&&O&&(0,m.jsx)("div",{className:f.A.indicatorText,children:(0,u.f)(e)})}),T&&!O&&(0,m.jsx)("div",{className:f.A.hoverIndicatorText,children:(0,u.f)(Z)})]}),H&&(0,m.jsx)("div",{style:{width:"100%"},children:(0,m.jsx)(d.V,{getPercentage:q,progressBar:D,isPlayingStrangerThings:x,isDragging:O})})]})]})}},69518:(e,t,a)=>{a.d(t,{D:()=>o});var r=a(30758),i=a(52427),n=a(75986);function s(e,t,a){const r=e.current;if(null===r)return 0;const i=r.getBoundingClientRect();return"vertical"===a?1-Math.max(0,Math.min((t.clientY-i.top)/i.height,1)):Math.max(0,Math.min((t.clientX-i.left)/i.width,1))}const o=({progressBarRef:e,onDragStart:t,onDragMove:a,onDragEnd:o,direction:l="horizontal"})=>{const[c,d]=(0,r.useState)(!1),g=(0,r.useRef)(!1),h=(0,n.ZY)(),u=(0,r.useRef)(t),f=(0,r.useRef)(a),m=(0,r.useRef)(o);u.current=t,f.current=a,m.current=o;const b=(0,i.YQ)((t=>{f.current(s(e,t,l)),g.current=!0}),20,{leading:!0,maxWait:20});return{isDragging:c,onMouseDown:(0,r.useCallback)((t=>{const a=t=>{d(!1),b.cancel(),m.current(s(e,t,l),{wasDraggedBeforeReleased:g.current}),h?.removeEventListener("pointermove",b),g.current=!1};0===t.button&&(u.current(s(e,t,l)),d(!0),h?.addEventListener("pointermove",b),h?.addEventListener("pointerup",a,{once:!0}),g.current=!1)}),[b,e,l,h])}}},78134:(e,t,a)=>{a.d(t,{V:()=>E});var r=a(65809),i=a(30758),n=(a(2557),a(25669));const s=20,o=[{name:"dark",frames:s},{name:"normal",frames:s},{name:"dark",frames:s},{name:"normal",frames:s},{name:"dark",frames:320},{name:"dark",frames:80,isStartOfFlashlightEnter:!0},{name:"flashlight-on",frames:s},{name:"dark",frames:s},{name:"flashlight-on",frames:s},{name:"dark",frames:40},{name:"flashlight-on",isInfinite:!0},{name:"dark",frames:s,isStartOfExit:!0},{name:"flashlight-on",frames:s},{name:"dark",frames:s},{name:"flashlight-on",frames:s},{name:"dark",frames:s},{name:"normal",isInfinite:!0,isEndOfExit:!0}];function l(e,t){const a=document.createElement("canvas"),r=a.getContext("2d");if(null===r)return null;const i=Math.sqrt(e**2+t**2),n=200;return a.width=i/1.5+400,a.height=i+400,r.translate(n,n),{canvas:a,context:r,width:a.width-400,height:a.height-400,padding:n}}function c(e,t,a,r,i=0){const n=r/2*Math.PI/180,s=a/Math.cos(n),o=Math.sin(n)*s*2;e.beginPath(),e.moveTo((t-o)/2,i),e.lineTo(t/2,i+a),e.lineTo((t-o)/2+o,i),e.closePath()}function d(e,t){const a=function(e,t){const a=(0,i.useMemo)((()=>{const e=new Image;return e.src=(0,n.bj)("images/stranger-things-nether-bottom-left.png"),e}),[]),r=(0,i.useMemo)((()=>{const e=new Image;return e.src=(0,n.bj)("images/stranger-things-nether-bottom-right.png"),e}),[]);return function(i){if(r){const a=e-r.naturalWidth,n=t-r.naturalHeight;i.drawImage(r,0,0,r.naturalWidth,r.naturalHeight,a,n,r.naturalWidth,r.naturalHeight)}if(a){const e=0,r=t-a.naturalHeight;i.drawImage(a,0,0,a.naturalWidth,a.naturalHeight,e,r,a.naturalWidth,a.naturalHeight)}}}(e,t),[r,s]=(0,i.useState)(g(e,t)),[l,c]=(0,i.useState)(h(e,t));return(0,i.useEffect)((()=>{s(g(e,t)),c(h(e,t))}),[e,t]),(i,n,s,c)=>{if(!r||!l)return;const d=s/100,g=n.left+n.width*d,h=n.top+n.height/2;let u=0;u=d>.5?(d-.5)/.5*-60:60-d/.5*60;const f=r.width,m=r.height,b=-r.width/2,p=-r.height,v=f,y=m;i.save(),i.fillStyle="rgba(0, 0, 0, 0.85)",i.fillRect(0,0,e,t);const w=i.createLinearGradient(e/2,0,e/2,t);w.addColorStop(0,"rgba(57, 139, 216, 0.3)"),w.addColorStop(1,"rgba(0, 29, 62, 0.15)"),i.fillStyle=w,i.fillRect(0,0,e,t),"flashlight-on"===o[c]?.name?(i.save(),i.translate(g,h),i.rotate(u*Math.PI/180),i.globalCompositeOperation="destination-out",i.drawImage(r,0,0,f,m,b,p+100,v,y),i.restore(),a(i),i.save(),i.translate(g,h),i.rotate(u*Math.PI/180),i.globalCompositeOperation="source-over",i.drawImage(l,0,0,f,m,b,p+100,v,y),i.restore()):a(i),i.restore()}}function g(e,t){const a=l(e,t);if(!a)return null;const{canvas:r,context:i,width:n,height:s,padding:o}=a,d=i.createLinearGradient(n/2,0,n/2,s);d.addColorStop(0,"rgba(0, 0, 0, 1)"),d.addColorStop(1,"rgba(0, 0, 0, 0)");const g=i.createLinearGradient(n/2,0,n/2,s);return g.addColorStop(.7,"rgba(0, 0, 0, 1)"),g.addColorStop(1,"rgba(0, 0, 0, 0)"),i.save(),i.fillStyle="rgba(0, 0, 0, 1)",c(i,n,s,30,120),i.filter="blur(10px)",i.fill(),i.restore(),i.globalCompositeOperation="destination-out",i.fillStyle=g,i.fillRect(-o,-o,n+2*o,s+2*o),i.globalCompositeOperation="source-over",i.fillStyle="rgba(0, 0, 0, 1)",c(i,n,s,5,40),i.filter="blur(30px)",i.fill(),i.fillStyle="rgba(0, 0, 0, 1)",c(i,n,s,30,80),i.filter="blur(40px)",i.fill(),i.restore(),i.globalCompositeOperation="destination-out",i.fillStyle=d,i.fillRect(-o,-o,n+2*o,s+2*o),r}function h(e,t){const a=l(e,t);if(!a)return null;const{canvas:r,context:i,width:n,height:s,padding:o}=a;i.save(),i.fillStyle="rgba(80, 170, 255, 0.6)",c(i,n,s,30,120),i.filter="blur(10px)",i.fill(),i.restore();const d=i.createLinearGradient(n/2,0,n/2,s);d.addColorStop(.7,"rgba(0, 0, 0, 1)"),d.addColorStop(1,"rgba(0, 0, 0, 0)"),i.globalCompositeOperation="destination-out",i.fillStyle=d,i.fillRect(-o,-o,n+2*o,s+2*o),i.globalCompositeOperation="source-over",i.fillStyle="rgba(80, 170, 255, 0.8)",c(i,n,s,5,40),i.filter="blur(30px)",i.fill(),i.fillStyle="rgba(80, 170, 255, 0.4)",c(i,n,s,30,150),i.filter="blur(40px)",i.fill(),i.restore(),i.save(),i.translate(n/2,s-140),i.scale(1,10),i.fillStyle="rgba(198, 238, 251, 0.2)",i.filter="blur(24px)",i.beginPath(),i.arc(0,0,22,0,2*Math.PI),i.fill(),i.fillStyle="rgba(234, 255, 255, 0.2)",i.filter="blur(18px)",i.beginPath(),i.arc(0,0,20,0,2*Math.PI),i.fill(),i.restore(),i.save(),i.translate(n/2,s-70),i.scale(1,5),i.fillStyle="rgba(198, 238, 251, 0.1)",i.filter="blur(14px)",i.beginPath(),i.arc(0,0,18,0,2*Math.PI),i.fill(),i.fillStyle="rgba(234, 255, 255, 0.1)",i.filter="blur(8px)",i.beginPath(),i.arc(0,0,20,0,2*Math.PI),i.fill(),i.restore(),i.fillStyle="rgba(100, 190, 255, 1)",i.filter="blur(22px)",i.beginPath(),i.arc(n/2,s+100,20,0,2*Math.PI),i.fill(),i.fillStyle="rgba(198, 238, 251, 1)",i.filter="blur(4px)",i.beginPath(),i.arc(n/2,s+100,14,0,2*Math.PI),i.fill(),i.fillStyle="rgba(234, 255, 255, 1)",i.filter="blur(1px)",i.beginPath(),i.arc(n/2,s+100,12,0,2*Math.PI),i.fill();const g=i.createLinearGradient(n/2,0,n/2,s);return g.addColorStop(0,"rgba(0, 0, 0, 1)"),g.addColorStop(1,"rgba(0, 0, 0, 0)"),i.globalCompositeOperation="destination-out",i.fillStyle=g,i.fillRect(-o,-o,n+2*o,s+2*o),i.globalCompositeOperation="source-over",r}a(86328);const u=[{size:6,alpha:.5},{size:6,alpha:.4},{size:12,alpha:.3},{size:12,alpha:.3},{size:12,alpha:.3},{size:14,alpha:.2},{size:20,alpha:.2},{size:30,alpha:.2},{size:40,alpha:.1}];function f(e,t){const a=(0,i.useMemo)((()=>{const e=new Image;return e.src=(0,n.bj)("images/stranger-things-spores.png"),e}),[]),[r,s]=(0,i.useState)(m(e,t));return(0,i.useEffect)((()=>{r?function(e,t,a){e.forEach((e=>{e.x=Math.random()*t,e.y=Math.random()*a}))}(r,e,t):s(m(e,t))}),[e,t,r]),function(i){null!==a&&r.forEach((r=>{r.x-=r.directionX*r.velocityX,r.y-=r.directionY*r.velocityY,r.y>t+10?(r.x=Math.random()*e,r.y=-10):r.x<-10&&(r.x=e+10,r.y=Math.random()*t);const n=r.spriteSheetX,s=r.spriteSheetY,o=r.x-r.size/2,l=r.y-r.size/2,c=r.size,d=r.size;i.save(),i.globalAlpha*=r.alpha,i.drawImage(a,n,s,64,64,o,l,c,d),i.restore()}))}}function m(e,t){const a=[];for(let r=0;r<100;r++){const r=Math.floor(Math.random()*u.length),i=Math.floor(8*Math.random()),n=Math.floor(2*Math.random()),s=u[r].size,o=u[r].alpha;a.push({alpha:o,size:s,spriteSheetX:64*i,spriteSheetY:64*n,x:Math.random()*e,y:Math.random()*t,directionX:Math.random()>.5?1:-1,directionY:Math.random()>.5?1:-1,velocityX:s/300,velocityY:s/400})}return a}class b{_subscribers=[];_active=!1;unsubscribeToActivity(e){const t=this._subscribers.findIndex((t=>t.fn===e)),a=this._subscribers[t];-1!==t&&a?.inactiveTimeout&&(clearTimeout(a.inactiveTimeout),this._subscribers.splice(t,1))}subscribeToActivity(e,t){this._subscribers.push({fn:t,msInactive:e,isActive:!1})}enableActivityMonitor(){window.addEventListener("mousemove",this._onActivity),window.addEventListener("mouseup",this._onActivity),window.addEventListener("keydown",this._onActivity),window.addEventListener("scroll",this._onActivity,!0)}disableActivityMonitor(){window.removeEventListener("mousemove",this._onActivity),window.removeEventListener("mouseup",this._onActivity),window.removeEventListener("keydown",this._onActivity),window.removeEventListener("scroll",this._onActivity,!0),this._subscribers.forEach((e=>clearTimeout(e.inactiveTimeout))),this._subscribers=[]}_onActivity=()=>{this._subscribers.forEach((e=>{this._active||(this._active=!0,e.fn(this._active)),clearTimeout(e.inactiveTimeout),e.inactiveTimeout=setTimeout((()=>{this._active=!1,e.fn(this._active)}),e.msInactive)}))}}class p{frame=0;lastPhaseFrame=0;phase=0;animationFrameRequestId=null;flickerTimerId=null;isPlaying=!0;start(){this.lastPhaseFrame=this.frame,this.phase=0;const e=()=>setTimeout((()=>{this.flickerTimerId=e(),this.isPlaying&&o[this.phase]?.isInfinite&&this.setPhase(o.findIndex((e=>e.isStartOfFlashlightEnter)))}),15e3*Math.random()+5e3);this.flickerTimerId=e()}stop(){const e=o.findIndex((e=>e.isStartOfExit));this.phase<e&&this.setPhase(e),null!==this.flickerTimerId&&clearTimeout(this.flickerTimerId)}setPhase(e){this.lastPhaseFrame=this.frame,this.phase=e}}const v="TNGv07zrye9gB_3ukweR";var y=a(86070);const w=e=>{const{getPercentage:t,isDragging:a=!1,isPlayingStrangerThings:r=!1,progressBar:n}=e,s=(0,i.useMemo)((()=>new b),[]),l=(0,i.useMemo)((()=>new p),[]),c=(0,i.useRef)(null),[g,h]=(0,i.useState)(null),[u,m]=(0,i.useState)(window.innerHeight),[w,S]=(0,i.useState)(window.innerWidth),[E,x]=(0,i.useState)(!1),[C,A]=(0,i.useState)(!1),M=f(w,u),k=d(w,u),I=(0,i.useCallback)((e=>{!a&&r&&(e?l.stop():(l.start(),A(!0)))}),[a,r,l]),T=(0,i.useCallback)((()=>{r&&(l.setPhase(o.findIndex((e=>e.isStartOfFlashlightEnter))),A(!0))}),[r,l]),P=(0,i.useCallback)((()=>{l.stop()}),[l]),D=(0,i.useCallback)((()=>{if(!C)return void x(!0);x(!1);const e=window.innerHeight,t=window.innerWidth;S(t),m(e)}),[C]),O=(0,i.useCallback)((()=>{if(!c.current)return;const{frame:e,lastPhaseFrame:a,phase:r}=l;l.frame=e+1;const i=o[r];if(i.isEndOfExit)A(!1);else{if(i.isInfinite||e-a===i.frames&&l.setPhase(r+1),c.current.width=w,c.current.height=u,"normal"!==i.name){const e=c.current.getContext("2d");if(!e||!g)return;const a=t();k(e,g,a,r),M(e)}l.animationFrameRequestId=requestAnimationFrame(O)}}),[u,w,k,M,t,g,l]);return(0,i.useEffect)((()=>{window.addEventListener("resize",D);const e=s;return e.enableActivityMonitor(),e.subscribeToActivity(5e3,I),()=>{window.removeEventListener("resize",D),e.disableActivityMonitor(),e.unsubscribeToActivity(I)}}),[s,I,D]),(0,i.useEffect)((()=>{r||l.stop()}),[r,l]),(0,i.useEffect)((()=>{a?T():a||P()}),[a,T,P]),(0,i.useEffect)((()=>{C?(E&&D(),l.animationFrameRequestId=requestAnimationFrame(O)):l.animationFrameRequestId&&cancelAnimationFrame(l.animationFrameRequestId)}),[C,O,D,E,l]),(0,i.useEffect)((()=>{n.current&&h(n.current.getBoundingClientRect())}),[w,u,n]),C?(0,y.jsx)("canvas",{className:v,ref:c,width:w,height:u}):null};var S=a(59161);const E=e=>(0,r.NC)(S.c3z,{loadingValue:!1})&&e.isPlayingStrangerThings?(0,y.jsx)(w,{...e}):null}}]);
//# sourceMappingURL=5660.js.map