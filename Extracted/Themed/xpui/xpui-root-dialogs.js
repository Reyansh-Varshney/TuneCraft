"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1206],{12512:(e,t,a)=>{a.r(t),a.d(t,{RootDialogs:()=>jm});var r=a(30758),s=a(62411),n=a(65809),i=a(97500),o=a.n(i),c=a(67735),l=a(78717),d=a(30920),u=a(73136),m=a(70397),g=a(68513),p=a(605),h=a(59161);const b="tJeH2W2to1A7d9tWBRoi",f="Fpip_FTgTBjBonVELeAE",y="ZcV0w7yhtZB2PDWqYenj",x="oNjdJbGQ9ypf7KR0nYJW",R="ibrRlYShsgThsh8VNS8Q",E="Yl9jzsnP8e_5i9me3h7H",v="vxBybZOmHdDF_nmLE4sa",k="Kdi2BWkdgN0jrWURJCae";var j=a(86070);const S=(0,r.memo)((function(){const e=(0,s.wA)(),{isOpen:t}=(0,s.d4)((e=>e.aboutRecs)),a=(0,n.NC)(h.V4n),i=(0,r.useCallback)((()=>{e((0,g.oK)())}),[e]),S=`https://about-recommendations.spotify.com/?bg=${(a?c.Ql9:c.wdA).substring(1)}&hideHeader=true`,C=a?m.Ru.get("header.about-recommendations-and-promotions"):m.Ru.get("context-menu.about-recommendations");return(0,j.jsxs)(p.M,{animated:!0,isOpen:t,onClose:i,"aria-label":C,className:o()(b,a&&f),children:[(0,j.jsxs)("div",{className:y,children:[(0,j.jsx)(l.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",className:x,children:C}),(0,j.jsx)("button",{"aria-label":m.Ru.get("close_button_action"),className:v,onClick:i,style:{top:a?12:0},children:(0,j.jsx)(d.M,{size:"medium"})})]}),(0,j.jsx)("div",{className:R,children:(0,j.jsx)("iframe",{className:E,title:C,src:S})}),a&&(0,j.jsx)("div",{className:k,children:(0,j.jsx)(u.$,{href:"https://www.spotify.com/safetyandprivacy/understanding-recommendations/plain",target:"_blank",rel:"noopener noreferrer",colorSet:"invertedLight",children:m.Ru.get("home.dsa-message-link")})})]})}));var C=a(26405),w=a(35394);a(66016);const N=({className:e})=>(0,j.jsxs)("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",children:[(0,j.jsx)("rect",{width:"14.933",height:"14.933",x:"0.533",y:"0.533",fill:"#E22134",rx:"7.467"}),(0,j.jsx)("path",{fill:"#fff",d:"M6.143 12V4.437h-1.28c-.15.79-.907 1.387-1.995 1.419v1.003h1.813V12h1.462zm5.092-5.13c0 .82-.65 1.343-1.386 1.343-.758 0-1.387-.512-1.387-1.344 0-.81.64-1.333 1.387-1.333.736 0 1.386.533 1.386 1.333zm-4 4.874c.384.245 1.12.416 1.75.416 2.56 0 3.893-1.61 3.893-4.341 0-2.4-1.397-3.542-2.997-3.542-1.611 0-2.859 1.088-2.859 2.635 0 1.59 1.227 2.539 2.603 2.539.853 0 1.514-.363 1.802-.843-.074 1.397-.96 2.261-2.453 2.261-.512 0-1.067-.16-1.355-.32l-.384 1.195z"}),(0,j.jsx)("rect",{width:"14.933",height:"14.933",x:"0.533",y:"0.533",stroke:"#fff",strokeWidth:"1.067",rx:"7.467"})]});function _(e,t,a,r){if(a<=0||r<=0||r>1)return{height:-1,width:-1,parentHeight:e,parentWidth:t};const s=e*t,n=1/r*a,i=Math.sqrt(s/n);return{height:i,width:i*a,parentHeight:e,parentWidth:t}}var O=a(67240);const I="SVnAziPF2z_cgAGrp6He",A="miG_SXrw265mkozdEHrJ",T="RWLySPhsOTyK2EsAGUgx",L="X_vuuyeQDD6IWI4aIE6k",D="VdyeU78LKQdX8Dclnfxr",P="Z12I3N4OnNvzRSNKOeUn",U="IDHZCFcj1ynmYu6Sm5SR",M="UmY163JiUcgJt2MKNyGW",B="SYKOtPBDhPSs6zGwbk6A";var F=a(332);const G={[F.E.XSMALL]:P,[F.E.SMALL]:P,[F.E.MEDIUM]:U,[F.E.LARGE]:M,[F.E.XLARGE]:M},W=({image:e,title:t,description:a,primaryButton:r,secondaryButton:s,renderExtraInfo:n,style:i,className:c,size:l=F.E.SMALL})=>{const d="string"==typeof t?(0,j.jsx)("h2",{className:T,children:t}):(0,j.jsx)("div",{className:T,children:t});let u,m;return a&&(u="string"==typeof a?(0,j.jsx)("p",{className:L,children:a}):(0,j.jsx)("div",{className:L,children:a})),s&&(m=(0,j.jsx)("div",{className:B,children:s})),(0,j.jsxs)("div",{className:o()(`${I} ${G[l]}`,c),style:i,"data-testid":"dialog-root",children:[e&&(0,j.jsx)("div",{className:D,children:(0,j.jsx)(O._,{loading:"lazy",src:e})}),(0,j.jsxs)("div",{className:A,children:[d,u,r,m,n&&n()]})]})},z="dzS9k6yn4XzF3jWcS3W2",V="ezHLQVkVclgu_n15ybG6",H="gQ3lUcmizympex29IHL7",K="VDUUJg30Ewzy9OP54arn",q={[F.E.SMALL]:1,[F.E.MEDIUM]:.72,[F.E.LARGE]:1.82},Q={[F.E.SMALL]:0,[F.E.MEDIUM]:600,[F.E.LARGE]:1024},Y=1/3,J=({image:e,onConfirm:t,backgroundColor:a})=>{const s=(e=>Object.keys(Q).reverse().find((t=>e>=Q[t]?t:null)))(window.innerWidth),{width:n,height:i,parentHeight:c}=function(e,t){const[a,s]=(0,r.useState)((()=>_(window.innerHeight,window.innerWidth,e,t))),n=(0,r.useRef)(),i=(0,r.useCallback)((()=>{s(_(window.innerHeight,window.innerWidth,e,t))}),[e,t]);return(0,r.useEffect)((()=>(n.current||(s(_(window.innerHeight,window.innerWidth,e,t)),window.addEventListener("resize",i),n.current=!0),()=>{n.current&&(s(_(window.innerHeight,window.innerWidth,e,t)),window.removeEventListener("resize",i),n.current=!1)})),[e,t,i]),a}(q[s],Y),l=a?{backgroundColor:a}:{},d=((e,t,a,r)=>e===F.E.SMALL?{width:"100vw",height:"100vh"}:e===F.E.MEDIUM&&r<750||e===F.E.LARGE&&r<520?{width:"inherit",height:"inherit"}:{width:`${Math.ceil(t)}px`,height:`${Math.ceil(a)}px`})(s,n,i,c),g=(0,j.jsxs)("span",{children:[(0,j.jsx)("span",{className:V,children:m.Ru.get("age.restriction.explicitContent")}),(0,j.jsx)(N,{className:H})]}),p=(0,j.jsx)(u.$,{colorSet:"invertedLight",onClick:t,children:m.Ru.get("age.restriction.continue")});return(0,j.jsx)(W,{className:o()(z,{[K]:1===q[s]}),style:{...d,...l},image:e,title:m.Ru.get("age.restriction.confirmAge"),description:g,primaryButton:p,size:s})},$="J2uBhFKAVeDnSUb6Diq_",Z="dlCbZFZLaxVOGbVUleiV",X=()=>{const e=(0,s.wA)(),{image:t,backgroundColor:a,providerUrl:r}=(0,s.d4)((({ageRestriction:e})=>({image:"",backgroundColor:e.dialog.backgroundColor,providerUrl:e.dialog.providerUrl})),((e,t)=>e.image===t.image&&e.backgroundColor===t.backgroundColor&&e.providerUrl===t.providerUrl));return(0,j.jsxs)("div",{className:$,children:[(0,j.jsx)(J,{image:t,onConfirm:()=>{window.location.assign(r)},backgroundColor:a}),(0,j.jsx)("div",{className:Z,children:(0,j.jsx)(w.H,{onClick:()=>{e((0,C.Rb)())},children:m.Ru.get("close")})})]})},ee=()=>{const e=(0,s.wA)(),t=(0,s.d4)((({ageRestriction:e})=>e.isOpen));return(0,j.jsx)(p.M,{animated:!0,onClose:()=>{e((0,C.Rb)())},"aria-label":m.Ru.get("age.restriction.confirmAge"),isOpen:t,children:(0,j.jsx)(X,{})})};var te=a(81458),ae=a(48729),re=a(30929),se=a(83953),ne=a(92413),ie=a(47394);const oe="main-keyboardShortcutsHelpModal-container",ce="gPDYH11Cr1B2ZtS9z0P8",le="IIQWD0tGOaagAN9uP_4h",de="LdrQgiV3Kav0IR6Oqsej",ue=(0,r.memo)((function(){const e=(0,s.wA)(),{user:t}=(0,s.d4)(se.Ht),{name:a,uri:n,isOpen:i,onBlock:c}=(0,s.d4)((({ui:e})=>e.blockUserDialog)),{enqueueSnackbar:d}=(0,re.d)(),g=(0,ie.A)(),h=(0,r.useCallback)((async()=>{if(t&&n)try{await(0,ne.rn)(g,{currentUserUri:t?.uri,uri:n}),e((0,ae.xF)()),d(m.Ru.get("feedback.block-user")),c?.()}catch(t){throw e((0,ae.xF)()),t}}),[t,n,g,e,c,d]),b=(0,r.useCallback)((()=>{e((0,ae.xF)())}),[e]),f=(0,r.useCallback)((()=>{e((0,ae.xF)())}),[e]);return(0,j.jsxs)(p.M,{animated:!0,onClose:f,"aria-label":m.Ru.get("block-user.dialog.title",a),isOpen:i,className:oe,children:[(0,j.jsx)(l.E,{as:"h2",variant:"bodyMediumBold",className:ce,children:m.Ru.get("block-user.dialog.title",a)}),(0,j.jsx)(l.E,{as:"p",variant:"bodySmall",className:le,paddingBottom:te.lT,children:m.Ru.get("block-user.dialog.description",a)}),(0,j.jsxs)("div",{className:o()("encore-light-theme",de),children:[(0,j.jsx)(w.H,{buttonSize:w.H.md,onClick:b,children:m.Ru.get("block-user.dialog.cancel")}),(0,j.jsx)(u.$,{onClick:h,buttonSize:u.$.md,children:m.Ru.get("block-user.dialog.block")})]})]})}));var me=a(85387),ge=a(18831),pe=a(26045),he=a(98756),be=a(34169);const fe=(0,r.memo)((function(){const e=(0,s.wA)(),{removeFolder:t}=(0,be.Z)(),a=(0,he.g)(),n=(0,me.zy)(),{uri:i,onDeleteCallback:o}=(0,s.d4)((({ui:e})=>e.deleteFolderDialog)),c=(0,r.useCallback)((()=>{e((0,ae.c$)())}),[e]),l=(0,r.useCallback)((()=>{i&&(t(i),c(),(0,ge.o_h)(i)?.toURLPath().endsWith(n.pathname)&&a("/",{replace:!0}),o&&o())}),[i,t,c,n.pathname,o,a]);return(0,j.jsx)(pe.T,{"aria-label":m.Ru.get("folder.delete-header"),titleText:m.Ru.get("folder.delete-header"),onConfirm:l,onClose:c,confirmText:m.Ru.get("contextmenu.delete"),confirmLabel:m.Ru.get("folder.delete-header"),cancelText:m.Ru.get("queue.cancel-button")})}));var ye=a(19906),xe=a(51393);const Re={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ee=/[&<>"']/g,ve=RegExp(Ee.source);const ke=Object.values(Re);RegExp(`${ke.join("|")}`,"g"),RegExp(`${ke.join("|")}`);const je=(0,r.memo)((function({uri:e}){const t=(0,he.g)(),a=(0,me.zy)(),n=(0,s.wA)(),[,i]=(0,ye.A)(e),o=(0,xe.J)(e),c=(0,r.useCallback)((()=>{i(!1),n((0,ae._P)()),(0,ge.B2u)(e,a.pathname)&&t("/",{replace:!0})}),[e,i,n,a.pathname,t]),l=(0,r.useCallback)((()=>{n((0,ae._P)())}),[n]);return o&&(0,j.jsx)(pe.T,{"aria-label":m.Ru.get("playlist.delete",o.name),titleText:m.Ru.get("playlist.delete-title",o.name),descriptionText:m.Ru.get("playlist.delete-description",(d=o.name,d&&ve.test(d)?d.replace(Ee,(e=>e in Re?Re[e]:e)):d)),onConfirm:c,onClose:l,confirmText:m.Ru.get("contextmenu.delete"),confirmLabel:m.Ru.get("playlist.delete",o.name),cancelText:m.Ru.get("queue.cancel-button"),allowHTML:!0});var d})),Se=()=>{const e=(0,s.d4)((e=>e.ui.deletePlaylistDialog.uri));return e?(0,j.jsx)(je,{uri:e}):null},Ce=(0,r.lazy)((async()=>{const{AboutSpotifyModal:e}=await a.e(8493).then(a.bind(a,40346));return{default:e}})),we=(0,r.lazy)((async()=>await a.e(8493).then(a.bind(a,88988)))),Ne=(0,r.lazy)((async()=>await a.e(8493).then(a.bind(a,76395)))),_e=(0,r.lazy)((async()=>{const{LazyPromptComposerModal:e}=await a.e(8493).then(a.bind(a,15649));return{default:e}}));function Oe(){return(0,j.jsxs)(r.Suspense,{fallback:null,children:[(0,j.jsx)(Ce,{}),(0,j.jsx)(we,{}),(0,j.jsx)(Ne,{}),(0,j.jsx)(_e,{})]})}var Ie=a(42551),Ae=a(55319),Te=a(67358);const Le="main-duplicateTrackModal-container",De="main-duplicateTrackModal-title",Pe="main-duplicateTrackModal-description",Ue="main-duplicateTrackModal-buttonContainer",Me=(0,Ie.Mz)((e=>e.duplicateTracks),(e=>{const t=!!e.uri;return{...e,onlyOneTrack:t,uris:t&&e.uri?[e.uri]:e.uris}})),Be=(0,r.memo)((function(){const e=(0,s.wA)(),t=(0,Te.m)(),{isOpen:a,playlistName:n,playlistUri:i,uris:c=[],onlyOneTrack:d,position:g={after:"end"},newUris:h=[]}=(0,s.d4)(Me),b=h?.length,f=!d&&b,y=(0,r.useCallback)((()=>{f&&t.add(i,h,g),e((0,Ae.Qo)())}),[t,f,h,g,i,e]),x=(0,r.useCallback)((()=>{t.add(i,c,g),e((0,Ae.Qo)())}),[t,c,g,i,e]),R=(0,r.useCallback)((()=>{e((0,Ae.Qo)())}),[e]);let E;return E=f?m.Ru.get("duplicate.tracks.someAlreadyAddedDescription",n):d?m.Ru.get("duplicate.tracks.oneAlreadyAdded",n):m.Ru.get("duplicate.tracks.allAlreadyAdded",n),(0,j.jsx)(p.M,{animated:!0,onClose:R,"aria-label":m.Ru.get("duplicate.tracks.alreadyAdded"),isOpen:a,children:(0,j.jsxs)("div",{className:Le,children:[(0,j.jsx)(l.E,{as:"h2",variant:"bodyMediumBold",className:De,children:f?m.Ru.get("duplicate.tracks.someAlreadyAdded"):m.Ru.get("duplicate.tracks.alreadyAdded")}),(0,j.jsx)(l.E,{as:"p",variant:"bodySmall",className:Pe,paddingBottom:te.lT,children:E}),(0,j.jsxs)("div",{className:o()("encore-light-theme",Ue),children:[(0,j.jsx)(w.H,{onClick:x,children:f?m.Ru.get("duplicate.tracks.addAll"):m.Ru.get("duplicate.tracks.addAnyway")}),(0,j.jsx)(u.$,{onClick:y,children:f?m.Ru.get("duplicate.tracks.addNewOnes"):m.Ru.get("duplicate.tracks.dontAdd")})]})]})})}));a(77369);var Fe=a(31186),Ge=a(59039),We=a(57010),ze=a(65620),Ve=a(49950),He=a(80159),Ke=a(42785),qe=a(87898);let Qe=function(e){return e[e.PODCAST_AUDIO=0]="PODCAST_AUDIO",e[e.PODCAST_VIDEO=1]="PODCAST_VIDEO",e[e.TRACK=2]="TRACK",e[e.PLAYLIST=3]="PLAYLIST",e[e.ARTIST=4]="ARTIST",e[e.ALBUM=5]="ALBUM",e}({});a(98273);const Ye=[1,60,3600],Je=[3600,60,1],$e={seconds:NaN,humanString:"-:--"};function Ze(e){if(!isFinite(e))return $e.humanString;let t=Math.round(e);return Je.reduce(((e,a,r)=>{const s=0===e.length?1:2;if(t>=a||e.length>0||r===Ye.length-2){const r=Math.floor(t/a);t-=r*a,e.push(r.toString().padStart(s,"0"))}return e}),[]).join(":")}function Xe(e){let t=NaN;if("number"==typeof e)t=Math.round(e);else if("string"==typeof e){const a=e.split(":");a.length<=Ye.length&&(t=a.reverse().reduce(((e,t,a)=>e+=function(e){const t=parseInt(e,10);return t>=0?t:NaN}(t)*Ye[a]),0))}return isNaN(t)?$e:{seconds:t,humanString:Ze(t)}}var et=a(66590),tt=a(63388),at=a(39463);const rt=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForAlbumEntity"]=new tt.l("fetchExtractedColorAndImageForAlbumEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),st=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForArtistEntity"]=new tt.l("fetchExtractedColorAndImageForArtistEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),nt=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForEpisodeEntity"]=new tt.l("fetchExtractedColorAndImageForEpisodeEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),it=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForPlaylistEntity"]=new tt.l("fetchExtractedColorAndImageForPlaylistEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),ot=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForPodcastEntity"]=new tt.l("fetchExtractedColorAndImageForPodcastEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),ct=Spicetify.GraphQL.Definitions["fetchExtractedColorAndImageForTrackEntity"]=new tt.l("fetchExtractedColorAndImageForTrackEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),lt=Spicetify.GraphQL.Definitions["fetchExtractedColorForAlbumEntity"]=new tt.l("fetchExtractedColorForAlbumEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),dt=Spicetify.GraphQL.Definitions["fetchExtractedColorForArtistEntity"]=new tt.l("fetchExtractedColorForArtistEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),ut=Spicetify.GraphQL.Definitions["fetchExtractedColorForEpisodeEntity"]=new tt.l("fetchExtractedColorForEpisodeEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),mt=Spicetify.GraphQL.Definitions["fetchExtractedColorForPlaylistEntity"]=new tt.l("fetchExtractedColorForPlaylistEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),gt=Spicetify.GraphQL.Definitions["fetchExtractedColorForPodcastEntity"]=new tt.l("fetchExtractedColorForPodcastEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null),pt=Spicetify.GraphQL.Definitions["fetchExtractedColorForTrackEntity"]=new tt.l("fetchExtractedColorForTrackEntity","query","b2d6d99fb6237952dfa6638385f9c6085f1b1fb9d0468753ca6ad98ff45adc6f",null);var ht=a(254),bt=a(60804);const ft={artist:dt,album:lt,episode:ut,playlist:mt,"playlist-v2":mt,show:gt,track:pt};function yt(e){return e?.extractedColors?.colorDark.hex}const xt={artist:st,album:rt,episode:nt,playlist:it,"playlist-v2":it,show:ot,track:ct};function Rt(e){return!!e}function Et(e){return!!e}function vt(e){return!(!e||0===Object.keys(e).length)&&"Episode"===e.__typename}function kt(e){return!!e}function jt(e){return!(!e||0===Object.keys(e).length)&&"Podcast"===e.__typename}function St(e){return!(!e||0===Object.keys(e).length)&&"Audiobook"===e.__typename}function Ct(e){return!!e}var wt=a(88426),Nt=a(99875),_t=a(19151),Ot=a(36478);const It="main-embedWidgetGenerator-container",At="main-embedWidgetGenerator-contentCode",Tt="main-embedWidgetGenerator-visible",Lt="main-embedWidgetGenerator-code",Dt="main-embedWidgetGenerator-timestampInput",Pt="main-embedWidgetGenerator-content",Ut="main-embedWidgetGenerator-contentHeader",Mt="main-embedWidgetGenerator-contentFooter",Bt="main-embedWidgetGenerator-contentIframe",Ft="main-embedWidgetGenerator-copyWrapper",Gt="main-embedWidgetGenerator-copyBtn",Wt="main-embedWidgetGenerator-darkControl",zt="main-embedWidgetGenerator-widthField",Vt="main-embedWidgetGenerator-tooltipInitiator",Ht="main-embedWidgetGenerator-tooltip",Kt="main-embedWidgetGenerator-transControl",qt="main-embedWidgetGenerator-header",Qt="main-embedWidgetGenerator-closeBtn",Yt="main-embedWidgetGenerator-theme",Jt="main-embedWidgetGenerator-themeDescription",$t="main-embedWidgetGenerator-themeRadio",Zt="main-embedWidgetGenerator-active",Xt="main-embedWidgetGenerator-terms",ea="main-embedWidgetGenerator-dimensionsContainer",ta="main-embedWidgetGenerator-dimensionLabel",aa="main-embedWidgetGenerator-dimensionField",ra="main-embedWidgetGenerator-crossSep",sa="main-embedWidgetGenerator-startAt",na="main-embedWidgetGenerator-loadingIndicator",ia=352,oa="100%",ca={frameBorder:0,allowFullScreen:!0,allow:["autoplay","clipboard-write","encrypted-media","fullscreen","picture-in-picture"].join("; "),loading:"lazy"},la={disallow:{timestamp:!0,theme:!1,width:!1},defaults:{theme:"1",height:ia,width:oa},theme:[["1",null],["0","#282828"]],height:[[ia,"normal"],[152,"compact"]],constraints:{width:{min:250,max:600,minPercentage:40,maxPercentage:100}}},da={[Qe.PODCAST_AUDIO]:{disallow:{timestamp:!1,theme:!1,width:!1},defaults:{theme:"1",height:ia,width:oa},theme:[["1",null],["0","#282828"]],height:[[ia,"normal"],[152,"compact"]],constraints:{width:{min:250,max:600,minPercentage:40,maxPercentage:100}}},[Qe.PODCAST_VIDEO]:{disallow:{timestamp:!1,theme:!1,width:!0},defaults:{theme:"1",height:351,width:624},theme:[["1",null],["0","#282828"]],height:[[351,"normal"],[279,"compact"]],constraints:{width:{min:400,max:700,minPercentage:40,maxPercentage:100}}},[Qe.TRACK]:la,[Qe.PLAYLIST]:la,[Qe.ARTIST]:la,[Qe.ALBUM]:la},ua={disallow:{timestamp:!0,theme:!0,width:!0},defaults:{theme:"1",height:ia,width:oa},theme:[],height:[],constraints:{width:{min:250,max:600,minPercentage:40,maxPercentage:100}}},ma=({uri:e,currentTrackUri:t,currentPositionInMs:a,isOpen:s,entityType:n})=>{const i=(0,r.useMemo)((()=>(0,ge.o_h)(e)),[e]),c=t===e,g=(0,qe.n)(n),{search:h}=(0,me.zy)(),[b,f]=(0,r.useState)(null),[y,x]=(0,r.useState)(null),[R,E]=(0,r.useState)(null),[v,k]=(0,r.useState)(null),[S,C]=(0,r.useState)(!1),[N,_]=(0,r.useState)(!1),[O,I]=(0,r.useState)(c?Math.floor((a??0)/1e3):0),[A,T]=(0,r.useState)(!0),[L,D]=(0,r.useState)(!1),[P,U]=(0,r.useState)(m.Ru.get("ewg.copy")),M=null!==b?da[b]:ua,B=(0,wt.T)(),F=function(e,t=et.l0o){const{request:a}=(0,r.useContext)(ht.j),[s,n]=(0,r.useState)(t);return(0,r.useEffect)((()=>{(async()=>{const t=(0,ge.o_h)(e);if(!t)return;const r=ft[t.type];if(!r)return void console.error(`The entity (${e}) you're trying to use it not supported for this query`);const s=await a(r,{uri:t.toURI()}),{albumUnion:i,artistUnion:o,episodeUnionV2:c,playlistV2:l,podcastUnionV2:d,trackUnion:u}=s?.data||{};Rt(i)?n(yt(i.coverArt)):Et(o)?n(yt(o.visuals?.avatarImage)):vt(c)?n(yt(c.coverArt)):kt(l)?n(yt(l.images?.items?.[0])):jt(d)||St(d)?n(yt(d?.coverArt)):Ct(u)&&n(yt(u.albumOfTrack?.coverArt))})()}),[e,a]),s}(e,"#FFF"),G=(0,r.useRef)(null),W=(0,r.useRef)(null),z=(0,r.useContext)(Ke.wv),V=(0,r.useCallback)((()=>{z({type:"close"})}),[z]),H=()=>{V()},K=()=>{if(!W?.current)return;const e=W.current.value;if(null!==b){const{constraints:t}=da[b],[a,r]=function(e,t){const a=parseInt(e.replace(/px|%$/,""),10);if(Number.isFinite(a)){if(-1!==e.indexOf("px")){const e=Math.max(t.min,Math.min(t.max,Math.round(a)));return[`${e}px`,e.toString()]}const r=Math.max(t.minPercentage,Math.min(t.maxPercentage,Math.round(a)));return[`${r}%`,`${r}%`]}return["100%","100%"]}(e,t.width);W.current.value=a,k(r)}},q=()=>{if(G?.current){const e=Xe(G.current.value);G.current.value=e.humanString,e.seconds!==O&&(T(!0),I(e.seconds))}};(0,r.useEffect)((()=>{if(b===Qe.PODCAST_VIDEO&&R){const e=parseInt(R,10);k(351===e?624..toString():496..toString())}}),[R,b]),(0,r.useEffect)((()=>{(async()=>{const t=i?.type;if(t===ge.NQG.EPISODE){const t=await B.getEpisodeOrChapter(e);return t.type===_t.c.EPISODE&&t.mediaTypes?.includes(Nt.Cx.Video)?f(Qe.PODCAST_VIDEO):f(Qe.PODCAST_AUDIO)}if(t===ge.NQG.SHOW){const t=n===_t.c.SHOW?await B.getContents(e,{offset:0,limit:1}):await B.getBookContents(e,{offset:0,limit:1,doRefreshSubscription:!1});if(t.items.length>0&&t.items[0]?.uri){const e=await B.getEpisodeOrChapter(t.items[0].uri);return e.type===_t.c.EPISODE&&e.mediaTypes?.includes(Nt.Cx.Video)?f(Qe.PODCAST_VIDEO):f(Qe.PODCAST_AUDIO)}}t===ge.NQG.TRACK?f(Qe.TRACK):t===ge.NQG.ARTIST?f(Qe.ARTIST):t===ge.NQG.ALBUM?f(Qe.ALBUM):f(Qe.PLAYLIST)})()}),[n,B,e,i]),(0,r.useEffect)((()=>{E(M.defaults.height.toString()),x(M.defaults.theme),k(M.defaults.width.toString())}),[M]);const Q=b===Qe.PODCAST_VIDEO,Y=(e=>{if(new URLSearchParams(e).get("locale"))return m.Ru.getLocaleForTranslation()})(h),J=null!==b?function(e,t,a,r,s,n){const i=(0,ge.o_h)(e);if(!i)return null;const o=i.toURLPath(),c=new URL(`https://open.spotify.com/embed/${o}${s?"/video":""}`);return c.searchParams.set("utm_source","generator"),t&&"1"!==t&&c.searchParams.set("theme",t),a&&void 0!==r&&c.searchParams.set("t",r.toString()),n&&c.searchParams.set("locale",n.toString()),c}(e,y,N,O,Q,Y):null,$=J&&M!==ua&&R&&v?(0,j.jsx)("iframe",{"data-testid":"embed-iframe",onLoad:()=>{T(!1)},style:{borderRadius:"12px"},src:J?.toString(),width:v,height:R,...ca},J?.toString()):null,Z=$?(Fe.renderToStaticMarkup($)||"").replace(/src=".*?"/,`src="${J?.toString()}"`):"";return(0,j.jsxs)(p.M,{isOpen:s,"aria-label":g,animated:!0,onClose:H,children:[(0,j.jsxs)("div",{className:o()(It),children:[(0,j.jsxs)("div",{className:qt,children:[(0,j.jsx)(l.E,{as:"h1",variant:"titleSmall",children:g}),(0,j.jsx)("button",{className:Qt,onClick:H,children:(0,j.jsx)(d.M,{size:"small","aria-label":m.Ru.get("close")})})]}),(0,j.jsxs)("div",{className:Pt,children:[(0,j.jsxs)("div",{className:Ut,children:[(0,j.jsxs)("div",{className:Yt,style:{visibility:M.disallow.theme?"hidden":"visible"},children:[(0,j.jsx)("p",{className:Jt,children:m.Ru.get("ewg.color")}),M.theme.map((([e,t])=>{return(0,j.jsx)("button",{"aria-label":m.Ru.get("ewg.color"),style:{backgroundColor:null===t?F:t},className:o()($t,{[Zt]:y===e}),onClick:(a=e,()=>{y!==a&&(T(!0),x(a))})},e);var a}))]}),(0,j.jsxs)("div",{className:ea,children:[(0,j.jsxs)("div",{className:ta,children:[m.Ru.get("ewg.size"),":"]}),(0,j.jsxs)("div",{className:aa,children:[R&&(0,j.jsx)(He.C,{id:"ewg-height",value:R,onSelect:E,children:M.height.map((([e,t])=>(0,j.jsxs)("option",{value:e,children:["normal"===t?m.Ru.get("ewg.size.normal"):m.Ru.get("ewg.size.compact")," ","(",e,"px)"]},e)))}),M.disallow.width?null:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("span",{className:ra,children:"×"}),(0,j.jsxs)("div",{className:zt,children:[(0,j.jsx)("input",{className:Wt,type:"text",ref:W,defaultValue:M.defaults.width,onKeyUp:e=>{"Enter"===e.key&&K()},onBlur:K}),(0,j.jsx)(w.H,{"aria-label":m.Ru.get("ewg.help"),"aria-describedby":"ewg-help-text",size:"small",iconOnly:Ge.N,className:Vt,onMouseOver:()=>C(!0),onMouseLeave:()=>C(!1)}),(0,j.jsx)("div",{onFocus:()=>C(!0),onMouseOver:()=>C(!0),onMouseLeave:()=>C(!1),className:o()(Ht,{[Tt]:S}),children:(0,j.jsx)(We.m,{id:"ewg-help-text",children:m.Ru.get("ewg.help-text")})})]})]})]})]})]}),(0,j.jsxs)("div",{className:Bt,style:{height:ia,maxHeight:"calc(100vh - 402px)"},children:[A&&(0,j.jsx)("div",{className:na,children:(0,j.jsx)(ze.I,{})}),$]}),(0,j.jsx)("small",{className:Xt,dangerouslySetInnerHTML:{__html:m.Ru.get("ewg.terms",{devTerms:"https://developer.spotify.com/terms/",platfRules:"https://www.spotify.com/platform-rules/"})}}),(0,j.jsxs)("div",{className:Mt,children:[(0,j.jsxs)("div",{className:sa,style:{visibility:M.disallow.timestamp?"hidden":"visible"},children:[(0,j.jsx)(Ve.c,{className:Wt,checked:N,type:"checkbox",id:"ewg-timestamp",onChange:e=>{const t=e.currentTarget.checked;N!==t&&(T(!0),_(t))},"data-testid":"timestamp-checkbox"}),(0,j.jsx)("label",{htmlFor:"ewg-timestamp",children:m.Ru.get("ewg.start-at")}),(0,j.jsx)("input",{className:o()(Kt,Dt),disabled:!N,type:"text",defaultValue:Xe(O.toString()).humanString,ref:G,onBlur:q,onKeyUp:e=>{"Enter"===e.key&&q()}})]}),(0,j.jsxs)("div",{className:Ft,children:[(0,j.jsx)(Ve.c,{className:Wt,checked:L,type:"checkbox",id:"ewg-showcode",onChange:e=>{const t=e.currentTarget.checked;D(t)}}),(0,j.jsx)("label",{htmlFor:"ewg-showcode",children:m.Ru.get("ewg.showcode")}),(0,j.jsx)(u.$,{className:Gt,size:"small",onClick:()=>{(0,Ot.l)(Z),U(m.Ru.get("ewg.copied")),setTimeout((()=>U(m.Ru.get("ewg.copy"))),5e3)},children:P})]})]})]})]}),(0,j.jsx)("section",{className:o()(At,{[Tt]:L}),children:(0,j.jsx)("pre",{className:Lt,"data-testid":"iframe-code",children:Z})})]})},ga=()=>{const e=(0,r.useContext)(Ke.Fx);return e.uri?(0,j.jsx)(ma,{...e}):null},pa=()=>{const e=(0,s.wA)(),t=(0,he.g)(),{isOpen:a}=(0,s.d4)((({ui:e})=>e.explicitContentDialog)),n=(0,r.useCallback)((()=>{e((0,ae.wn)())}),[e]),i=(0,r.useCallback)((()=>{t("/preferences"),e((0,ae.wn)())}),[e,t]);return(0,j.jsx)(pe.T,{isOpen:a,onClose:n,onConfirm:i,"aria-label":"explicit-content-dialog",titleText:m.Ru.get("explicit-content.dialog.title"),descriptionText:m.Ru.get("explicit-content.dialog.description"),confirmText:m.Ru.get("explicit-content.dialog.confirm"),cancelText:m.Ru.get("explicit-content.dialog.cancel")})};var ha=a(3180),ba=a(94697),fa=a(31113),ya=a(74653),xa=a(57811),Ra=a(23931),Ea=a(87998),va=a(11284),ka=a(97081),ja=a(1776),Sa=a(30261),Ca=a(8985),wa=a(24944),Na=a(84409);const _a=()=>{const e=(0,he.g)(),t=(0,s.wA)(),a=(0,me.zy)(),r=(0,s.d4)((e=>e.ui.history.canGoBack)),n=(0,s.d4)((e=>e.ui.history.canGoForward)),{createPlaylist:i}=(0,ka.A)(),{createFolder:o}=(0,be.Z)(),{openURL:c,openURLWithSessionTransfer:l}=(0,Sa.L)(),{spec:d,logger:u}=(0,Na.r)(ha.r,{data:{uri:(0,ge.o_h)(a.pathname)?.toURI()??""},parentAbsoluteLocation:{locations:[]}});return(0,Ea.x)(Ra.W.CREATE_NEW_PLAYLIST,(async()=>{await i()})),(0,Ea.x)(Ra.W.CREATE_NEW_FOLDER,(async()=>{await o(m.Ru.get("playlist.default_folder_name"),{before:"start"})})),(0,Ea.x)(Ra.W.BROWSE_BACKWARD,(()=>{r&&e(-1)})),(0,Ea.x)(Ra.W.BROWSE_FORWARD,(()=>{n&&e(1)})),(0,Ea.x)(Ra.W.LOGOUT,(()=>{t((0,ja.wH)())})),(0,Ea.x)(Ra.W.SHOW_ABOUT,(()=>{t((0,ba.Uu)())})),(0,Ea.x)(Ra.W.SHOW_PREFERENCES,(()=>{e("/preferences")})),(0,Ea.x)(Ra.W.SHOW_ACCOUNT,(()=>{l("https://spotify.com/account/overview/")})),(0,Ea.x)(Ra.W.SHOW_COMMUNITY,(()=>{l("https://community.spotify.com/")})),(0,Ea.x)(Ra.W.SHOW_HELP,(()=>{l("https://support.spotify.com/")})),(0,Ea.x)(Ra.W.SHOW_LICENSES,(()=>{t((0,fa.FS)())})),(0,Ea.x)(Ra.W.SHOW_LICENSING_INFORMATION,(()=>{c("https://www.spotify.com/int/legal/licensing-info/")})),(0,Ea.x)(Ra.W.SHOW_SCTA_INFORMATION,(()=>{c("https://www.spotify.com/int/legal/specified-commercial-transactions")})),(0,Ea.x)(Ra.W.SHOW_REPORT_ISSUE,(()=>{t((0,ya.ur)())})),(0,Ea.x)(Ra.W.ENTER_FULLSCREEN,(()=>{u.logInteraction(d.fullscreenButtonFactory().hitUiReveal()),t((0,ae.Kk)())})),(0,Ea.x)(Ra.W.LEAVE_FULLSCREEN,(()=>{u.logInteraction(d.fullscreenButtonFactory().hitUiHide()),t((0,ae.DH)())})),(0,Ea.x)(Ra.W.SET_PLATFORM_EMULATION_AUTO,(()=>{(0,xa.O)((0,Ca.My)(),(0,wa.D)())})),(0,Ea.x)(Ra.W.SET_PLATFORM_EMULATION_MACOS,(()=>{(0,xa.O)((0,Ca.My)(),va.f.macOS)})),(0,Ea.x)(Ra.W.SET_PLATFORM_EMULATION_WINDOWS,(()=>{(0,xa.O)((0,Ca.My)(),va.f.Windows)})),(0,Ea.x)(Ra.W.SET_PLATFORM_EMULATION_LINUX,(()=>{(0,xa.O)((0,Ca.My)(),va.f.Linux)})),null};var Oa=a(83075);const Ia="ABD0FGjBGqGZG33bP7Lc",Aa="iV_SwHyMafiGlMDhlcB5",Ta="gMEKhUL8rKx7DhSDUVk7",La="Z0v7BXnINL5FxFXjQIzE",Da=r.memo((function({playlistUri:e}){const t=(0,s.wA)(),a=(0,he.g)(),[n,i]=(0,ye.A)(e),c=(0,s.d4)(se.Ht).user,d=(0,xe.J)(e),{removeMember:g}=(0,Oa.x)(e),h=d?.permissions?.isPrivate,b=d?.canAdd,f=(0,r.useCallback)((()=>{c?.id&&(n&&h&&i(!1),g(c?.id),t((0,ae.mE)()),a("/"))}),[c?.id,n,h,g,t,a,i]),y=(0,r.useCallback)((()=>{t((0,ae.mE)())}),[t]),x=m.Ru.get("leave-playlist.dialog.leave");let R=m.Ru.get("leave-playlist.dialog.private-description");return h||(R=b?m.Ru.get("leave-playlist.dialog.public-contributor-description"):m.Ru.get("leave-playlist.dialog.public-listener-description")),(0,j.jsx)(p.M,{animated:!0,onClose:y,"aria-label":x,isOpen:!0,children:(0,j.jsxs)("div",{className:Ia,children:[(0,j.jsx)(l.E,{as:"h2",variant:"bodyMediumBold",className:Aa,children:m.Ru.get("leave-playlist.dialog.title")}),(0,j.jsx)(l.E,{as:"p",variant:"bodySmall",className:Ta,paddingBottom:te.lT,children:R}),(0,j.jsxs)("div",{className:o()("encore-light-theme",La),children:[(0,j.jsx)(w.H,{onClick:y,children:m.Ru.get("leave-playlist.dialog.cancel")}),(0,j.jsx)(u.$,{onClick:f,children:x})]})]})})})),Pa=r.memo((function(){const{isOpen:e,playlistUri:t}=(0,s.d4)((e=>e.ui.leavePlaylistDialog));return t&&e?(0,j.jsx)(Da,{playlistUri:t}):null}));var Ua=a(73397),Ma=a(492),Ba=a(60329),Fa=a(22983),Ga=a(42129),Wa=a(45518),za=a(68293);const Va="Gq0nmqrHqipmGwpzAmPM",Ha="SlF1l98yxyaNXDn4clyB",Ka=()=>{const e=(0,s.wA)(),t=(0,he.g)(),a=(0,za.s)(),r=(0,Fa.j)(),{isOpen:n}=(0,s.d4)((e=>e.ui.learnMorePersonalizedRecommendationsModal)),i=()=>{e(Wa.r8.actions.close()),a.logInteraction(r.cancelButtonFactory().hitUiHide())};return(0,j.jsx)(p.M,{isOpen:n,onClose:i,"aria-label":m.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-header"),animated:!0,children:(0,j.jsx)(Ua.Q,{className:Va,dialogTitle:m.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-header"),"aria-label":m.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-header"),body:(0,j.jsxs)("div",{className:Ha,children:[(0,j.jsx)(l.E,{variant:"bodySmall",semanticColor:"textSubdued",as:"p",children:m.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-body")}),(0,j.jsx)(l.E,{variant:"bodySmallBold",semanticColor:"textBase",as:"h2",children:m.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-body-missing-features-intro")}),(0,j.jsxs)(Ma.b,{as:"ul",children:[(0,j.jsx)(Ba.K,{condensed:!0,semanticColor:"textSubdued",children:m.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-1")}),(0,j.jsx)(Ba.K,{condensed:!0,semanticColor:"textSubdued",children:m.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-2")}),(0,j.jsx)(Ba.K,{condensed:!0,semanticColor:"textSubdued",children:m.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-3")})]}),(0,j.jsx)(l.E,{variant:"bodySmallBold",semanticColor:"textBase",as:"h2",children:m.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-body-persistent-features-intro")}),(0,j.jsx)(Ma.b,{condensed:!0,as:"ul",children:(0,j.jsx)(Ba.K,{condensed:!0,semanticColor:"textSubdued",children:m.Ru.get("web-player.settings.personalized-recommendations.modal-body-persistent-features-1")})})]}),footer:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(w.H,{onClick:i,size:"small",condensed:!0,children:m.Ru.get("web-player.settings.personalized-recommendations.modal-cancel")}),(0,j.jsx)(u.$,{onClick:()=>{t(`/preferences?highlight=${Ga.a.DSA}`),e(Wa.r8.actions.close()),a.logInteraction(r.goToSettingsButtonFactory().hitUiNavigate({destination:"/preferences"}))},size:"small",colorSet:"invertedLight",children:m.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-confirm")})]}),legal:(0,j.jsx)(l.E,{variant:"marginal",semanticColor:"textBase",as:"p",children:m.Ru.get("web-player.settings.personalized-recommendations-turned-off.modal-disclaimer")})})})};var qa=a(50955);const Qa=()=>{const e=(0,s.wA)(),t=(0,za.s)(),a=(0,qa.H)(),{isOpen:r,onConfirm:n}=(0,s.d4)((e=>e.ui.turnOffPersonalizedRecommendationsModal)),i=()=>{e(Wa.UU.actions.close()),t.logInteraction(a.cancelButtonFactory().hitUiHide())};return(0,j.jsx)(p.M,{isOpen:r,onClose:i,"aria-label":m.Ru.get("web-player.settings.personalized-recommendations.modal-header"),animated:!0,children:(0,j.jsx)(Ua.Q,{className:Va,dialogTitle:m.Ru.get("web-player.settings.personalized-recommendations.modal-header"),"aria-label":m.Ru.get("web-player.settings.personalized-recommendations.modal-header"),body:(0,j.jsxs)("div",{className:Ha,children:[(0,j.jsx)(l.E,{variant:"bodySmall",semanticColor:"textSubdued",as:"p",children:m.Ru.get("web-player.settings.personalized-recommendations.modal-body")}),(0,j.jsx)(l.E,{variant:"bodySmallBold",semanticColor:"textBase",as:"h2",children:m.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-intro")}),(0,j.jsxs)(Ma.b,{as:"ul",children:[(0,j.jsx)(Ba.K,{condensed:!0,semanticColor:"textSubdued",children:m.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-1")}),(0,j.jsx)(Ba.K,{condensed:!0,semanticColor:"textSubdued",children:m.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-2")}),(0,j.jsx)(Ba.K,{condensed:!0,semanticColor:"textSubdued",children:m.Ru.get("web-player.settings.personalized-recommendations.modal-body-missing-features-3")})]}),(0,j.jsx)(l.E,{variant:"bodySmallBold",semanticColor:"textBase",as:"h2",children:m.Ru.get("web-player.settings.personalized-recommendations.modal-body-persistent-features-intro")}),(0,j.jsx)(Ma.b,{condensed:!0,as:"ul",children:(0,j.jsx)(Ba.K,{condensed:!0,semanticColor:"textSubdued",children:m.Ru.get("web-player.settings.personalized-recommendations.modal-body-persistent-features-1")})})]}),footer:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(w.H,{onClick:i,size:"small",condensed:!0,children:m.Ru.get("web-player.settings.personalized-recommendations.modal-cancel")}),(0,j.jsx)(u.$,{onClick:()=>{n(),e(Wa.UU.actions.close()),t.logInteraction(a.turnOffPersonalizedRecommendationsButtonFactory().hitSettingDisable())},size:"small",colorSet:"invertedLight",children:m.Ru.get("web-player.settings.personalized-recommendations.modal-confirm")})]}),legal:(0,j.jsx)(l.E,{variant:"marginal",semanticColor:"textBase",as:"p",children:m.Ru.get("web-player.settings.personalized-recommendations.modal-delay-disclaimer")})})})};var Ya=a(59516),Ja=a(83177),$a=a(20568),Za=a(57157),Xa=a(80221),er=a(65289),tr=a(98543),ar=a(82571),rr=a(47760),sr=a(43289),nr=a(65720),ir=a(28718),or=a(86148);const cr="main-playlistEditDetailsModal-container",lr="main-playlistEditDetailsModal-content",dr="main-playlistEditDetailsModal-header",ur="main-playlistEditDetailsModal-closeBtn",mr="main-playlistEditDetailsModal-albumCover",gr="main-playlistEditDetailsModal-imageLoadingContainer",pr="main-playlistEditDetailsModal-imageChangeButton",hr="main-playlistEditDetailsModal-imageDropDownContainer",br="main-playlistEditDetailsModal-imageDropDownButton",fr="main-playlistEditDetailsModal-textElement",yr="main-playlistEditDetailsModal-textElementError",xr="main-playlistEditDetailsModal-textElementInfo",Rr="main-playlistEditDetailsModal-title",Er="main-playlistEditDetailsModal-textElementLabel",vr="main-playlistEditDetailsModal-description",kr="main-playlistEditDetailsModal-titleInput",jr="main-playlistEditDetailsModal-titleInputWithPadding",Sr="main-playlistEditDetailsModal-descriptionTextarea",Cr="main-playlistEditDetailsModal-save",wr="main-playlistEditDetailsModal-disclaimer",Nr="main-playlistEditDetailsModal-characterCounter",_r="main-playlistEditDetailsModal-titleCharacterCounter",Or="main-playlistEditDetailsModal-descriptionCharacterCounter",Ir="main-playlistEditDetailsModal-insertLinkButton",Ar=({openImagePicker:e,onRemoveImage:t})=>(0,j.jsx)("div",{className:hr,children:(0,j.jsx)(nr.b,{menu:(0,j.jsxs)(ir.W,{children:[(0,j.jsx)(or.D,{role:"menuitem",onClick:e,leadingIcon:(0,j.jsx)(ar.d,{semanticColor:"textSubdued",size:"small"}),children:m.Ru.get("playlist.edit-details.change-photo")}),(0,j.jsx)(or.D,{role:"menuitem",onClick:t,leadingIcon:(0,j.jsx)(rr.x,{semanticColor:"textSubdued",size:"small"}),children:m.Ru.get("playlist.edit-details.remove-photo")})]}),children:(0,j.jsxs)("button",{className:br,type:"button",children:[(0,j.jsx)(sr.x,{size:"small","aria-hidden":"true"}),(0,j.jsx)("span",{className:"hidden-visually",children:m.Ru.get("edit_photo")})]})})});var Tr=a(2002);const Lr=({onClick:e})=>(0,j.jsx)("button",{title:"Insert link",className:Ir,onClick:e,children:(0,j.jsx)(Tr.b,{size:"small","aria-hidden":"true"})});var Dr=a(37691),Pr=a.n(Dr);const Ur=({className:e,usedCharacters:t,maxCharacters:a,isVisible:r=!0})=>{const s=a-t,{ariaLive:n,ariaAtomic:i}=function(e){let t,a;return e<=20?(t="assertive",a=!0):e<=60?(t="polite",a=!1):e<=70?(t="polite",a=!0):(t="off",a=!0),{ariaLive:t,ariaAtomic:a}}(s);return(0,j.jsx)("span",{className:o()(Nr,e,{"hidden-visually":!r}),"aria-label":m.Ru.get("character-counter"),"aria-live":n,"aria-atomic":i,children:`${t}/${a}`})};var Mr=a(73150);const Br=(0,r.forwardRef)((function({autoFocus:e,handleOnChange:t,playlistDescription:a,maxNumCharacters:s=300},n){const i=(0,r.useMemo)((()=>`text-input-${(0,Mr.Yu)(8)}`),[]),c=s-20,[d,u]=(0,r.useState)(!1),g=Pr()(a).length;return(0,r.useEffect)((()=>{e&&"function"!=typeof n&&n?.current?.select()}),[e,n]),(0,j.jsxs)("div",{className:vr,children:[(0,j.jsx)(l.E,{htmlFor:i,as:"label",variant:"marginalBold",className:Er,children:m.Ru.get("playlist.edit-details.description-label")}),(0,j.jsx)("textarea",{ref:n,"data-testid":"playlist-edit-details-description-input",autoFocus:e,className:o()(fr,Sr,{[xr]:d}),onChange:e=>{const a=t(Pr()(e.target.value).slice(0,s).join(""));u(!!a)},placeholder:m.Ru.get("playlist.edit-details.description-placeholder"),value:a}),(0,j.jsx)(Ur,{className:Or,maxCharacters:s,usedCharacters:g,isVisible:g>=c})]})}));var Fr=function(e){return e.CONTAINS_NEW_LINE="CONTAINS_NEW_LINE",e.CONTAINS_HTML="CONTAINS_HTML",e.SAVE_WARNING="SAVE_WARNING",e.OFFLINE_WARNING="OFFLINE_WARNING",e.FILE_TOO_BIG="FILE_TOO_BIG",e.IMAGE_TOO_SMALL="IMAGE_TOO_SMALL",e.IMAGE_TOO_BIG="IMAGE_TOO_BIG",e.IMAGE_TYPE_NOT_SUPPORTED="IMAGE_TYPE_NOT_SUPPORTED",e.IMAGE_FILE_UPLOAD_FAILED="IMAGE_FILE_UPLOAD_FAILED",e.NAME_REQUIRED="NAME_REQUIRED",e.UPDATE_DETAILS_FAILED="UPDATE_DETAILS_FAILED",e.IMAGE_INVALID_JPG="IMAGE_INVALID_JPG",e}(Fr||{});const Gr={type:"info",code:Fr.CONTAINS_NEW_LINE,get message(){return m.Ru.get("playlist.edit-details.error.description-breaks")}},Wr={type:"info",code:Fr.CONTAINS_HTML,get message(){return m.Ru.get("playlist.edit-details.error.invalid-html")}},zr={type:"info",code:Fr.SAVE_WARNING,get message(){return m.Ru.get("playlist.edit-details.error.unsaved-changes")}},Vr={type:"info",code:Fr.OFFLINE_WARNING,get message(){return m.Ru.get("playlist.edit-details.error.no-internet")}},Hr={type:"error",code:Fr.FILE_TOO_BIG,get message(){return m.Ru.get("playlist.edit-details.error.file-size-exceeded",10)}},Kr={type:"error",code:Fr.IMAGE_TOO_SMALL,get message(){return m.Ru.get("playlist.edit-details.error.too-small",300,300)}},qr={type:"error",code:Fr.IMAGE_TOO_BIG,get message(){return m.Ru.get("playlist.edit-details.error.too-big",1e4,1e4)}},Qr={type:"error",code:Fr.IMAGE_TYPE_NOT_SUPPORTED,get message(){return m.Ru.get("playlist.edit-details.error.image-type-not-supported")}},Yr={type:"error",code:Fr.IMAGE_FILE_UPLOAD_FAILED,get message(){return m.Ru.get("playlist.edit-details.error.file-upload-failed")}},Jr={type:"error",code:Fr.NAME_REQUIRED,get message(){return m.Ru.get("playlist.edit-details.error.missing-name")}},$r={type:"error",code:Fr.UPDATE_DETAILS_FAILED,get message(){return m.Ru.get("playlist.edit-details.error.failed-to-save")}},Zr=({autoFocus:e,handleOnChange:t,maxNumCharacters:a=100,playlistName:s,onSubmit:n})=>{const[i,c]=(0,r.useState)(!1),d=(0,r.useMemo)((()=>`text-input-${(0,Mr.Yu)(8)}`),[]),u=a-10,g=Pr()(s).length,p=g>=u,h=(0,r.useRef)(null);return(0,r.useEffect)((()=>{e&&h.current?.select()}),[e]),(0,j.jsxs)("div",{className:Rr,children:[(0,j.jsx)(l.E,{as:"label",htmlFor:d,variant:"marginalBold",className:Er,children:m.Ru.get("playlist.edit-details.name-label")}),(0,j.jsx)("input",{"data-testid":"playlist-edit-details-name-input",id:d,autoFocus:e,ref:h,type:"text",className:o()(fr,kr,{[jr]:p,[yr]:i}),onKeyDown:e=>{"Enter"===e.key&&n()},onChange:e=>{const r=t(Pr()(e.target.value).slice(0,a).join(""));c(!!r)},placeholder:m.Ru.get("playlist.edit-details.name-placeholder"),value:s}),(0,j.jsx)(Ur,{isVisible:p,maxCharacters:a,usedCharacters:g,className:_r})]})};var Xr=a(62566);const es={name:"",description:"",image:void 0,loading:!1,message:null,hasWarnedAboutUnsavedChanges:!1};function ts(e){return{type:"setPlaylistDescription",data:e}}function as(e){return{type:"setLoading",data:e}}function rs(e){return{type:"setMessage",data:e}}function ss(e,t){switch(t.type){case"setImageData":return{...e,loading:!1,image:{width:Xr.B.SMALL,height:Xr.B.SMALL,url:t.data}};case"removeImage":return{...e,loading:!1,imageToken:null,image:void 0};case"setImageToken":return{...e,imageToken:t.data};case"setPlaylistName":return{...e,name:t.data};case"setPlaylistDescription":return{...e,description:t.data};case"setLoading":return{...e,loading:t.data,message:null};case"setHasWarnedAboutUnsavedChanges":return{...e,hasWarnedAboutUnsavedChanges:t.data};case"setMessage":return{...e,loading:!1,message:t.data};case"reset":return{...es,name:t.data.name,description:t.data.description,image:t.data.image};default:return e}}var ns=a(45786);const is=/[\b\f\n\r\t\v\0]/,os=/<[bi]/i,cs=({isOpen:e,isImagePickerOpen:t,focusedElement:a,name:n,description:i,image:o,uri:c,onClose:g})=>{i=(e=>{const t=document.createElement("textarea");return t.innerHTML=e,t.value})(i);const{uploadImage:p,updateDetails:h}=(0,Oa.x)(c),[b,f]=function({name:e,description:t,image:a}){const[s,n]=(0,r.useReducer)(ss,{...es,name:e,description:t,image:a});return[s,n]}({name:n,description:i,image:o}),[y,x]=(0,er.p)(),R=!(0,ns.n)(),E=(0,r.useRef)(null),v=(0,s.d4)((e=>"1"===e.session.productState?.["playlist-annotations-markup"]));(0,r.useEffect)((()=>{f(rs(R?Vr:null))}),[R,f]),(0,r.useEffect)((()=>{t&&x()}),[t,x]);const k=(0,r.useCallback)((()=>{f({type:"removeImage"})}),[f]),S=(e=!1)=>{const t=null===b.imageToken,a=b.imageToken;!(n!==b.name||i!==b.description||a||t)||b.hasWarnedAboutUnsavedChanges||e?(f(function(e){return{type:"reset",data:e}}({name:n,description:i,image:o})),g()):(f(rs(zr)),f({type:"setHasWarnedAboutUnsavedChanges",data:!0}))};async function C(){if(!b.loading)if(0!==b.name.length){f(as(!0));try{await async function(){const e={};n!==b.name&&(e.name=b.name);i!==b.description&&(e.description=b.description);b.imageToken?e.imageUploadToken=await b.imageToken:null===b.imageToken&&(e.imageUploadToken=null);e.image=b.image,await h(e)}(),f(as(!1));S(!0)}catch{f(rs($r))}}else f(rs(Jr))}return(0,j.jsx)(Za.A,{isOpen:e,onRequestClose:()=>{S()},contentLabel:m.Ru.get("playlist.edit-details.title"),children:(0,j.jsxs)("div",{"data-testid":"playlist-edit-details-modal",className:cr,children:[(0,j.jsxs)("div",{className:dr,children:[(0,j.jsx)(l.E,{as:"h1",variant:"titleSmall",children:m.Ru.get("playlist.edit-details.title")}),(0,j.jsx)("button",{className:ur,onClick:()=>{S()},children:(0,j.jsx)(d.M,{size:"small","aria-label":m.Ru.get("close")})})]}),b.message&&(0,j.jsx)(tr.z,{isErrorMessage:"error"===b.message.type,message:b.message.message}),v?(0,j.jsx)(Lr,{onClick:function(){if(!E.current)return;const{selectionStart:e,selectionEnd:t}=E.current,a=b.description.substring(e,t);let r=a;const s=!!(0,ge.o_h)(r);!r.startsWith("http://")&&!r.startsWith("https://")&&!s&&(r=`https://${r}`),f(ts([b.description.substring(0,e),`<a href="${r}">${a}</a>`,b.description.substring(t)].join("")))}}):null,(0,j.jsxs)("div",{className:lr,children:[(0,j.jsx)(Xa.u,{isOpen:y,minImageWidth:300,minImageHeight:300,maxFileSizeMB:10,onChange:async function(e){if(!e)return;const{imageFile:t,imageDataUrl:a}=e;if(f(rs(null)),f({type:"setImageData",data:a}),t)try{const e=p(t);f({type:"setImageToken",data:e}),await e}catch{f(rs(Yr))}},onError:e=>{e===Xa.i.FILE_TOO_BIG?f(rs(Hr)):e===Xa.i.IMAGE_TOO_SMALL?f(rs(Kr)):e===Xa.i.IMAGE_TOO_BIG?f(rs(qr)):e===Xa.i.IMAGE_TYPE_NOT_SUPPORTED&&f(rs(Qr))}}),(0,j.jsxs)("div",{className:mr,children:[(0,j.jsx)($a.b,{loading:"eager",name:b.name,images:b.image?[b.image]:[],placeholderType:"playlist"}),(0,j.jsx)("div",{className:pr,children:(0,j.jsx)(Ja.a,{overlay:!!b.image,onClick:x})}),(0,j.jsx)(Ar,{onRemoveImage:k,openImagePicker:x}),!!b.imageToken&&b.loading&&(0,j.jsx)("div",{className:gr,children:(0,j.jsx)(ze.I,{})})]}),(0,j.jsx)(Zr,{autoFocus:a===Ya.NV.TITLE,handleOnChange:e=>(f({type:"setPlaylistName",data:e}),0===e.length?(f(rs(Jr)),Jr):(f(rs(null)),null)),playlistName:b.name,onSubmit:C}),(0,j.jsx)(Br,{ref:E,autoFocus:a===Ya.NV.DESCRIPTION,handleOnChange:e=>{let t=e;return os.test(t)?(f(rs(Wr)),Wr):is.test(t)?(t=(e||"").replace(is,""),f(rs(Gr)),Gr):(f(ts(t)),null)},playlistDescription:b.description}),(0,j.jsx)("div",{className:Cr,children:(0,j.jsx)(u.$,{colorSet:"invertedLight",onClick:C,disabled:b.loading,"data-testid":"playlist-edit-details-save-button",children:m.Ru.get("save")})}),(0,j.jsx)(l.E,{as:"p",variant:"marginalBold",className:wr,children:m.Ru.get("image-upload.legal-disclaimer")})]})]})})},ls=()=>{const{isOpen:e,isImagePickerOpen:t,playlistDetails:a,focusedElement:s}=(0,r.useContext)(Ya.iE),n=(0,r.useContext)(Ya.$$),i=(0,r.useCallback)((()=>{n({type:"close"})}),[n]),{name:o,description:c,uri:l,image:d}=a;return e?(0,j.jsx)(cs,{isOpen:e,isImagePickerOpen:t,onClose:i,focusedElement:s,uri:l,name:o,description:c,image:d}):null};var ds=a(93772),us=a(45426);const ms=new Map;ms.set("ad","€ 9,99"),ms.set("ar","$ 69,00"),ms.set("at","€ 9,99"),ms.set("au","$11.99"),ms.set("be","€ 9,99"),ms.set("bg","4.99 EUR"),ms.set("bo","5.99 USD"),ms.set("br","R$ 16,90"),ms.set("ca","9.99 CAD"),ms.set("ch","Fr. 12.95"),ms.set("cl","$ 3.490,00"),ms.set("co","$ 14.900,00"),ms.set("cr","5.99 USD"),ms.set("cy","6.99 EUR"),ms.set("cz","5.99 EUR"),ms.set("de","9,99 €"),ms.set("dk","kr 99,00"),ms.set("do","5.99 USD"),ms.set("ec","5.99 USD"),ms.set("ee","6.99 EUR"),ms.set("es","9,99 €"),ms.set("fi","9,99 €"),ms.set("fr","9,99 €"),ms.set("uk","£9.99"),ms.set("gr","6.99 EUR"),ms.set("gt","5.99 USD"),ms.set("hk","HK$58.00"),ms.set("hn","5.99 USD"),ms.set("hu","4.99 EUR"),ms.set("id","Rp 49.990"),ms.set("ie","€9.99"),ms.set("is","9.99 EUR"),ms.set("it","€ 9,99"),ms.set("kr","₩10,900"),ms.set("li","12.95 CHF"),ms.set("lt","6.99 EUR"),ms.set("lu","9.99 EUR"),ms.set("lv","6.99 EUR"),ms.set("mc","9.99 EUR"),ms.set("mt","6.99 EUR"),ms.set("mx","$ 99.00"),ms.set("my","RM14.90"),ms.set("ni","5.99 USD"),ms.set("nl","€9,99"),ms.set("no","kr109,00"),ms.set("nz","$14.99"),ms.set("pa","5.99 USD"),ms.set("pe","S/ 18.90"),ms.set("ph","₱129"),ms.set("pl","19,99 zł"),ms.set("pt","6.99 EUR"),ms.set("py","5.99 USD"),ms.set("se","99,00 kr"),ms.set("sg","S$9.90"),ms.set("sk","5.99 EUR"),ms.set("sv","5.99 USD"),ms.set("th","฿129.00"),ms.set("tr","13,99 TL"),ms.set("tw","NT$149.00"),ms.set("us","$9.99"),ms.set("uy","5.99 USD");const gs=new Map;gs.set("ad","€ 0,00"),gs.set("ar","$ 0,00"),gs.set("at","€ 0,00"),gs.set("au","$0.00"),gs.set("be","€ 0,00"),gs.set("bg","0.00 EUR"),gs.set("bo","0.00 USD"),gs.set("br","R$ 0,00"),gs.set("ca","0.00 CAD"),gs.set("ch","Fr. 0.00"),gs.set("cl","$ 0,00"),gs.set("co","$ 0,00"),gs.set("cr","0.00 USD"),gs.set("cy","0.00 EUR"),gs.set("cz","0.00 EUR"),gs.set("de","0,00 €"),gs.set("dk","kr 0,00"),gs.set("do","0.00 USD"),gs.set("ec","0.00 USD"),gs.set("ee","0.00 EUR"),gs.set("es","0,00 €"),gs.set("fi","0,00 €"),gs.set("fr","0,00 €"),gs.set("uk","£0.00"),gs.set("gr","0.00 EUR"),gs.set("gt","0.00 USD"),gs.set("hk","HK$0.00"),gs.set("hn","0.00 USD"),gs.set("hu","0.00 EUR"),gs.set("id","Rp 0.00"),gs.set("ie","€0.00"),gs.set("is","0.00 EUR"),gs.set("it","€ 0,00"),gs.set("li","0.00 CHF"),gs.set("lt","0.00 EUR"),gs.set("lu","0.00 EUR"),gs.set("lv","0.00 EUR"),gs.set("mc","0.00 EUR"),gs.set("mt","0.00 EUR"),gs.set("mx","$ 0.00"),gs.set("my","RM0.00"),gs.set("ni","0.00 USD"),gs.set("nl","€0,00"),gs.set("no","kr0,00"),gs.set("nz","$0.00"),gs.set("pa","0.00 USD"),gs.set("pe","S/ 0.00"),gs.set("ph","₱0.00"),gs.set("pl","0,00 zł"),gs.set("pt","0.00 EUR"),gs.set("py","0.00 USD"),gs.set("se","0,00 kr"),gs.set("sg","S$0.00"),gs.set("sk","0.00 EUR"),gs.set("sv","0.00 USD"),gs.set("th","฿0.00"),gs.set("tr","0,00 TL"),gs.set("tw","NT$0.00"),gs.set("us","$0.00"),gs.set("uy","0.00 USD");var ps=a(91107);const hs="jqvEr4MvCdQ1QA_FSpe7",bs="sRkNI1Gya5aBxtf_vS1S",fs="WShxRrLdX9LzzqlCmWZy",ys="rlMoP29GxtDlHkDK_aci",xs=(0,r.memo)((function(){const e=(0,s.wA)(),t=(0,s.d4)((e=>e.ui.premiumDialog.isOpen)),a=(0,s.d4)((e=>{const t=(e=>{const t=e.toLowerCase();return{premiumPrice:ms.has(t)?ms.get(t):"99,00 kr",freePrice:gs.has(t)?gs.get(t):"0,00 kr"}})((0,ps.JJ)(e));return t.premiumPrice})),n=(0,s.d4)(ps.q),i=(0,r.useCallback)((()=>e((0,ja.wH)())),[e]),{openURLWithSessionTransfer:o}=(0,Sa.L)(),{spec:c,logger:l}=(0,Na.r)(ds._,{}),d=(0,he.g)(),g=(0,us.k)(),{url:p,isExternal:h}=g,b=(0,r.useCallback)((()=>{let e;!1===h?(d(p),e=c.upsellButtonFactory().hitUiNavigate({destination:p})):(o(p),e=c.upsellButtonFactory().hitNavigateToExternalUri({destination:p})),l.logInteraction(e)}),[h,l,d,c,o,p]);return(0,j.jsx)(Za.A,{isOpen:t,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,contentLabel:m.Ru.get("premium.dialog.title"),children:(0,j.jsxs)("div",{className:hs,children:[(0,j.jsx)("h1",{className:bs,children:m.Ru.get("premium.dialog.title")}),(0,j.jsx)("p",{className:fs,children:m.Ru.get("premium.dialog.description",n?3:1)}),(0,j.jsx)(u.$,{colorSet:"invertedLight",onClick:b,children:m.Ru.get("premium.dialog.subscribe")}),(0,j.jsx)(w.H,{semanticColor:"textBase",onClick:i,children:m.Ru.get("user.log-out")}),(0,j.jsx)("p",{className:ys,children:n?m.Ru.get("premium.dialog.disclaimer.noprice"):m.Ru.get("premium.dialog.disclaimer",{price:a})})]})})}));var Rs=a(48220),Es=a(80357);const vs=(0,r.memo)((function(){const e=(0,s.wA)(),t=(0,wt.T)(),{uri:a,isPrerelease:n}=(0,s.d4)((e=>e.ui.removeFromLibraryDialog)),[i,o]=(0,ye.A)(a??""),{remove:c}=(0,Es.p)("prerelease"),l=(0,Rs.o)("prerelease",a?[a]:[]).at(0),d=(0,ge.o_h)(a)?.type,[u,g]=(0,r.useState)("");(0,r.useEffect)((()=>{(async()=>{switch(d){case ge.NQG.PRERELEASE:case ge.NQG.ALBUM:g(m.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-album"));break;case ge.NQG.ARTIST:g(m.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-artist"));break;case ge.NQG.AUTHOR:g(m.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-author"));break;case ge.NQG.SHOW:g((0,Nt.Go)(await t.getMetadata(a??""))?m.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-audiobook"):m.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-show"));break;case ge.NQG.PLAYLIST:case ge.NQG.PLAYLIST_V2:g(m.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description-playlist"));break;default:g(m.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-description"))}})()}),[t,d,a]);const p=(0,r.useCallback)((()=>{e((0,ae.yh)())}),[e]),h=(0,r.useCallback)((()=>{if(a){if(n){if(!l)return;c(a)}else{if(!i)return;o(!1)}p()}}),[a,n,p,l,c,i,o]);return(0,j.jsx)(pe.T,{"aria-label":`${m.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-title")} ${u}`,titleText:m.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-title"),descriptionText:u,onConfirm:h,onClose:p,confirmText:m.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-confirm-button"),cancelText:m.Ru.get("web-player.your-library-x.feedback-remove-from-library-dialog-cancel-button"),allowHTML:!0})})),ks="ZjyLlDvxh8QqNVY2vMsF",js="sx8Bf4udHt_kPAnxmGW8",Ss="sfaREUmOnuxlr99uOYnS",Cs="RTGGeDA2P3rKc6r96vqA",ws="e1NO8ZuDIwSef3E4ppfX",Ns="Fo3Fe1PpXtQ3G32BqnwP",_s="aRZZo0b_4ktkI0mPQ7Vw",Os=({name:e,onRename:t})=>{const a=(0,s.wA)(),[n,i]=(0,r.useState)(null),c=(0,r.useCallback)((e=>{null!==e&&i(e)}),[]);(0,r.useEffect)((()=>{n?.select()}),[n]);const g=()=>{a((0,ae.Yk)())},h=()=>{t(n?.value??""),g()};return(0,j.jsxs)(p.M,{"aria-label":m.Ru.get("playlist.edit-details.title"),onClose:g,isOpen:!0,"data-testid":"playlist-edit-details-modal",className:ks,children:[(0,j.jsxs)("div",{className:Ss,children:[(0,j.jsx)(l.E,{as:"h1",variant:"titleSmall",children:m.Ru.get("web-player.your-library-x.rename-folder")}),(0,j.jsx)("button",{className:Cs,onClick:g,children:(0,j.jsx)(d.M,{size:"medium","aria-label":m.Ru.get("close")})})]}),(0,j.jsxs)("form",{className:js,onSubmit:e=>{e.preventDefault(),h()},children:[(0,j.jsx)("input",{ref:c,type:"text",defaultValue:e,onSubmit:h,className:o()(ws,Ns)}),(0,j.jsx)("div",{className:_s,children:(0,j.jsx)(u.$,{colorSet:"invertedLight",type:"submit",children:m.Ru.get("save")})})]})]})};var Is=a(18296),As=a(3646),Ts=a(15679);function Ls(){return(0,Ts.N)(As.hQ)}var Ds=a(37444);function Ps(){const e=(e=>{const t={title:m.Ru.get("web-player.connect.device-picker.restricted-device-default-title"),body:m.Ru.get("web-player.connect.device-picker.restricted-device-default-body")};return e.reason,Ds.m.CONNECT_DEBUG,t})(Ls().getRestrictionState());return e}var Us=a(61315);const Ms="pHB4TMkKuN9rjS0KDi0e",Bs="BFckQSqh6YPYP16D4F0Q",Fs=()=>{const e=(0,s.wA)(),t=(0,s.d4)((e=>e.ui.restrictionsModalState.isOpen)),a=Ls().getRestrictionState(),{spec:n,logger:i,UBIFragment:c}=(0,Na.r)(Is.O,{data:{identifier:a.reason?.toString()||""}});(0,r.useEffect)((()=>{i.logImpression(n.impression())}),[i,n]);const d=()=>{const t=n.primaryButtonFactory();i.logInteraction(t.hitUiHide()),e((0,ae.d2)())},g=(0,Us.n)(n.getAbsoluteLocation(),n),h=Ps();return(0,j.jsxs)(p.M,{isOpen:t,onClose:d,animated:!0,"aria-label":h.title,className:o()("encore-light-theme",Ms),children:[(0,j.jsx)(l.E,{as:"h2",variant:"titleSmall",children:h.title}),(0,j.jsx)(l.E,{as:"p",className:Bs,children:h.body}),(0,j.jsx)(c,{spec:n,children:(0,j.jsx)(u.$,{ref:g,onClick:d,children:m.Ru.get("web-player.connect.device-picker.restrictions-modal-ok-button")})})]})};function Gs(){return null}var Ws=a(92713);function zs(){const[e]=(0,Ws.x)("lintHtmlWithCss",!1);let t;return t=Gs,(0,j.jsx)(r.Suspense,{fallback:null,children:(0,j.jsx)(t,{})})}var Vs=a(7333),Hs=a(2854),Ks=a(80187),qs=a(11120),Qs=a(22820);a(87175);const Ys=Spicetify.GraphQL.Definitions["showItemsPlayedState"]=new tt.l("showItemsPlayedState","query","4a070b9bfab2e8537a5271e6839bc3ef51501dcac8170b5fb69a98f967c5fb60",null);function Js(e,t=100){const{data:a,loading:r}=(s={uri:e,limit:t},n={staleTime:0,gcTime:18e5},(0,at.I)(Ys,s,n));var s,n;const i=function(e){const t=e?.lookup.at(0);if("PodcastOrAudiobookResponseWrapper"===t?.__typename){if("Audiobook"===t.data.__typename){const e=t.data;return"ContextChapterPage"===e.chaptersV2?.__typename&&e.chaptersV2.items.some((({entity:e})=>"Chapter"===e.data.__typename&&$s(e.data)))}if("Podcast"===t.data.__typename){const e=t.data;return"ContextEpisodePage"===e.episodesV2?.__typename&&e.episodesV2.items.some((({entity:e})=>"Episode"===e.data.__typename&&$s(e.data)))}}return!1}(a);return{hasUserListenedToShow:i,loading:r}}function $s(e){return"COMPLETED"===e.playedState.state||e.playedState.playPositionMilliseconds>=3e4}var Zs=a(13995),Xs=a(48237),en=a(2109);const tn="osuFIR_6Jo9yKsmLL4y2",an="r1F2okBwH7F8pEGF7MEG",rn="H2z72R8YxQVQF8UU_ymH",sn="Pq5dXGGJ3mlXY0HFuhCS",nn="plZRpYfm5PMEiSYLRj8P",on="B8OPJYenwKO45OLDwLyY",cn="HwHP6Y0kc7ksENQMXJ75",ln="l2w2Hl3YN3bb4TcgyXcb",dn="hWmnoRh1uj8ciMRAgL4f",un="MXT688TwrGLq4tvesXwc",mn="hQIFH0LbkGEHIdsQ20tQ",gn=({uri:e,rating:t,isBook:a,closeRatingModal:s})=>{const[n,i]=(0,r.useState)(t??null),{onSubmitRating:o}=function(e,t){const a=(0,wt.T)(),{enqueueSnackbar:r}=(0,Xs.dh)(),{spec:s,logger:n}=(0,Na.r)(en.b,{}),{mutateAsync:i}=(0,Zs.n)({mutationFn:async()=>{t&&await a.updateUserRating(e,t)},onSuccess:()=>{const a=s.submitRatingButtonFactory().hitSubmitRating({rating:t,entityUri:e});n.logInteraction(a),r(m.Ru.get("web-player.show.rating.snackbarSuccess"))},onError:()=>{r(m.Ru.get("web-player.show.rating.snackbarFailure"))}});return{onSubmitRating:i}}(e,n??0),c=null!==n&&n!==t,l=Array.from(Array(5).keys(),(e=>e+1));return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:un,children:l.map((e=>(0,j.jsx)(w.H,{"aria-label":a?m.Ru.get("web-player.audiobooks.rating.starAriaLabel",e):m.Ru.get("web-player.show.rating.starAriaLabel",e),className:mn,onClick:()=>i(e),iconOnly:()=>n&&n>=e?(0,j.jsx)(Vs.j,{size:"large",semanticColor:"textBase"}):(0,j.jsx)(Hs.a,{size:"large"})},e)))}),(0,j.jsx)(u.$,{"aria-label":m.Ru.get("web-player.show.rating.submit"),colorSet:"invertedLight",disabled:!c,onClick:()=>{n&&o(),s()},children:m.Ru.get("web-player.show.rating.submit")})]})},pn=({isBook:e,onDismiss:t})=>(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l.E,{as:"p",variant:"titleSmall",className:ln,children:e?m.Ru.get("web-player.audiobooks.rating.listenFirstTitle"):m.Ru.get("web-player.show.rating.listenFirstTitle")}),(0,j.jsx)(l.E,{as:"p",className:dn,variant:"bodyMedium",children:e?m.Ru.get("web-player.audiobooks.rating.listenFirstDescription"):m.Ru.get("web-player.show.rating.listenFirstDescription")}),(0,j.jsx)(u.$,{colorSet:"invertedLight",onClick:t,children:m.Ru.get("web-player.audiobooks.rating.ok")})]}),hn=({uri:e,isBook:t,rating:a,spec:r,logger:s,closeRatingModal:n})=>{const{hasUserListenedToShow:i,loading:o}=Js(e);return o?(0,j.jsx)(Qs.m,{}):a?.canRate&&i?(0,j.jsx)(gn,{uri:e,rating:a?.rating?.rating??null,isBook:t,closeRatingModal:n}):(0,j.jsx)(pn,{isBook:t,onDismiss:()=>{s.logInteraction(r.okButtonFactory().hitUiNavigateBack()),n()}})},bn=r.memo((function({uri:e,metadata:t,isOpen:a}){const r=(0,s.wA)(),n=Boolean(t&&(0,Nt.Go)(t)),i=(0,bt.g)(t?.coverArt,{desiredSize:320}),{spec:o,logger:c}=(0,Na.r)(Ks.e,{data:{identifier:n?qs.$h.RATINGS_AND_REVIEWS_RATINGS_AUDIOBOOK:qs.$h.RATINGS_AND_REVIEWS_RATINGS,uri:e}}),u=t?.rating,g=()=>{r((0,ae.Kc)())};return(0,j.jsxs)(p.M,{isOpen:a,onClose:g,className:tn,children:[(0,j.jsxs)("div",{className:rn,children:[(0,j.jsx)(l.E,{as:"h1",variant:"titleSmall",className:cn,children:n?m.Ru.get("web-player.audiobooks.rating.rateAudiobook"):m.Ru.get("web-player.show.rating.header")}),(0,j.jsxs)("button",{className:sn,onClick:()=>{const e=o.closeButtonFactory().hitUiNavigateBack();c.logInteraction(e),g()},children:[(0,j.jsx)(d.M,{role:"presentation"}),(0,j.jsx)("span",{className:"hidden-visually",children:m.Ru.get("web-player.audiobooks.rating.closeModal")})]})]}),(0,j.jsxs)("div",{className:nn,children:[(0,j.jsx)(O._,{loading:"eager",src:i?.url,className:an}),(0,j.jsx)("div",{className:on,children:(0,j.jsx)(hn,{uri:e,rating:u,isBook:n,closeRatingModal:g,spec:o,logger:c})})]})]})})),fn=()=>{const e=(0,s.d4)((e=>e.ui.showRatingModalState?.metadata??null)),t=(0,s.d4)((e=>e.ui.showRatingModalState?.uri??"")),a=(0,s.d4)((e=>e.ui.showRatingModalState?.isOpen??!1));return a&&t&&e?(0,j.jsx)(bn,{metadata:e,uri:t,isOpen:a}):null};var yn=a(52187),xn=a(65621),Rn=a(68884),En=a(75297),vn=a(80256),kn=a(36386),jn=a(85839);function Sn(e){switch(e){case"Performers":return m.Ru.get("track-credits.performers");case"Writers":return m.Ru.get("track-credits.writers");case"Producers":return m.Ru.get("track-credits.producers");default:return e}}function Cn(e){switch(e){case"assistant recording engineer":return m.Ru.get("track-credits.assistant-recording-engineer");case"engineer":return m.Ru.get("track-credits.engineer");case"assistant engineer":return m.Ru.get("track-credits.assistant-engineer");case"trumpet":return m.Ru.get("track-credits.trumpet");case"guitar":return m.Ru.get("track-credits.guitar");case"composer and lyricist":return m.Ru.get("track-credits.composer-and-lyricist");case"associated performer":return m.Ru.get("track-credits.associated-performer");case"background vocals":return m.Ru.get("track-credits.background-vocals");case"bass":return m.Ru.get("track-credits.bass");case"co-producer":return m.Ru.get("track-credits.co-producer");case"additional engineer":return m.Ru.get("track-credits.additional-engineer");case"masterer":return m.Ru.get("track-credits.masterer");case"mixer":return m.Ru.get("track-credits.mixer");case"recording engineer":return m.Ru.get("track-credits.recording-engineer");case"accordion":return m.Ru.get("track-credits.accordion");case"piano":return m.Ru.get("track-credits.piano");case"organ":return m.Ru.get("track-credits.organ");case"background vocal":return m.Ru.get("track-credits.background-vocal");case"recorded by":return m.Ru.get("track-credits.recorded-by");case"mixing engineer":return m.Ru.get("track-credits.mixing-engineer");case"editor":return m.Ru.get("track-credits.editor");case"fiddle":return m.Ru.get("track-credits.fiddle");case"additional vocals":return m.Ru.get("track-credits.additional-vocals");case"violin":return m.Ru.get("track-credits.violin");case"viola":return m.Ru.get("track-credits.viola");case"percussion":return m.Ru.get("track-credits.percussion");case"mastering engineer":return m.Ru.get("track-credits.mastering-engineer");case"composer":return m.Ru.get("track-credits.composer");case"additional keyboards":return m.Ru.get("track-credits.additional-keyboards");case"mix engineer":return m.Ru.get("track-credits.mix-engineer");case"mandolin":return m.Ru.get("track-credits.mandolin");case"acoustic guitar":return m.Ru.get("track-credits.acoustic-guitar");case"keyboards":return m.Ru.get("track-credits.keyboards");case"synthesizer":return m.Ru.get("track-credits.synthesizer");case"drum programmer":return m.Ru.get("track-credits.drum-programmer");case"programmer":return m.Ru.get("track-credits.programmer");case"assistant mixer":return m.Ru.get("track-credits.assistant-mixer");case"assistant mixing engineer":return m.Ru.get("track-credits.assistant-mixing-engineer");case"digital editor":return m.Ru.get("track-credits.digital-editor");case"drums":return m.Ru.get("track-credits.drums");case"drum programming":return m.Ru.get("track-credits.drum-programming");case"conga":return m.Ru.get("track-credits.conga");case"samples":return m.Ru.get("track-credits.samples");case"audio recording engineer":return m.Ru.get("track-credits.audio-recording-engineer");case"audio additional mix engineer":return m.Ru.get("track-credits.audio-additional-mix-engineer");case"recording":return m.Ru.get("track-credits.recording");case"assistant producer":return m.Ru.get("track-credits.assistant-producer");case"writer":return m.Ru.get("track-credits.writer");case"strings":return m.Ru.get("track-credits.strings");case"music publisher":return m.Ru.get("track-credits.music-publisher");case"programming":return m.Ru.get("track-credits.programming");case"music production":return m.Ru.get("track-credits.music-production");case"background vocalist":return m.Ru.get("track-credits.background-vocalist");case"producer":return m.Ru.get("track-credits.producer");case"vocal":return m.Ru.get("track-credits.vocal");case"songwriter":return m.Ru.get("track-credits.songwriter");case"lyricist":return m.Ru.get("track-credits.lyricist");case"additional mixer":return m.Ru.get("track-credits.additional-mixer");case"upright bass":return m.Ru.get("track-credits.upright-bass");case"clapping":return m.Ru.get("track-credits.clapping");case"electric bass":return m.Ru.get("track-credits.electric-bass");case"horn arranger":return m.Ru.get("track-credits.horn-arranger");case"flugelhorn":return m.Ru.get("track-credits.flugelhorn");case"second engineer":return m.Ru.get("track-credits.second-engineer");case"rhythm guitar":return m.Ru.get("track-credits.rhythm-guitar");case"bass guitar":return m.Ru.get("track-credits.bass-guitar");case"electric guitar":return m.Ru.get("track-credits.electric-guitar");case"dobro":return m.Ru.get("track-credits.dobro");case"instruments":return m.Ru.get("track-credits.instruments");case"vocal ensemble":return m.Ru.get("track-credits.vocal-ensemble");case"recording arranger":return m.Ru.get("track-credits.recording-arranger");case"arranger":return m.Ru.get("track-credits.arranger");case"steel guitar":return m.Ru.get("track-credits.steel-guitar");case"executive producer":return m.Ru.get("track-credits.executive-producer");case"additional production":return m.Ru.get("track-credits.additional-production");case"designer":return m.Ru.get("track-credits.designer");case"assistant mix engineer":return m.Ru.get("track-credits.assistant-mix-engineer");case"studio musician":return m.Ru.get("track-credits.studio-musician");case"voice performer":return m.Ru.get("track-credits.voice-performer");case"orchestra":return m.Ru.get("track-credits.orchestra");case"chamber ensemble":return m.Ru.get("track-credits.chamber-ensemble");case"additional percussion":return m.Ru.get("track-credits.additional-percussion");case"cajon":return m.Ru.get("track-credits.cajon");case"miscellaneous production":return m.Ru.get("track-credits.miscellaneous-production");case"backing vocals":return m.Ru.get("track-credits.backing-vocals");case"pedal steel":return m.Ru.get("track-credits.pedal-steel");case"additional producer":return m.Ru.get("track-credits.additional-producer");case"keyboard arrangements":return m.Ru.get("track-credits.keyboards-arrangements");case"saxophone":return m.Ru.get("track-credits.saxophone");case"sound engineer":return m.Ru.get("track-credits.sound-engineer");case"assistant remix engineer":return m.Ru.get("track-credits.assistant-remix-engineer");case"double bass":return m.Ru.get("track-credits.double-bass");case"co-writer":return m.Ru.get("track-credits.co-writer");case"pro tools":return m.Ru.get("track-credits.pro-tools");case"tape realization":return m.Ru.get("track-credits.tape-realization");case"ambient sounds":return m.Ru.get("track-credits.ambient-sounds");case"sound effects":return m.Ru.get("track-credits.sound-effects");case"harp":return m.Ru.get("track-credits.harp");case"cymbals":return m.Ru.get("track-credits.cymbals");case"vocal engineer":return m.Ru.get("track-credits.vocal-engineer");case"mellotron":return m.Ru.get("track-credits.mellotron");case"recorder":return m.Ru.get("track-credits.recorder");case"main artist":return m.Ru.get("track-credits.main-artist");case"production":return m.Ru.get("track-credits.production");case"artist":return m.Ru.get("track-credits.artist");case"vocals":return m.Ru.get("track-credits.vocals");case"featuring":return m.Ru.get("track-credits.featuring");case"featured artist":return m.Ru.get("track-credits.featured-artist");case"work arranger":return m.Ru.get("track-credits.work-arranger");case"mixing engineers":return m.Ru.get("track-credits.mixing-engineers");case"re-mixer":return m.Ru.get("track-credits.re-mixer");case"recording producer":return m.Ru.get("track-credits.recording-producer");case"co-mixer":return m.Ru.get("track-credits.co-mixer");case"bells":return m.Ru.get("track-credits.bells");case"pro tools editing":return m.Ru.get("track-credits.pro-tools-editing");case"vibraphone":return m.Ru.get("track-credits.vibraphone");case"additional recording":return m.Ru.get("track-credits.additional-recording");case"vocal producer":return m.Ru.get("track-credits.vocal-producer");case"sitar":return m.Ru.get("track-credits.sitar");case"cello":return m.Ru.get("track-credits.cello");case"flute":return m.Ru.get("track-credits.flute");case"horn":return m.Ru.get("track-credits.horn");case"brass band":return m.Ru.get("track-credits.brass-band");case"programming and keyboards":return m.Ru.get("track-credits.programming-and-keyboards");case"all instruments":return m.Ru.get("track-credits.all-instruments");case"programmed and arranged by":return m.Ru.get("track-credits.programmed-and-arranged-by");case"additional programmer":return m.Ru.get("track-credits.additional-programmer");case"recording and mixing":return m.Ru.get("track-credits.recording-and-mixing");case"engineer and mixer":return m.Ru.get("track-credits.engineer-and-mixer");case"vocal arranger":return m.Ru.get("track-credits.vocal-arranger");case"income participant":return m.Ru.get("track-credits.income-participant");default:return e}}var wn=a(19239),Nn=a(55827);const _n=(e,t)=>e.build().withHost(Nn.i6).withPath(`/v0/experimental/${t}/credits`).withoutMarket().withEndpointIdentifier("/v0/experimental/{trackId}/credits").send();var On=a(2715);const In="main-trackCreditsModal-container",An="main-trackCreditsModal-header",Tn="main-trackCreditsModal-closeBtn",Ln="main-trackCreditsModal-mainSection",Dn="main-trackCreditsModal-originalCredits",Pn="main-trackCreditsModal-sectionTitle",Un="main-trackCreditsModal-creditsGroup",Mn="main-trackCreditsModal-creditsEntry",Bn="main-trackCreditsModal-clickableCreditsEntry",Fn="main-trackCreditsModal-sourceNames",Gn="main-trackCreditsModal-additionalCredits",Wn=(0,r.memo)((function(){const e=(0,s.wA)(),{isOpen:t,trackUri:a}=(0,s.d4)((e=>e.ui.trackCreditsModal)),n=a.split(":"),i=n[n.length-1],{data:o,error:c,loading:d}=(0,On.Z)(_n,[i]),u=(0,r.useCallback)((()=>{e((0,ae.P0)(!1,""))}),[e]),g=(0,wn.vh)(),{isAnonymous:h}=(0,s.d4)(se.Ht),{spec:b,logger:f}=(0,Na.r)(kn.i,{data:{uri:a}});return(0,j.jsx)(p.M,{"aria-label":m.Ru.get("track-credits.label"),isOpen:t,onClose:u,children:!d&&!c&&o&&(0,j.jsxs)("div",{className:In,children:[(0,j.jsxs)("div",{className:An,children:[(0,j.jsx)(l.E,{as:"h1",variant:"titleMedium",children:m.Ru.get("track-credits.label")}),(0,j.jsx)("button",{"aria-label":m.Ru.get("close"),className:Tn,onClick:u,children:(0,j.jsx)(jn.A,{width:18,height:18,fill:"white"})})]}),(0,j.jsxs)("div",{className:Ln,onScroll:h?()=>g.send((0,vn.s)({track_uri:a})):()=>g.send((0,En.h)({track_uri:a})),children:[(0,j.jsxs)("div",{className:Dn,children:[(0,j.jsx)(l.E,{as:"h2",className:Pn,variant:"bodyMediumBold",children:o.body.trackTitle}),o.body.roleCredits.map(((e,t)=>{const r=b.creditSectionFactory({position:t});return(0,j.jsxs)("div",{className:Un,children:[(0,j.jsx)(l.E,{as:"p",variant:"bodySmallBold",children:Sn(e.roleTitle)}),e.artists.length>0?e.artists.map((({name:t,uri:s,externalUrl:n})=>n?(0,j.jsx)("a",{href:n,draggable:!1,rel:"noopener noreferrer",onClick:()=>{const i=r.artistNameFactory({uri:s??""}).hitNavigateToExternalUri({destination:n});f.logInteraction(i),h?g.send((0,Rn._)({track_uri:a,clickable_text:t,role:e.roleTitle,external_url:n})):g.send((0,xn.d)({track_uri:a,clickable_text:t,role:e.roleTitle,external_url:n}))},target:"_blank",className:Bn,children:t},t):(0,j.jsx)(l.E,{className:Mn,variant:"bodySmall",semanticColor:"textSubdued",children:t},t))):"-"]},e.roleTitle)})),(0,j.jsxs)(l.E,{as:"p",variant:"bodySmall",children:[m.Ru.get("track-credits.source"),":"," ",o.body.sourceNames.join(m.Ru.getSeparator())]})]}),o.body.extendedCredits&&o.body.extendedCredits.length>0&&(0,j.jsxs)("div",{className:Gn,children:[(0,j.jsx)(l.E,{as:"h3",className:Pn,variant:"bodyMediumBold",children:m.Ru.get("track-credits.additional-credits")}),o.body.extendedCredits.map((e=>(0,j.jsxs)("div",{className:Un,children:[(0,j.jsx)(l.E,{as:"p",variant:"bodySmallBold",children:Cn(e.roleTitle.toLowerCase())}),e.artists.map((t=>(0,j.jsx)("a",{href:t.url,draggable:!1,rel:"noopener noreferrer",onClick:()=>{h||g.send((0,yn.L)({track_uri:a,clickable_text:t.name,role:e.roleTitle,external_url:t.url}))},target:"_blank",className:Bn,children:t.name},t.name)))]},e.roleTitle))),(0,j.jsxs)(l.E,{as:"p",variant:"bodySmall",className:Fn,semanticColor:"textSubdued",children:[m.Ru.get("track-credits.source"),":"," ",(0,j.jsx)("a",{draggable:!1,rel:"noopener noreferrer",target:"_blank",href:"https://soundbetter.com",children:"SoundBetter"})]})]})]})]})})}));var zn=a(52427),Vn=a(70796),Hn=a(3483),Kn=a(73804),qn=a(49145),Qn=a(64224);const Yn=({artistUri:e,spec:t,logger:a})=>{const[s,n]=(0,ye.A)(e),i=(0,r.useCallback)((async()=>{try{if(s){const r=t.hitUnfollow({itemToBeUnfollowed:e});a.logInteraction(r)}else{const r=t.hitFollow({itemToBeFollowed:e});a.logInteraction(r)}await n(!s)}catch{}}),[s,n,t,a,e]),o=s?m.Ru.get("unfollow"):m.Ru.get("follow");return(0,j.jsx)(Qn.W,{isFollowing:s,onClick:i,buttonText:o})};var Jn=a(69878),$n=a(4015);const Zn="guSK4Tm7XhYeQk57Pc9r",Xn="cvaPperWjh85iwCtCiIA",ei="MBIX4xy0zJddVE5UGDSe",ti="rit9ZZUk5LrO2xtxj7WK",ai="jXGwdUGDKAm3Mjx5tNE4",ri="VNKnhSCE7I9LNq9tdDr7",si="l3xSQou_bsAueL58th8g",ni="_UwKUGcAFkK0VpWw95x6",ii=({name:e,credits:t,spec:a,logger:r,onClose:s})=>{const n=(0,he.g)(),i=t.roles.join(m.Ru.getSeparator()),c=((e,t)=>{const a=(0,ge.o_h)(e);if(a?.type===ge.NQG.ARTIST){const e=a.toURLPath(!0);return t?(0,$n.hF)(e):e}})(t.uri,(0,Jn.W)({uri:t.uri,type:"locale"})),d=t.url,u=((e,t,a,r,s,n,i)=>r?()=>{const e=s.externalLinkButtonFactory().hitNavigateToExternalUri({destination:r});n.logInteraction(e)}:t&&a?()=>{const a=s.hitUiNavigate({destination:t});n.logInteraction(a),e(t),i&&i()}:void 0)(n,c,t.isArtistLinkable,d,a,r,s);return(0,j.jsx)(Vn.v,{className:o()(ai),title:(0,j.jsx)(l.E,{variant:"bodyMedium",children:e}),href:d,onClick:u,target:"_blank",rel:"noopener noreferrer",size:"sm",paddingInlineStart:"0",paddingInlineEnd:"0",subtitle:(0,j.jsx)(l.E,{variant:"bodySmall",semanticColor:"textSubdued",style:{textTransform:"capitalize"},"data-testid":"artist-row-role",children:i}),"data-testid":"credits-artist-row",variant:"naked",id:t.uri??t.url??"",trailing:(0,j.jsxs)(j.Fragment,{children:[t.uri&&t.isArtistLinkable&&(0,j.jsx)("div",{className:si,children:(0,j.jsx)(Yn,{artistUri:t.uri,spec:a.followButtonFactory(),logger:r})}),d&&(0,j.jsx)(Hn.H,{className:ni})]})},e)},oi=(0,r.memo)((({data:e,limit:t,onClose:a,spec:r,logger:s})=>{const n=e.reduce(((e,t)=>{const{name:a,url:r}=t;if(null===a)return e;const s=(a??"")+(r??""),n=e.get(s)??{name:a,roles:[],uri:void 0,url:void 0,isArtistLinkable:!1};return null!==t.role&&n.roles.push(t.role),n.isArtistLinkable=t.isArtistLinkable||n.isArtistLinkable,t.url?n.url=t.url:t.uri&&(n.uri=t.uri),e.set(s,n),e}),new Map),i=Array.from(n,(([e,t],n)=>{const i=r.artistListFactory().artistRowFactory({position:n,uri:t.uri??""});return(0,j.jsx)(ii,{name:t.name,credits:t,onClose:a,spec:i,logger:s},e)})).slice(0,t);return(0,j.jsx)(j.Fragment,{children:i})})),ci=Spicetify.GraphQL.Definitions["queryTrackCreditsModal"]=new tt.l("queryTrackCreditsModal","query","94b1cc64a03a9ea35752ae300089d52f27b3363e07aa76dff15b6bb3fbe4989f",null),li="https://support.spotify.com/artists/article/song-credits/",di=(0,r.memo)((function(){const e=(0,s.wA)(),{isOpen:t,trackUri:a}=(0,s.d4)((e=>e.ui.trackCreditsModal)),n=(0,r.useCallback)((()=>{e((0,ae.P0)(!1,""))}),[e]),i=(0,wn.vh)(),{isAnonymous:o}=(0,s.d4)(se.Ht),{spec:c,logger:u}=(0,Na.r)(Kn.U,{data:{uri:a}}),g=(0,r.useCallback)((()=>{const e=c.closeButtonFactory().hitUiHide();u.logInteraction(e),n()}),[c,u,n]),h=(0,r.useCallback)((()=>{const e=c.reportErrorLinkFactory().hitNavigateToExternalUri({destination:li});u.logInteraction(e)}),[c,u]),{data:b,error:f,loading:y}=(x={trackUri:a,contributorsLimit:500,contributorsOffset:0},(0,at.I)(ci,x,R));var x,R;const E=(0,zn.YQ)((()=>o?i.send((0,vn.s)({track_uri:a})):i.send((0,En.h)({track_uri:a}))),500,{leading:!1,trailing:!0});if(y||f||"Track"!==b?.trackUnion.__typename)return null;const v=b?.trackUnion.contributors?.items.reduce(((e,t)=>{const{uri:a}=t;return a&&(0,ge.ecE)(a)&&e.add(a),e}),new Set),k=b?.trackUnion.creditsTrait?.contributors?.items.map((e=>({name:e.name,role:e.role,uri:e.uri,url:e.url,isArtistLinkable:v?.has(e.uri??"")})))??[],S=b?.trackUnion.creditsTrait?.sources?.items.map((e=>e.name)).join(m.Ru.getSeparator());return(0,j.jsx)(p.M,{"aria-label":m.Ru.get("track-credits.label"),isOpen:t,onClose:n,children:(0,j.jsxs)("div",{className:Zn,children:[(0,j.jsxs)("div",{className:Xn,children:[(0,j.jsx)(l.E,{as:"h1",variant:"titleSmall",children:m.Ru.get("track-credits.label")}),(0,j.jsx)(w.H,{condensed:!0,size:"small","aria-label":m.Ru.get("close"),className:ei,onClick:g,children:(0,j.jsx)(d.M,{size:"small",fill:"white",width:16,height:16})})]}),(0,j.jsx)(qn.a,{className:ti,children:(0,j.jsxs)("div",{onScroll:E,children:[(0,j.jsx)(l.E,{as:"h2",variant:"bodyMediumBold",paddingBottom:"base",children:b.trackUnion.name}),(0,j.jsx)(oi,{data:k,onClose:n,spec:c,logger:u}),(0,j.jsx)(Vn.v,{id:"sources",title:(0,j.jsx)(l.E,{variant:"bodyMediumBold",children:m.Ru.get("track-credits.sources")}),variant:"naked",subtitle:(0,j.jsx)(l.E,{variant:"bodySmall",semanticColor:"textSubdued",children:S}),className:ri}),(0,j.jsx)(w.H,{condensed:!0,size:"small",href:li,target:"_blank",rel:"noopener noreferrer",iconTrailing:e=>(0,j.jsx)(Hn.H,{...e}),onClick:h,children:m.Ru.get("track-credits.report-error")})]})})]})})}));var ui=a(19507),mi=a(65529),gi=a(70075),pi=a(28388),hi=a(76972),bi=a(36725),fi=a(17026);var yi=a(92852),xi=a(33562);let Ri=null;const Ei=()=>{const{verificationId:e,refetch:t}=(()=>{const[e,t]=(0,r.useState)(null),a=(0,wn.vh)(),{isTrustedRef:s,isTrustedFn:n}=(0,pi.d)(),{data:i,refetch:o,error:c}=(0,ui.I)({enabled:!1,queryKey:["fetchVerification"],queryFn:async()=>{const e=hi.n.getInstance(),{body:t}=await(0,bi.Q)(e);return t}});return(0,r.useEffect)((()=>{i&&i.length>0&&(async()=>{await n();const e=i[0]?.id??null;t(e),a.send((0,mi.n)({id:e,method:"IN_APP_VERIFICATION_V0",is_trusted:s.current}))})(),c&&a.send((0,gi.D)({method:"IN_APP_VERIFICATION_V0",error_message:c instanceof fi.O?c.name:null,http_method:"get",http_path:"/verifications"}))}),[i,c,a,n,s]),{verificationId:e,refetch:o}})();return(0,xi.p)(yi.gd.UPDATE,(a=>{if(e)return;const r="number"==typeof a?.data?.positionAsOfTimestamp&&a.data.positionAsOfTimestamp>=0&&a.data.positionAsOfTimestamp<=1e3;!a?.data?.isPaused&&r&&function(){const e=performance.now();if(Ri&&e-Ri<6e5)return!1;return Ri=e,!0}()&&t()})),e},vi=(0,r.lazy)((()=>a.e(3087).then(a.bind(a,83087)))),ki=()=>{const[e,t]=(0,r.useState)(!1),a=Ei();return(0,r.useEffect)((()=>{t(!!a)}),[a]),e?(0,j.jsx)(r.Suspense,{fallback:null,children:(0,j.jsx)(vi,{verificationId:`${a}`})}):null};var ji=a(23373),Si=a(73525),Ci=a(65007);const wi=()=>{const e=(0,s.wA)(),t=(0,Ci.D)(),{currentDevice:a}=(0,Si.l)(),{spec:n,logger:i}=(0,Na.r)(ji.h,{}),{onConfirm:o,onCancel:c}=(0,s.d4)((e=>e.ui.videoNotSupportedModal)),l=(0,r.useCallback)((()=>{i.logInteraction(n.cancelButtonFactory().hitUiHide()),e(Wa.ug.actions.close()),c?.()}),[e,i,c,n]),d=(0,r.useCallback)((async()=>{const{interactionId:r}=i.logInteraction(n.confirmButtonFactory().hitDisconnectFromRemoteDevice({remoteDeviceId:a?.connectStateId??""}));e(Wa.ug.actions.close()),await t.pullToLocalDevice({interactionId:r}),o()}),[t,a?.connectStateId,e,i,o,n]),u=m.Ru.get("video-not-supported.modal.title"),g=m.Ru.get("video-not-supported.modal.cancel"),p=m.Ru.get("video-not-supported.modal.confirm");return(0,j.jsx)(pe.T,{isOpen:!0,onConfirm:d,onClose:l,titleText:u,"aria-label":u,cancelText:g,confirmText:p,width:{minWidth:420,maxWidth:600}})};var Ni=a(71939);class _i extends r.PureComponent{handleRequestClose(){this.props.closeModal()}render(){const{isOpen:e,closeModal:t}=this.props;return(0,j.jsx)(Ni.x,{animated:!0,headingMessage:m.Ru.get("offline-error.device-limit-reached.header"),message:m.Ru.get("offline-error.device-limit-reached.message"),buttonLabel:m.Ru.get("close"),isOpen:e,onDismissDialog:t})}}const Oi=(0,s.Ng)((e=>({isOpen:e.ui.offlineDeviceLimitReachedDialog.isOpen})),(e=>({closeModal:()=>e((0,ae.kC)())})))(_i);var Ii=a(9856),Ai=a.n(Ii);class Ti extends r.PureComponent{constructor(e){super(e),this.handleRequestClose=this.handleRequestClose.bind(this),this.browserName=Ai().getParser(window.navigator.userAgent).getBrowserName()}handleRequestClose(){this.props.closeModal()}render(){const{isOpen:e,closeModal:t}=this.props;return(0,j.jsx)(Ni.x,{headingMessage:m.Ru.get("fatal-error.header"),onDismissDialog:t,buttonLabel:m.Ru.get("close"),message:m.Ru.get("browser_upgrade_notice",this.browserName),isOpen:e})}}const Li=(0,s.Ng)((e=>({isOpen:e.ui.playbackNotSupportedErrorDialog.isOpen})),(e=>({closeModal:()=>e((0,ae.e$)())})))(Ti);var Di=a(25669),Pi=a(76239),Ui=a(62960),Mi=a(42805),Bi=a(12912),Fi=a(24886),Gi=a(50496);const Wi="kRjJnLKzSkQegtH6S7zD";var zi=function(e){return e[e.SIGNUP=0]="SIGNUP",e[e.LOGIN=1]="LOGIN",e[e.DOWNLOAD=2]="DOWNLOAD",e}(zi||{});const Vi=(0,r.memo)((function({image:e,mediaType:t,backgroundColor:a,onSignupClick:r,onLoginClick:s,onDownloadClick:n,downloadLink:i}){const o=e=>t=>{switch(t.preventDefault(),e){case zi.DOWNLOAD:n&&n(),window.open(i,"_top","noopener");break;case zi.SIGNUP:r&&r(),(0,Gi.ie)();break;case zi.LOGIN:s&&s(),(0,Gi.PW)()}},{preferredAppToInstall:c}=(0,Bi.V)(),d="audio"===t?m.Ru.get("fta.wall.start-listening"):m.Ru.get("fta.wall.start-watching"),g=(0,j.jsx)(u.$,{onClick:o(zi.SIGNUP),children:m.Ru.get("mwp.cta.sign.up.free")}),p=i&&"desktop"===c?(0,j.jsx)(Ui.n,{"data-testid":"upsell-download-app-button",onClick:o(zi.DOWNLOAD),children:m.Ru.get("mwp.cta.download.app")}):void 0,h=(0,Fi.y)();return(0,j.jsx)(W,{image:e,title:d,primaryButton:g,secondaryButton:p,size:h,style:a?{backgroundColor:a}:{},renderExtraInfo:()=>(0,j.jsxs)("p",{className:Wi,onKeyDown:()=>o(zi.LOGIN),role:"presentation",children:[(0,j.jsx)(l.E,{variant:"bodySmall",children:m.Ru.get("already_have_account")}),(0,j.jsx)(Mi.Y,{href:"#",onClick:o(zi.LOGIN),children:m.Ru.get("login")})]})})}));var Hi=a(53467),Ki=a(56797);const qi="anllJYN1jeYGGE1iAJUJ",Qi="YQRQdqiQ_iT0eo0owsJL",Yi="ftlV6Ixmq4wkKMg7hJ1v",Ji={[F.E.SMALL]:0,[F.E.MEDIUM]:600,[F.E.LARGE]:1024},$i=()=>{const e=(0,Ki.mb)();return e.searchParams.set("referrer","dwp"),e},Zi=({image:e,mediaType:t,backgroundColor:a,onClose:s})=>{const{spec:n,logger:i}=(0,Na.r)(Pi.$,{}),o=(0,Us.n)(n.getAbsoluteLocation(),n),c=e=>()=>{let t;switch(e){case"download-app":t=n.downloadAppButtonFactory().hitUiNavigate({destination:$i().toString()});break;case"login":t=n.logInButtonFactory().hitUiNavigate({destination:Gi.aW});break;case"signup":t=n.signUpButtonFactory().hitUiNavigate({destination:Gi.Zg})}t&&i.logInteraction(t)},{ref:l,breakpoint:d}=(0,Hi.x)(Ji);return(0,r.useEffect)((()=>{const e=e=>{if("Escape"===e.key){const e=n.closeButtonFactory().hitUiHide();i.logInteraction(e),s()}};return window.addEventListener("keyup",e,!1),()=>window.removeEventListener("keyup",e)}),[s,i,n]),(0,j.jsx)(Fi.o.Provider,{value:d,children:(0,j.jsx)("div",{className:`dialog ${Yi}`,role:"presentation",ref:l,onClick:e=>{if(/dialog/.test(e.target.className)){const e=n.closeButtonFactory().hitUiHide();i.logInteraction(e),s()}},children:(0,j.jsxs)("div",{ref:o,className:qi,style:{backgroundColor:a},children:[(0,j.jsx)(Vi,{image:e,mediaType:t,onDownloadClick:c("download-app"),onLoginClick:c("login"),onSignupClick:c("signup"),downloadLink:$i().toString()}),(0,j.jsx)("div",{className:Qi,children:(0,j.jsx)(w.H,{onClick:()=>{const e=n.closeButtonFactory().hitUiHide();i.logInteraction(e),s()},children:m.Ru.get("close")})})]})})})},Xi=r.memo((function({uri:e}){const t=(0,s.wA)(),a=(0,Di.bj)("images/focused_stroy_play.png"),[n,i]=function(e,t=et.l0o,a){const{request:s}=(0,r.useContext)(ht.j),[n,i]=(0,r.useState)(t),[o,c]=(0,r.useState)(a),l=(0,r.useCallback)((e=>{const{url:t}=(0,bt.g)(e?.sources)||{},a=yt(e);t&&c(t),a&&i(a)}),[c]);return(0,r.useEffect)((()=>{(async()=>{const t=(0,ge.o_h)(e);if(!t)return;const a=xt[t.type];if(!a)return void console.error(`The entity (${e}) you're trying to use it not supported for this query`);const r=await s(a,{uri:t.toURI()}),{albumUnion:n,artistUnion:i,episodeUnionV2:o,playlistV2:c,podcastUnionV2:d,trackUnion:u}=r?.data||{};Rt(n)?l(n.coverArt):Et(i)?l(i.visuals.avatarImage):vt(o)?l(o.coverArt):kt(c)?l(c.images?.items?.[0]):jt(d)||St(d)?l(d.coverArt):Ct(u)&&l(u.albumOfTrack?.coverArt)})()}),[e,s,l]),[o,n]}(e,"#9BF0E1",a);return(0,j.jsx)(Zi,{image:n,mediaType:(0,ge.WB1)(e??"")?"mixed":"audio",onClose:()=>{t((0,ae.BU)())},backgroundColor:i})}));var eo=a(68001),to=a(58075),ao=a(30831),ro=a(19988);const so={container:"V5j86vGMaT2sp7ct86A2",qrCodeWrapper:"kDbHkOmhyeETFOcbFbwo",qrCodeContainer:"_ERV295Yr1PaaUksd8kO",qrCode:"zpq_BYJYKb1rA4CEhc81",logoContainer:"XpCKBHwxlfrim36zZ4_H",content:"q0l9maLJH30R2v3JS2i1",title:"Tlh526HXPpdCWn5nU8gQ"};const no=()=>{const{isOpen:e,subPath:t,feature:a}=(0,s.d4)((e=>e.ui?.verifyAgeModal)),r=(0,ro.NW)(),n=function(e,t){let a=new URL("https://open.spotify.com");return e&&(a=new URL(e,a)),a.searchParams.set("intent","age-assurance"),t&&a.searchParams.set("feature",t),a.searchParams.set("go","1"),a.toString()}(t,a);return(0,j.jsx)(Za.A,{isOpen:e,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!1,onRequestClose:r,overlayClassName:so.overlay,animated:!0,children:(0,j.jsxs)("div",{className:so.container,children:[(0,j.jsx)("div",{className:so.qrCodeWrapper,children:(0,j.jsxs)("div",{className:so.qrCodeContainer,children:[(0,j.jsx)(eo.Ay,{level:"H",size:136,value:n,className:so.qrCode}),(0,j.jsx)("div",{className:so.logoContainer,children:(0,j.jsx)(to.G,{condensed:!0,height:"28",semanticColor:"backgroundElevatedBase"})})]})}),(0,j.jsxs)("div",{className:so.content,children:[(0,j.jsx)("pre",{style:{color:"red",textWrap:"wrap"},children:n}),(0,j.jsx)(l.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",className:so.title,children:(0,ao.v)("Certain content and features require an age check.")}),(0,j.jsx)(l.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:(0,ao.v)("On your mobile phone, open the camera or the QR scanner app to scan this code.")})]}),(0,j.jsx)(w.H,{onClick:r,children:(0,ao.v)("Close")})]})})};var io=a(5191),oo=(a(86328),a(45545)),co=a(15759);const lo=()=>{const e=(0,s.wA)(),{data:t}=(0,s.d4)((e=>e.ui.artistAboutDialog));if(!t)return null;const{artist:a,artistUri:r,visuals:n,stats:i,externalLinks:o}=t,{gallery:c}=n,{monthlyListeners:l,worldRank:d,followers:u,topCities:m}=i,g=[];return c.items.forEach((e=>{const t=e.sources.map(co.m),a=(0,bt.g)(t,{desiredLabel:"large",desiredSize:600});a&&g.push(a)})),(0,j.jsx)(oo.y,{artistUri:r,avatarImages:n.avatarImage?.sources,name:a.name,bio:a.biography?.text,bioSource:a.biography?.type,worldRank:d||0,isOpen:!0,closeModal:()=>{e((0,ae.lM)())},images:g,externalLinks:o,topCities:m?.items,followers:u,monthlyListeners:l})};var uo=a(33740),mo=a(42010);function go({children:e,ctaUrl:t,spec:a}){const n=(0,s.wA)(),i=(0,za.s)(),o=(0,r.useCallback)((()=>{n((0,ae.us)()),i.logInteraction(a.consumptionCapModalFactory().topUpButtonFactory().hitUiHide())}),[n,i,a]),c=(0,r.useCallback)((()=>{i.logInteraction(a.consumptionCapModalFactory().topUpButtonFactory().hitNavigateToExternalUri({destination:t}))}),[t,i,a]);return t?(0,j.jsx)(u.$,{as:"a",href:t,target:"_blank",colorSet:"invertedLight",iconTrailing:mo.p,onClick:c,children:e}):(0,j.jsx)(u.$,{colorSet:"invertedLight",onClick:o,children:e})}function po({children:e,onClick:t}){return e?(0,j.jsx)(w.H,{onClick:t,semanticColor:"textSubdued",children:e}):null}var ho=a(40721);const bo={queryKey:["capping-status"],gcTime:864e5,refetchOnWindowFocus:!1,refetchOnReconnect:!0};const fo="NxTiDyoRCvpiMZga0txl",yo="YQEvA2GajE9nCaNVxwuq",xo="F12mp8xs0gc5ri9361Ap",Ro=()=>{const e=(0,s.wA)(),{spec:t,logger:a}=(0,Na.r)(uo.M,{}),{isOpen:n}=(0,s.d4)((e=>e.ui.bookConsumptionCapModal)),{data:i,isLoading:o}=function(e){const t=(0,ho.J)();return(0,ui.I)({...bo,enabled:e,queryFn:async()=>t.getCappingStatus()})}(n),c=(0,r.useCallback)((()=>{e((0,ae.us)()),a.logInteraction(t.consumptionCapModalFactory().dismissButtonFactory().hitUiHide())}),[e,a,t]);return(0,j.jsx)(Za.A,{animated:!0,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,onRequestClose:c,contentLabel:i?.explanation?.title||"",isOpen:n,children:(0,j.jsx)("div",{className:fo,children:(0,j.jsx)("div",{className:yo,children:o||!i?.explanation?(0,j.jsx)(Qs.m,{}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l.E,{as:"h2",variant:"titleMedium",semanticColor:"textBase",children:i.explanation.title}),(0,j.jsx)(l.E,{as:"p",variant:"bodySmall",semanticColor:"textBase",children:i.explanation.body}),(0,j.jsxs)("div",{className:xo,children:[(0,j.jsx)(go,{ctaUrl:i.explanation.ctaUrl,spec:t,children:i.explanation.cta}),(0,j.jsx)(po,{onClick:c,children:i.explanation.dismiss})]})]})})})})};var Eo=a(22750),vo=a(75194),ko=a(61650),jo=a(96579),So=a(21309),Co=a(99922);const wo=r.memo((function(){const{spec:e,logger:t}=(0,Na.r)(Eo.w,{}),a=(0,s.wA)(),{data:n}=(0,s.d4)((e=>e.ui.authorAboutDialog)),i=(0,r.useCallback)((()=>{const r=e.closeButtonFactory().hitUiHide();t.logInteraction(r),a((0,ae.Jc)())}),[a,t,e]);if(!n)return null;const{name:o,bio:c="",images:d=[]}=n;return(0,j.jsxs)(vo.P,{name:o,closeModal:i,isOpen:!0,children:[(0,j.jsx)(ko.Z,{images:d}),(0,j.jsx)("div",{className:Co.A.content,children:(0,j.jsx)("div",{className:Co.A.bioContainer,children:c?(0,j.jsx)(l.E,{as:"div",variant:"bodyMedium",className:Co.A.bio,dir:"auto",children:(0,j.jsx)(So.y,{source:c,LinkComponent:jo.N,onLinkClick:i})}):null})})]})}));a(2557);var No=a(8143),_o=a(60071),Oo=a(94378),Io=a(36544),Ao=a(41774),To=a(11750),Lo=a(24369),Do=a(50893);const Po="XDe71TYCM1yakzJ0BVGp",Uo="zJFuKlrLzbOy7iFiA9tA",Mo="v2Lq3LdxHmr54XvZF1dS",Bo="dsg9P8PEMDsVyt8ac3KD",Fo="ObCtiQ5P3zY3bXBIkN2X",Go="BGK8c3q0Fvm7vdMU9Ov1",Wo="yjfs8dP1IDOpoWAMk7_Q",zo="yOchIz_U3btFceKrnMYt",Vo=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),Ho=({countrySelectionModalRef:e})=>{const t=(0,r.useRef)(null),a=(0,r.useRef)(null),n=(0,s.d4)(se.Ht),[i,c]=(0,r.useState)(!1),{isOpen:u}=(0,Ao.oW)(),g=(0,Ao.$8)(),p=(0,r.useCallback)((()=>{g({type:"CLOSE"})}),[g]),h=(0,r.useMemo)((()=>Object.values(Do.O4).map((e=>{const t=(0,Do.cm)(e);return{name:t,code:e,normalizedName:Vo(t)}})).sort(((e,t)=>e.name.localeCompare(t.name,n.locale,{sensitivity:"accent"})))),[n.locale]),[b,f]=(0,r.useState)(""),y=(0,r.useDeferredValue)(b),[x,R]=(0,r.useState)(h),[E,v]=(0,r.useState)(!1),k=(0,r.useMemo)((()=>{const e=Vo(y);return h.filter((t=>t.normalizedName.includes(e)))}),[h,y]);(0,r.useEffect)((()=>{0===k.length?v(!0):v(!1),R(k)}),[k]);const S=e=>{i||f(e)},C=()=>{S(""),p(),a.current&&(a.current.scrollTop=0)};(0,To.m)(C);const N="country-selection-title";return e.current?(0,No.createPortal)((0,j.jsx)(Lo.s,{active:u,children:(0,j.jsx)("div",{className:o()(Po,{[Uo]:u}),role:"presentation",onClick:e=>{e.target===t.current&&C()},"data-open":u?"open":"closed",ref:t,children:(0,j.jsxs)("section",{className:Mo,role:"dialog","aria-modal":!0,"aria-labelledby":N,children:[(0,j.jsx)("div",{className:Fo,children:(0,j.jsx)(w.H,{iconOnly:d.M,size:"small",onClick:()=>{C()},"aria-label":m.Ru.get("close")})}),(0,j.jsxs)("div",{className:Bo,children:[(0,j.jsxs)("div",{className:Go,children:[(0,j.jsx)(l.E,{as:"h3",variant:"bodyMediumBold",id:N,children:m.Ru.get("concert.location.search.header")}),(0,j.jsx)(_o.E,{iconLeading:(0,j.jsx)(Oo.C,{}),children:(0,j.jsx)(Io.Z,{placeholder:m.Ru.get("concert.location.search.placeholder"),onChange:e=>S(e.currentTarget.value),onCompositionStart:()=>{c(!0)},onCompositionEnd:e=>{c(!1),f(e.currentTarget.value)},value:b})})]}),E&&(0,j.jsx)(l.E,{as:"p",variant:"bodyMedium",children:m.Ru.get("concert.error.no_locations_found_subtitle")}),(0,j.jsx)("ul",{className:Wo,ref:a,children:x.map((e=>(0,j.jsx)("li",{children:(0,j.jsx)(jo.N,{className:zo,onClick:()=>{C()},to:`/popular-in/${e.code.toLowerCase()}`,children:e.name})},e.code)))})]})]})})}),e.current):null};var Ko=a(71765),qo=a(75986);const Qo=(0,r.lazy)((async()=>{const{DebugWindowContents:e}=await Promise.all([a.e(5130),a.e(6824),a.e(8490),a.e(9845),a.e(983)]).then(a.bind(a,64603));return{default:e}})),Yo=()=>{const{handle:e,show:t}=(0,Ko.j)();return(0,Ea.x)(Ra.W.SHOW_DEBUG_WINDOW,(()=>{t()})),null!==e?(0,No.createPortal)((0,j.jsx)(qo.IF,{handle:e,children:(0,j.jsx)(r.Suspense,{fallback:null,children:(0,j.jsx)(Qo,{})})}),e.document.body):null};var Jo=a(65409);const $o=({uri:e,onConfirm:t,onCancel:a,remoteDeviceInfo:n})=>{const i=(0,za.s)(),o=(0,r.useMemo)((()=>(0,Jo.c)()),[]);(0,r.useEffect)((()=>{i.logImpression(o.impression())}),[i,o]);const c=(0,s.wA)();return(0,j.jsx)(pe.T,{"aria-label":m.Ru.get("web-player.download.remove-download-confirmation-dialog.title"),titleText:m.Ru.get("web-player.download.remove-download-confirmation-dialog.title"),descriptionText:n?m.Ru.get("web-player.download.remove-download-confirmation-dialog.message-remote",n.deviceName):m.Ru.get("web-player.download.remove-download-confirmation-dialog.message"),onConfirm:()=>{t(),c((0,ae.Kf)()),i.logInteraction(n?o.confirmRemoveDownloadButtonFactory().hitRemoveDownloadFromRemoteDevice({itemToRemoveFromDownloads:e,remoteDeviceId:n.deviceId,remoteDeviceType:n.deviceType.toString(),remoteClientPlatform:n.clientPlatform.toString()}):o.confirmRemoveDownloadButtonFactory().hitRemoveDownload({itemToRemoveFromDownloads:e}))},onClose:()=>{a(),c((0,ae.Kf)()),i.logInteraction(o.cancelButtonFactory().hitUiHide())},confirmText:m.Ru.get("web-player.download.remove-download-confirmation-dialog.confirm-button-text"),confirmLabel:m.Ru.get("web-player.download.remove-download-confirmation-dialog.confirm-button-label"),cancelText:m.Ru.get("web-player.download.remove-download-confirmation-dialog.cancel-button-text"),allowHTML:!0})};var Zo=a(99548),Xo=a(94684),ec=a(99091);const tc=({shortcuts:e,sectionTitle:t})=>(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l.E,{as:"h2",className:ec.A.sectionHeading,variant:"titleSmall",children:t}),(0,j.jsx)("ul",{children:e.map((e=>e.enabled?(0,j.jsxs)("li",{className:ec.A.sectionItem,children:[(0,j.jsx)(l.E,{variant:"bodyMedium",className:ec.A.sectionItemName,children:e.description}),(0,j.jsx)(Zo.g,{combinations:(0,Xo.p)(e.action)})]},e.action):null))})]});var ac=a(6398),rc=a(58220);const sc=(0,r.memo)((function(){const e=function(){const e=(0,ac.R)(),t=!0;return{basic:[{action:rc.r.CREATE_NEW_PLAYLIST,get description(){return m.Ru.get("playlist.new-header")},enabled:!0},{action:rc.r.CREATE_NEW_FOLDER,get description(){return m.Ru.get("keyboard.shortcuts.description.createNewFolder")},enabled:!0},{action:rc.r.OPEN_CONTEXT_MENU,get description(){return m.Ru.get("keyboard.shortcuts.description.openContextMenu")},enabled:!0},{action:rc.r.OPEN_SEARCH_MODAL,get description(){return m.Ru.get("keyboard.shortcuts.description.openSearchModal")},enabled:!0},{action:rc.r.SELECT_ALL,get description(){return m.Ru.get("keyboard.shortcuts.description.selectAll")},enabled:t},{action:rc.r.FILTER,get description(){return m.Ru.get("filter")},enabled:t},{action:rc.r.FOCUS_YLX_TEXT_FILTER,get description(){return m.Ru.get("web-player.your-library-x.text-filter.generic-placeholder")},enabled:!0},{action:rc.r.LOG_OUT,get description(){return m.Ru.get("user.log-out")},enabled:!0}],playback:[{action:rc.r.TOGGLE_PLAY,get description(){return m.Ru.get("keyboard.shortcuts.description.togglePlay")},enabled:!0},{action:rc.r.LIKE_DISLIKE_SONG,get description(){return m.Ru.get("keyboard.shortcuts.description.likeDislikeSong")},enabled:!0},{action:rc.r.SHUFFLE,get description(){return m.Ru.get("keyboard.shortcuts.description.shuffle")},enabled:!0},{action:rc.r.REPEAT,get description(){return m.Ru.get("keyboard.shortcuts.description.repeat")},enabled:!0},{action:rc.r.SKIP_PREVIOUS,get description(){return m.Ru.get("keyboard.shortcuts.description.skipPrev")},enabled:!0},{action:rc.r.SKIP_NEXT,get description(){return m.Ru.get("keyboard.shortcuts.description.skipNext")},enabled:!0},{action:rc.r.SEEK_BACKWARD,get description(){return m.Ru.get("keyboard.shortcuts.description.seekBackward")},enabled:!0},{action:rc.r.SEEK_FORWARD,get description(){return m.Ru.get("keyboard.shortcuts.description.seekForward")},enabled:!0},{action:rc.r.RAISE_VOLUME,get description(){return m.Ru.get("keyboard.shortcuts.description.raiseVolume")},enabled:!0},{action:rc.r.LOWER_VOLUME,get description(){return m.Ru.get("keyboard.shortcuts.description.lowerVolume")},enabled:!0},{action:rc.r.DECREASE_PLAYBACK_SPEED,get description(){return m.Ru.get("playback-control.decrease-playback-speed")},enabled:!0},{action:rc.r.INCREASE_PLAYBACK_SPEED,get description(){return m.Ru.get("playback-control.increase-playback-speed")},enabled:!0}],navigation:[{action:rc.r.GO_TO_HOME,get description(){return m.Ru.get("keyboard.shortcuts.description.home")},enabled:!0},{action:rc.r.GO_BACKWARDS,get description(){return m.Ru.get("keyboard.shortcuts.description.goBackwards")},enabled:!0},{action:rc.r.GO_FORWARDS,get description(){return m.Ru.get("keyboard.shortcuts.description.goForwards")},enabled:!0},{action:rc.r.GO_TO_PREFERENCES,get description(){return m.Ru.get("keyboard.shortcuts.description.goToPreferences")},enabled:t},{action:rc.r.GO_TO_NOW_PLAYING,get description(){return m.Ru.get("keyboard.shortcuts.description.currentlyPlaying")},enabled:!0},{action:rc.r.GO_TO_SEARCH,get description(){return m.Ru.get("keyboard.shortcuts.description.search")},enabled:!0},{action:rc.r.GO_TO_LIKED_SONGS,get description(){return m.Ru.get("keyboard.shortcuts.description.likedSongs")},enabled:!0},{action:rc.r.GO_TO_QUEUE,get description(){return m.Ru.get("playback-control.queue")},enabled:!0},{action:rc.r.GO_TO_LIBRARY,get description(){return m.Ru.get("web-player.your-library-x.your-library")},enabled:!0},{action:rc.r.GO_TO_PLAYLISTS,get description(){return m.Ru.get("keyboard.shortcuts.description.yourPlaylists")},enabled:!0},{action:rc.r.GO_TO_PODCASTS,get description(){return m.Ru.get("keyboard.shortcuts.description.yourPodcasts")},enabled:!0},{action:rc.r.GO_TO_ARTISTS,get description(){return m.Ru.get("keyboard.shortcuts.description.yourArtists")},enabled:!0},{action:rc.r.GO_TO_ALBUMS,get description(){return m.Ru.get("keyboard.shortcuts.description.yourAlbums")},enabled:!0},{action:rc.r.GO_TO_AUDIOBOOKS,get description(){return m.Ru.get("keyboard.shortcuts.description.yourAudiobooks")},enabled:!0},{action:rc.r.GO_TO_MADE_FOR_YOU,get description(){return m.Ru.get("keyboard.shortcuts.description.madeForYour")},enabled:!0},{action:rc.r.GO_TO_NEW_RELEASES,get description(){return m.Ru.get("new_releases")},enabled:!0},{action:rc.r.GO_TO_CHARTS,get description(){return m.Ru.get("keyboard.shortcuts.description.charts")},enabled:!0},{action:rc.r.GO_TO_BUDDY_FEED,get description(){return m.Ru.get("buddy-feed.friend-activity")},enabled:t},{action:rc.r.GO_TO_DEVICE_PICKER,get description(){return m.Ru.get("spotify-connect")},enabled:!0}],layout:[{action:rc.r.TOGGLE_LEFT_SIDEBAR,get description(){return m.Ru.get("keyboard.shortcuts.layout.toggleLeftSidebar")},enabled:!0},{action:rc.r.LEFT_SIDEBAR_DECREASE_WIDTH,get description(){return m.Ru.get("keyboard.shortcuts.layout.navigationBarDecreaseWidth")},enabled:!0},{action:rc.r.LEFT_SIDEBAR_INCREASE_WIDTH,get description(){return m.Ru.get("keyboard.shortcuts.layout.navigationBarIncreaseWidth")},enabled:!0},{action:rc.r.TOGGLE_NPV_SIDEBAR,get description(){return m.Ru.get("keyboard.shortcuts.layout.toggleRightSidebar")},enabled:!0},{action:rc.r.NPV_SIDEBAR_DECREASE_WIDTH,get description(){return m.Ru.get("keyboard.shortcuts.layout.rightSidebarDecreaseWidth")},enabled:!0},{action:rc.r.NPV_SIDEBAR_INCREASE_WIDTH,get description(){return m.Ru.get("keyboard.shortcuts.layout.rightSidebarIncreaseWidth")},enabled:!0},{action:rc.r.TOGGLE_SUBTITLES,get description(){return m.Ru.get("subtitles-picker.heading")},enabled:!0}],employee:[{action:rc.r.TOGGLE_DEBUG_WINDOW,description:"Toggle Debug Window",enabled:e}]}}(),t=(0,s.wA)(),a=(0,s.d4)((e=>e.ui.keyboardShortcutsHelpModal.isOpen)),n=(0,r.useCallback)((()=>{t((0,ae.wi)(!1))}),[t]),i=e.employee.filter((e=>e.enabled));return(0,j.jsxs)(p.M,{isOpen:a,onClose:n,"aria-label":m.Ru.get("keyboard.shortcuts.help.heading"),className:ec.A.container,children:[(0,j.jsxs)("div",{className:ec.A.header,children:[(0,j.jsx)(l.E,{as:"h1",variant:"titleMedium",children:m.Ru.get("keyboard.shortcuts.help.heading")}),(0,j.jsx)("button",{"aria-label":m.Ru.get("close"),className:ec.A.closeBtn,onClick:n,children:(0,j.jsx)(jn.A,{width:18,height:18,fill:"currentColor"})}),(0,j.jsxs)(l.E,{variant:"bodyMedium",as:"p",children:[m.Ru.get("keyboard.shortcuts.help.subheading.press")," ",(0,j.jsx)(Zo.g,{combinations:(0,Xo.p)(rc.r.OPEN_HELP)})," ",m.Ru.get("keyboard.shortcuts.help.subheading.toToggle")]})]}),(0,j.jsx)("div",{className:ec.A.sectionsContainer,children:(0,j.jsxs)("div",{className:ec.A.sections,tabIndex:0,children:[(0,j.jsx)(tc,{shortcuts:e.basic,sectionTitle:m.Ru.get("keyboard.shortcuts.section.basic")}),(0,j.jsx)(tc,{shortcuts:e.playback,sectionTitle:m.Ru.get("keyboard.shortcuts.section.playback")}),(0,j.jsx)(tc,{shortcuts:e.navigation,sectionTitle:m.Ru.get("keyboard.shortcuts.section.navigation")}),(0,j.jsx)(tc,{shortcuts:e.layout,sectionTitle:m.Ru.get("keyboard.shortcuts.section.layout")}),i.length>0?(0,j.jsx)(tc,{shortcuts:i,sectionTitle:"Employee"}):null]})})]})}));var nc=a(70850),ic=a(79657),oc=a(90814),cc=a(50375),lc=a(35054),dc=a(93624),uc=a(25379),mc=a(4644),gc=a(24148),pc=a(67659);const hc=({onChangePermission:e,onRemoveMember:t,onLeave:a,member:r,capabilities:s})=>(0,j.jsxs)(ir.W,{children:[s.canAdministratePermissions&&"VIEWER"===r.permissionLevel&&(0,j.jsx)(or.D,{role:"menuitemradio","aria-checked":!1,onClick:()=>e("CONTRIBUTOR"),leadingIcon:(0,j.jsx)(gc.u,{size:"small"}),children:(0,j.jsx)(l.E,{variant:"bodySmall",children:m.Ru.get("contextmenu.make-collaborator")})}),s.canAdministratePermissions&&"CONTRIBUTOR"===r.permissionLevel&&(0,j.jsx)(or.D,{role:"menuitemradio","aria-checked":!1,onClick:()=>e("VIEWER"),leadingIcon:(0,j.jsx)(gc.u,{size:"small"}),children:(0,j.jsx)(l.E,{variant:"bodySmall",children:m.Ru.get("contextmenu.make-listener")})}),s.canAdministratePermissions&&(0,j.jsx)(or.D,{role:"menuitemradio","aria-checked":!1,onClick:()=>t(),leadingIcon:(0,j.jsx)(pc.r,{size:"small"}),children:(0,j.jsx)(l.E,{variant:"bodySmall",children:m.Ru.get("contextmenu.remove-user-from-playlist")})}),s.canCancelMembership&&(0,j.jsx)(or.D,{role:"menuitemradio","aria-checked":!1,onClick:()=>a(),leadingIcon:(0,j.jsx)(pc.r,{size:"small"}),children:(0,j.jsx)(l.E,{variant:"bodySmall",children:m.Ru.get("contextmenu.leave-playlist")})})]});var bc=a(15172);const fc="uv2sbcK86mvObEP6I6hA",yc="biDFn_kFEWlTdVmGaI4c",xc="EW1t5mbo9hvxGC_ptS6k",Rc="qEJiFwRQbUiOdb9xXQIa",Ec="SexldtxY9c9V6RANcuod",vc="zW45u2gfu8HHBqbm745Z",kc="vxjT7DTxVfyAxy3WcErT",jc="llgv1BhpY3BwLUvcQ3Hx",Sc="aCyb8gmETLFf6lQmJs2v",Cc="ZKrl2b1JEsPzkUo5X9hG",wc="gaPaX1jusmGCAKSG5L7N",Nc="Nhe2Q_5EbptALoVW3V4K",_c="s9rTnCluVsYXlqj5OdMg",Oc="FJrwM8ylEu9MfQEclH24",Ic="olUpKnRVm_c2P5yQwddx",Ac=({uri:e,member:t,capabilities:a,isCurrentUser:n})=>{const i=(0,s.wA)(),[c,d]=(0,r.useState)(!1),{changeMemberPermission:u,removeMember:g}=(e=>{const t=(0,bc.a)(),a=(0,r.useCallback)((async(a,r)=>{await t.setMemberPermission(e,a,r)}),[t,e]),s=(0,r.useCallback)((async a=>{await t.removeMember(e,a)}),[t,e]),n=(0,r.useCallback)((async a=>{await t.setBasePermission(e,a)}),[t,e]);return{uri:e,changeMemberPermission:a,removeMember:s,changeBasePermission:n}})(e),p=(0,r.useCallback)((e=>{t.user&&(u(t.user.username,e),d(!0))}),[u,t.user]),h=(0,r.useCallback)((()=>{t.user&&(g(t.user.username),d(!0))}),[t.user,g]),b=(0,r.useCallback)((()=>{i((0,ae.aP)(e))}),[i,e]),f=!t.isOwner&&(a?.canAdministratePermissions||a?.canCancelMembership&&n);let y="CONTRIBUTOR"===t.permissionLevel?m.Ru.get("permissions.collaborator"):m.Ru.get("permissions.listener");return t.isOwner&&(y=m.Ru.get("permissions.creator")),f&&a?(0,j.jsx)(nr.b,{renderInline:!0,menu:(0,j.jsx)(hc,{onChangePermission:p,onRemoveMember:h,onLeave:b,capabilities:a,member:t}),children:(e,t,a)=>(0,j.jsxs)("button",{className:o()(_c,Oc,{[Ic]:c}),onClick:t,ref:a,type:"button","data-testid":"permissions-menu",children:[(0,j.jsx)(l.E,{variant:"bodySmall",children:y}),e?(0,j.jsx)(uc.J,{size:"small"}):(0,j.jsx)(mc.y,{size:"small"})]})}):(0,j.jsx)(l.E,{variant:"bodySmall",className:_c,children:y})},Tc=({member:e,playlistUri:t,username:a,capabilities:r,onClose:s})=>{if(!e.user)return null;const n=a===e.user.username,i=n&&e.user.displayName?m.Ru.get("permissions.current-user-name",e.user.displayName):e.user.displayName;return(0,j.jsxs)("div",{className:jc,children:[(0,j.jsxs)("div",{className:Sc,children:[(0,j.jsx)(cc.e,{label:e.user.displayName,images:e.user.images.map((e=>({url:e.url,width:e.width||null,height:e.height||null}))),width:32,userIconSize:"small"}),(0,j.jsxs)("div",{className:Cc,children:[(0,j.jsx)(lc.h,{menu:(0,j.jsx)(dc.B,{uri:e.user.uri}),children:(0,j.jsx)(jo.N,{title:i??e.user.username,to:e.user.uri,dir:"auto",onClick:s,children:(0,j.jsx)(l.E,{variant:"bodySmallBold",children:i})})}),e.songsAdded>0&&(0,j.jsx)(l.E,{className:wc,variant:"marginal",children:m.Ru.get("permissions.songs-added",e.songsAdded)})]})]}),(0,j.jsx)(Ac,{uri:t,member:e,capabilities:r,isCurrentUser:n})]},e.user.uri)};const Lc=({isPublicPlaylist:e})=>(0,j.jsx)("div",{className:Ec,children:e?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ic.d,{size:"small"}),(0,j.jsx)(l.E,{className:vc,variant:"marginal",children:m.Ru.get("permissions.public-playlist")})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(oc.u,{size:"small"}),(0,j.jsx)(l.E,{className:vc,variant:"marginal",children:m.Ru.get("permissions.private-playlist")})]})}),Dc=({isOpen:e,uri:t,onClose:a})=>{const n=function(e){const t=(0,bc.a)(),[a,s]=(0,r.useState)(null),n=(0,r.useCallback)(((e,t)=>{s(e||!t?null:t)}),[]);return(0,r.useEffect)((()=>t.subscribeToMembers(e,n)),[t,e,n]),a}(t),i=(0,s.d4)((({session:e})=>e?.user?.id))||null;return n?(0,j.jsx)(Za.A,{isOpen:e,onRequestClose:a,contentLabel:m.Ru.get("permissions.modal-label"),children:(0,j.jsxs)("div",{"data-testid":"playlist-permissions-modal",className:fc,children:[(0,j.jsxs)("div",{className:yc,children:[(0,j.jsxs)("div",{className:xc,children:[(0,j.jsx)(Lc,{isPublicPlaylist:(o=n.basePermissionLevel,"VIEWER"===o||"CONTRIBUTOR"===o)}),(0,j.jsx)("button",{className:kc,onClick:a,children:(0,j.jsx)(d.M,{size:"small","aria-label":m.Ru.get("close")})})]}),(0,j.jsx)(l.E,{as:"h1",variant:"titleMedium",children:m.Ru.get("permissions.shared-with")})]}),(0,j.jsx)(qn.a,{className:Nc,children:(0,j.jsx)("div",{className:Rc,children:(0,j.jsx)("div",{children:n.members&&n.members.map((e=>(0,j.jsx)(Tc,{playlistUri:t,member:e,username:i,capabilities:n.capabilities,onClose:a},e.user?.username)))})})})]})}):null;var o};var Pc=a(46202);const Uc=()=>{const{isOpen:e,uri:t}=(0,r.useContext)(Pc.cM),a=(0,r.useContext)(Pc.VV),s=(0,r.useCallback)((()=>{a({type:"close"})}),[a]);return e&&t?(0,j.jsx)(Dc,{isOpen:e,onClose:s,uri:t}):null};var Mc=a(1345);const Bc="search-modal-listbox";var Fc=a(27936);const Gc="search-modal-searchBar",Wc="search-modal-searchIcon",zc="search-modal-input",Vc=(0,r.memo)((function(e){const{value:t,onChange:a,onKeyPress:r,hasResults:s,activeResultId:n,mode:i}=e,o="search"===i?Oo.C:Fc.G,c="search"===i?m.Ru.get("search.search-for-label"):m.Ru.get("web-player.search-modal.search-entity");return(0,j.jsxs)("div",{className:Gc,children:[(0,j.jsx)(o,{className:Wc,"aria-hidden":!0}),(0,j.jsx)(l.E,{as:"input","data-testid":"search-modal-input",variant:"bodyMedium",className:zc,value:t,onKeyDown:r,onChange:a,placeholder:c,autoFocus:!0,role:"combobox","aria-expanded":s,"aria-controls":Bc,"aria-owns":Bc,"aria-activedescendant":n})]})})),Hc="search-modal-keyboard-accessibility-bar",Kc="cie0uNTxaMfLHseZkiiQ",qc="KOpaRxg8Q8z9XEMKrRp4",Qc="c4hmXDjs2Dv8n3VCLz1g",Yc="QMOmwha4faV6Xb8jOV6B",Jc="HiCzctNFfHIOQSXTVKZk",$c=({canOpen:e,canPlay:t,canSelect:a,canGoBack:r,hasNestedPage:s})=>e||t||a?(0,j.jsxs)("div",{className:Hc,children:[(0,j.jsx)(sl,{isActive:a,children:(0,j.jsx)(el,{})}),(0,j.jsx)(sl,{isActive:e,children:(0,j.jsx)(tl,{})}),(0,j.jsx)(sl,{isActive:r,className:Yc,children:(0,j.jsx)(Xc,{})}),(0,j.jsx)(sl,{isActive:s,className:Jc,children:(0,j.jsx)(Zc,{})}),(0,j.jsx)(sl,{isActive:t,children:(0,j.jsx)(al,{})})]}):null;function Zc(){const e="macOS"===Ai().getParser(window.navigator.userAgent).getOSName()?"⌘":"Ctrl";return m.Ru.get("web-player.search-modal.instructions.nested-page",{keys:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(rl,{children:e}),(0,j.jsx)(rl,{children:"Enter"})]})})}function Xc(){return m.Ru.get("web-player.search-modal.instructions.go-back",{keys:(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(rl,{children:"Esc"})})})}function el(){return m.Ru.get("web-player.search-modal.instructions.navigate",{keys:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(rl,{children:"↑"}),(0,j.jsx)(rl,{children:"↓"})]})})}function tl(){return m.Ru.get("web-player.search-modal.instructions.open",{keys:(0,j.jsx)(rl,{children:"Enter"})})}function al(){return m.Ru.get("web-player.search-modal.instructions.play",{keys:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(rl,{children:"Shift"}),(0,j.jsx)(rl,{children:"Enter"})]})})}function rl({children:e}){return(0,j.jsx)(l.E,{as:"kbd",variant:"marginal",className:Qc,semanticColor:"textSubdued",children:e})}function sl({children:e,isActive:t,className:a}){return(0,j.jsx)(l.E,{as:"p",variant:"marginal",semanticColor:"textSubdued",className:o()(Kc,a,{[qc]:!t}),children:e})}const nl={page:"search-results",query:"",selectedIndex:0},il=[nl];function ol(e,t){const a=e[e.length-1];if(!a)return[t(nl)];const r=t(a);return[...e.slice(0,-1),r]}var cl=a(71259);const ll="kpBsufs8sjZBCkqFWwqd",dl="iLw1Pq6JHUt2Xpo57BIm",ul="hWLn8yB7BmpxpwZqbbD7",ml=({title:e,pretitle:t,image:a,hasCircularImage:s,uri:n,onClickTitle:i})=>{const o=(0,r.useMemo)((()=>[{url:a,height:48,width:48}]),[a]);return(0,j.jsxs)("div",{className:ll,children:[(0,j.jsx)("div",{className:dl,children:(0,j.jsx)(cl.M,{images:o,isCircular:s})}),(0,j.jsxs)("div",{className:ul,children:[t&&(0,j.jsx)(l.E,{variant:"bodySmall",semanticColor:"textSubdued",children:t}),(0,j.jsx)(jo.N,{to:n,onClick:i,children:(0,j.jsx)(l.E,{variant:"titleSmall",semanticColor:"textBase",children:e})})]})]})},gl=Spicetify.GraphQL.Definitions["searchModalEntityPage"]=new tt.l("searchModalEntityPage","query","1bf604eab778ca1b40fabc2a80a9dcd0ae4bfa0d447aea9a8a5551e38682a99e",null),pl=e=>`search-modal-result-${e}`;function hl(e){return"ImageV2"===e?.squareCoverImage?.image?.data?.__typename?e?.squareCoverImage?.image?.data?.sources?.[0]?.url:void 0}function bl(e){switch(e){case"Artist":case"User":case"Author":return!0;default:return!1}}var fl=a(11801),yl=a(86537),xl=a(86069),Rl=a(1287),El=a(55797);const vl=(0,r.memo)((function(e){const{query:t,onResults:a,uri:s,numberOfResults:i}=e,o=(0,ns.n)(),c=(0,n.NC)(h.Wvg),{data:l,error:d,loading:u}=(g={uri:s,includeAuthors:c,numberOfResults:i},p={gcTime:18e5,staleTime:3e5,enabled:!!s&&o},(0,at.I)(gl,g,p));var g,p;return(0,r.useEffect)((()=>{const e=l?.lookup.at(0),r=[];let s,n,i;if(!e||"UnknownTypeWrapper"===e.__typename)return;switch(e.__typename){case"AlbumResponseWrapper":{if("Album"!==e.data.__typename)return;const a=e.data.coverArt?.sources?.[0]?.url??"",o=(0,yl.m)(e.data.coverArt?.extractedColors);s=e.data.name,n=m.Ru.get("web-player.search-modal.result.album"),i=a||void 0;for(const a of e.data.tracksV2.items){if("ContextTrack"!==a.__typename)continue;const e=`${a.track.trackNumber}. ${a.track.name}`,s=a.track.artists.items.map((e=>e.profile.name)).join(m.Ru.getSeparator());t&&!(0,fl.u)(t,e,s)||r.push({type:"Track",title:e,image:"",color:o,subtitle:s,uri:a.track.uri})}break}case"ArtistResponseWrapper":if("Artist"!==e.data.__typename)return;s=e.data.profile.name,n=m.Ru.get("web-player.search-modal.result.artist"),i=hl(e.data.visualIdentity);for(const a of e.data.discography.all.items)if("AlbumGroup"===a.__typename)for(const e of a.releases.items){if("Album"!==e.__typename)continue;if(t&&!(0,fl.u)(t,e.name))continue;const a=kl(e.date?.isoString,e.date?.precision),s=m.Ru.get("tracklist-header.songs-counter",e.tracksV2.totalCount);r.push({type:"Album",title:e.name,image:hl(e.visualIdentity),color:void 0,subtitle:`${a} • ${s}`,uri:e.uri})}break;case"PlaylistResponseWrapper":if("Playlist"!==e.data.__typename||"PlaylistItemsPage"!==e.data.content.__typename)return;s=e.data.name,n=m.Ru.get("web-player.search-modal.result.playlist"),i=e.data.images.items.at(0)?.sources.at(0)?.url;for(const a of e.data.content.items){const e=a.itemV2;if("TrackResponseWrapper"===e.__typename&&"Track"===e.data.__typename){const a=e.data.name,s=e.data.artists.items.map((e=>e.profile.name)).join(m.Ru.getSeparator());if(t&&!(0,fl.u)(t,a,s))continue;r.push({type:"Track",title:a,image:hl(e.data.albumOfTrack?.visualIdentity),color:void 0,subtitle:s,uri:e.data.uri})}else if("EpisodeOrChapterResponseWrapper"===e.__typename&&"Episode"===e.data.__typename){const t=e.data.coverArt?.sources?.[0]?.url??"",a=(0,yl.m)(e.data.coverArt?.extractedColors),s=e.data.coverArt?.sources?.[0]?.url??t,n=(0,yl.m)(e.data.coverArt?.extractedColors)??a;r.push({type:"Episode",title:e.data.name,image:s,color:n,subtitle:kl(e.data.releaseDate?.isoString,e.data.releaseDate?.precision),uri:e.data.uri})}else"PodcastOrAudiobookResponseWrapper"===e.__typename&&"Audiobook"===e.data.__typename&&r.push({type:"Audiobook",title:e.data.name,image:hl(e.data.visualIdentity),color:void 0,subtitle:e.data.publisher?.name??"",uri:e.data.uri})}break;case"AuthorResponseWrapper":if("AuthorV2"!==e.data.__typename||!e.data.audiobooks)return;s=e.data.name,n=m.Ru.get("web-player.search-modal.result.author"),i=hl(e.data.visualIdentity);for(const t of e.data.audiobooks.items)"AudiobookResponseWrapper"===t.__typename&&"Audiobook"===t.data.__typename&&r.push({type:"Audiobook",title:t.data.name,image:hl(t.data.visualIdentity),color:void 0,subtitle:t.data.publisher?.name??"",uri:t.data.uri});break;case"PodcastOrAudiobookResponseWrapper":{if("Podcast"!==e.data.__typename)return;const t=e.data.coverArt?.sources?.[0]?.url??"",a=(0,yl.m)(e.data.coverArt?.extractedColors);if(s=e.data.name,n=m.Ru.get("web-player.search-modal.result.podcast"),i=t,!e.data.episodesV2||"ContextEpisodePage"!==e.data.episodesV2.__typename)return;for(const s of e.data.episodesV2.items){if("EpisodeResponseWrapper"!==s.entity.__typename||"Episode"!==s.entity.data.__typename)continue;const e=s.entity.data.coverArt?.sources?.[0]?.url??t,n=(0,yl.m)(s.entity.data.coverArt?.extractedColors)??a;r.push({type:"Episode",title:s.entity.data.name,image:e,color:n,subtitle:kl(s.entity.data.releaseDate?.isoString,s.entity.data.releaseDate?.precision),uri:s.entity.data.uri})}break}case"ConcertResponseWrapper":case"EpisodeOrChapterResponseWrapper":case"GenreResponseWrapper":case"MerchResponseWrapper":case"PreReleaseResponseWrapper":case"TrackResponseWrapper":case"UserResponseWrapper":break;default:(0,Rl.k)(e)}a({query:t,error:!!d,loading:u,results:r,metadata:s&&i?{title:s,pretitle:n,image:i}:void 0})}),[l,d,u,a,t]),null}));function kl(e,t){if(!e||!t)return"";const a=m.Ru.getLocaleForTranslation();return(0,El.rh)((0,El.ad)(e),a,{year:"numeric",month:"long",day:"numeric"},(0,xl.ht)(t))}const jl=Spicetify.GraphQL.Definitions["searchModalResults"]=new tt.l("searchModalResults","query","2e8641264de27f09317e1e1f9be0d5f2b1983165269628471d0de4ec35a02113",null);var Sl=a(2897);const Cl=(0,r.memo)((function(e){const{query:t,onResults:a,numberOfResults:s}=e,i=(0,ns.n)(),o=(0,n.NC)(h.Wvg),{data:c,error:l,loading:d}=(u={limit:s,numberOfTopResults:s,offset:0,searchTerm:t,includeAuthors:o},g={gcTime:18e5,staleTime:3e5,enabled:t.trim().length>0&&i},(0,at.I)(jl,u,g));var u,g;return(0,r.useEffect)((()=>{const e=c?.searchV2?.topResultsV2?.itemsV2??[],r=[];for(const{item:t,matchedFields:a}of e)if("UnknownTypeWrapper"!==t.__typename&&"PreReleaseResponseWrapper"!==t.__typename&&"SearchAutoCompleteEntity"!==t.__typename&&"SearchSection"!==t.__typename&&t.data)switch(t.data.__typename){case"Genre":r.push({type:"Genre",title:t.data.name,image:t.data.image?.sources?.[0]?.url??"",color:(0,yl.m)(t.data.image?.extractedColors),subtitle:"",uri:(s=t.data.uri,(0,ge.o_h)(s)?s:`spotify:genre:${s}`)});break;case"Album":{const e=t.data.artists.items.map((e=>e.profile.name)).join(m.Ru.getSeparator());r.push({type:"Album",title:t.data.name,image:t.data.coverArt?.sources?.[0]?.url??"",color:(0,yl.m)(t.data.coverArt?.extractedColors),subtitle:e,uri:t.data.uri});break}case"Artist":r.push({type:"Artist",title:t.data.profile.name,image:t.data.visuals.avatarImage?.sources?.[0]?.url??"",color:(0,yl.m)(t.data.visuals.avatarImage?.extractedColors),subtitle:"",uri:t.data.uri});break;case"Track":{let e=t.data.artists.items.map((e=>e.profile.name)).join(m.Ru.getSeparator());if(a.includes(Sl.tC.Lyrics)){e=`${e} · ${m.Ru.get("web-player.search-modal.lyrics-match")}`}r.push({type:"Track",title:t.data.name,image:t.data.albumOfTrack?.coverArt?.sources?.[0]?.url??"",color:(0,yl.m)(t.data.albumOfTrack?.coverArt?.extractedColors),subtitle:e,uri:t.data.uri});break}case"Playlist":{const e="User"===t.data.ownerV2.data?.__typename?t.data.ownerV2.data.name:"",a=t.data.images.items.find((e=>e.sources));r.push({type:"Playlist",title:t.data.name,image:a?.sources?.[0]?.url??"",color:(0,yl.m)(a?.extractedColors),subtitle:e,uri:t.data.uri});break}case"User":r.push({type:"User",title:t.data.name,image:t.data.avatar?.sources?.[0]?.url??"",color:(0,yl.m)(t.data.avatar?.extractedColors),subtitle:"",uri:t.data.uri});break;case"Episode":{const e="Podcast"===t.data.podcastV2.data.__typename&&t.data.podcastV2.data.name||void 0,a=[t.data.releaseDate?.isoString?m.Ru.formatDate(new Date(t.data.releaseDate.isoString)):void 0,e].filter(Boolean).join(" • "),s=e?m.Ru.get("web-player.search-modal.a11y.contentbyartist",{item:t.data.name,creator:e,type:m.Ru.get("web-player.search-modal.result.episode")}):t.data.name;r.push({type:"Episode",title:t.data.name,image:t.data.coverArt?.sources?.[0]?.url??"",color:(0,yl.m)(t.data.coverArt?.extractedColors),subtitle:a,uri:t.data.uri,label:s});break}case"Podcast":r.push({type:"Podcast",title:t.data.name,image:t.data.coverArt?.sources?.[0]?.url??"",color:(0,yl.m)(t.data.coverArt?.extractedColors),subtitle:t.data.publisher?.name??"",uri:t.data.uri});break;case"Audiobook":r.push({type:"Audiobook",title:t.data.name,image:t.data.coverArt?.sources?.[0]?.url??"",color:(0,yl.m)(t.data.coverArt?.extractedColors),subtitle:t.data.publisher?.name??"",uri:t.data.uri});break;case"AuthorV2":r.push({type:"Author",title:t.data.name,image:hl(t.data.visualIdentity),color:void 0,subtitle:"",uri:t.data.uri});break;case"NotFound":case"RestrictedContent":case"GenericError":break;default:(0,Rl.k)(t.data)}var s;a({query:t,error:!!l,loading:d,results:r})}),[c,l,d,a,t]),null}));var wl=a(31016),Nl=a(97),_l=a(99280),Ol=a(76020),Il=a(97012),Al=a(41672),Tl=a(57399),Ll=a(53169),Dl=a(56420);const Pl="XUU9nKfSDuNkadzFz_OQ",Ul=({children:e})=>(0,j.jsx)(l.E,{variant:"bodySmall",semanticColor:"textSubdued",className:Pl,children:e});var Ml=a(42099);const Bl="search-modal-resultItem",Fl="mvQT8XMnLMFMikaUfHqO",Gl="hEPIW_7QH4X3m4QrRPsP",Wl="bFrnKMII6LDDL6NbaYnZ",zl="dJtLqNpbjiE4oggCyFSQ",Vl="mx8mS84MYJW_9iHyXNJu",Hl=({position:e,uri:t,title:a,image:s,color:n,subtitle:i,isSelected:c,onClick:d,tag:u,label:m,menu:g,hasCircularImage:p=!1})=>{const h=(0,r.useRef)(null);(0,r.useEffect)((()=>{c&&h.current?.scrollIntoView({behavior:"auto",block:"nearest"})}),[c]);const{isActive:b}=(0,Ml.l_)(t),f=(0,r.useCallback)((()=>{d({uri:t,position:e})}),[d,e,t]),y=(0,r.useMemo)((()=>{if(s)return[{url:s,width:48,height:48}]}),[s]),x={"--position":e};return(0,j.jsx)(lc.h,{menu:g,children:(0,j.jsxs)(jo.N,{ref:h,to:t,className:o()(Bl,{[Fl]:c}),role:"option","aria-selected":c,onClick:f,id:pl(t),style:x,tabIndex:-1,children:[(0,j.jsx)("span",{className:"hidden-visually",children:m}),y&&(0,j.jsx)("div",{className:Wl,"aria-hidden":!0,children:(0,j.jsx)(cl.M,{images:y,color:n,isCircular:p,desiredSize:48})}),(0,j.jsxs)("div",{className:zl,"aria-hidden":!0,children:[(0,j.jsx)(l.E,{as:"p",variant:"bodyMedium",className:Gl,semanticColor:b?"textBrightAccent":"textBase",children:a}),(0,j.jsx)(l.E,{as:"p",variant:"bodySmall",className:Gl,semanticColor:"textSubdued",children:i})]}),(0,j.jsx)("div",{className:Vl,"aria-hidden":!0,children:u&&(0,j.jsx)(Ul,{children:u})})]})})},Kl=e=>{const{results:t,onClick:a,selectedIndex:r}=e;return(0,j.jsx)(j.Fragment,{children:t.map(((e,t)=>(0,j.jsx)(Hl,{isSelected:r===t,uri:e.uri,title:e.title,image:e.image,color:e.color,subtitle:e.subtitle,position:t,onClick:a,tag:Yl(e),label:ql(e),menu:Ql(e),hasCircularImage:bl(e.type)},`${t}-${e.uri}`)))})};function ql(e){if(void 0!==e.label)return e.label;switch(e.type){case"Artist":case"Author":case"User":case"Genre":case"Podcast":case"Audiobook":case"Episode":return m.Ru.get("web-player.search-modal.a11y.label",{item:e.title,type:m.Ru.get("web-player.search-modal.result.artist")});case"Album":case"Track":case"Playlist":return m.Ru.get("web-player.search-modal.a11y.contentbyartist",{item:e.title,creator:e.subtitle,type:m.Ru.get("web-player.search-modal.result.track")});default:return(0,Rl.k)(e.type),e.title}}function Ql(e){switch(e.type){case"Album":return(0,j.jsx)(wl.h,{uri:e.uri});case"Artist":return(0,j.jsx)(Nl.t,{uri:e.uri});case"Author":return(0,j.jsx)(Dl.L,{uri:e.uri});case"Track":return(0,j.jsx)(Ll.P,{uri:e.uri});case"Playlist":return(0,j.jsx)(Al.W,{uri:e.uri});case"User":return(0,j.jsx)(dc.B,{uri:e.uri});case"Genre":return(0,j.jsx)(Il.h,{uri:e.uri});case"Episode":return(0,j.jsx)(Ol.b,{uri:e.uri});case"Podcast":return(0,j.jsx)(Tl.H,{uri:e.uri});case"Audiobook":return(0,j.jsx)(_l.p,{uri:e.uri});default:return(0,Rl.k)(e.type),null}}function Yl(e){if(e.tag)return e.tag;switch(e.type){case"Album":return m.Ru.get("web-player.search-modal.result.album");case"Artist":return m.Ru.get("web-player.search-modal.result.artist");case"Author":return m.Ru.get("web-player.search-modal.result.author");case"User":return m.Ru.get("web-player.search-modal.result.user");case"Genre":return m.Ru.get("web-player.search-modal.result.genre");case"Episode":return m.Ru.get("web-player.search-modal.result.episode");case"Podcast":return m.Ru.get("web-player.search-modal.result.podcast");case"Audiobook":return m.Ru.get("web-player.search-modal.result.audiobook");case"Track":return m.Ru.get("web-player.search-modal.result.track");case"Playlist":return m.Ru.get("web-player.search-modal.result.playlist");default:return void(0,Rl.k)(e.type)}}var Jl=a(20147),$l=a(4666);const Zl="N9tnwm0XDrt_eGJd2D2A",Xl="zZMsUUWG29PYcwWPXhOV",ed="_kfmGT75UTPoF_D2afwa",td="search-modal-listbox",ad="Bn7PjpLWU6TcPCoeP98S",rd="QVqrI1qDRcHQgBn2uuWd",sd="mXdNvIO9PYnBFoyoMyUO",nd="Xf30G8NSPQ3pex0iD4zB",id="ixdB7tx1aniI9zfMECIi",od={modal:{base:sd,afterOpen:nd,beforeClose:id},overlay:{base:sd,afterOpen:nd,beforeClose:id}},cd=()=>{const e=(0,he.g)(),t=(0,n.NC)(h.Kjv),a=(0,Jl.Nf)(),{spec:s,logger:i,UBIFragment:c}=(0,Na.r)(Mc.I,{}),{currentPage:d,pages:u,addPage:g,goBack:p,setQuery:b,setSelectedIndex:f}=(()=>{const e=(0,n.NC)(h.Kjv),[t,a]=(0,r.useState)(il),s=(0,r.useCallback)((t=>{e&&a((e=>[...e,t]))}),[e]),i=(0,r.useCallback)((()=>{e&&a((e=>e.slice(0,-1)))}),[e]),o=(0,r.useCallback)((e=>{a((t=>ol(t,(t=>({...t,query:e})))))}),[]),c=(0,r.useCallback)((e=>{a((t=>ol(t,(t=>{const a="function"==typeof e?e(t.selectedIndex):e;return{...t,selectedIndex:a}}))))}),[]);return{currentPage:(0,r.useMemo)((()=>t[t.length-1]||nl),[t]),pages:t,setQuery:o,addPage:s,goBack:i,setSelectedIndex:c}})(),y=d.query,x=d.selectedIndex,R=(0,Us.n)(s.getAbsoluteLocation(),s),[E,v]=(0,r.useState)([]),[k,S]=(0,r.useState)(void 0),[C,w]=(0,r.useState)(!1),N=!(0,ns.n)(),_=(0,r.useMemo)((()=>(0,ge.o_h)(y,{parseUnknown:!0})),[y]),O=_&&_.type!==ge.NQG.AD,I=(0,r.useCallback)((e=>{const t=e.target.value;t!==y&&(b(t),f(0),i.logInteraction(s.inputFactory().keyStrokeChangeSearchQuery({searchQueryString:t})))}),[y,b,f,i,s]),A=(0,r.useCallback)((()=>{b(""),a({type:"CLOSE"})}),[a,b]),T=(0,r.useCallback)((({uri:e,position:t})=>{i.logInteraction(s.searchResultFactory({position:t}).hitUiNavigate({destination:e})),A()}),[A,i,s]),L=(0,$l.z)(),D=1===u.length,P=(0,r.useCallback)((a=>{const r=a.key;if("Escape"===r)D||(p(),a.stopPropagation());else if("ArrowUp"===r)f((e=>Math.max(e-1,0))),a.preventDefault();else if("ArrowDown"===r)f((e=>Math.min(e+1,Math.max(E.length-1,0)))),a.preventDefault();else if("Enter"===r){if(O)return e(_.toURLPath(!0)),void A();const r=E[x];if(r)if(a.shiftKey){if(dd(r.type)){L.play({uri:r.uri},{featureIdentifier:"quick_search",referrerIdentifier:"PlayerStub_UnknownReferrer"});const e=s.searchResultFactory({position:x}).keyStrokePlay({itemToBePlayed:r.uri});i.logInteraction(e)}}else if((e=>"macOS"===Ai().getParser(window.navigator.userAgent).getOSName()?e.metaKey:e.ctrlKey)(a))t&&ud(r.type)&&(g({page:"entity",type:r.type,uri:r.uri,query:"",selectedIndex:0}),v([]));else{const t=(0,ge.o_h)(r.uri),a=t?.toURLPath(!0);a&&(e(a),T({uri:r.uri,position:x}))}a.preventDefault()}}),[D,p,f,E,O,x,e,_,A,L,s,i,t,g,T]),U=(0,r.useCallback)((e=>{w(e.loading),e.query===y&&(v(e.results),S(e.metadata))}),[y]),M=E.length>0,B=E.at(x),F=B?pl(B.uri):void 0,G=dd(B?.type),W=t&&ud(B?.type);return(0,j.jsx)(c,{spec:s,children:(0,j.jsxs)("div",{className:Zl,ref:R,children:[(0,j.jsx)("div",{className:o()(Xl,{[ed]:E.length}),children:(0,j.jsx)(Vc,{value:y,onChange:I,onKeyPress:P,hasResults:M,activeResultId:F,mode:D?"search":"filter"})}),(0,j.jsx)($c,{canSelect:M&&!O,canPlay:G,canOpen:M||!!O,canGoBack:!D,hasNestedPage:M&&W}),"search-results"===d.page&&(0,j.jsx)(Cl,{query:O?"":y,numberOfResults:30,onResults:U}),"entity"===d.page&&(0,j.jsx)(vl,{uri:d.uri,query:y,numberOfResults:100,onResults:U}),"entity"===d.page&&k&&M&&(0,j.jsx)(ml,{uri:d.uri,pretitle:k.pretitle,title:k.title,image:k.image,hasCircularImage:bl(d.type),onClickTitle:A}),!O&&M&&(0,j.jsx)("div",{className:td,id:Bc,role:"listbox","data-testid":"search-modal-results",children:(0,j.jsx)(Kl,{results:E,onClick:T,selectedIndex:x})}),!C&&y&&!M&&(0,j.jsxs)("div",{className:ad,onClick:A,children:[(0,j.jsx)(l.E,{className:rd,as:"h1",variant:"titleSmall",semanticColor:"textBase",children:m.Ru.get("search.empty-results-title",y)}),N&&(0,j.jsx)(l.E,{as:"p",semanticColor:"textBase",children:m.Ru.get("web-player.search-modal.offline")})]})]})})},ld=()=>{const{isOpen:e}=(0,Jl.Qc)(),t=(0,Jl.Nf)(),a=(0,r.useCallback)((()=>{t({type:"CLOSE"})}),[t]);return e?(0,j.jsx)(Za.A,{contentLabel:m.Ru.get("web-player.search-modal.title"),isOpen:e,onRequestClose:a,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,animation:od,children:(0,j.jsx)(cd,{})}):null};function dd(e){if(!e)return!1;switch(e){case"Album":case"Artist":case"Track":case"Playlist":case"Episode":case"Podcast":case"Audiobook":return!0;case"Author":case"User":case"Genre":return!1;default:return(0,Rl.k)(e),!1}}function ud(e){if(!e)return!1;switch(e){case"Playlist":case"Album":case"Artist":case"Podcast":case"Author":return!0;case"Audiobook":case"Track":case"Episode":case"User":case"Genre":return!1;default:return(0,Rl.k)(e),!1}}const md=()=>{const e=(0,s.wA)(),{isOpen:t}=(0,s.d4)((e=>e.ui.personalizedRecommendationsErrorModal));return(0,j.jsx)(Ni.x,{headingMessage:m.Ru.get("error-dialog.generic.header"),message:m.Ru.get("web-player.settings.personalized-recommendations.error-modal-message"),buttonLabel:m.Ru.get("web-player.settings.personalized-recommendations.error-modal-button"),onDismissDialog:()=>{e(Wa.bL.actions.close())},animated:!0,isOpen:t})};var gd=a(61537);const pd="t1hN4Ju87afc5N5fDTnm",hd="kq4vSktBwa0pcc1zklAo",bd="KSUTPJtu2PnuTb_RoGQX",fd=({onClose:e,handleRemove:t,primaryButtonText:a,secondaryButtonText:r,primaryButtonLabel:s=a})=>(0,j.jsxs)("div",{className:bd,children:[(0,j.jsx)(w.H,{onClick:e,semanticColor:"textSubdued","aria-label":"Cancel",children:r}),(0,j.jsx)(u.$,{"aria-label":s,autofocus:"true",onClick:t,children:a})]}),yd=({onClose:e,primaryButtonText:t,secondaryButtonText:a})=>(0,j.jsxs)("div",{className:bd,children:[(0,j.jsx)(w.H,{onClick:e,semanticColor:"textSubdued",as:"a",href:gd.nw,children:a}),(0,j.jsx)(u.$,{autofocus:"true",onClick:e,children:t})]});var xd=a(67144);const Rd=()=>{const e=(0,s.wA)(),{enqueueSnackbar:t}=(0,re.d)(),a=(0,xd.B)(),[n,i]=(0,r.useState)(null),c=(0,r.useCallback)((()=>{e((0,ae.MB)())}),[e]),d=(0,r.useCallback)((async()=>{try{await a.removeAllDownloads(),c(),t(m.Ru.get("desktop.settings.storage.downloads.success"))}catch(e){i(e instanceof Error?e:new Error("Error when deleting all downloads."))}}),[a,c,t]);return(0,j.jsx)(p.M,{animated:!0,className:hd,onClose:c,"aria-describedby":"remove-downloads-dialog-heading",isOpen:!0,children:(0,j.jsxs)("div",{className:o()("encore-light-theme",pd),children:[(0,j.jsx)(l.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase","aria-live":"polite",id:"remove-downloads-dialog-heading",children:n?m.Ru.get("error.generic"):m.Ru.get("desktop.settings.storage.downloads.dialog.heading")}),(0,j.jsx)(l.E,{as:"p",variant:"bodySmall",paddingBottom:te.CD,semanticColor:"textSubdued","aria-live":"polite",children:n?m.Ru.get("desktop.settings.storage.downloads.dialog.error"):m.Ru.get("desktop.settings.storage.downloads.dialog.text")}),n?(0,j.jsx)(yd,{onClose:c,primaryButtonText:m.Ru.get("desktop.settings.storage.close"),secondaryButtonText:m.Ru.get("desktop.settings.storage.help")}):(0,j.jsx)(fd,{onClose:c,handleRemove:d,primaryButtonLabel:m.Ru.get("desktop.settings.storage.downloads.button"),primaryButtonText:m.Ru.get("desktop.settings.storage.downloads.remove"),secondaryButtonText:m.Ru.get("desktop.settings.storage.cancel")})]})})},Ed=()=>{const e=(0,s.wA)(),{enqueueSnackbar:t}=(0,re.d)(),a=(0,xd.B)(),[n,i]=(0,r.useState)(null),c=(0,r.useCallback)((()=>{e((0,ae.QK)())}),[e]),d=(0,r.useCallback)((async()=>{try{await a.removeCache(),c(),t(m.Ru.get("desktop.settings.storage.cache.success"))}catch(e){i(e instanceof Error?e:new Error("Error when clearing cache."))}}),[t,a,c]);return(0,j.jsx)(p.M,{animated:!0,className:hd,onClose:c,"aria-describedby":"clear-cache-dialog-heading",isOpen:!0,children:(0,j.jsxs)("div",{className:o()("encore-light-theme",pd),children:[(0,j.jsx)(l.E,{id:"clear-cache-dialog-heading",as:"h2",variant:"titleSmall",semanticColor:"textBase","aria-live":"polite",children:n?m.Ru.get("error.generic"):m.Ru.get("desktop.settings.storage.cache.dialog.heading")}),(0,j.jsx)(l.E,{as:"p",variant:"bodySmall",paddingBottom:te.CD,semanticColor:"textSubdued","aria-live":"polite",children:n?m.Ru.get("desktop.settings.storage.cache.dialog.error"):m.Ru.get("desktop.settings.storage.cache.dialog.text")}),n?(0,j.jsx)(yd,{onClose:c,primaryButtonText:m.Ru.get("desktop.settings.storage.close"),secondaryButtonText:m.Ru.get("desktop.settings.storage.help")}):(0,j.jsx)(fd,{onClose:c,handleRemove:d,primaryButtonText:m.Ru.get("desktop.settings.storage.cache.button"),secondaryButtonText:m.Ru.get("desktop.settings.storage.cancel")})]})})};var vd=a(45276);const kd="KmvydY9aOuhL7pSuUhCP",jd="yfp_lJM0XpzDc1TJz6Qc",Sd="rqMR6HWbOuHuIQEMFrRv",Cd=()=>{const e=(0,s.wA)(),{isOpen:t}=(0,s.d4)((e=>e.ui.introducingSmartShuffleModal)),a=()=>{e(Wa.cI.actions.close())};return(0,j.jsx)(Za.A,{isOpen:t,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:a,contentLabel:m.Ru.get("web-player.smart-shuffle.introduction-modal-title"),overlayClassName:Sd,children:(0,j.jsxs)("div",{className:kd,children:[(0,j.jsx)(vd.k,{size:"xxlarge",semanticColor:"textBrightAccent"}),(0,j.jsxs)("div",{className:jd,children:[(0,j.jsx)(l.E,{variant:"titleMedium",semanticColor:"textBase",children:m.Ru.get("web-player.smart-shuffle.introduction-modal-title")}),(0,j.jsx)(l.E,{variant:"bodyMedium",semanticColor:"textBase",children:m.Ru.get("web-player.smart-shuffle.introduction-modal-description")})]}),(0,j.jsx)(u.$,{onClick:a,children:m.Ru.get("web-player.smart-shuffle.introduction-modal-ok-button")})]})})};var wd=a(84425);var Nd=a(49428),_d=a(38706),Od=a(55814);var Id=a(11940),Ad=a(19803);var Td=a(95509),Ld=a(92404),Dd=a(95892);var Pd=a(38859),Ud=a(52613),Md=a(52887),Bd=a(6506);const Fd={get DEFAULT_PLAYBACK_STUCK(){return m.Ru.get("feedback.cant-play-track")},get FORCED_OFFLINE_MODE(){return m.Ru.get("feedback.track-not-available-forced-offline")},get CANT_OFFLINE_SYNC_PLAYLIST_IN_OFFLINE_MODE(){return m.Ru.get("feedback.cant-offline-sync-playlist-in-offline-mode")},get ARTIST_BANNED_BY_USER(){return m.Ru.get("feedback.artist-banned-by-user")},get TRACK_BANNED_BY_USER(){return m.Ru.get("feedback.track-banned-by-user")},get REGION_RESTRICTED(){return m.Ru.get("feedback.track-not-available-in-region-import")},get DEFAULT_PLAYER_ERROR(){return m.Ru.get("feedback.track-not-available-import")},get NETWORK_ERROR(){return m.Ru.get("feedback.video-playback-network-error")},get PREMIUM_RESTRICTED(){return m.Ru.get("feedback.track-exclusive-premium")},get CANT_SKIP_ADS(){return m.Ru.get("feedback.cant-skip-ads")},get CANT_PLAY_DURING_ADS(){return m.Ru.get("feedback.cant-play-during-ads")},get SKIP_ADS_TO_HEAR_SONG(){return m.Ru.get("feedback.skip-ads-to-hear-song")},get SKIP_AFTER_DELAY(){return m.Ru.get("feedback.skip-ads-after-delay")},get CAPPING_REACHED(){return m.Ru.get("capping.upsell-title")},get VIDEO_GEORESTRICTED(){return m.Ru.get("feedback.video-georestricted")},get VIDEO_UNSUPPORTED_CLIENT_VERSION(){return m.Ru.get("feedback.video-unsupported-client-version")},get VIDEO_UNSUPPORTED_PLATFORM_VERSION(){return m.Ru.get("feedback.video-unsupported-platform-version")},get VIDEO_COUNTRY_RESTRICTED(){return m.Ru.get("feedback.video-country-restricted")},get VIDEO_UNAVAILABLE(){return m.Ru.get("feedback.video-unavailable")},get VIDEO_CATALOGUE_RESTRICTED(){return m.Ru.get("feedback.video-catalogue-restricted")},get VIDEO_PLAYBACK_ERROR(){return m.Ru.get("feedback.video-playback-error")},get VIDEO_UNSUPPORTED_KEY_SYSTEM(){return m.Ru.get("feedback.video-unsupported-key-system")},get EXPLICIT_CONTENT_FILTERED(){return m.Ru.get("feedback.explicit-content-filtered")},get INTERRUPT_PLAYBACK_RESTRICTED(){return m.Ru.get("feedback.play-after-ad")}};function Gd(e){const t=e?.item??void 0;return(0,Ud.N)(t)&&t.isSkippableAd}function Wd(e,t,a){switch(t.code){case Pd.Z9.PLAYBACK_STUCK:return Fd.DEFAULT_PLAYBACK_STUCK;case Pd.Z9.ONE_TRACK_UNPLAYABLE:case Pd.Z9.ONE_TRACK_UNPLAYABLE_AUTO_STOPPED:case Pd.Z9.ALL_TRACKS_UNPLAYABLE_AUTO_STOPPED:return(r=t.reasons).includes(Pd.K7.NOT_AVAILABLE_IN_CURRENT_REGION)?Fd.REGION_RESTRICTED:r.includes(Pd.K7.NOT_AVAILABLE_IN_NON_PREMIUM)?Fd.PREMIUM_RESTRICTED:r.includes(Pd.K7.NOT_AVAILABLE_OFFLINE)?Fd.FORCED_OFFLINE_MODE:r.includes(Pd.K7.USER_CAPPING_REACHED)?Fd.CAPPING_REACHED:r.includes(Pd.K7.BANNED_BY_USER_ARTIST)?Fd.ARTIST_BANNED_BY_USER:r.includes(Pd.K7.BANNED_BY_USER_TRACK)?Fd.TRACK_BANNED_BY_USER:r.includes(Pd.K7.EXPLICIT_CONTENT_FILTERED)?Fd.EXPLICIT_CONTENT_FILTERED:Fd.DEFAULT_PLAYER_ERROR;case Pd.Z9.INTERRUPT_PLAYBACK_RESTRICTED:return Fd.INTERRUPT_PLAYBACK_RESTRICTED;case Pd.Z9.VIDEO_GEORESTRICTED:return Fd.VIDEO_GEORESTRICTED;case Pd.Z9.VIDEO_UNSUPPORTED_CLIENT_VERSION:return Fd.VIDEO_UNSUPPORTED_CLIENT_VERSION;case Pd.Z9.VIDEO_UNSUPPORTED_PLATFORM_VERSION:return Fd.VIDEO_UNSUPPORTED_PLATFORM_VERSION;case Pd.Z9.VIDEO_COUNTRY_RESTRICTED:return Fd.VIDEO_COUNTRY_RESTRICTED;case Pd.Z9.VIDEO_UNAVAILABLE:return Fd.VIDEO_UNAVAILABLE;case Pd.Z9.VIDEO_CATALOGUE_RESTRICTED:return Fd.VIDEO_CATALOGUE_RESTRICTED;case Pd.Z9.VIDEO_PLAYBACK_ERROR:return Fd.VIDEO_PLAYBACK_ERROR;case Pd.Z9.VIDEO_UNSUPPORTED_KEY_SYSTEM:return Fd.VIDEO_UNSUPPORTED_KEY_SYSTEM;case Pd.Z9.PAUSE_RESTRICTED:return t.reasons.some((e=>[Pd.K7.ALREADY_PAUSED,Pd.K7.NOT_PLAYING_LOCALLY].includes(e)))?null:Fd.DEFAULT_PLAYER_ERROR;case Pd.Z9.RESUME_RESTRICTED:return t.reasons.includes(Pd.K7.NOT_PAUSED)?null:Fd.DEFAULT_PLAYER_ERROR;case Pd.Z9.PLAY_RESTRICTED:return t.reasons.includes(Pd.K7.AD_DISALLOW)?Gd(e)?Fd.SKIP_ADS_TO_HEAR_SONG:Fd.CANT_SKIP_ADS:null;case Pd.Z9.SKIP_TO_NEXT_RESTRICTED:return t.reasons.includes(Pd.K7.AD_DISALLOW)?Gd(e)?Fd.SKIP_AFTER_DELAY:Fd.CANT_PLAY_DURING_ADS:null;case Pd.Z9.TIMEOUT:return Fd.NETWORK_ERROR;case Pd.Z9.SKIP_TO_PREV_RESTRICTED:return t.reasons.includes(Pd.K7.THROTTLED)?null:Fd.DEFAULT_PLAYER_ERROR;default:return function(e,t){return!(t||!e.cause||!("status"in e.cause))&&0===e.cause.status}(t,a)?Fd.NETWORK_ERROR:Fd.DEFAULT_PLAYER_ERROR}var r}var zd=a(10138);var Vd=a(63780),Hd=a(58856);var Kd=a(17425),qd=a(7217),Qd=a(57609),Yd=a(68924);const Jd=()=>(function(){const e=(0,$l.z)(),t=(0,ns.n)(),a=(0,Bd.g)(),{enqueueSnackbar:r}=(0,re.d)(),n=(0,s.wA)();(0,xi.p)(yi.gd.ERROR,(({data:s})=>{if(s.reasons.includes(Pd.K7.EXPLICIT_CONTENT_FILTERED))return void n((0,ae.Ac)());const i=e.getState(),o=Wd(i,s,t);null!==o&&(a&&s.code===Pd.Z9.STOP_RESTRICTED||(0,Md.d)(i?.item??void 0)||r(o))}))}(),function(){const{enqueueSnackbar:e}=(0,re.d)(),t=(0,ns.n)();(0,xi.p)(yi.gd.QUEUE_ACTION_COMPLETE,(({data:a})=>{[yi.UC.ADD,yi.UC.REMOVE].includes(a.action)&&(a.error?t?((0,wd.$)("feedback_banner","error","error.generic"),e(m.Ru.get("error.generic"))):e(m.Ru.get("offline.feedback-text")):a.showSnackbar&&(a.action===yi.UC.ADD?e(m.Ru.get("queue.added-to-queue")):e(m.Ru.get("queue.removed-from-queue"))))}))}(),function(){const{enqueueSnackbar:e}=(0,re.d)(),t=(0,Nd.W)(),a=(0,Te.m)(),r=(0,ns.n)();(0,Od.e)(_d.Lj.OPERATION_COMPLETE,(async({data:s})=>{if(s.operation===_d.sP.ADD&&!s.silent)if(s.error)r?((0,wd.$)("feedback_banner","error","error.generic"),e(m.Ru.get("error.generic"))):e(m.Ru.get("offline.feedback-text"));else try{const{name:e,images:r}=await a.getMetadata(s.uri),n=(0,bt.g)(r,{desiredSize:24});t({message:m.Ru.get("feedback.added-to-playlist-specific",e),imageSrc:n?.url})}catch{e(m.Ru.get("feedback.added-to-playlist-generic"))}}))}(),function(){const e=(0,bc.a)().getEvents(),t=(0,ns.n)(),{enqueueSnackbar:a}=(0,re.d)(),n=(0,s.d4)((e=>e.session?.user?.id));(0,r.useEffect)((()=>e.addListener(zd.GV.OPERATION_COMPLETE,(({data:e})=>{let r;if(e.error)t?((0,wd.$)("feedback_banner","error","error.generic"),a(m.Ru.get("error.generic"))):a(m.Ru.get("offline.feedback-text"));else switch(e.operation){case zd.mA.SET_BASE_PERMISSION:return r="VIEWER"===e.permissionLevel?m.Ru.get("feedback.playlist-made-public"):m.Ru.get("feedback.playlist-made-private"),void a(r);case zd.mA.SET_MEMBER_PERMISSION:return r="VIEWER"===e.permissionLevel?m.Ru.get("feedback.member-made-listener"):m.Ru.get("feedback.member-made-contributor"),void a(r);case zd.mA.REMOVE_MEMBER:return r=n===e.username?m.Ru.get("feedback.left-playlist"):m.Ru.get("feedback.removed-member"),void a(r)}}))),[n,a,t,e])}(),function(){const e=(0,Vd._)().getEvents(),t=(0,ns.n)(),{enqueueSnackbar:a}=(0,re.d)();(0,r.useEffect)((()=>e.addListener(Hd.tD.OPERATION_COMPLETE,(({data:e})=>{if(!e.silent)if(e.error)t?((0,wd.$)("feedback_banner","error","error.generic"),a(m.Ru.get("error.generic"))):a(m.Ru.get("offline.feedback-text"));else switch(e.operation){case Hd.ut.ADD:return void a(m.Ru.get("web-player.aligned-curation.feedback.added-to-library"));case Hd.ut.REMOVE:return void a(m.Ru.get("web-player.aligned-curation.feedback.removed-from-library"));case Hd.ut.MOVE:return void(e.showAddConfirmation&&a(m.Ru.get("web-player.aligned-curation.feedback.added-to-library")))}}))),[a,t,e])}(),function(){const{enqueueSnackbar:e}=(0,re.d)(),t=(0,Nd.W)(),a=(0,ns.n)();(0,Dd.l)(Ld.UV.OPERATION_COMPLETE,(async r=>{if(r.data.silent)return;if(r.data.error)return void(a?((0,wd.$)("feedback_banner","error","error.generic"),e(m.Ru.get("error.generic"))):e(m.Ru.get("offline.feedback-text")));const[s]=r.data.uris,n=(0,ge.o_h)(s)?.type;if(n!==ge.NQG.TRACK&&n!==ge.NQG.LOCAL_TRACK)if(n!==ge.NQG.EPISODE)e(r.data.operation===Ld.tS.ADD?m.Ru.get("web-player.aligned-curation.feedback.added-to-library"):m.Ru.get("web-player.aligned-curation.feedback.removed-from-library"));else{const e=(0,Td.dB)();if(!e)return;const a=r.data.operation===Ld.tS.ADD?m.Ru.get("web-player.aligned-curation.feedback.added",e.name):m.Ru.get("web-player.aligned-curation.feedback.removed",e.name);t({message:a,imageSrc:(0,bt.g)(e.images,{desiredSize:24})?.url})}else{const e=(0,Td.zK)();if(!e)return;const a=r.data.operation===Ld.tS.ADD?m.Ru.get("web-player.aligned-curation.feedback.added",e.name):m.Ru.get("web-player.aligned-curation.feedback.removed",e.name);t({message:a,imageSrc:(0,bt.g)(e.images,{desiredSize:24})?.url})}}))}(),function(){const e=(0,Ad.l)(),{enqueueSnackbar:t}=(0,re.d)();(0,r.useEffect)((()=>{const a=e.getEvents(),r=a.addListener(Id.ar.ADDED,(({data:e})=>{"client"===e.source&&"ignoreinrecs"===e.set&&t(m.Ru.get("feedback.exclude-playlist-from-recommendations"))})),s=a.addListener(Id.ar.REMOVED,(({data:e})=>{"client"===e.source&&"ignoreinrecs"===e.set&&t(m.Ru.get("feedback.include-playlist-in-recommendations"))}));return()=>{r(),s()}}),[t,e])}(),(()=>{const{currentSession:e}=(0,qd.D)(),{enqueueSnackbar:t}=(0,re.d)(),a=(0,r.useRef)([]),s=(0,r.useRef)([]),n=(0,zn.YQ)((e=>{if(e.isSessionOwner){switch(a.current.length){case 0:break;case 1:t(m.Ru.get("web-player.social-connect.toast.one-person-joined",{user:a.current[0]??""})),a.current=[];break;case 2:t(m.Ru.get("web-player.social-connect.toast.two-people-joined",{firstUser:a.current[0]??"",secondUser:a.current[1]??""})),a.current=[];break;default:t(m.Ru.get("web-player.social-connect.toast.multiple-people-joined",{user:a.current[a.current.length-1]??"",userCount:a.current.length-1})),a.current=[]}switch(s.current.length){case 0:break;case 1:t(m.Ru.get("web-player.social-connect.toast.one-person-left",{user:s.current[0]??""})),s.current=[];break;case 2:t(m.Ru.get("web-player.social-connect.toast.two-people-left",{firstUser:s.current[0]??"",secondUser:s.current[1]??""})),s.current=[];break;default:t(m.Ru.get("web-player.social-connect.toast.multiple-people-left",{user:s.current[s.current.length-1]??"",userCount:s.current.length-1})),s.current=[]}}}),3e3,{leading:!0,trailing:!0}),i=(0,r.useCallback)((({data:e})=>{null===e.isSessionOwner||e.isSessionOwner||t(m.Ru.get("web-player.social-connect.toast.ended",{user:e.hostDisplayName??""}))}),[t]),o=(0,r.useCallback)((({data:e})=>{a.current=e.users?[...a.current,...e.users]:a.current,n(e)}),[n]),c=(0,r.useCallback)((({data:e})=>{s.current=e.users?[...s.current,...e.users]:s.current,n(e)}),[n]),l=(0,r.useCallback)((({data:a})=>{e&&(e?.queueOnlyMode!==a?.queueOnlyMode&&(!1===a?.queueOnlyMode?t(e.isSessionOwner?m.Ru.get("web-player.social-connect.toast.queue-only-mode.host.disabled"):m.Ru.get("web-player.social-connect.toast.queue-only-mode.guest.disabled")):!0===a?.queueOnlyMode&&t(e.isSessionOwner?m.Ru.get("web-player.social-connect.toast.queue-only-mode.host.enabled"):m.Ru.get("web-player.social-connect.toast.queue-only-mode.guest.enabled"))),e?.participantVolumeControl!==a?.participantVolumeControl&&("ENABLED"===a?.participantVolumeControl?t(m.Ru.get("web-player.social-connect.toast.participant-volume-control.enabled")):"DISABLED"===a?.participantVolumeControl&&t(e.isSessionOwner?m.Ru.get("web-player.social-connect.toast.participant-volume-control.host.disabled"):m.Ru.get("web-player.social-connect.toast.participant-volume-control.guest.disabled"))))}),[e,t]),d=(0,r.useCallback)((({data:e})=>{e===Yd.RG.PERMISSIONS_RESTRICTED_GENERIC&&t(m.Ru.get("web-player.social-connect.toast.queue-only-mode.guest.warning"))}),[t]);(0,Qd.J)(Kd.K.SESSION_ENDED,i),(0,Qd.J)(Kd.K.JOINED,o),(0,Qd.J)(Kd.K.LEFT,c),(0,Qd.J)(Kd.K.UPDATE,l),(0,Qd.J)(Kd.K.SESSION_MESSAGE,d)})(),null),$d=()=>null;var Zd=a(85652),Xd=a(80142),eu=a(46024);const tu=(e,t)=>{switch(e){case eu.EL.SESSION_ENDED:return{title:m.Ru.get("web-player.social-connect.session-ended.title"),description:m.Ru.get("web-player.social-connect.session-ended.sub-title"),confirmText:m.Ru.get("web-player.social-connect.session-ended.confirmation-button"),ubiIdentifier:Xd.gw.SESSION_ENDED};case eu.EL.ERROR:return{title:m.Ru.get("web-player.social-connect.generic-error.title"),description:m.Ru.get("web-player.social-connect.generic-error.sub-title"),confirmText:m.Ru.get("web-player.social-connect.generic-error.confirmation-button"),ubiIdentifier:Xd.gw.ERROR};case eu.EL.END_SESSION:return{title:m.Ru.get("web-player.social-connect.end-session.title"),description:m.Ru.get("web-player.social-connect.end-session.sub-title"),confirmText:m.Ru.get("web-player.social-connect.end-session.confirm"),cancelText:m.Ru.get("web-player.social-connect.end-session.cancel")};case eu.EL.LEAVE_SESSION:return{title:m.Ru.get("web-player.social-connect.leave-session.title"),description:m.Ru.get("web-player.social-connect.leave-session.sub-title"),confirmText:m.Ru.get("web-player.social-connect.leave-session.leave-session-button"),cancelText:m.Ru.get("web-player.social-connect.leave-session.cancel")};case eu.EL.REMOVE_PARTICIPANT:return{title:m.Ru.get("web-player.social-connect.participant-list.remove-guest-dialog",{displayName:t}),description:"",confirmText:m.Ru.get("web-player.social-connect.participant-list.remove-guest"),cancelText:m.Ru.get("web-player.social-connect.participant-list.remove-guest-cancel")};default:return(0,Rl.k)(e),{confirmText:"",description:"",title:""}}};var au=a(83424);var ru=a(40816);const su=({isOpen:e})=>{const t=(0,s.wA)(),{currentSession:a,deleteSession:n}=(0,qd.D)(),{logEndJam:i}=(()=>{const{spec:e,logger:t}=(0,Na.r)(au.Z,{});return{logEndJam:(0,r.useCallback)((()=>{t.logInteraction(e.endButtonFactory().hitStopHostingSocialListeningSession())}),[t,e])}})(),o=(0,wn.vh)(),{title:c,description:l,confirmText:d,cancelText:u}=tu(eu.EL.END_SESSION),m=(0,r.useCallback)((async()=>{i(),await n(),o.send((0,Zd.c)({session_id:a?.sessionId,end_reason:ru.Mm.QUEUE_END_SESSION_BUTTON})),t((0,ae.cQ)())}),[a?.sessionId,n,t,o,i]),g=(0,r.useCallback)((()=>{t((0,ae.cQ)())}),[t]);return(0,j.jsx)(pe.T,{isOpen:e,onClose:g,onConfirm:m,titleText:c,"aria-label":c,descriptionText:l,confirmText:d,confirmLabel:d,cancelText:u})},nu=({isOpen:e,dialogType:t})=>{const a=(0,s.wA)(),{title:n,description:i,confirmText:o,ubiIdentifier:c}=tu(t),{spec:l,logger:d}=(0,Na.r)(Xd.Fh,{data:{identifier:c}}),u=(0,r.useCallback)((()=>{a((0,ae.cQ)())}),[a]);return(0,r.useEffect)((()=>{e&&d.logImpression(l.impression())}),[e,d,l]),(0,j.jsx)(pe.T,{isOpen:e,onClose:u,onConfirm:u,titleText:n,"aria-label":n,descriptionText:i,confirmText:o,confirmLabel:o})};var iu=a(86667);const ou=({isOpen:e})=>{const t=(0,s.wA)(),{currentSession:a,leaveSession:n}=(0,qd.D)(),{logLeaveJam:i}=(()=>{const{spec:e,logger:t}=(0,Na.r)(iu.Q,{});return{logLeaveJam:(0,r.useCallback)((()=>{t.logInteraction(e.leaveButtonFactory().hitLeaveSocialListeningSession())}),[t,e])}})(),o=(0,wn.vh)(),{title:c,description:l,confirmText:d,cancelText:u}=tu(eu.EL.LEAVE_SESSION),m=(0,r.useCallback)((async()=>{i(),await n(),o.send((0,Zd.c)({session_id:a?.sessionId,end_reason:ru.Mm.QUEUE_LEAVE_SESSION_BUTTON})),t((0,ae.cQ)())}),[a?.sessionId,t,o,n,i]),g=(0,r.useCallback)((()=>{t((0,ae.cQ)())}),[t]);return(0,j.jsx)(pe.T,{isOpen:e,onClose:g,onConfirm:m,titleText:c,"aria-label":c,descriptionText:l,confirmText:d,confirmLabel:d,cancelText:u})};var cu=a(18850);const lu=({isOpen:e})=>{const t=(0,s.wA)(),{logRemoveClick:a}=(()=>{const{spec:e,logger:t}=(0,Na.r)(cu.T,{});return{logRemoveClick:(0,r.useCallback)(((a,r)=>{t.logInteraction(e.buttonRowFactory().removeButtonFactory().hitRemoveParticipant({participantId:a,sessionId:r}))}),[t,e])}})(),{currentSession:n,removeSessionMember:i}=(0,qd.D)(),{memberToRemove:o}=(0,s.d4)((e=>e.ui.jamModalState)),c=o?.id??"",l=o?.displayName??"",d=n?.sessionId??"",{title:u,description:m,confirmText:g,cancelText:p}=tu(eu.EL.REMOVE_PARTICIPANT,l),h=(0,r.useCallback)((()=>{a(c,d),c&&(i(c),t((0,ae.cQ)()))}),[a,c,d,i,t]),b=(0,r.useCallback)((()=>{t((0,ae.cQ)())}),[t]);return(0,j.jsx)(pe.T,{isOpen:e,onClose:b,onConfirm:h,titleText:u,"aria-label":u,descriptionText:m,confirmText:g,confirmLabel:g,cancelText:p})},du=({isOpen:e,dialogType:t})=>{switch(t){case eu.EL.LEAVE_SESSION:return(0,j.jsx)(ou,{isOpen:e});case eu.EL.END_SESSION:return(0,j.jsx)(su,{isOpen:e});case eu.EL.REMOVE_PARTICIPANT:return(0,j.jsx)(lu,{isOpen:e});case eu.EL.SESSION_ENDED:case eu.EL.ERROR:return(0,j.jsx)(nu,{isOpen:e,dialogType:t});default:return null}};var uu=a(5156);const mu=({size:e=60,className:t})=>(0,j.jsx)("img",{className:t,src:(0,Di.bj)("images/group-session-logo.svg"),height:e,width:e,alt:m.Ru.get("web-player.social-connect.group-session-logo-alt")}),gu="jav_0ddRdU3yOojQAq8w",pu="ldkgyfJfn34VlQ2thtaB",hu="cHxs16ZqqJIr8OAcIG1h",bu="tIfl33R3uqA7AyIa0OHf",fu="OEOcqiDA2mrxdAcZOXdj",yu=({imageElement:e,title:t,subtitle:a,confirmButtonText:r,confirmButtonIcon:s,onConfirm:n,cancelButtonText:i,onCancel:o,disabled:c,footerText:d})=>(0,j.jsxs)("div",{className:gu,children:[e,(0,j.jsxs)("div",{className:pu,children:["string"==typeof t?(0,j.jsx)(l.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",className:hu,children:t}):t,"string"==typeof a?(0,j.jsx)(l.E,{variant:"bodyMedium",semanticColor:"textBase",children:a}):a]}),(0,j.jsxs)("div",{className:bu,children:[(0,j.jsx)(u.$,{onClick:n,disabled:c,iconTrailing:s,"data-testid":"jam-modal-confirm-button",children:r}),i&&(0,j.jsx)(w.H,{semanticColor:"textSubdued",onClick:o,disabled:c,children:i})]}),d&&(0,j.jsx)("div",{className:fu,children:(0,j.jsx)(l.E,{variant:"marginal",semanticColor:"textSubdued",children:d})})]});var xu=a(91135),Ru=a(50741),Eu=a(97926);const vu=({setContentLabel:e})=>{const{createSession:t,currentSession:a,deleteSession:n}=(0,qd.D)(),i=(0,Eu.k)(),o=(0,Bd.g)(),c=(0,s.wA)(),l=(0,wn.vh)(),d=(0,xu.Z)(),u=(0,r.useCallback)((async()=>{await t()}),[t]);(0,r.useEffect)((()=>{u()}),[u]);const g=(0,Ru.c)(),p=(0,r.useCallback)((async()=>{if(!o){const e=await t();if(!e?.joinSessionUri)return;l.send((0,uu.q)({session_id:e.sessionId,device_type:g.deviceType,tech_type:g.techType,session_uri:e.joinSessionUri,session_type:ru.dF.REMOTE}))}i?.joinSessionShortLink&&d(i?.joinSessionShortLink),c((0,ae.cQ)())}),[o,i?.joinSessionShortLink,c,t,l,g.deviceType,g.techType,d]),h=(0,r.useCallback)((async()=>{if(a){await n()&&l.send((0,Zd.c)({session_id:a.sessionId,end_reason:ru.Mm.INVITATION_MODAL_CANCEL_BUTTON}))}c((0,ae.cQ)())}),[a,n,c,l]),b=m.Ru.get("web-player.social-connect.invitation-modal.title");return(0,r.useEffect)((()=>{e(b)}),[b,e]),(0,j.jsx)(yu,{imageElement:(0,j.jsx)(mu,{}),title:b,subtitle:m.Ru.get("web-player.social-connect.invitation-modal.subtitle"),confirmButtonText:m.Ru.get("web-player.social-connect.invitation-modal.button-primary"),onConfirm:p,cancelButtonText:m.Ru.get("web-player.social-connect.invitation-modal.button-tertiary"),onCancel:h})};var ku=a(95359),ju=a(22140),Su=a(97351),Cu=a(11823),wu=a(40765),Nu=a(14145),_u=a(34664),Ou=a(69937);function Iu(){const{isLocalDevice:e,deviceName:t}=(0,Ou.v)((({activeDevice:e})=>({isLocalDevice:e?.isLocal??!0,deviceName:e?.name??""})),((e,t)=>e.deviceName===t.deviceName&&e.isLocalDevice===t.isLocalDevice));return function(e,t){return e?m.Ru.get("web-player.social-connect.join-modal.device-name.this-computer"):t}(e,t)}var Au=a(5498),Tu=a(57230);const Lu="ZKSGhtcDgnOWkcSVee3k",Du="H3UvfEgDtYPH0EL3aLwZ",Pu="LPVfHXRjItuJaNEQdlTT",Uu="DD2yyz7nKDIMIXhFOAkl",Mu="NQtJIrT4cCneGvSC152a",Bu="xIKQXbFbxYFpBJfoOTFw",Fu="Bs13fjYCTb2TKzoO13sA",Gu="N6Pa7PkejWH5KojTMbfU",Wu="Uz7GyGSJMC1Cz7Cz0G6t",zu="hN61FwfX0b6x78GshoG3",Vu="NNFeYiBvoDQFKQGqt_qE",Hu="b_5KH6jkIhAV2xk50S8c",Ku=()=>(0,j.jsxs)("div",{className:zu,children:[(0,j.jsx)(Su.D,{size:"xsmall",semanticColor:"textBase"}),(0,j.jsx)(l.E,{variant:"marginalBold",semanticColor:"textBase",children:m.Ru.get("navbar.premium")})]}),qu=({value:e,icon:t,title:a,subtitle:s,selected:n,onSelect:i,formWidth:o,setFormWidth:c})=>{const d=(0,r.useRef)(null);return(0,r.useLayoutEffect)((()=>{if(d.current){const e=d.current.getBoundingClientRect().width;e>o&&c(Math.min(490,e+96+8))}}),[o,c]),(0,j.jsxs)("div",{className:Mu,children:[(0,j.jsxs)("label",{className:Bu,htmlFor:e,children:[t,(0,j.jsxs)("div",{className:Fu,style:{"--device-form-label-width":o-96+8+"px"},ref:d,children:[(0,j.jsx)(l.E,{variant:n?"bodyMediumBold":"bodyMedium",semanticColor:n?"textBrightAccent":"textBase",className:Wu,children:a}),(0,j.jsx)(l.E,{variant:"bodySmall",semanticColor:n?"textBrightAccent":"textSubdued",className:Wu,children:s})]})]}),(0,j.jsx)(Cu.M,{value:e,id:e,"data-testid":e,className:Gu,name:"session-type-radio",checked:n,onChange:()=>{i(e)}})]})},Qu=({sessionType:e,setSessionType:t,hostName:a})=>{const s=Iu(),n=(0,Ou.v)((({activeDevice:e})=>e?.type??Tu.bq.COMPUTER)),i=(0,_u.tf)(n),o=(0,Au.l)(),[c,l]=(0,r.useState)(0);return(0,j.jsxs)(wu.g,{className:Uu,style:{"--device-form-width":`${c}px`},children:[(0,j.jsx)(qu,{value:ru.dF.REMOTE,icon:(0,j.jsx)(i,{semanticColor:e===ru.dF.REMOTE?"textBrightAccent":"textBase"}),title:m.Ru.get("web-player.social-connect.join-modal.continue-on-this-device",{device:s}),subtitle:m.Ru.get("web-player.social-connect.join-modal.continue-on-this-device-subtitle"),onSelect:t,selected:e===ru.dF.REMOTE,formWidth:c,setFormWidth:l}),o&&(0,j.jsx)(Ku,{}),(0,j.jsx)(qu,{value:ru.dF.IN_PERSON,icon:(0,j.jsx)(Nu.H,{semanticColor:e===ru.dF.IN_PERSON?"textBrightAccent":"textBase"}),title:m.Ru.get("web-player.social-connect.join-modal.play-from-host-speaker",{host:a}),subtitle:m.Ru.get("web-player.social-connect.join-modal.play-from-host-speaker-subtitle"),onSelect:t,selected:e===ru.dF.IN_PERSON,formWidth:c,setFormWidth:l})]})},Yu=({deviceName:e,deviceType:t,isGroup:a,isNearbyJam:r})=>{const s=(0,_u.tf)(t,a);return(0,j.jsxs)(l.E,{variant:"bodyMediumBold",as:"div",className:o()(Hu,Vu),semanticColor:r?"textBase":"textBrightAccent",children:[(0,j.jsx)(s,{}),(0,j.jsx)("span",{className:Vu,children:m.Ru.get("web-player.social-connect.broadcasting.join-listening-session-modal.subtitle",{deviceName:e})})]})};var Ju=a(35147);const $u="V8Nnr6rCPzkQv7MCvvKM",Zu="A8jOuTXM1E0dlFYJlV39",Xu="D0L83_9SDaOFBzZT8EKO",em=()=>(0,j.jsx)("div",{className:gu,children:(0,j.jsxs)("div",{className:$u,children:[(0,j.jsx)(Ju.Y,{as:"h3",variant:"titleSmall",className:Xu,charCount:16,isLoading:!0}),[[20,50,25],[40,28,35]].map(((e,t)=>(0,j.jsx)("div",{className:Zu,children:e.map(((e,t)=>(0,j.jsx)(Ju.Y,{as:"div",variant:"bodySmall",className:Xu,charCount:e,isLoading:!0},`${e}-${t}`)))},`skeleton-section-${t}`)))]})});var tm=a(60961),am=a(78475),rm=a(38132);var sm=a(90926),nm=function(e){return e.NONE="NONE",e.JOINING="JOINING",e.JOINED="JOINED",e.FAILED="FAILED",e}(nm||{});const im=({modalType:e,joinToken:t,jamDeviceInfo:a,setContentLabel:n})=>{const i=(0,s.wA)(),{getSessionInfo:o,joinSession:c}=(0,qd.D)(),{openURLWithSessionTransfer:d}=(0,Sa.L)(),u=(0,Ci.D)(),{logJoin:g,logUpgradeToPremium:p,logCancel:h,logTakeOverSpeaker:b}=(()=>{const{spec:e,logger:t}=(0,Na.r)(rm.U,{});return{logJoin:(0,r.useCallback)((()=>{const a=e.joinButtonFactory().hitJoinSocialListeningSession();t.logInteraction(a)}),[t,e]),logUpgradeToPremium:(0,r.useCallback)(((a,r)=>{let s;s=a?e.upsellButtonFactory().hitNavigateToExternalUri({destination:r}):e.upsellButtonFactory().hitUiNavigate({destination:r}),t.logInteraction(s)}),[t,e]),logCancel:(0,r.useCallback)((()=>{const a=e.cancelButtonFactory().hitUiHide();t.logInteraction(a)}),[t,e]),logTakeOverSpeaker:(0,r.useCallback)((a=>{const r=e.takeOverSpeakerButtonFactory().hitConnectToRemoteDevice({remoteDeviceId:a});t.logInteraction(r)}),[t,e])}})(),f=(0,wn.vh)(),[y,x]=(0,r.useState)(null);let R;switch(e){case eu.EL.JOIN_LISTENING_SESSION:case eu.EL.JOIN_NEARBY_JAM:R=ru.dF.IN_PERSON;break;default:R=ru.dF.REMOTE}const[E,v]=(0,r.useState)(R),k=(0,am.C)(),S=k===sm.lz.FREE&&E===ru.dF.REMOTE;let C,w;switch(e){case eu.EL.JOIN_NEARBY_JAM:C=sm.JO.DISCOVERED_DEVICE,w="bluetooth";break;case eu.EL.JOIN_LISTENING_SESSION:C=sm.JO.DISCOVERED_DEVICE,w="broadcast";break;default:C=sm.JO.DEEPLINKING,w="user"}(0,r.useEffect)((()=>{o(t).then((e=>{if(e){x(e);const t=e.sessionMembers.find((t=>t.id===e.sessionOwnerId));n(m.Ru.get("web-player.social-connect.join-modal.title",{host:t?.displayName??""}))}else i((0,ae.A9)(eu.EL.SESSION_ENDED))}))}),[i,o,t,n]);const[N,_]=(0,r.useState)(nm.NONE),O=(0,r.useCallback)((async()=>{_(nm.JOINING),g();try{const e=await c(t,C,E);e&&(_(nm.JOINED),f.send((0,ku.X)({session_id:y?.sessionId,join_type:C,join_url:e.joinSessionUri,participation_mode:E,discovery_methods:[w]})),k!==sm.lz.FREE&&i((0,ae.cQ)()))}catch(e){_(nm.FAILED),e instanceof Error&&f.send((0,ku.X)({session_id:y?.sessionId,error_category:e.name,error_data:e.message,discovery_methods:[w]})),i((0,ae.A9)(eu.EL.ERROR))}}),[w,i,f,k,c,t,C,g,y?.sessionId,E]),I=(0,he.g)(),A=(0,us.k)(!0),T=(0,r.useMemo)((()=>{const e=new URL(A.url);return e.searchParams.set("ref","jam"),e}),[A.url]),L=(0,r.useCallback)((()=>{let e;!1===A.isExternal?I(T.href):(e=T.href,d(e)),p(A.isExternal,T.href),i((0,ae.cQ)())}),[i,I,d,p,A.isExternal,T]),D=(0,r.useCallback)((()=>{e===eu.EL.JOIN_LISTENING_SESSION&&a?(u.transferPlayback(a.id,{interactionId:""}),b(a.id)):h(),i((0,ae.cQ)())}),[a,u,i,h,b,e]);if(!y)return(0,j.jsx)(em,{});const P=y.sessionMembers.find((e=>e.id===y.sessionOwnerId)),U=y.sessionMembers.map(tm.c);if(N===nm.JOINED&&k===sm.lz.FREE)return(0,j.jsx)(yu,{imageElement:(0,j.jsx)(ju.g,{users:U,size:"xlarge",maxSlots:3}),title:(0,j.jsx)(l.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",className:Lu,children:m.Ru.get("web-player.social-connect.join-modal.success.title",{host:(0,j.jsx)("span",{className:Du,children:P?.displayName??""})})}),subtitle:(0,j.jsx)(l.E,{variant:"bodySmall",semanticColor:"textSubdued",className:Pu,children:m.Ru.get("web-player.social-connect.join-modal.success.subtitle")}),confirmButtonText:m.Ru.get("web-player.social-connect.generic-error.confirmation-button"),onConfirm:()=>{i((0,ae.cQ)())}});const M=e===eu.EL.JOIN_LISTENING_SESSION?m.Ru.get("web-player.social-connect.broadcasting.join-listening-session-modal.button-tertiary"):m.Ru.get("web-player.social-connect.join-modal.button-tertiary");let B;switch(e){case eu.EL.JOIN_LISTENING_SESSION:B=(0,j.jsx)(Yu,{deviceName:a?.name??"",deviceType:Tu.bq.SPEAKER,isGroup:a?.isGroup??!1});break;case eu.EL.JOIN_NEARBY_JAM:B=(0,j.jsx)(Yu,{deviceName:a.name,deviceType:a.type,isGroup:a.isGroup,isNearbyJam:!0});break;default:B=(0,j.jsx)(Qu,{sessionType:E,setSessionType:v,hostName:P?.displayName??""})}return(0,j.jsx)(yu,{imageElement:(0,j.jsx)(ju.g,{users:U,size:"xlarge",maxSlots:3}),title:(0,j.jsx)(l.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",className:Lu,children:m.Ru.get("web-player.social-connect.join-modal.title",{host:(0,j.jsx)("span",{className:Du,children:P?.displayName??""})})}),subtitle:B,confirmButtonText:S?m.Ru.get("web-player.social-connect.premium-upsell.confirmation-button"):m.Ru.get("web-player.social-connect.join-modal.button-primary"),confirmButtonIcon:S?Hn.H:void 0,onConfirm:S?L:O,cancelButtonText:M,onCancel:D,disabled:N===nm.JOINING,footerText:m.Ru.get("web-player.social-connect.join-modal.privacy-notice")})};var om=a(82746);const cm=({joinToken:e})=>{const t=(0,s.wA)(),{logGetAppClick:a}=(()=>{const{spec:e,logger:t}=(0,Na.r)(om.e,{});return{logGetAppClick:(0,r.useCallback)((()=>{const a=e.downloadButtonFactory().hitNavigateToExternalUri({destination:(0,Ki.rw)().href});t.logInteraction(a)}),[t,e])}})(),{getSessionInfo:n}=(0,qd.D)(),[i,o]=(0,r.useState)(null),[c,d]=(0,r.useState)([]);(0,r.useEffect)((()=>{n(e).then((e=>{if(e){const t=e?.sessionOwnerId,a=e?.sessionMembers.find((e=>e.id===t)),r=e?.sessionMembers.map(tm.c)??[];if(d(r),!a)return;o(a.displayName)}else t((0,ae.A9)(eu.EL.SESSION_ENDED))}))}),[n,e,t]);const u=(0,r.useCallback)((()=>{t((0,ae.cQ)())}),[t]),g=(0,r.useCallback)((()=>{a();const r=(0,ge.MZA)(e);window.open((0,Ki.rw)(r).href),t((0,ae.cQ)())}),[t,e,a]);return(0,j.jsx)(yu,{imageElement:(0,j.jsx)(ju.g,{users:c,size:"xlarge",maxSlots:3}),title:(0,j.jsx)(l.E,{as:"h3",variant:"titleMedium",semanticColor:"textBase",children:m.Ru.get("web-player.social-connect.redirect-modal.title",{host:i??""})}),subtitle:m.Ru.get("web-player.social-connect.redirect-modal.sub-title"),confirmButtonText:m.Ru.get("web-player.social-connect.redirect-modal.confirmation-button"),onConfirm:g,cancelButtonText:m.Ru.get("web-player.social-connect.redirect-modal.cancel-button"),onCancel:u})},lm=()=>{const e=(0,s.wA)(),{isOpen:t,modalType:a,joinToken:n,jamDeviceInfo:i}=(0,s.d4)((e=>e.ui.jamModalState)),[o,c]=(0,r.useState)(null),[l,d]=(0,r.useState)(void 0);return(0,r.useEffect)((()=>{switch(d(void 0),a){case eu.EL.INVITE:c((0,j.jsx)(vu,{setContentLabel:d}));break;case eu.EL.JOIN:if(!n)throw new Error("trying to open JoinModal without providing a joinToken!");c((0,j.jsx)(im,{modalType:eu.EL.JOIN,joinToken:n,setContentLabel:d}));break;case eu.EL.JOIN_LISTENING_SESSION:if(!n||!i)throw new Error("trying to open JoinModal without providing a joinToken and jamDeviceInfo!");c((0,j.jsx)(im,{modalType:eu.EL.JOIN_LISTENING_SESSION,joinToken:n,jamDeviceInfo:i,setContentLabel:d}));break;case eu.EL.JOIN_NEARBY_JAM:if(!n||!i)throw new Error("trying to open JoinModal for a nearby jam without providing a joinToken and jamDeviceInfo!");c((0,j.jsx)(im,{modalType:eu.EL.JOIN_NEARBY_JAM,joinToken:n,jamDeviceInfo:i,setContentLabel:d}));break;case eu.EL.REDIRECT:if(!n)throw new Error("trying to open RedirectModal without providing a joinToken!");c((0,j.jsx)(cm,{joinToken:n}));break;case eu.EL.LEAVE_SESSION:case eu.EL.END_SESSION:case eu.EL.REMOVE_PARTICIPANT:case eu.EL.SESSION_ENDED:case eu.EL.ERROR:c((0,j.jsx)(du,{isOpen:t,dialogType:a}));break;default:c(null)}}),[t,a,n,i]),a?(e=>e===eu.EL.LEAVE_SESSION||e===eu.EL.END_SESSION||e===eu.EL.REMOVE_PARTICIPANT||e===eu.EL.SESSION_ENDED||e===eu.EL.ERROR)(a)?o:(0,j.jsx)(Za.A,{isOpen:t,onRequestClose:()=>e((0,ae.cQ)()),shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,animated:!0,contentLabel:l,children:o}):null},dm=(0,r.lazy)((async()=>{const{DeleteCommentDialog:e}=await Promise.all([a.e(1392),a.e(4483)]).then(a.bind(a,89937));return{default:e}}));var um=a(69390),mm=a(96102);function gm(e,t){if(e){const a=(0,ge.o_h)(e,{parseUnknown:!0});if(a){t(a.toURLPath(!0))}else{const t=document.createElement("a");t.href=e,t.target="_blank",t.click()}}}var pm=a(18423),hm=a(88736);function bm(e,t,a,r){if(e&&""===e.innerHTML){const s=function(e,t,a){const r=(0,pm.kp)();if(r){const s=r.createIframe(e,a);return s.setAttribute("data-testid","inAppMessageIframe"),s.style.borderRadius="5px",s.style.margin="auto",s.style.opacity="0",s.style.transition="opacity 150ms linear",s.addEventListener("load",(()=>{const{contentWindow:e,contentDocument:a}=s;e&&function(e){e&&e.focus()}(e),a&&(hm.M.setup(a),function(e,t){const a=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),r=a[0],s=a[a.length-1];e.addEventListener("keydown",(e=>{"Tab"===e.key&&e.target===s&&(e.preventDefault(),r.focus()),e.shiftKey&&"Tab"===e.key&&s.focus(),"Escape"!==e.key&&27!==e.keyCode||t()}),!0)}(a,t)),s.style.opacity="1"})),s}return null}(t,a,r);s&&e.appendChild(s)}}function fm(e,t){const a=(0,s.wA)(),n=(0,he.g)(),i=(0,r.useCallback)((()=>{a((0,mm.yv)())}),[a]);(0,r.useEffect)((()=>{const a=t.current;return bm(a,e,i,((e,t)=>a=>{switch(a.action){case"DISMISS":default:return void e();case"URL":{const{url:r=""}=a;return gm(r,t),void e()}case"EXTERNAL_URL":{const{url:e=""}=a;return void gm(e,t)}}})(i,n)),()=>{!function(e){e&&(e.innerHTML="")}(a)}}),[e,i,a,t,n])}function ym({message:e}){const t=(0,r.useRef)(null);return fm(e,t),(0,j.jsx)("div",{"data-testid":"inAppMessageContainer",ref:t})}function xm(){return(0,j.jsx)(r.Suspense,{fallback:null,children:(0,j.jsx)(Rm,{})})}function Rm(){const e=(0,n.NC)(h.e6f),{message:t,dismissMessage:a}=function(){const e=(0,s.wA)();return{message:(0,s.d4)((e=>e.inAppMessaging?.message)),dismissMessage:(0,r.useCallback)((()=>{e((0,mm.yv)())}),[e])}}(),i=!!t&&t.format===pm.m0;return e?(0,j.jsx)(Za.A,{animated:!0,contentLabel:"In-App Message Modal",isOpen:i,onRequestClose:a,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!1,children:i&&!!t&&(0,j.jsx)(ym,{message:t})}):null}var Em=a(75519);const vm=(0,r.lazy)((async()=>{const{DsaModal:e}=await a.e(3633).then(a.bind(a,43633));return{default:e}})),km=(0,r.lazy)((async()=>{const{YourSoundCapsuleModal:e}=await a.e(4574).then(a.bind(a,31643));return{default:e}})),jm=r.memo((({isDesktop:e})=>{const t=(0,n.NC)(h.J1t,{loadingValue:!1}),a=(0,n.NC)(h.yFD,{loadingValue:!1}),i=(0,r.useRef)(null),o=(0,r.useRef)(null),c=(0,s.d4)((e=>e.ui.deletePlaylistDialog)),l=(0,s.d4)((e=>e.ui.deleteFolderDialog)),d=(0,s.d4)((e=>e.ui.removeFromLibraryDialog)),u=(0,s.d4)((e=>e.ui.premiumDialog)),m=(0,s.d4)((e=>e.ui.improvedSignupPromptDialog)),g=(0,s.d4)((e=>e.ui.removeDownloadsDialog)),p=(0,s.d4)((e=>e.ui.clearCacheDialog)),b=(0,s.d4)((e=>e.ui.renameFolderModal)),f=(0,s.d4)((e=>e.ui.removeDownloadConfirmationDialog)),y=(0,s.d4)((e=>e.ui.artistAboutDialog)),x=(0,s.d4)((e=>e.ui.authorAboutDialog.isOpen)),R=(0,s.d4)((e=>e.ui.yourDJUpsellDialog)),E=(0,s.d4)((e=>e.ui.dsaDialog)),v=(0,s.d4)((e=>e.ui.trackCreditsModal)),k=(0,s.d4)((e=>e.ui.snakeGameModal)),C=(0,s.d4)((e=>e.ui.restrictionsModalState)),w=(0,s.d4)(Em.fl),N=(0,s.d4)(Em.ml),_=(0,io.JY)();return(0,j.jsxs)(j.Fragment,{children:[c.isOpen&&(0,j.jsx)(Se,{}),l.isOpen&&(0,j.jsx)(fe,{}),d.isOpen&&(0,j.jsx)(vs,{}),u.isOpen&&(0,j.jsx)(xs,{}),m.isOpen&&(0,j.jsx)(Xi,{uri:m.uri}),g.isOpen&&(0,j.jsx)(Rd,{}),p.isOpen&&(0,j.jsx)(Ed,{}),b.isOpen&&(0,j.jsx)(Os,{name:b.name,onRename:b.handleRename}),f.isOpen&&(0,j.jsx)($o,{...f}),y.isOpen&&(0,j.jsx)(lo,{}),x&&(0,j.jsx)(wo,{}),_&&(0,j.jsx)(no,{}),R.isOpen&&(0,j.jsx)(um.tW,{}),(0,j.jsx)(lm,{}),C.isOpen&&(0,j.jsx)(r.Suspense,{fallback:null,children:(0,j.jsx)(Fs,{})}),(0,j.jsx)(Cd,{}),(0,j.jsx)(Qa,{}),(0,j.jsx)(Ka,{}),(0,j.jsx)(md,{}),(0,j.jsx)(Ro,{}),E.isOpen&&E.item&&(0,j.jsx)(r.Suspense,{fallback:null,children:(0,j.jsx)(vm,{item:E.item})}),(0,j.jsx)(fn,{}),(0,j.jsx)(ki,{}),(0,j.jsx)(r.Suspense,{fallback:null,children:(0,j.jsx)(ls,{})}),(0,j.jsx)(r.Suspense,{fallback:null,children:(0,j.jsx)(Uc,{})}),(0,j.jsx)(ga,{}),(0,j.jsx)(Be,{}),(0,j.jsx)(Pa,{}),(0,j.jsx)(ue,{}),e&&(0,j.jsx)(Oe,{}),(0,j.jsx)(S,{}),(0,j.jsx)(nc.A,{languageSelectionModalRef:i}),(0,j.jsx)(Ho,{countrySelectionModalRef:o}),(0,j.jsx)(xm,{}),(0,j.jsx)(Li,{}),(0,j.jsx)(Oi,{}),(0,j.jsx)(ee,{}),(0,j.jsx)(sc,{}),(0,j.jsx)(Yo,{}),(0,j.jsx)(zs,{}),(0,j.jsx)(ld,{}),(0,j.jsx)(_a,{}),(0,j.jsx)(Jd,{}),w&&!e&&(0,j.jsx)(r.Suspense,{fallback:null,children:(0,j.jsx)(km,{})}),v.isOpen&&(a?(0,j.jsx)(di,{}):(0,j.jsx)(Wn,{})),(0,j.jsx)("div",{ref:i}),(0,j.jsx)("div",{ref:o}),N&&t&&(0,j.jsx)(wi,{}),(0,j.jsx)(pa,{}),(0,j.jsx)(dm,{}),k.isOpen&&$d&&(0,j.jsx)($d,{})]})}))},22140:(e,t,a)=>{a.d(t,{g:()=>p});a(77369);var r=a(30758),s=a(97500),n=a.n(s),i=a(78717),o=a(70397),c=a(50375);const l="w0kwPDoelauN3C9dVoVe",d="xzLZD9uD3b4u9wecXAJY",u="DaFhhSm73r7rNpomErhI";var m=a(86070);const g=({children:e})=>(0,m.jsx)(m.Fragment,{children:e}),p=(0,r.forwardRef)((function({users:e,maxSlots:t=3,size:a,withoutOverflowBadge:r=!1,dropShadow:s=!1,AvatarWrapper:p=g},h){const b=Math.max(2,t),f=e.length>b?e.length-b+1:0,y=e.slice(0,b),{userIconSize:x,width:R,smallFontSize:E,largeFontSize:v}=(e=>{switch(e){case"xxlarge":return{userIconSize:"xlarge",width:64,smallFontSize:24,largeFontSize:32};case"xlarge":return{userIconSize:"large",width:48,smallFontSize:18,largeFontSize:24};case"large":return{userIconSize:"medium",width:32,smallFontSize:12,largeFontSize:16};case"medium":default:return{userIconSize:"small",width:24,smallFontSize:9,largeFontSize:12};case"small":return{userIconSize:"xsmall",width:18,smallFontSize:8,largeFontSize:10}}})(a),k=f>9?E:v,j=(0,m.jsx)("span",{className:n()(d,"encore-inverted-light-set"),style:{width:R,height:R},role:"presentation",children:(0,m.jsx)(i.E,{variant:"bodySmallBold",style:{fontSize:k},semanticColor:"textBase",children:`+${f}`})});return(0,m.jsx)("div",{className:n()(l),ref:h,children:y.map(((e,t)=>!r&&f>0&&t===b-1?(0,m.jsx)(p,{index:t,children:(0,m.jsx)(c.e,{images:[],userIconSize:x,label:o.Ru.get("web-player.social-connect.facepile.and-others",f),width:R,piled:!0,customPlaceholder:j})},"others"):(0,m.jsx)(p,{index:t,user:e,children:(0,m.jsx)(c.e,{images:e.images,userIconSize:x,label:e.displayName,displayName:e.displayName,username:e.username,width:R,piled:t>0,imageClassName:s?u:void 0})},e.displayName)))})}))},28388:(e,t,a)=>{a.d(t,{d:()=>_});var r=a(30758);function s(){return"webkitRequestAnimationFrame"in window}function n(){return!!window?.CSS?.supports}function i(){return!n()||CSS.supports("-webkit-border-vertical-spacing","0")}function o(){return Math.hypot(-24.42,-50.519999999999925)}function c(){return eval.toString().length}var l=a(9856),d=a.n(l);function u(){return"Chrome"===d().parse(window.navigator.userAgent).browser.name}function m(){return"Firefox"===d().parse(window.navigator.userAgent).browser.name}var g=a(15581),p=a(74846);function h(){return 37===c()&&56.11244781686139===o()&&(!n()||CSS.supports("-moz-box-sizing","content-box"))&&"mozInnerScreenX"in window}function b(){return!(u()&&!(window.chrome&&33===c()&&56.1124478168614===o()&&i()&&s()))&&(!(m()&&!h())&&(!!(!(0,p.n)()||37===c()&&56.1124478168614===o()&&i()&&s())&&!!(!(0,g.k)()||33===c()&&56.1124478168614===o()&&i()&&s())))}function f(){const{userAgent:e,appVersion:t}=window.navigator,a=t??"";return/headless/i.test(e)||/headless/i.test(a)}async function y(){return navigator.webdriver||f()||function(){const e=Object.keys(document);for(const t of e)if(t.startsWith("$cdc_"))return!0;return!1}()||""===navigator.languages||!(!navigator.plugins||navigator.plugins.length)||await async function(){if(!("permissions"in navigator))return!1;const e=await navigator.permissions.query({name:"notifications"});return"denied"===window?.Notification?.permission&&"prompt"===e.state}()}var x=a(24944),R=a(90833);function E(){return(0,x.D)()===R.f.ChromeOS}function v(){if(!("platform"in navigator))return!0;if(E())return!0;const{platform:e}=navigator,t=function(e){const[t=""]=e.split(" ");return{MacIntel:"macOS",Win32:"Windows",Win64:"Windows",Linux:"Linux"}[t]??""}(e);if(!t)return!0;const{os:a}=d().parse(navigator.userAgent);return t===a.name}let k,j=function(e){return e.Ok="0",e.Warning="1",e.Error="2",e}({});const S=async()=>(k=k??await async function(){return{headless:await y()?j.Error:j.Ok,browser:b()?j.Ok:j.Error,os:v()?j.Ok:j.Error}}(),k);const C=async()=>{if(navigator.webdriver)return!1;if(f())return!1;if(u()&&!await async function(){if(!window.chrome)return!1;if(!navigator.plugins?.length)return!1;if(""===navigator.languages)return!1;if(33!==c())return!1;const e=await navigator.permissions.query({name:"notifications"});return"denied"!==window?.Notification?.permission||"prompt"!==e.state}())return!1;if(m()&&37!==c())return!1;if((0,p.n)()&&37!==c())return!1;if((0,g.k)()&&33!==c())return!1;const{userAgent:e}=navigator;if(!function(e,t){if(!("platform"in t))return!0;if(E())return!0;const{platform:a}=t,r=function(e){const[t=""]=e.split(" ");return{MacIntel:"macOS",Win32:"Windows",Win64:"Windows",Linux:"Linux"}[t]??""}(a);if(!r)return!0;const{os:s}=d().parse(e);return r===s.name}(e,navigator))return!1;const t=Object.keys(document);for(const e of t)if(e.startsWith("$cdc_"))return!1;return!0};let w;const N=async()=>(w=w??await C(),w);function _(){const e=(0,r.useRef)(void 0),t=(0,r.useRef)(!1),a=(0,r.useRef)(!1),s=(0,r.useRef)({}),n=(0,r.useCallback)((async r=>{s.current=await S(),r?await N()&&r.isTrusted?"click"!==r.type?e.current=!0:a.current?e.current=t.current:e.current=!0:e.current=!1:e.current=await N()}),[]);return(0,r.useEffect)((()=>{function e(){t.current=!0}function r(e){a.current="mouse"===e.pointerType}return document.addEventListener("mousemove",e),document.addEventListener("pointerdown",r),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("pointerdown",r)}}),[]),{isTrustedRef:e,isTrustedFn:n,metadataRef:s}}},36725:(e,t,a)=>{a.d(t,{Q:()=>n,s:()=>i});var r=a(98108),s=a(55827);function n(e){return e.build().withHost(s.D8).withPath("/verifications/").withEndpointIdentifier("/verifications/").send()}function i(e,t){return e.build().withMethod(r.Method.PUT).withHost(s.D8).withPath(`/verifications/${t}/`).withEndpointIdentifier("/verifications/{verificationId}/").send()}},42129:(e,t,a)=>{a.d(t,{a:()=>r});let r=function(e){return e.AUDIO_QUALITY_STEAMING="audio_quality_streaming",e.AUDIO_QUALITY_STEAMING_REMOTE="audio_quality_streaming_remote",e.DSA="dsa",e.PUBLISH_LISTENING_ACTIVITY="publish_listening_activity",e}({})},56797:(e,t,a)=>{a.d(t,{mb:()=>o,rw:()=>i});a(86328);var r=a(54715),s=a(79187);function n(e,t=!0){const a=new URL("undefined"!=typeof location&&location.href?location.href:"https://open.spotify.com");let n=null;if(e){const r=e.toURL();n=new URL(r),t&&a.searchParams.forEach(((e,t)=>{n.searchParams.set(t,e)}))}else n=a,t||(n.search="");n.searchParams.delete("nd"),n.searchParams.delete("fallback"),n.searchParams.set("go","1");const i=(0,r.x)(s.I4);return"string"==typeof i?.correlationId&&n.searchParams.append("sp_cid",i.correlationId),n}function i(e,t){const a=n(e,t);return a.searchParams.set("fallback","download"),a}function o(){return new URL(`https://www.spotify.com/download${window.location.search}`)}},60961:(e,t,a)=>{a.d(t,{c:()=>n,t:()=>i});a(2557),a(66016);var r=a(18831);const s=e=>({url:e}),n=e=>{const t=[];return e.largeImageUrl?t.push(s(e.largeImageUrl)):e.imageUrl&&t.push(s(e.imageUrl)),{displayName:e.displayName,images:t,username:e.username,uri:(0,r.Qjr)(e.username).toURI()}},i=(e,t,a)=>{const r=[],s=e.sessionMembers.find((({id:t})=>t===e.sessionOwnerId));s&&r.push(s);const i=e.isSessionOwner?void 0:e?.sessionMembers.find((({username:e})=>e===t));i&&(a?.userFirst?r.unshift(i):r.push(i));const o=e.sessionMembers.filter((({username:a,id:r})=>r!==e.sessionOwnerId&&a!==t));return[...r,...o].map(n)}},65007:(e,t,a)=>{a.d(t,{D:()=>n});var r=a(69596),s=a(15679);function n(){return(0,s.N)(r.x)}},65289:(e,t,a)=>{a.d(t,{p:()=>s});var r=a(30758);function s(){const[e,t]=(0,r.useState)(!1);return[e,(0,r.useCallback)((()=>{t(!0),setTimeout((()=>t(!1)),0)}),[t])]}},70850:(e,t,a)=>{a.d(t,{X:()=>u,A:()=>G});var r=a(30758),s=a(62960),n=a(79657),i=a(70397),o=a(41240),c=a(61201);const l="KsnGjjEeMb2miriJrkjW";var d=a(86070);const u=()=>{const e=i.Ru.getLocaleForTranslation(),t=c.IB[e]??c.IB.en,a=(0,o.ZZ)(),u=(0,r.useCallback)((()=>{a({type:"OPEN"})}),[a]);return(0,d.jsx)("div",{className:l,children:(0,d.jsx)(s.n,{iconLeading:n.d,size:"small",onClick:u,"data-testid":"language-selection-button",children:t.displayName})})};a(77369);var m=a(8143),g=a(78717),p=a(81458),h=a(18831),b=a(69878),f=a(96586),y=a(19151),x=a(4015),R=a(57940);const E="ZpqHX3kvsJIsR1QIc4kf",v=({children:e,locale:t,onClick:a,type:r="button"})=>{const s=t===f.Xn,n=(0,R.vf)(window.location.pathname),o=(0,h.o_h)(window.location.pathname),c=(0,b.W)({type:"route",uri:n?y.c.HOME:o?.toURI()}),l={className:E,id:t,onClick:e=>(e=>{if("button"===r){e.preventDefault();const t=new URL(window.location.href);window.location.href.includes("locale")&&t.searchParams.delete("locale"),window.location.href=t.href}a(t)})(e),"data-testid":`language-option-${t}`};if("link"===r){const a=(0,x.ll)(window.location.pathname,!s),r=(0,x.hF)(a,(0,i.a7)(t).baseName),n=c?r:window.location.pathname,o=(e=>e.endsWith("/")?e.slice(0,-1):e)(`${window.location.origin}${n}`);return(0,d.jsx)("a",{href:o,...l,children:e})}return(0,d.jsx)("button",{...l,children:e})},k="eYLSfS4EKfwsdTsItWkY",j=({style:e,children:t})=>(0,d.jsx)("div",{className:k,style:e,children:t});var S=a(97500),C=a.n(S);const w="KPuW9eE4auKgVgMtPZoH",N="zCedVxWmwaJhPIGzJixP",_="qzuG9AHNXHQrOGF06r9A",O="ZgjCz5A7qOyprtvcLK8y",I="BSwvSvqHiQUVuim4Eidv",A="TpluDuF12UKv3IIq_VDu",T=({onClose:e,children:t})=>{const a=(0,r.useRef)(null),{isOpen:s}=(0,o.iL)();return(0,d.jsx)("div",{"data-testid":"language-selection-modal",className:C()(w,{[N]:s}),onClick:t=>{t.target===a.current&&e()},role:"presentation",ref:a,children:t})},L=({ariaDescribedBy:e,ariaLabelledBy:t,children:a})=>{const{isOpen:r}=(0,o.iL)();return(0,d.jsx)("div",{className:_,role:"dialog",hidden:!r,"aria-modal":!0,"aria-labelledby":t,"aria-describedby":e,children:a})};var D=a(30920);const P=({onClose:e})=>(0,d.jsx)("button",{"data-testid":"close-button",className:A,onClick:()=>{e()},children:(0,d.jsx)(D.M,{size:"small","aria-label":i.Ru.get("close")})});var U=a(11750),M=a(24369),B=a(5544),F=a(35035);const G=({languageSelectionModalRef:e})=>{const t=(0,r.useRef)(null),[a,s]=(0,r.useState)("0"),n=(0,o.ZZ)(),l=(0,r.useCallback)((()=>{n({type:"CLOSE"})}),[n]),{isOpen:u}=(0,o.iL)(),h=(0,r.useCallback)((()=>{s(`${t.current?.getBoundingClientRect().height}px`)}),[s]),b=e=>{var t;(0,F.n0)({name:"sp_locale",value:e,domain:(t="open.spotify.com",t.substring(t.indexOf("."))),days:365}),l()};if((0,U.m)(l),(0,B.w)({refOrElement:t,observeOnly:"height",onResize:h}),(0,r.useEffect)((()=>{h()}),[h]),!e.current)return null;const f="language-selection-title",y="language-selection-subtitle",x={"--header-height":a};return(0,m.createPortal)((0,d.jsx)(M.s,{active:u,children:(0,d.jsx)("div",{children:(0,d.jsx)(T,{onClose:l,children:(0,d.jsxs)(L,{ariaLabelledBy:f,ariaDescribedBy:y,children:[(0,d.jsxs)("div",{className:O,ref:t,children:[(0,d.jsxs)("div",{className:I,children:[(0,d.jsx)(g.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",id:f,paddingBottom:p.v4,children:i.Ru.get("i18n.language-selection.title")}),(0,d.jsx)(g.E,{as:"p",variant:"bodyMedium",semanticColor:"textBase",id:y,paddingBottom:p.CD,children:i.Ru.get("i18n.language-selection.subtitle")})]}),(0,d.jsx)(P,{onClose:l})]}),(0,d.jsx)(j,{style:{...x},children:c.Np.map((e=>{const t=(0,i.a7)(e).baseName,a=(0,R.p)({urlLocale:t,type:"locale"});return(0,d.jsxs)(v,{onClick:b,locale:e,type:a?"link":"button",children:[(0,d.jsx)(g.E,{semanticColor:"textBase",children:c.IB[e].displayName}),(0,d.jsx)(g.E,{children:c.IB[e].displayNameEn})]},e)}))})]})})})}),e.current)}},80159:(e,t,a)=>{a.d(t,{C:()=>d});var r=a(30758),s=a(97500),n=a.n(s),i=a(74846);const o="main-dropDown-dropDown",c="main-dropDown-isSafari";var l=a(86070);const d=(0,r.forwardRef)((({value:e,id:t,children:a,disabled:r,onClick:s,preventMenu:d=!1,onSelect:u,className:m,dir:g},p)=>(0,l.jsx)("span",{className:m,children:(0,l.jsx)("select",{ref:p,className:n()(o,{[c]:(0,i.n)()}),value:e?.toString(),id:t,disabled:r,onClick:s,onBlur:()=>{},onChange:e=>{u(e.target.value)},onPointerDown:e=>{d&&e.preventDefault()},onKeyDown:e=>{("Space"===e.code||"ArrowDown"===e.code||"ArrowUp"===e.code)&&(d&&e.preventDefault(),s?.(e))},dir:g,children:a})})))},80221:(e,t,a)=>{a.d(t,{u:()=>c,i:()=>o});var r=a(30758);const s="main-imagePicker-fileInput";var n=a(86070);const i={accept:"image/.jpg, image/.jpeg, image/.png"};let o=function(e){return e.FILE_TOO_BIG="FILE_TOO_BIG",e.IMAGE_TOO_SMALL="IMAGE_TOO_SMALL",e.IMAGE_TOO_BIG="IMAGE_TOO_BIG",e.IMAGE_TYPE_NOT_SUPPORTED="IMAGE_TYPE_NOT_SUPPORTED",e}({});const c=function({onChange:e,onError:t,isOpen:a=!1,minImageWidth:c=0,minImageHeight:l=0,maxImageWidth:d=1e4,maxImageHeight:u=1e4,maxFileSizeMB:m=1/0,...g}){const p=r.useRef(null),h={...i,...g};(0,r.useEffect)((()=>{p.current&&a&&p.current.click()}),[p,a]);const b=1048576*m;return(0,n.jsx)("input",{...h,type:"file","data-testid":"image-file-picker",ref:p,className:s,onChange:async function(a){const r=a.target,[s]=Array.from(r.files||[]);if(!s)return;const n=await async function(e){const t=await function(e){return new Promise(((t,a)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>{t(r.result?.toString()??"")},r.onerror=e=>a(e)}))}(e),[a,r]=await function(e){return new Promise(((t,a)=>{const r=new Image;r.onload=()=>{const{width:e,height:a}=r;t([e,a])},r.src=e,r.onerror=e=>a(e)}))}(t);return{imageFile:e,imageDataUrl:t,imageWidth:a,imageHeight:r}}(s);try{await async function(e){if(!["image/jpg","image/jpeg","image/png"].includes(e.imageFile.type))throw o.IMAGE_TYPE_NOT_SUPPORTED;if(e.imageWidth<c||e.imageHeight<l)throw o.IMAGE_TOO_SMALL;if(e.imageWidth>d||e.imageHeight>u)throw o.IMAGE_TOO_BIG;if(e.imageFile.size>b)throw o.FILE_TOO_BIG}(n),e(n)}catch(e){if("string"!=typeof e||!Object.values(o).includes(e))throw e;t(e)}}})}},83177:(e,t,a)=>{a.d(t,{a:()=>h});var r=a(97500),s=a.n(r),n=a(99974),i=a(78717),o=a(70397);const c="main-editImage-buttonContainer",l="main-editImageButton-image",d="main-editImageButton-overlay",u="main-editImageButton-rounded",m="main-editImageButton-icon",g="main-editImageButton-copy";var p=a(86070);const h=function({overlay:e=!1,rounded:t=!1,onClick:a}){return(0,p.jsx)("div",{className:c,children:(0,p.jsx)("button",{"data-testid":"edit-image-button",className:s()(l,{[u]:t,[d]:e}),"aria-haspopup":"true",onClick:a,type:"button",children:(0,p.jsxs)("div",{className:s()(m,"icon"),children:[(0,p.jsx)(n.G,{size:"xlarge","aria-hidden":"true"}),(0,p.jsx)(i.E,{variant:"bodyMedium",className:g,children:o.Ru.get("choose_photo")})]})})})}},85839:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(70397),s=a(86070);const n=({fill:e="#fff",width:t=32,height:a=32})=>(0,s.jsxs)("svg",{width:t,height:a,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("title",{children:r.Ru.get("close")}),(0,s.jsx)("path",{d:"M31.098 29.794L16.955 15.65 31.097 1.51 29.683.093 15.54 14.237 1.4.094-.016 1.508 14.126 15.65-.016 29.795l1.414 1.414L15.54 17.065l14.144 14.143",fill:e,fillRule:"evenodd"})]})},97012:(e,t,a)=>{a.d(t,{h:()=>d});var r=a(30758),s=a(70397),n=a(28718),i=a(29277),o=a(94902),c=a(16986),l=a(86070);const d=r.memo((function({uri:e}){const{spec:t}=(0,c.o)(e);return(0,l.jsx)(n.W,{children:(0,l.jsx)(o.h,{divider:"before",children:(0,l.jsx)(i.m,{spec:t,uri:e,displayText:s.Ru.get("context-menu.copy-generic-link")})})})}))},97926:(e,t,a)=>{a.d(t,{k:()=>s});var r=a(5665);const s=()=>(0,r.d)().getJamJoinInfo()},98543:(e,t,a)=>{a.d(t,{z:()=>m});var r=a(97500),s=a.n(r),n=a(78717),i=a(37899);const o="pIZVZOfjnJGth1BcoA1E",c="ZBBTIITnUdwh05dCI0tm",l="sz8Nwj2lvhOZxDwYWRQr",d="jjPsW7vuG9xH9qhEGL3I";var u=a(86070);const m=({message:e,isErrorMessage:t=!1})=>e?(0,u.jsx)("div",{role:"alert",children:(0,u.jsx)("div",{className:s()(o,{[c]:t}),children:(0,u.jsxs)(n.E,{as:"p",variant:"marginal",className:l,children:[(0,u.jsx)(i.b,{size:"small",className:d,"aria-hidden":"true"}),e]})})}):null},99922:(e,t,a)=>{a.d(t,{A:()=>r});const r={container:"Pk0GqzUsMrx4NwpdZ95l",content:"vJwjG9BRm0XF67GWIB_r",backgroundImage:"g_6d4DUGhLe6fjSVL4Vv",bio:"N6axsYPP2Akx_PzAiV5W",bioContainer:"XBWREeG6vEvbnQLngj5y",avatar:"WNVLzVIGuS9IvyX5B1bo",heading:"oLxvLjmcK7ChLyKuHCQF",authorGridContainer:"lfLn2tOjObzE_CHUZimq"}}}]);
//# sourceMappingURL=xpui-root-dialogs.js.map